var __kbnBundles__=typeof __kbnBundles__==="object"?__kbnBundles__:{};__kbnBundles__["kibana"]=function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={2:0,4:0,5:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([801,0]);return checkDeferredModules()}([,,,,function(module,exports){module.exports=vendors},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureCatalogueCategory=exports.FeatureCatalogueRegistryProvider=void 0;var _registry=__webpack_require__(44);var _capabilities=__webpack_require__(37);var FeatureCatalogueRegistryProvider=(0,_registry.uiRegistry)({name:"featureCatalogue",index:["id"],group:["category"],order:["title"],filter:function filter(featureCatalogItem){var isDisabledViaCapabilities=_capabilities.capabilities.get().catalogue[featureCatalogItem.id]===false;return!isDisabledViaCapabilities&&Object.keys(featureCatalogItem).length>0}});exports.FeatureCatalogueRegistryProvider=FeatureCatalogueRegistryProvider;var FeatureCatalogueCategory={ADMIN:"admin",DATA:"data",OTHER:"other"};exports.FeatureCatalogueCategory=FeatureCatalogueCategory},,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(247)},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DefaultFormatEditor",{enumerable:true,get:function get(){return _default.DefaultFormatEditor}});var _default=__webpack_require__(1785)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var $=__webpack_require__(12);var _=__webpack_require__(1);var es=__webpack_require__(453);var settings=__webpack_require__(127);var POLL_INTERVAL=6e4;var pollTimeoutId;var perIndexTypes={};var perAliasIndexes=[];var templates=[];var mappingObj={};function expandAliases(indicesOrAliases){if(!indicesOrAliases){return indicesOrAliases}if(typeof indicesOrAliases==="string"){indicesOrAliases=[indicesOrAliases]}indicesOrAliases=$.map(indicesOrAliases,function(iOrA){if(perAliasIndexes[iOrA]){return perAliasIndexes[iOrA]}return[iOrA]});var ret=[].concat.apply([],indicesOrAliases);ret.sort();var last;ret=$.map(ret,function(v){var r=last===v?null:v;last=v;return r});return ret.length>1?ret:ret[0]}function getTemplates(){return _toConsumableArray(templates)}function getFields(indices,types){var ret=[];indices=expandAliases(indices);if(typeof indices==="string"){var typeDict=perIndexTypes[indices];if(!typeDict){return[]}if(typeof types==="string"){var f=typeDict[types];ret=f?f:[]}else{$.each(typeDict,function(type,fields){if(!types||types.length===0||$.inArray(type,types)!==-1){ret.push(fields)}});ret=[].concat.apply([],ret)}}else{$.each(perIndexTypes,function(index){if(!indices||indices.length===0||$.inArray(index,indices)!==-1){ret.push(getFields(index,types))}});ret=[].concat.apply([],ret)}return _.uniq(ret,function(f){return f.name+":"+f.type})}function getTypes(indices){var ret=[];indices=expandAliases(indices);if(typeof indices==="string"){var typeDict=perIndexTypes[indices];if(!typeDict){return[]}$.each(typeDict,function(type){ret.push(type)})}else{$.each(perIndexTypes,function(index){if(!indices||$.inArray(index,indices)!==-1){ret.push(getTypes(index))}});ret=[].concat.apply([],ret)}return _.uniq(ret)}function getIndices(includeAliases){var ret=[];$.each(perIndexTypes,function(index){ret.push(index)});if(typeof includeAliases==="undefined"?true:includeAliases){$.each(perAliasIndexes,function(alias){ret.push(alias)})}return ret}function getFieldNamesFromFieldMapping(fieldName,fieldMapping){if(fieldMapping.enabled===false){return[]}var nestedFields;function applyPathSettings(nestedFieldNames){var pathType=fieldMapping.path||"full";if(pathType==="full"){return $.map(nestedFieldNames,function(f){f.name=fieldName+"."+f.name;return f})}return nestedFieldNames}if(fieldMapping.properties){nestedFields=getFieldNamesFromProperties(fieldMapping.properties);return applyPathSettings(nestedFields)}var fieldType=fieldMapping.type;var ret={name:fieldName,type:fieldType};if(fieldMapping.index_name){ret.name=fieldMapping.index_name}if(fieldMapping.fields){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});nestedFields=applyPathSettings(nestedFields);nestedFields.unshift(ret);return nestedFields}return[ret]}function getFieldNamesFromProperties(){var properties=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var fieldList=$.map(properties,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return _.uniq(fieldList,function(f){return f.name+":"+f.type})}function loadTemplates(){var templatesObject=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};templates=Object.keys(templatesObject)}function loadMappings(mappings){perIndexTypes={};$.each(mappings,function(index,indexMapping){var normalizedIndexMappings={};if(indexMapping.mappings&&_.keys(indexMapping).length===1){indexMapping=indexMapping.mappings}$.each(indexMapping,function(typeName,typeMapping){if(typeName==="properties"){var fieldList=getFieldNamesFromProperties(typeMapping);normalizedIndexMappings[typeName]=fieldList}else{normalizedIndexMappings[typeName]=[]}});perIndexTypes[index]=normalizedIndexMappings})}function loadAliases(aliases){perAliasIndexes={};$.each(aliases||{},function(index,omdexAliases){perIndexTypes[index]=perIndexTypes[index]||{};$.each(omdexAliases.aliases||{},function(alias){if(alias===index){return}var curAliases=perAliasIndexes[alias];if(!curAliases){curAliases=[];perAliasIndexes[alias]=curAliases}curAliases.push(index)})});perAliasIndexes._all=getIndices(false)}function clear(){perIndexTypes={};perAliasIndexes={};templates=[]}function retrieveSettings(settingsKey,settingsToRetrieve){var currentSettings=settings.getAutocomplete();var settingKeyToPathMap={fields:"_mapping",indices:"_aliases",templates:"_template"};if(currentSettings[settingsKey]&&settingsToRetrieve[settingsKey]){return es.send("GET",settingKeyToPathMap[settingsKey],null,null,true)}else{var settingsPromise=new $.Deferred;if(currentSettings[settingsKey]){return settingsPromise.resolve()}return settingsPromise.resolveWith(this,[[JSON.stringify({})]])}}function clearSubscriptions(){if(pollTimeoutId){clearTimeout(pollTimeoutId)}}function retrieveAutoCompleteInfo(){var settingsToRetrieve=arguments.length>0&&arguments[0]!==undefined?arguments[0]:settings.getAutocomplete();clearSubscriptions();var mappingPromise=retrieveSettings("fields",settingsToRetrieve);var aliasesPromise=retrieveSettings("indices",settingsToRetrieve);var templatesPromise=retrieveSettings("templates",settingsToRetrieve);$.when(mappingPromise,aliasesPromise,templatesPromise).done(function(mappings,aliases,templates){var mappingsResponse;if(mappings){var maxMappingSize=mappings[0].length>10*1024*1024;if(maxMappingSize){console.warn("Mapping size is larger than 10MB (".concat(mappings[0].length/1024/1024," MB). Ignoring..."));mappingsResponse="[{}]"}else{mappingsResponse=mappings[0]}loadMappings(JSON.parse(mappingsResponse))}if(aliases){loadAliases(JSON.parse(aliases[0]))}if(templates){loadTemplates(JSON.parse(templates[0]))}if(mappings&&aliases){$(mappingObj).trigger("update",[mappingsResponse,aliases[0]])}pollTimeoutId=setTimeout(function(){if(settings.getPolling()){retrieveAutoCompleteInfo()}},POLL_INTERVAL)})}var _default={getFields:getFields,getTemplates:getTemplates,getIndices:getIndices,getTypes:getTypes,loadMappings:loadMappings,loadAliases:loadAliases,expandAliases:expandAliases,clear:clear,retrieveAutoCompleteInfo:retrieveAutoCompleteInfo,clearSubscriptions:clearSubscriptions};exports.default=_default;module.exports=exports.default},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CONTAINS_SPACES",{enumerable:true,get:function get(){return _public.CONTAINS_SPACES}});Object.defineProperty(exports,"getFromSavedObject",{enumerable:true,get:function get(){return _public.getFromSavedObject}});Object.defineProperty(exports,"getRoutes",{enumerable:true,get:function get(){return _public.getRoutes}});Object.defineProperty(exports,"isFilterable",{enumerable:true,get:function get(){return _public.isFilterable}});Object.defineProperty(exports,"IndexPatternsProvider",{enumerable:true,get:function get(){return _public.IndexPatternsProvider}});Object.defineProperty(exports,"validateIndexPattern",{enumerable:true,get:function get(){return _public.validateIndexPattern}});Object.defineProperty(exports,"ILLEGAL_CHARACTERS",{enumerable:true,get:function get(){return _public.ILLEGAL_CHARACTERS}});Object.defineProperty(exports,"INDEX_PATTERN_ILLEGAL_CHARACTERS",{enumerable:true,get:function get(){return _public.INDEX_PATTERN_ILLEGAL_CHARACTERS}});Object.defineProperty(exports,"INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE",{enumerable:true,get:function get(){return _public.INDEX_PATTERN_ILLEGAL_CHARACTERS_VISIBLE}});Object.defineProperty(exports,"IndexPatternAlreadyExists",{enumerable:true,get:function get(){return _public.IndexPatternAlreadyExists}});Object.defineProperty(exports,"IndexPatternMissingIndices",{enumerable:true,get:function get(){return _public.IndexPatternMissingIndices}});Object.defineProperty(exports,"NoDefaultIndexPattern",{enumerable:true,get:function get(){return _public.NoDefaultIndexPattern}});Object.defineProperty(exports,"NoDefinedIndexPatterns",{enumerable:true,get:function get(){return _public.NoDefinedIndexPatterns}});Object.defineProperty(exports,"mockFields",{enumerable:true,get:function get(){return _public.mockFields}});Object.defineProperty(exports,"mockIndexPattern",{enumerable:true,get:function get(){return _public.mockIndexPattern}});Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _public.Field}});Object.defineProperty(exports,"FieldType",{enumerable:true,get:function get(){return _public.FieldType}});Object.defineProperty(exports,"IndexPattern",{enumerable:true,get:function get(){return _public.IndexPattern}});Object.defineProperty(exports,"IndexPatterns",{enumerable:true,get:function get(){return _public.IndexPatterns}});Object.defineProperty(exports,"StaticIndexPattern",{enumerable:true,get:function get(){return _public.StaticIndexPattern}});exports.IndexPatternSelect=exports.formatHitProvider=exports.flattenHitWrapper=exports.FieldList=void 0;var _legacy=__webpack_require__(71);var _public=__webpack_require__(24);var _data$indexPatterns=_legacy.setup.indexPatterns,FieldList=_data$indexPatterns.FieldList,flattenHitWrapper=_data$indexPatterns.flattenHitWrapper,formatHitProvider=_data$indexPatterns.formatHitProvider,IndexPatternSelect=_data$indexPatterns.IndexPatternSelect;exports.IndexPatternSelect=IndexPatternSelect;exports.formatHitProvider=formatHitProvider;exports.flattenHitWrapper=flattenHitWrapper;exports.FieldList=FieldList},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SharedComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _autocomplete_component=__webpack_require__(731);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SharedComponent=function(_AutocompleteComponen){_inherits(SharedComponent,_AutocompleteComponen);function SharedComponent(name,parent){var _this;_classCallCheck(this,SharedComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(SharedComponent).call(this,name));_this._nextDict={};if(parent){parent.addComponent(_assertThisInitialized(_this))}_this._parent=parent;return _this}_createClass(SharedComponent,[{key:"getComponent",value:function getComponent(name){return(this._nextDict[name]||[undefined])[0]}},{key:"addComponent",value:function addComponent(component){var current=this._nextDict[component.name]||[];current.push(component);this._nextDict[component.name]=current;this.next=[].concat.apply([],_lodash.default.values(this._nextDict))}}]);return SharedComponent}(_autocomplete_component.AutocompleteComponent);exports.SharedComponent=SharedComponent},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"GaugeOptions",{enumerable:true,get:function get(){return _gauge.GaugeOptions}});Object.defineProperty(exports,"PieOptions",{enumerable:true,get:function get(){return _pie.PieOptions}});Object.defineProperty(exports,"PointSeriesOptions",{enumerable:true,get:function get(){return _point_series.PointSeriesOptions}});var _gauge=__webpack_require__(1703);var _pie=__webpack_require__(1707);var _point_series=__webpack_require__(1708)},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"FormatEditorSamples",{enumerable:true,get:function get(){return _samples.FormatEditorSamples}});var _samples=__webpack_require__(1786)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AutocompleteComponent",{enumerable:true,get:function get(){return _autocomplete_component.AutocompleteComponent}});Object.defineProperty(exports,"SharedComponent",{enumerable:true,get:function get(){return _shared_component.SharedComponent}});Object.defineProperty(exports,"ConstantComponent",{enumerable:true,get:function get(){return _constant_component.ConstantComponent}});Object.defineProperty(exports,"ListComponent",{enumerable:true,get:function get(){return _list_component.ListComponent}});Object.defineProperty(exports,"SimpleParamComponent",{enumerable:true,get:function get(){return _simple_param_component.SimpleParamComponent}});Object.defineProperty(exports,"ConditionalProxy",{enumerable:true,get:function get(){return _conditional_proxy.ConditionalProxy}});Object.defineProperty(exports,"GlobalOnlyComponent",{enumerable:true,get:function get(){return _global_only_component.GlobalOnlyComponent}});Object.defineProperty(exports,"ObjectComponent",{enumerable:true,get:function get(){return _object_component.ObjectComponent}});Object.defineProperty(exports,"AcceptEndpointComponent",{enumerable:true,get:function get(){return _accept_endpoint_component.AcceptEndpointComponent}});Object.defineProperty(exports,"URL_PATH_END_MARKER",{enumerable:true,get:function get(){return _accept_endpoint_component.URL_PATH_END_MARKER}});Object.defineProperty(exports,"UrlPatternMatcher",{enumerable:true,get:function get(){return _url_pattern_matcher.UrlPatternMatcher}});Object.defineProperty(exports,"IndexAutocompleteComponent",{enumerable:true,get:function get(){return _index_autocomplete_component.IndexAutocompleteComponent}});Object.defineProperty(exports,"FieldAutocompleteComponent",{enumerable:true,get:function get(){return _field_autocomplete_component.FieldAutocompleteComponent}});Object.defineProperty(exports,"TypeAutocompleteComponent",{enumerable:true,get:function get(){return _type_autocomplete_component.TypeAutocompleteComponent}});Object.defineProperty(exports,"IdAutocompleteComponent",{enumerable:true,get:function get(){return _id_autocomplete_component.IdAutocompleteComponent}});Object.defineProperty(exports,"TemplateAutocompleteComponent",{enumerable:true,get:function get(){return _template_autocomplete_component.TemplateAutocompleteComponent}});Object.defineProperty(exports,"UsernameAutocompleteComponent",{enumerable:true,get:function get(){return _username_autocomplete_component.UsernameAutocompleteComponent}});var _autocomplete_component=__webpack_require__(731);var _shared_component=__webpack_require__(78);var _constant_component=__webpack_require__(1826);var _list_component=__webpack_require__(112);var _simple_param_component=__webpack_require__(1827);var _conditional_proxy=__webpack_require__(1828);var _global_only_component=__webpack_require__(1829);var _object_component=__webpack_require__(1830);var _accept_endpoint_component=__webpack_require__(1831);var _url_pattern_matcher=__webpack_require__(1832);var _index_autocomplete_component=__webpack_require__(1833);var _field_autocomplete_component=__webpack_require__(1836);var _type_autocomplete_component=__webpack_require__(1837);var _id_autocomplete_component=__webpack_require__(1838);var _template_autocomplete_component=__webpack_require__(1839);var _username_autocomplete_component=__webpack_require__(1840)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PAGE_TITLE_COMPONENT",{enumerable:true,get:function get(){return _default_component_registry.PAGE_TITLE_COMPONENT}});Object.defineProperty(exports,"PAGE_SUBTITLE_COMPONENT",{enumerable:true,get:function get(){return _default_component_registry.PAGE_SUBTITLE_COMPONENT}});Object.defineProperty(exports,"PAGE_FOOTER_COMPONENT",{enumerable:true,get:function get(){return _default_component_registry.PAGE_FOOTER_COMPONENT}});Object.defineProperty(exports,"registerSettingsComponent",{enumerable:true,get:function get(){return _component_registry.registerSettingsComponent}});Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _field.Field}});Object.defineProperty(exports,"management",{enumerable:true,get:function get(){return _sections_register.management}});Object.defineProperty(exports,"SidebarNav",{enumerable:true,get:function get(){return _components.SidebarNav}});Object.defineProperty(exports,"MANAGEMENT_BREADCRUMB",{enumerable:true,get:function get(){return _breadcrumbs.MANAGEMENT_BREADCRUMB}});var _default_component_registry=__webpack_require__(776);var _component_registry=__webpack_require__(470);var _field=__webpack_require__(777);var _sections_register=__webpack_require__(2054);var _components=__webpack_require__(2056);var _breadcrumbs=__webpack_require__(2058)},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _shared_component=__webpack_require__(78);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ListComponent=function(_SharedComponent){_inherits(ListComponent,_SharedComponent);function ListComponent(name,list,parent,multiValued,allowNonValidValues){var _this;_classCallCheck(this,ListComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListComponent).call(this,name,parent));_this.listGenerator=Array.isArray(list)?function(){return list}:list;_this.multiValued=_lodash.default.isUndefined(multiValued)?true:multiValued;_this.allowNonValidValues=_lodash.default.isUndefined(allowNonValidValues)?false:allowNonValidValues;return _this}_createClass(ListComponent,[{key:"getTerms",value:function getTerms(context,editor){if(!this.multiValued&&context.otherTokenValues){return[]}var alreadySet=context.otherTokenValues||[];if(_lodash.default.isString(alreadySet)){alreadySet=[alreadySet]}var ret=_lodash.default.difference(this.listGenerator(context,editor),alreadySet);if(this.getDefaultTermMeta()){var meta=this.getDefaultTermMeta();ret=_lodash.default.map(ret,function(term){if(_lodash.default.isString(term)){term={name:term}}return _lodash.default.defaults(term,{meta:meta})})}return ret}},{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}var list=this.listGenerator();var notFound=_lodash.default.any(tokens,function(token){return list.indexOf(token)===-1});if(notFound){return false}return true}},{key:"getContextKey",value:function getContextKey(){return this.name}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return this.name}},{key:"match",value:function match(token,context,editor){if(!Array.isArray(token)){token=[token]}if(!this.allowNonValidValues&&!this.validateTokens(token,context,editor)){return null}var result=_get(_getPrototypeOf(ListComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.getContextKey()]=token;return result}}]);return ListComponent}(_shared_component.SharedComponent);exports.ListComponent=ListComponent},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTripleQuotes=getTripleQuotes;exports.getAutocomplete=getAutocomplete;exports.getPolling=getPolling;exports.applyCurrentSettings=applyCurrentSettings;exports.getCurrentSettings=getCurrentSettings;exports.updateSettings=updateSettings;var _input=_interopRequireDefault(__webpack_require__(729));var _output=_interopRequireDefault(__webpack_require__(732));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var storage=__webpack_require__(128);function getFontSize(){return storage.get("font_size",14)}function setFontSize(size){storage.set("font_size",size);applyCurrentSettings();return true}function getWrapMode(){return storage.get("wrap_mode",true)}function setWrapMode(mode){storage.set("wrap_mode",mode);applyCurrentSettings();return true}function setTripleQuotes(tripleQuotes){storage.set("triple_quotes",tripleQuotes);return true}function getTripleQuotes(){return storage.get("triple_quotes",true)}function getAutocomplete(){return storage.get("autocomplete_settings",{fields:true,indices:true,templates:true})}function setAutocomplete(settings){storage.set("autocomplete_settings",settings);return true}function getPolling(){return storage.get("console_polling",true)}function setPolling(polling){storage.set("console_polling",polling);applyCurrentSettings();return true}function applyCurrentSettings(editor){if(typeof editor==="undefined"){applyCurrentSettings((0,_input.default)());applyCurrentSettings((0,_output.default)())}if(editor){editor.getSession().setUseWrapMode(getWrapMode());editor.$el.css("font-size",getFontSize()+"px")}}function getCurrentSettings(){return{autocomplete:getAutocomplete(),wrapMode:getWrapMode(),tripleQuotes:getTripleQuotes(),fontSize:parseFloat(getFontSize()),polling:Boolean(getPolling())}}function updateSettings(_ref){var fontSize=_ref.fontSize,wrapMode=_ref.wrapMode,tripleQuotes=_ref.tripleQuotes,autocomplete=_ref.autocomplete,polling=_ref.polling;setFontSize(fontSize);setWrapMode(wrapMode);setTripleQuotes(tripleQuotes);setAutocomplete(autocomplete);setPolling(polling);(0,_input.default)().focus();return getCurrentSettings()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var _require=__webpack_require__(1),transform=_require.transform,_keys=_require.keys,startsWith=_require.startsWith;var Storage=function(){function Storage(engine,prefix){_classCallCheck(this,Storage);this.engine=engine;this.prefix=prefix}_createClass(Storage,[{key:"encode",value:function encode(val){return JSON.stringify(val)}},{key:"decode",value:function decode(val){if(typeof val==="string"){return JSON.parse(val)}}},{key:"encodeKey",value:function encodeKey(key){return"".concat(this.prefix).concat(key)}},{key:"decodeKey",value:function decodeKey(key){if(startsWith(key,this.prefix)){return"".concat(key.slice(this.prefix.length))}}},{key:"set",value:function set(key,val){this.engine.setItem(this.encodeKey(key),this.encode(val));return val}},{key:"has",value:function has(key){return this.engine.getItem(this.encodeKey(key))!=null}},{key:"get",value:function get(key,_default){if(this.has(key)){return this.decode(this.engine.getItem(this.encodeKey(key)))}else{return _default}}},{key:"delete",value:function _delete(key){return this.engine.removeItem(this.encodeKey(key))}},{key:"keys",value:function keys(){var _this=this;return transform(_keys(this.engine),function(ours,key){var ourKey=_this.decodeKey(key);if(ourKey!=null)ours.push(ourKey)})}}]);return Storage}();var instance=new Storage(window.localStorage,"sense:");var _default2=instance;exports.default=_default2;module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLegendPositions=exports.LegendPositions=void 0;var _i18n=__webpack_require__(2);var LegendPositions;exports.LegendPositions=LegendPositions;(function(LegendPositions){LegendPositions["RIGHT"]="right";LegendPositions["LEFT"]="left";LegendPositions["TOP"]="top";LegendPositions["BOTTOM"]="bottom"})(LegendPositions||(exports.LegendPositions=LegendPositions={}));var getLegendPositions=function getLegendPositions(){return[{text:_i18n.i18n.translate("kbnVislibVisTypes.legendPositions.topText",{defaultMessage:"Top"}),value:LegendPositions.TOP},{text:_i18n.i18n.translate("kbnVislibVisTypes.legendPositions.leftText",{defaultMessage:"Left"}),value:LegendPositions.LEFT},{text:_i18n.i18n.translate("kbnVislibVisTypes.legendPositions.rightText",{defaultMessage:"Right"}),value:LegendPositions.RIGHT},{text:_i18n.i18n.translate("kbnVislibVisTypes.legendPositions.bottomText",{defaultMessage:"Bottom"}),value:LegendPositions.BOTTOM}]};exports.getLegendPositions=getLegendPositions},,,,function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _chrome=_interopRequireDefault(__webpack_require__(7));var _routes=_interopRequireDefault(__webpack_require__(19));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.addSetupWork(function(uiCapabilities,kbnBaseUrl,$route,kbnUrl){var route=(0,_lodash.get)($route,"current.$$route");if(!route.requireUICapability){return}if(!(0,_lodash.get)(uiCapabilities,route.requireUICapability)){var url=_chrome.default.addBasePath("".concat(kbnBaseUrl,"#/home"));kbnUrl.redirect(url);throw _routes.default.WAIT_FOR_URL_CHANGE_TOKEN}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VISUALIZE_EMBEDDABLE_TYPE=void 0;var VISUALIZE_EMBEDDABLE_TYPE="visualization";exports.VISUALIZE_EMBEDDABLE_TYPE=VISUALIZE_EMBEDDABLE_TYPE},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"isDefaultValue",{enumerable:true,get:function get(){return _is_default_value.isDefaultValue}});Object.defineProperty(exports,"toEditableConfig",{enumerable:true,get:function get(){return _to_editable_config.toEditableConfig}});Object.defineProperty(exports,"getCategoryName",{enumerable:true,get:function get(){return _get_category_name.getCategoryName}});Object.defineProperty(exports,"DEFAULT_CATEGORY",{enumerable:true,get:function get(){return _default_category.DEFAULT_CATEGORY}});Object.defineProperty(exports,"getAriaName",{enumerable:true,get:function get(){return _get_aria_name.getAriaName}});var _is_default_value=__webpack_require__(2050);var _to_editable_config=__webpack_require__(2051);var _get_category_name=__webpack_require__(2053);var _default_category=__webpack_require__(779);var _get_aria_name=__webpack_require__(778)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _fetch_export_by_type=__webpack_require__(2083);Object.keys(_fetch_export_by_type).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _fetch_export_by_type[key]}})});var _fetch_export_objects=__webpack_require__(2084);Object.keys(_fetch_export_objects).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _fetch_export_objects[key]}})});var _in_app_url=__webpack_require__(780);Object.keys(_in_app_url).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _in_app_url[key]}})});var _get_relationships=__webpack_require__(2085);Object.keys(_get_relationships).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_relationships[key]}})});var _get_saved_object_counts=__webpack_require__(2086);Object.keys(_get_saved_object_counts).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_counts[key]}})});var _get_saved_object_label=__webpack_require__(2087);Object.keys(_get_saved_object_label).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_label[key]}})});var _import_file=__webpack_require__(2088);Object.keys(_import_file).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _import_file[key]}})});var _import_legacy_file=__webpack_require__(2089);Object.keys(_import_legacy_file).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _import_legacy_file[key]}})});var _parse_query=__webpack_require__(2090);Object.keys(_parse_query).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _parse_query[key]}})});var _resolve_import_errors=__webpack_require__(2091);Object.keys(_resolve_import_errors).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _resolve_import_errors[key]}})});var _resolve_saved_objects=__webpack_require__(783);Object.keys(_resolve_saved_objects).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _resolve_saved_objects[key]}})});var _log_legacy_import=__webpack_require__(2092);Object.keys(_log_legacy_import).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _log_legacy_import[key]}})});var _process_import_response=__webpack_require__(471);Object.keys(_process_import_response).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _process_import_response[key]}})});var _get_default_title=__webpack_require__(2093);Object.keys(_get_default_title).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_default_title[key]}})});var _find_objects=__webpack_require__(2094);Object.keys(_find_objects).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _find_objects[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getListBreadcrumbs=getListBreadcrumbs;exports.getCreateBreadcrumbs=getCreateBreadcrumbs;exports.getEditBreadcrumbs=getEditBreadcrumbs;exports.getEditFieldBreadcrumbs=getEditFieldBreadcrumbs;exports.getCreateFieldBreadcrumbs=getCreateFieldBreadcrumbs;var _management=__webpack_require__(95);var _i18n=__webpack_require__(2);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function getListBreadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB,{text:_i18n.i18n.translate("kbn.management.indexPatterns.listBreadcrumb",{defaultMessage:"Index patterns"}),href:"#/management/kibana/index_patterns"}]}function getCreateBreadcrumbs(){return[].concat(_toConsumableArray(getListBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.management.indexPatterns.createBreadcrumb",{defaultMessage:"Create index pattern"}),href:"#/management/kibana/index_pattern"}])}function getEditBreadcrumbs($route){var indexPattern=$route.current.locals.indexPattern;return[].concat(_toConsumableArray(getListBreadcrumbs()),[{text:indexPattern.title,href:"#/management/kibana/index_patterns/".concat(indexPattern.id)}])}function getEditFieldBreadcrumbs($route){var fieldName=$route.current.params.fieldName;return[].concat(_toConsumableArray(getEditBreadcrumbs($route)),[{text:fieldName}])}function getCreateFieldBreadcrumbs($route){return[].concat(_toConsumableArray(getEditBreadcrumbs($route)),[{text:_i18n.i18n.translate("kbn.management.indexPatterns.createFieldBreadcrumb",{defaultMessage:"Create field"})}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PER_PAGE_INCREMENTS=exports.MAX_SEARCH_SIZE=exports.MAX_NUMBER_OF_MATCHING_INDICES=exports.ESTIMATED_NUMBER_OF_SYSTEM_INDICES=void 0;var ESTIMATED_NUMBER_OF_SYSTEM_INDICES=100;exports.ESTIMATED_NUMBER_OF_SYSTEM_INDICES=ESTIMATED_NUMBER_OF_SYSTEM_INDICES;var MAX_NUMBER_OF_MATCHING_INDICES=100;exports.MAX_NUMBER_OF_MATCHING_INDICES=MAX_NUMBER_OF_MATCHING_INDICES;var MAX_SEARCH_SIZE=MAX_NUMBER_OF_MATCHING_INDICES+ESTIMATED_NUMBER_OF_SYSTEM_INDICES;exports.MAX_SEARCH_SIZE=MAX_SEARCH_SIZE;var PER_PAGE_INCREMENTS=[5,10,20,50];exports.PER_PAGE_INCREMENTS=PER_PAGE_INCREMENTS},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFirstSortableField=getFirstSortableField;exports.reverseSortDir=reverseSortDir;exports.SortDirection=void 0;var SortDirection;exports.SortDirection=SortDirection;(function(SortDirection){SortDirection["asc"]="asc";SortDirection["desc"]="desc"})(SortDirection||(exports.SortDirection=SortDirection={}));var META_FIELD_NAMES=["_seq_no","_doc","_uid"];function getFirstSortableField(indexPattern,fieldNames){var sortableFields=fieldNames.filter(function(fieldName){return META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.byName[fieldName]||{sortable:false}).sortable});return sortableFields[0]}function reverseSortDir(sortDirection){return sortDirection===SortDirection.asc?SortDirection.desc:SortDirection.asc}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTitle=exports.newControl=exports.getDefaultOptions=exports.removeControl=exports.moveControl=exports.addControl=exports.setControl=exports.CONTROL_TYPES=void 0;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var CONTROL_TYPES={LIST:"list",RANGE:"range"};exports.CONTROL_TYPES=CONTROL_TYPES;var setControl=function setControl(controls,controlIndex,control){return[].concat(_toConsumableArray(controls.slice(0,controlIndex)),[control],_toConsumableArray(controls.slice(controlIndex+1)))};exports.setControl=setControl;var addControl=function addControl(controls,control){return[].concat(_toConsumableArray(controls),[control])};exports.addControl=addControl;var moveControl=function moveControl(controls,controlIndex,direction){var newIndex;if(direction>=0){newIndex=controlIndex+1}else{newIndex=controlIndex-1}if(newIndex<0){return[].concat(_toConsumableArray(controls.slice(1)),[controls[0]])}else if(newIndex>=controls.length){var lastItemIndex=controls.length-1;return[controls[lastItemIndex]].concat(_toConsumableArray(controls.slice(0,lastItemIndex)))}else{var swapped=controls.slice();var temp=swapped[newIndex];swapped[newIndex]=swapped[controlIndex];swapped[controlIndex]=temp;return swapped}};exports.moveControl=moveControl;var removeControl=function removeControl(controls,controlIndex){return[].concat(_toConsumableArray(controls.slice(0,controlIndex)),_toConsumableArray(controls.slice(controlIndex+1)))};exports.removeControl=removeControl;var getDefaultOptions=function getDefaultOptions(type){var defaultOptions={};switch(type){case CONTROL_TYPES.RANGE:defaultOptions.decimalPlaces=0;defaultOptions.step=1;break;case CONTROL_TYPES.LIST:defaultOptions.type="terms";defaultOptions.multiselect=true;defaultOptions.dynamicOptions=true;defaultOptions.size=5;defaultOptions.order="desc";break}return defaultOptions};exports.getDefaultOptions=getDefaultOptions;var newControl=function newControl(type){return{id:(new Date).getTime().toString(),indexPattern:"",fieldName:"",parent:"",label:"",type:type,options:getDefaultOptions(type)}};exports.newControl=newControl;var getTitle=function getTitle(controlParams,controlIndex){var title="".concat(controlParams.type,": ").concat(controlIndex);if(controlParams.label){title="".concat(controlParams.label)}else if(controlParams.fieldName){title="".concat(controlParams.fieldName)}return title};exports.getTitle=getTitle},,function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _module=_modules.uiModules.get("kibana");_module.directive("cssTruncate",function(){return{restrict:"A",scope:{},link:function link($scope,$elem,attrs){$elem.css({overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","word-break":"break-all"});if(attrs.cssTruncateExpandable!=null){$scope.$watch(function(){return $elem.html()},function(){if($elem[0].offsetWidth<$elem[0].scrollWidth){$elem.css({cursor:"pointer"});$elem.bind("click",function(){$scope.toggle()})}})}$scope.toggle=function(){if($elem.css("white-space")!=="normal"){$elem.css({"white-space":"normal"})}else{$elem.css({"white-space":"nowrap"})}};$scope.$on("$destroy",function(){$elem.unbind("click");$elem.unbind("mouseenter")})}}})},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NumberFormatEditor",{enumerable:true,get:function get(){return _number.NumberFormatEditor}});var _number=__webpack_require__(1784)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getVersion=getVersion;exports.getContentType=getContentType;exports.send=send;exports.constructESUrl=constructESUrl;var _querystring=__webpack_require__(342);var _jquery=_interopRequireDefault(__webpack_require__(12));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var esVersion=[];function getVersion(){return esVersion}function getContentType(body){if(!body)return;return"application/json"}function send(method,path,data){var wrappedDfd=_jquery.default.Deferred();var isGetRequest=/^get$/i.test(method);if(data&&isGetRequest){method="POST"}var options={url:"../api/console/proxy?"+(0,_querystring.stringify)({path:path,method:method}),data:data,contentType:getContentType(data),cache:false,crossDomain:true,type:"POST",dataType:"text"};_jquery.default.ajax(options).then(function(data,textStatus,jqXHR){wrappedDfd.resolveWith(this,[data,textStatus,jqXHR])},function(jqXHR,textStatus,errorThrown){if(jqXHR.status===0){jqXHR.responseText="\n\nFailed to connect to Console's backend.\nPlease check the Kibana server is up and running"}wrappedDfd.rejectWith(this,[jqXHR,textStatus,errorThrown])});return wrappedDfd}function constructESUrl(baseUri,path){baseUri=baseUri.replace(/\/+$/,"");path=path.replace(/^\/+/,"");return baseUri+"/"+path}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var utils={};utils.textFromRequest=function(request){var data=request.data;if(typeof data!=="string"){data=data.join("\n")}return request.method+" "+request.url+"\n"+data};utils.jsonToString=function(data,indent){return JSON.stringify(data,null,indent?2:0)};utils.reformatData=function(data,indent){var changed=false;var formattedData=[];for(var i=0;i<data.length;i++){var curDoc=data[i];try{var newDoc=utils.jsonToString(JSON.parse(utils.collapseLiteralStrings(curDoc)),indent?2:0);if(indent){newDoc=utils.expandLiteralStrings(newDoc)}changed=changed||newDoc!==curDoc;formattedData.push(newDoc)}catch(e){console.log(e);formattedData.push(curDoc)}}return{changed:changed,data:formattedData}};utils.collapseLiteralStrings=function(data){return data.replace(/"""(?:\s*\r?\n)?((?:.|\r?\n)*?)(?:\r?\n\s*)?"""/g,function(match,literal){return JSON.stringify(literal)})};utils.expandLiteralStrings=function(data){return data.replace(/("(?:\\"|[^"])*?")/g,function(match,string){if(string.split(/\\./).length>2){string=JSON.parse(string).replace("^s*\n","").replace("\ns*^","");var append=string.includes("\n")?"\n":"";return'"""'+append+string+append+'"""'}else{return string}})};utils.extractDeprecationMessages=function(warnings){var re=/\d{3} [0-9a-zA-Z!#$%&'*+-.^_`|~]+ \"((?:\t| |!|[\x23-\x5b]|[\x5d-\x7e]|[\x80-\xff]|\\\\|\\")*)\"(?: \"[^"]*\")?/;return _lodash.default.map(utils.splitOnUnquotedCommaSpace(warnings),function(warning){var match=re.exec(warning);return"#! Deprecation: "+(match!==null?utils.unescape(match[1]):warning)})};utils.unescape=function(s){return s.replace(/\\\\/g,"\\").replace(/\\"/g,'"')};utils.splitOnUnquotedCommaSpace=function(s){var quoted=false;var arr=[];var buffer="";var i=0;while(i<s.length){var token=s.charAt(i++);if(token==="\\"&&i<s.length){token+=s.charAt(i++)}else if(token===","&&i<s.length&&s.charAt(i)===" "){token+=s.charAt(i++)}if(token==='"'){quoted=!quoted}else if(!quoted&&token===", "){arr.push(buffer);buffer="";continue}buffer+=token}arr.push(buffer);return arr};var _default=utils;exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=SenseEditor;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var _=__webpack_require__(1);var ace=__webpack_require__(58);var $=__webpack_require__(12);var curl=__webpack_require__(1845);var RowParser=__webpack_require__(1846);var InputMode=__webpack_require__(1847);var utils=__webpack_require__(454);var es=__webpack_require__(453);var chrome=__webpack_require__(7);var smartResize=__webpack_require__(736);function createInstance($el){var aceEditor=ace.edit($el[0]);var CustomSenseEditor=function CustomSenseEditor(){};CustomSenseEditor.prototype={};function bindProp(key){Object.defineProperty(CustomSenseEditor.prototype,key,{get:function get(){return aceEditor[key]},set:function set(val){aceEditor[key]=val}})}for(var key in aceEditor){switch(_typeof(aceEditor[key])){case"function":CustomSenseEditor.prototype[key]=_.bindKey(aceEditor,key);break;default:bindProp(key);break}}var editor=new CustomSenseEditor;editor.__ace=aceEditor;return editor}function SenseEditor($el){var editor=createInstance($el);var CURRENT_REQ_RANGE=null;editor.$el=$el;editor.$actions=null;editor.parser=new RowParser(editor);editor.resize=smartResize(editor);var onceDoneTokenizing=function onceDoneTokenizing(callback,cancelAlreadyScheduledCalls){var session=editor.getSession();var timer=false;var checkInterval=25;return function(){var self=this;var args=[].slice.call(arguments,0);if(cancelAlreadyScheduledCalls){timer=clearTimeout(timer)}setTimeout(function check(){if(session.bgTokenizer){if(session.bgTokenizer.running){timer=setTimeout(check,checkInterval)}else{callback.apply(self,args)}}})}};editor.setShowPrintMargin(false);(function(session){session.setMode(new InputMode.Mode);session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(editor.getSession());editor.prevRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||rowOrPos===null?editor.getCursorPosition():rowOrPos;var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;while(curRow>0&&!editor.parser.isStartRequestRow(curRow,editor)){curRow--}return{row:curRow,column:0}};editor.nextRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||rowOrPos===null?editor.getCursorPosition():rowOrPos;var session=editor.getSession();var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){if(editor.parser.isStartRequestRow(curRow,editor)){break}}return{row:curRow,column:0}};editor.autoIndent=onceDoneTokenizing(function(){editor.getRequestRange(function(reqRange){if(!reqRange){return}editor.getRequest(function(parsedReq){if(parsedReq.data&&parsedReq.data.length>0){var indent=parsedReq.data.length===1;var formattedData=utils.reformatData(parsedReq.data,indent);if(!formattedData.changed){indent=!indent;formattedData=utils.reformatData(parsedReq.data,indent)}parsedReq.data=formattedData.data;editor.replaceRequestRange(parsedReq,reqRange)}})})},true);editor.update=function(data,callback){callback=typeof callback==="function"?callback:null;var session=editor.getSession();session.setValue(data);if(callback){setTimeout(function(){var i;for(i=0;i<session.getLength();i++){session.getTokens(i)}callback()})}};editor.replaceRequestRange=function(newRequest,requestRange){var text=utils.textFromRequest(newRequest);if(requestRange){var pos=editor.getCursorPosition();editor.getSession().replace(requestRange,text);var maxRow=Math.max(requestRange.start.row+text.split("\n").length-1,0);pos.row=Math.min(pos.row,maxRow);editor.moveCursorToPosition(pos);editor.clearSelection()}else{editor.insert(text)}};editor.iterForCurrentLoc=function(){var pos=editor.getCursorPosition();return editor.iterForPosition(pos.row,pos.column,editor)};editor.iterForPosition=function(row,column){return new(ace.acequire("ace/token_iterator").TokenIterator)(editor.getSession(),row,column)};editor.getRequestRange=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if(typeof cb!=="function"){return}if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}var reqStart=editor.prevRequestStart(row,editor);var reqEnd=editor.nextRequestEnd(reqStart,editor);cb(new(ace.acequire("ace/range").Range)(reqStart.row,reqStart.column,reqEnd.row,reqEnd.column))});editor.getEngulfingRequestsRange=onceDoneTokenizing(function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}range=range||editor.getSelectionRange();var session=editor.getSession();var startRow=range.start.row;var endRow=range.end.row;var maxLine=Math.max(0,session.getLength()-1);if(editor.parser.isInBetweenRequestsRow(startRow)){}else{for(;startRow>=0;startRow--){if(editor.parser.isStartRequestRow(startRow)){break}}}if(startRow<0||startRow>endRow){cb(null);return}if(editor.parser.isInBetweenRequestsRow(endRow)){for(;endRow>=startRow;endRow--){if(editor.parser.isEndRequestRow(endRow)){break}}}else{for(;endRow<=maxLine;endRow++){if(editor.parser.isEndRequestRow(endRow)){break}}}if(endRow<startRow||endRow>maxLine){cb(null);return}var endColumn=(session.getLine(endRow)||"").replace(/\s+$/,"").length;cb(new(ace.acequire("ace/range").Range)(startRow,0,endRow,endColumn))});editor.getRequestInRange=onceDoneTokenizing(function(range,cb){if(!range){return}var request={method:"",data:[],url:null,range:range};var pos=range.start;var tokenIter=editor.iterForPosition(pos.row,pos.column,editor);var t=tokenIter.getCurrentToken();if(editor.parser.isEmptyToken(t)){t=editor.parser.nextNonEmptyToken(tokenIter)}request.method=t.value;t=editor.parser.nextNonEmptyToken(tokenIter);if(!t||t.type==="method"){return null}request.url="";while(t&&t.type&&t.type.indexOf("url")===0){request.url+=t.value;t=tokenIter.stepForward()}if(editor.parser.isEmptyToken(t)){t=editor.parser.nextNonEmptyToken(tokenIter)}var bodyStartRow=(t?0:1)+tokenIter.getCurrentTokenRow();var dataEndPos;while(bodyStartRow<range.end.row||bodyStartRow===range.end.row&&0<range.end.column){dataEndPos=editor.nextDataDocEnd({row:bodyStartRow,column:0});var bodyRange=new(ace.acequire("ace/range").Range)(bodyStartRow,0,dataEndPos.row,dataEndPos.column);var data=editor.getSession().getTextRange(bodyRange);request.data.push(data.trim());bodyStartRow=dataEndPos.row+1}cb(request)});editor.getRequestsInRange=function(range,includeNonRequestBlocks,cb){if(_.isUndefined(includeNonRequestBlocks)){includeNonRequestBlocks=false;cb=range;range=null}else if(_.isUndefined(cb)){cb=includeNonRequestBlocks;includeNonRequestBlocks=false}function explicitRangeToRequests(requestsRange,tempCb){if(!requestsRange){tempCb([]);return}var startRow=requestsRange.start.row;var endRow=requestsRange.end.row;var currentRow=startRow;for(;currentRow<=endRow;currentRow++){if(editor.parser.isStartRequestRow(currentRow)){break}}var nonRequestPrefixBlock=null;if(includeNonRequestBlocks&&currentRow!==startRow){nonRequestPrefixBlock=editor.getSession().getLines(startRow,currentRow-1).join("\n")}if(currentRow>endRow){tempCb(nonRequestPrefixBlock?[nonRequestPrefixBlock]:[]);return}editor.getRequest(currentRow,function(request){if(!request){return}explicitRangeToRequests({start:{row:request.range.end.row+1},end:{row:requestsRange.end.row}},function(restOfRequests){restOfRequests.unshift(request);if(nonRequestPrefixBlock!==null){restOfRequests.unshift(nonRequestPrefixBlock)}tempCb(restOfRequests)})})}editor.getEngulfingRequestsRange(range,function(requestRange){explicitRangeToRequests(requestRange,cb)})};editor.getRequest=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if(typeof cb!=="function"){return}if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}editor.getRequestRange(row,function(range){editor.getRequestInRange(range,cb)})});editor.moveToPreviousRequestEdge=onceDoneTokenizing(function(){var pos=editor.getCursorPosition();for(pos.row--;pos.row>0&&!editor.parser.isRequestEdge(pos.row);pos.row--){}editor.moveCursorTo(pos.row,0)});editor.moveToNextRequestEdge=onceDoneTokenizing(function(moveOnlyIfNotOnEdge){var pos=editor.getCursorPosition();var maxRow=editor.getSession().getLength();if(!moveOnlyIfNotOnEdge){pos.row++}for(;pos.row<maxRow&&!editor.parser.isRequestEdge(pos.row);pos.row++){}editor.moveCursorTo(pos.row,0)});editor.nextRequestEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&editor.parser.MODE.REQUEST_END)>0){break}if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0){break}}var column=(session.getLine(curRow)||"").replace(/\s+$/,"").length;return{row:curRow,column:column}};editor.nextDataDocEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&RowParser.REQUEST_END)>0){break}if((curRowMode&editor.parser.MODE.MULTI_DOC_CUR_DOC_END)>0){break}if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0){break}}var column=(session.getLine(curRow)||"").length;return{row:curRow,column:column}};var origOnPaste=editor.__ace.onPaste;editor.__ace.onPaste=function(text){if(text&&curl.detectCURL(text)){editor.handleCURLPaste(text);return}origOnPaste.call(this,text)};editor.handleCURLPaste=function(text){var curlInput=curl.parseCURL(text);editor.insert(curlInput)};editor.highlightCurrentRequestsAndUpdateActionBar=onceDoneTokenizing(function(){var session=editor.getSession();editor.getEngulfingRequestsRange(function(newCurrentReqRange){if(newCurrentReqRange===null&&CURRENT_REQ_RANGE===null){return}if(newCurrentReqRange!==null&&CURRENT_REQ_RANGE!==null&&newCurrentReqRange.start.row===CURRENT_REQ_RANGE.start.row&&newCurrentReqRange.end.row===CURRENT_REQ_RANGE.end.row){var cursorRow=editor.getCursorPosition().row;if(cursorRow===CURRENT_REQ_RANGE.start.row){editor.updateActionsBar()}return}if(CURRENT_REQ_RANGE){session.removeMarker(CURRENT_REQ_RANGE.marker_id)}CURRENT_REQ_RANGE=newCurrentReqRange;if(CURRENT_REQ_RANGE){CURRENT_REQ_RANGE.marker_id=session.addMarker(CURRENT_REQ_RANGE,"ace_snippet-marker","fullLine")}editor.updateActionsBar()})},true);editor.getRequestsAsCURL=function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}if(_.isUndefined(cb)){cb=$.noop}editor.getRequestsInRange(range,true,function(requests){var result=_.map(requests,function requestToCurl(req){if(typeof req==="string"){return req}var esPath=req.url;var esMethod=req.method;var esData=req.data;var elasticsearchBaseUrl=chrome.getInjected("elasticsearchUrl");var url=es.constructESUrl(elasticsearchBaseUrl,esPath);var ret="curl -X"+esMethod+' "'+url+'"';if(esData&&esData.length){ret+=" -H 'Content-Type: application/json' -d'\n";var dataAsString=utils.collapseLiteralStrings(esData.join("\n"));ret+=dataAsString.replace(/'/g,'\\"');if(esData.length>1){ret+="\n"}ret+="'"}return ret});cb(result.join("\n"))})};editor.getSession().on("tokenizerUpdate",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.getSession().selection.on("changeCursor",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.updateActionsBar=function(){var set=function set(top){if(top===null){editor.$actions.css("visibility","hidden")}else{editor.$actions.css({top:top,visibility:"visible"})}};var hide=function hide(){set()};return function(){if(!editor.$actions){return}if(CURRENT_REQ_RANGE){var offsetFromPage=editor.$el.offset().top;var startRow=CURRENT_REQ_RANGE.start.row;var startColumn=CURRENT_REQ_RANGE.start.column;var session=editor.session;var firstLine=session.getLine(startRow);if(firstLine.length>session.getWrapLimit()-5){if(startRow>0){startRow--}else{startRow++}}var topOfReq=editor.renderer.textToScreenCoordinates(startRow,startColumn).pageY-offsetFromPage;if(topOfReq>=0){return set(topOfReq)}var bottomOfReq=editor.renderer.textToScreenCoordinates(CURRENT_REQ_RANGE.end.row,CURRENT_REQ_RANGE.end.column).pageY-offsetFromPage;if(bottomOfReq>=0){return set(0)}}hide()}}();editor.getSession().on("changeScrollTop",editor.updateActionsBar);return editor}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var $=__webpack_require__(12);var storage=__webpack_require__(128);var history={restoreFromHistory:function restoreFromHistory(){throw new Error("not implemented")},getHistoryKeys:function getHistoryKeys(){return storage.keys().filter(function(key){return key.indexOf("hist_elem")===0}).sort().reverse()},getHistory:function getHistory(){return history.getHistoryKeys().map(function(key){return storage.get(key)})},addToHistory:function addToHistory(endpoint,method,data){var keys=history.getHistoryKeys();keys.splice(0,500);$.each(keys,function(i,k){storage.delete(k)});var timestamp=(new Date).getTime();var k="hist_elem_"+timestamp;storage.set(k,{time:timestamp,endpoint:endpoint,method:method,data:data})},updateCurrentState:function updateCurrentState(content){var timestamp=(new Date).getTime();storage.set("editor_state",{time:timestamp,content:content})},getSavedEditorState:function getSavedEditorState(){var saved=storage.get("editor_state");if(!saved)return;var time=saved.time,content=saved.content;return{time:time,content:content}},clearHistory:function clearHistory(){history.getHistoryKeys().forEach(function(key){return storage.delete(key)})}};var _default=history;exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addDocView=addDocView;exports.emptyDocViews=emptyDocViews;exports.getDocViewsSorted=getDocViewsSorted;Object.defineProperty(exports,"DocViewRenderProps",{enumerable:true,get:function get(){return _doc_views_types.DocViewRenderProps}});Object.defineProperty(exports,"DocView",{enumerable:true,get:function get(){return _doc_views_types.DocView}});Object.defineProperty(exports,"DocViewRenderFn",{enumerable:true,get:function get(){return _doc_views_types.DocViewRenderFn}});exports.DocViewsRegistryProvider=exports.docViews=void 0;var _doc_views_helpers=__webpack_require__(1869);var _doc_views_types=__webpack_require__(1873);var docViews=[];exports.docViews=docViews;function addDocView(docView){if(docView.directive){docView.render=(0,_doc_views_helpers.convertDirectiveToRenderFn)(docView.directive)}if(typeof docView.shouldShow!=="function"){docView.shouldShow=function(){return true}}docViews.push(docView)}function emptyDocViews(){docViews.length=0}function getDocViewsSorted(hit){return docViews.filter(function(docView){return docView.shouldShow(hit)}).sort(function(a,b){return Number(a.order)>Number(b.order)?1:-1})}var DocViewsRegistryProvider={register:function register(docViewRaw){var docView=typeof docViewRaw==="function"?docViewRaw():docViewRaw;addDocView(docView)}};exports.DocViewsRegistryProvider=DocViewsRegistryProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getFilterGenerator",{enumerable:true,get:function get(){return _filter_generator.getFilterGenerator}});var _filter_generator=__webpack_require__(1910)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _visualize_loader=__webpack_require__(362);Object.keys(_visualize_loader).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _visualize_loader[key]}})})},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.NewVisModal=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _chrome=_interopRequireDefault(__webpack_require__(7));var _visualize_constants=__webpack_require__(92);var _search_selection=__webpack_require__(1915);var _type_selection=__webpack_require__(1917);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var baseUrl="#".concat(_visualize_constants.VisualizeConstants.CREATE_PATH,"?");var NewVisModal=function(_React$Component){_inherits(NewVisModal,_React$Component);function NewVisModal(props){var _this;_classCallCheck(this,NewVisModal);_this=_possibleConstructorReturn(this,_getPrototypeOf(NewVisModal).call(this,props));_defineProperty(_assertThisInitialized(_this),"isLabsEnabled",void 0);_defineProperty(_assertThisInitialized(_this),"onCloseModal",function(){_this.setState({showSearchVisModal:false});_this.props.onClose()});_defineProperty(_assertThisInitialized(_this),"onVisTypeSelected",function(visType){if(visType.requiresSearch&&visType.options.showIndexSelection){_this.setState({showSearchVisModal:true,visType:visType})}else{var params=["type=".concat(encodeURIComponent(visType.name))].concat(_toConsumableArray(_this.props.editorParams));_this.props.onClose();location.assign("".concat(baseUrl).concat(params.join("&")))}});_defineProperty(_assertThisInitialized(_this),"onSearchSelected",function(searchId,searchType){_this.props.onClose();var params=["type=".concat(encodeURIComponent(_this.state.visType.name)),"".concat(searchType==="search"?"savedSearchId":"indexPattern","=").concat(searchId)].concat(_toConsumableArray(_this.props.editorParams));location.assign("".concat(baseUrl).concat(params.join("&")))});_this.isLabsEnabled=_chrome.default.getUiSettingsClient().get("visualize:enableLabs");_this.state={showSearchVisModal:false};return _this}_createClass(NewVisModal,[{key:"render",value:function render(){if(!this.props.isOpen){return null}var visNewVisDialogAriaLabel=_i18n.i18n.translate("kbn.visualize.newVisWizard.helpTextAriaLabel",{defaultMessage:"Start creating your visualization by selecting a type for that visualization. Hit escape to close this modal. Hit Tab key to go further."});var selectionModal=this.state.showSearchVisModal&&this.state.visType?_react.default.createElement(_eui.EuiModal,{onClose:this.onCloseModal,className:"visNewVisSearchDialog"},_react.default.createElement(_search_selection.SearchSelection,{onSearchSelected:this.onSearchSelected,visType:this.state.visType})):_react.default.createElement(_eui.EuiModal,{onClose:this.onCloseModal,className:"visNewVisDialog","aria-label":visNewVisDialogAriaLabel,role:"menu"},_react.default.createElement(_type_selection.TypeSelection,{showExperimental:this.isLabsEnabled,onVisTypeSelected:this.onVisTypeSelected,visTypesRegistry:this.props.visTypesRegistry,visTypeAliases:this.props.visTypeAliases}));return _react.default.createElement(_eui.EuiOverlayMask,null,selectionModal)}}]);return NewVisModal}(_react.default.Component);exports.NewVisModal=NewVisModal;_defineProperty(NewVisModal,"defaultProps",{editorParams:[]})},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Synopsis=Synopsis;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _classnames=_interopRequireDefault(__webpack_require__(26));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Synopsis(_ref){var description=_ref.description,iconUrl=_ref.iconUrl,iconType=_ref.iconType,title=_ref.title,url=_ref.url,wrapInPanel=_ref.wrapInPanel,onClick=_ref.onClick,isBeta=_ref.isBeta;var optionalImg;if(iconUrl){optionalImg=_react.default.createElement("img",{className:"synopsisIcon",src:iconUrl,alt:""})}else if(iconType){optionalImg=_react.default.createElement(_eui.EuiIcon,{type:iconType,size:"l"})}var classes=(0,_classnames.default)("homSynopsis__card",{"homSynopsis__card--noPanel":!wrapInPanel});return _react.default.createElement(_eui.EuiCard,{className:classes,layout:"horizontal",icon:optionalImg,title:title,description:description,onClick:onClick,href:url,"data-test-subj":"homeSynopsisLink".concat(title.toLowerCase()),betaBadgeLabel:isBeta?"Beta":null})}Synopsis.propTypes={description:_propTypes.default.string.isRequired,iconUrl:_propTypes.default.string,iconType:_propTypes.default.string,title:_propTypes.default.string.isRequired,url:_propTypes.default.string,onClick:_propTypes.default.func,isBeta:_propTypes.default.bool};Synopsis.defaultProps={isBeta:false}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"METRIC_TYPE",{enumerable:true,get:function get(){return _public.METRIC_TYPE}});exports.trackUiMetric=exports.telemetryOptInProvider=exports.shouldShowTelemetryOptIn=exports.indexPatternService=void 0;var _modules=__webpack_require__(6);var _new_platform=__webpack_require__(8);var _public=__webpack_require__(762);var _telemetry_opt_in=__webpack_require__(1956);var indexPatternService;exports.indexPatternService=indexPatternService;var shouldShowTelemetryOptIn;exports.shouldShowTelemetryOptIn=shouldShowTelemetryOptIn;var telemetryOptInProvider;exports.telemetryOptInProvider=telemetryOptInProvider;var trackUiMetric=(0,_public.createUiStatsReporter)("Kibana_home");exports.trackUiMetric=trackUiMetric;_modules.uiModules.get("kibana").run(function($injector){var telemetryEnabled=_new_platform.npStart.core.injectedMetadata.getInjectedVar("telemetryEnabled");var telemetryBanner=_new_platform.npStart.core.injectedMetadata.getInjectedVar("telemetryBanner");var Private=$injector.get("Private");exports.telemetryOptInProvider=telemetryOptInProvider=Private(_telemetry_opt_in.TelemetryOptInProvider);exports.shouldShowTelemetryOptIn=shouldShowTelemetryOptIn=telemetryEnabled&&telemetryBanner&&!telemetryOptInProvider.getOptIn();exports.indexPatternService=indexPatternService=$injector.get("indexPatterns")})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Content=Content;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _public=__webpack_require__(104);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var whiteListedRules=["backticks","emphasis","link","list"];function Content(_ref){var text=_ref.text;return _react.default.createElement(_public.Markdown,{className:"euiText",markdown:text,openLinksInNewTab:true,whiteListedRules:whiteListedRules})}Content.propTypes={text:_propTypes.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.stateMonitorFactory=void 0;var _lodash=__webpack_require__(1);var stateMonitorFactory={create:function create(state,customInitialState){return stateMonitor(state,customInitialState)}};exports.stateMonitorFactory=stateMonitorFactory;function stateMonitor(state,customInitialState){var destroyed=false;var ignoredProps=[];var changeHandlers=[];var initialState;_setInitialState(customInitialState);function _setInitialState(innerCustomInitialState){initialState=(0,_lodash.cloneDeep)(innerCustomInitialState)||(0,_lodash.cloneDeep)(state.toJSON())}function removeIgnoredProps(innerState){ignoredProps.forEach(function(path){(0,_lodash.set)(innerState,path,true)});return innerState}function getStatus(){var currentState=removeIgnoredProps((0,_lodash.cloneDeep)(state.toJSON()));var isClean=(0,_lodash.isEqual)(currentState,initialState);return{clean:isClean,dirty:!isClean}}function dispatchChange(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var keys=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var status=getStatus();if(!changeHandlers){throw new Error("Change handlers is undefined, this object has been destroyed")}changeHandlers.forEach(function(changeHandler){changeHandler(status,type,keys)})}function dispatchFetch(keys){dispatchChange("fetch_with_changes",keys)}function dispatchSave(keys){dispatchChange("save_with_changes",keys)}function dispatchReset(keys){dispatchChange("reset_with_changes",keys)}return{setInitialState:function setInitialState(innerCustomInitialState){if(!(0,_lodash.isPlainObject)(innerCustomInitialState)){throw new TypeError("The default state must be an object")}var previousStatus=getStatus();_setInitialState(innerCustomInitialState);removeIgnoredProps(initialState);if(!(0,_lodash.isEqual)(previousStatus,getStatus())){dispatchChange()}},ignoreProps:function ignoreProps(props){ignoredProps=ignoredProps.concat(props);removeIgnoredProps(initialState);return this},onChange:function onChange(callback){if(destroyed||!changeHandlers){throw new Error("Monitor has been destroyed")}if(typeof callback!=="function"){throw new Error("onChange handler must be a function")}changeHandlers.push(callback);state.on("fetch_with_changes",dispatchFetch);state.on("save_with_changes",dispatchSave);state.on("reset_with_changes",dispatchReset);var status=getStatus();if(status.dirty){dispatchChange()}return this},destroy:function destroy(){destroyed=true;changeHandlers=undefined;state.off("fetch_with_changes",dispatchFetch);state.off("save_with_changes",dispatchSave);state.off("reset_with_changes",dispatchReset)}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"showShareContextMenu",{enumerable:true,get:function get(){return _show_share_context_menu.showShareContextMenu}});Object.defineProperty(exports,"ShareContextMenuExtensionsRegistryProvider",{enumerable:true,get:function get(){return _share_action_registry.ShareContextMenuExtensionsRegistryProvider}});var _show_share_context_menu=__webpack_require__(2e3);var _share_action_registry=__webpack_require__(2004)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showSaveModal=showSaveModal;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _i18n=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function showSaveModal(saveModal){var container=document.createElement("div");var closeModal=function closeModal(){_reactDom.default.unmountComponentAtNode(container);document.body.removeChild(container)};var onSave=saveModal.props.onSave;var onSaveConfirmed=function onSaveConfirmed(){onSave.apply(void 0,arguments).then(function(_ref){var id=_ref.id,error=_ref.error;if(id||error){closeModal()}})};document.body.appendChild(container);var element=_react.default.cloneElement(saveModal,{onSave:onSaveConfirmed,onClose:closeModal});_reactDom.default.render(_react.default.createElement(_i18n.I18nContext,null,element),container)}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectSaveModal=void 0;var _eui=__webpack_require__(3);var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectSaveModal=function(_React$Component){_inherits(SavedObjectSaveModal,_React$Component);function SavedObjectSaveModal(){var _getPrototypeOf2;var _this;_classCallCheck(this,SavedObjectSaveModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SavedObjectSaveModal)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{title:_this.props.title,copyOnSave:false,isTitleDuplicateConfirmed:false,hasTitleDuplicate:false,isLoading:false});_defineProperty(_assertThisInitialized(_this),"onTitleDuplicate",function(){_this.setState({isLoading:false,isTitleDuplicateConfirmed:true,hasTitleDuplicate:true})});_defineProperty(_assertThisInitialized(_this),"saveSavedObject",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!_this.state.isLoading){_context.next=2;break}return _context.abrupt("return");case 2:_this.setState({isLoading:true});_context.next=5;return _this.props.onSave({newTitle:_this.state.title,newCopyOnSave:_this.state.copyOnSave,isTitleDuplicateConfirmed:_this.state.isTitleDuplicateConfirmed,onTitleDuplicate:_this.onTitleDuplicate});case 5:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"onTitleChange",function(event){_this.setState({title:event.target.value,isTitleDuplicateConfirmed:false,hasTitleDuplicate:false})});_defineProperty(_assertThisInitialized(_this),"onCopyOnSaveChange",function(event){_this.setState({copyOnSave:event.target.checked})});_defineProperty(_assertThisInitialized(_this),"onFormSubmit",function(event){event.preventDefault();_this.saveSavedObject()});_defineProperty(_assertThisInitialized(_this),"renderDuplicateTitleCallout",function(){if(!_this.state.hasTitleDuplicate){return}return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.duplicateTitleLabel",defaultMessage:"A {objectType} with the title '{title}' already exists.",values:{objectType:_this.props.objectType,title:_this.state.title}}),color:"warning","data-test-subj":"titleDupicateWarnMsg"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.duplicateTitleDescription",defaultMessage:"Click {confirmSaveLabel} to save the {objectType} with the duplicate title.",values:{objectType:_this.props.objectType,confirmSaveLabel:_react2.default.createElement("strong",null,_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.duplicateTitleDescription.confirmSaveText",defaultMessage:"Confirm Save"}))}}))),_react2.default.createElement(_eui.EuiSpacer,null))});_defineProperty(_assertThisInitialized(_this),"renderCopyOnSave",function(){if(!_this.props.showCopyOnSave){return}return _react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiSwitch,{"data-test-subj":"saveAsNewCheckbox",checked:_this.state.copyOnSave,onChange:_this.onCopyOnSaveChange,label:_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.saveAsNewLabel",defaultMessage:"Save as a new {objectType}",values:{objectType:_this.props.objectType}})}),_react2.default.createElement(_eui.EuiSpacer,null))});return _this}_createClass(SavedObjectSaveModal,[{key:"render",value:function render(){var _this$state=this.state,isTitleDuplicateConfirmed=_this$state.isTitleDuplicateConfirmed,hasTitleDuplicate=_this$state.hasTitleDuplicate,title=_this$state.title,isLoading=_this$state.isLoading;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement("form",{onSubmit:this.onFormSubmit},_react2.default.createElement(_eui.EuiModal,{"data-test-subj":"savedObjectSaveModal",className:"dshSaveModal",onClose:this.props.onClose},_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.saveTitle",defaultMessage:"Save {objectType}",values:{objectType:this.props.objectType}}))),_react2.default.createElement(_eui.EuiModalBody,null,this.renderDuplicateTitleCallout(),_react2.default.createElement(_eui.EuiForm,null,this.props.description&&_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiText,{color:"subdued"},this.props.description)),this.renderCopyOnSave(),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.titleLabel",defaultMessage:"Title"})},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,autoFocus:true,"data-test-subj":"savedObjectTitle",value:title,onChange:this.onTitleChange,isInvalid:!isTitleDuplicateConfirmed&&hasTitleDuplicate||title.length===0})),this.props.options)),_react2.default.createElement(_eui.EuiModalFooter,null,_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"saveCancelButton",onClick:this.props.onClose},_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.cancelButtonLabel",defaultMessage:"Cancel"})),_react2.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"confirmSaveSavedObjectButton",isLoading:isLoading,isDisabled:title.length===0,type:"submit"},this.props.confirmButtonLabel?this.props.confirmButtonLabel:_react2.default.createElement(_react.FormattedMessage,{id:"common.ui.savedObjects.saveModal.confirmSaveButtonLabel",defaultMessage:"Confirm Save"}))))))}}]);return SavedObjectSaveModal}(_react2.default.Component);exports.SavedObjectSaveModal=SavedObjectSaveModal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRootBreadcrumbs=getRootBreadcrumbs;exports.getSavedSearchBreadcrumbs=getSavedSearchBreadcrumbs;var _i18n=__webpack_require__(2);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function getRootBreadcrumbs(){return[{text:_i18n.i18n.translate("kbn.discover.rootBreadcrumb",{defaultMessage:"Discover"}),href:"#/discover"}]}function getSavedSearchBreadcrumbs($route){return[].concat(_toConsumableArray(getRootBreadcrumbs()),[{text:$route.current.locals.savedSearch.id}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tryRegisterSettingsComponent=tryRegisterSettingsComponent;exports.registerSettingsComponent=registerSettingsComponent;exports.getSettingsComponent=getSettingsComponent;var registry={};function tryRegisterSettingsComponent(id,component){if(id in registry){return false}registerSettingsComponent(id,component);return true}function registerSettingsComponent(id,component){var allowOverride=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!allowOverride&&id in registry){throw new Error("Component with id ".concat(id," is already registered."))}if(!component.displayName){component.displayName=id}registry[id]=component}function getSettingsComponent(id){if(!(id in registry)){throw new Error("Component not found with id ".concat(id))}return registry[id]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.processImportResponse=processImportResponse;function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function processImportResponse(response){var failedImports=[];var unmatchedReferences=new Map;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=(response.errors||[])[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _step$value=_step.value,error=_step$value.error,obj=_objectWithoutProperties(_step$value,["error"]);failedImports.push({obj:obj,error:error});if(error.type!=="missing_references"){continue}var indexPatternRefs=error.references.filter(function(ref){return ref.type==="index-pattern"});var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=indexPatternRefs[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var missingReference=_step2.value;var conflict=unmatchedReferences.get("".concat(missingReference.type,":").concat(missingReference.id))||{existingIndexPatternId:missingReference.id,list:[],newIndexPatternId:undefined};conflict.list.push(obj);unmatchedReferences.set("".concat(missingReference.type,":").concat(missingReference.id),conflict)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return{failedImports:failedImports,unmatchedReferences:Array.from(unmatchedReferences.values()),status:unmatchedReferences.size===0&&!failedImports.some(function(issue){return issue.error.type==="conflict"})?"success":"idle",importCount:response.successCount,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfigRegistry=void 0;var _registry=__webpack_require__(44);var IndexPatternListConfigRegistry=(0,_registry.uiRegistry)({name:"indexPatternList",index:["name"],order:["order"]});exports.IndexPatternListConfigRegistry=IndexPatternListConfigRegistry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addIndexPatternType=exports.indexPatternTypes=void 0;var indexPatternTypes=[];exports.indexPatternTypes=indexPatternTypes;var addIndexPatternType=function addIndexPatternType(type){return indexPatternTypes.push(type)};exports.addIndexPatternType=addIndexPatternType},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"canAppendWildcard",{enumerable:true,get:function get(){return _can_append_wildcard.canAppendWildcard}});Object.defineProperty(exports,"ensureMinimumTime",{enumerable:true,get:function get(){return _ensure_minimum_time.ensureMinimumTime}});Object.defineProperty(exports,"getIndices",{enumerable:true,get:function get(){return _get_indices.getIndices}});Object.defineProperty(exports,"getMatchedIndices",{enumerable:true,get:function get(){return _get_matched_indices.getMatchedIndices}});Object.defineProperty(exports,"containsIllegalCharacters",{enumerable:true,get:function get(){return _contains_illegal_characters.containsIllegalCharacters}});Object.defineProperty(exports,"extractTimeFields",{enumerable:true,get:function get(){return _extract_time_fields.extractTimeFields}});var _can_append_wildcard=__webpack_require__(2115);var _ensure_minimum_time=__webpack_require__(2116);var _get_indices=__webpack_require__(2117);var _get_matched_indices=__webpack_require__(2118);var _contains_illegal_characters=__webpack_require__(2119);var _extract_time_fields=__webpack_require__(2120)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractNanos=extractNanos;exports.convertIsoToNanosAsStr=convertIsoToNanosAsStr;exports.convertIsoToMillis=convertIsoToMillis;exports.convertTimeValueToIso=convertTimeValueToIso;var _moment=_interopRequireDefault(__webpack_require__(14));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function extractNanos(){var timeFieldValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var fieldParts=timeFieldValue.split(".");var fractionSeconds=fieldParts.length===2?fieldParts[1].replace("Z",""):"";return fractionSeconds.length!==9?fractionSeconds.padEnd(9,"0"):fractionSeconds}function convertIsoToNanosAsStr(isoValue){var nanos=extractNanos(isoValue);var millis=convertIsoToMillis(isoValue);return"".concat(millis).concat(nanos.substr(3,6))}function convertIsoToMillis(isoValue){var date=new Date(isoValue);return date.getTime()}function convertTimeValueToIso(timeValueMillis,nanosValue){if(!timeValueMillis){return null}var isoString=(0,_moment.default)(timeValueMillis).toISOString();if(!isoString){return null}else if(nanosValue!==""){return"".concat(isoString.substring(0,isoString.length-4)).concat(nanosValue,"Z")}return isoString}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LOADING_STATUS=exports.FAILURE_REASONS=void 0;var FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"};exports.FAILURE_REASONS=FAILURE_REASONS;var LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"};exports.LOADING_STATUS=LOADING_STATUS},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(1683)},function(module,exports,__webpack_require__){__webpack_require__(1684);__webpack_require__(1701);__webpack_require__(707)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormRow=FormRow;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormRow(props){var control=props.children;if(props.disableMsg){control=_react.default.createElement(_eui.EuiToolTip,{placement:"top",content:props.disableMsg},control)}var label=props.warningMsg?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiToolTip,{position:"top",content:props.warningMsg},_react.default.createElement(_eui.EuiIcon,{type:"alert"})),props.label):props.label;return _react.default.createElement(_eui.EuiFormRow,{label:label,id:props.id,"data-test-subj":"inputControl"+props.controlIndex},control)}FormRow.propTypes={label:_propTypes.default.string.isRequired,warningMsg:_propTypes.default.string,id:_propTypes.default.string.isRequired,children:_propTypes.default.node.isRequired,controlIndex:_propTypes.default.number.isRequired,disableMsg:_propTypes.default.string}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.noValuesDisableMsg=noValuesDisableMsg;exports.noIndexPatternMsg=noIndexPatternMsg;exports.Control=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function noValuesDisableMsg(fieldName,indexPatternName){return _i18n.i18n.translate("inputControl.control.noValuesDisableTooltip",{defaultMessage:'Filtering occurs on the "{fieldName}" field, which doesn\'t exist on any documents in the "{indexPatternName}" index pattern. Choose a different field or index documents that contain values for this field.',values:{fieldName:fieldName,indexPatternName:indexPatternName}})}function noIndexPatternMsg(indexPatternId){return _i18n.i18n.translate("inputControl.control.noIndexPatternTooltip",{defaultMessage:"Could not locate index-pattern id: {indexPatternId}.",values:{indexPatternId:indexPatternId}})}var Control=function(){function Control(controlParams,filterManager,kbnApi,useTimeFilter){var _this=this;_classCallCheck(this,Control);_defineProperty(this,"format",function(value){var field=_this.filterManager.getField();if(field){return field.format.convert(value)}return value});this.id=controlParams.id;this.controlParams=controlParams;this.options=controlParams.options;this.type=controlParams.type;this.label=controlParams.label?controlParams.label:controlParams.fieldName;this.useTimeFilter=useTimeFilter;this.filterManager=filterManager;this.kbnApi=kbnApi;this.reset();this.disable(_i18n.i18n.translate("inputControl.control.notInitializedTooltip",{defaultMessage:"Control has not been initialized"}))}_createClass(Control,[{key:"fetch",value:function(){var _fetch=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:throw new Error("fetch method not defined, subclass are required to implement");case 1:case"end":return _context.stop()}}},_callee)}));function fetch(){return _fetch.apply(this,arguments)}return fetch}()},{key:"destroy",value:function destroy(){throw new Error("destroy method not defined, subclass are required to implement")}},{key:"setAncestors",value:function setAncestors(ancestors){this.ancestors=ancestors}},{key:"hasAncestors",value:function hasAncestors(){return this.ancestors&&this.ancestors.length>0}},{key:"hasUnsetAncestor",value:function hasUnsetAncestor(){return this.ancestors.reduce(function(accumulator,ancestor){return accumulator||!ancestor.hasValue()},false)}},{key:"getAncestorValues",value:function getAncestorValues(){return this.ancestors.map(function(ancestor){return ancestor.value})}},{key:"getAncestorFilters",value:function getAncestorFilters(){return this.ancestors.map(function(ancestor){return ancestor.filterManager.createFilter(ancestor.value)})}},{key:"isEnabled",value:function isEnabled(){return this.enable}},{key:"disable",value:function disable(reason){this.enable=false;this.disabledReason=reason}},{key:"set",value:function set(newValue){this.value=newValue;if(this.hasValue()){this._kbnFilter=this.filterManager.createFilter(this.value)}else{this._kbnFilter=null}}},{key:"reset",value:function reset(){this._kbnFilter=null;this.value=this.filterManager.getValueFromFilterBar()}},{key:"clear",value:function clear(){this.value=undefined}},{key:"hasChanged",value:function hasChanged(){return!_lodash.default.isEqual(this.value,this.filterManager.getValueFromFilterBar())}},{key:"hasKbnFilter",value:function hasKbnFilter(){if(this._kbnFilter){return true}return false}},{key:"getKbnFilter",value:function getKbnFilter(){return this._kbnFilter}},{key:"hasValue",value:function hasValue(){return this.value!==undefined}}]);return Control}();exports.Control=Control},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FilterManager=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var FilterManager=function(){function FilterManager(controlId,fieldName,indexPattern,queryFilter){_classCallCheck(this,FilterManager);this.controlId=controlId;this.fieldName=fieldName;this.indexPattern=indexPattern;this.queryFilter=queryFilter}_createClass(FilterManager,[{key:"getIndexPattern",value:function getIndexPattern(){return this.indexPattern}},{key:"getField",value:function getField(){return this.indexPattern.fields.byName[this.fieldName]}},{key:"createFilter",value:function createFilter(){throw new Error("Must implement createFilter.")}},{key:"findFilters",value:function findFilters(){var _this=this;var kbnFilters=_lodash.default.flatten([this.queryFilter.getAppFilters(),this.queryFilter.getGlobalFilters()]);return kbnFilters.filter(function(kbnFilter){return _lodash.default.get(kbnFilter,"meta.controlledBy")===_this.controlId})}},{key:"getValueFromFilterBar",value:function getValueFromFilterBar(){throw new Error("Must implement getValueFromFilterBar.")}}]);return FilterManager}();exports.FilterManager=FilterManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createSearchSource=createSearchSource;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function createSearchSource(kbnApi,initialState,indexPattern,aggs,useTimeFilter){var filters=arguments.length>5&&arguments[5]!==undefined?arguments[5]:[];var searchSource=new kbnApi.SearchSource(initialState);searchSource.setParent(false);searchSource.setField("filter",function(){var activeFilters=_toConsumableArray(filters);if(useTimeFilter){activeFilters.push(kbnApi.timeFilter.createFilter(indexPattern))}return activeFilters});searchSource.setField("size",0);searchSource.setField("index",indexPattern);searchSource.setField("aggs",aggs);return searchSource}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getLineageMap",{enumerable:true,get:function get(){return _lineage_map.getLineageMap}});Object.defineProperty(exports,"getParentCandidates",{enumerable:true,get:function get(){return _parent_candidates.getParentCandidates}});var _lineage_map=__webpack_require__(1694);var _parent_candidates=__webpack_require__(1695)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternSelectFormRow=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _index_patterns=__webpack_require__(77);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndexPatternSelectFormRowUi(props){var controlIndex=props.controlIndex,indexPatternId=props.indexPatternId,intl=props.intl,onChange=props.onChange;var selectId="indexPatternSelect-".concat(controlIndex);return _react.default.createElement(_eui.EuiFormRow,{id:selectId,label:intl.formatMessage({id:"inputControl.editor.indexPatternSelect.patternLabel",defaultMessage:"Index Pattern"})},_react.default.createElement(_index_patterns.IndexPatternSelect,{placeholder:intl.formatMessage({id:"inputControl.editor.indexPatternSelect.patternPlaceholder",defaultMessage:"Select index pattern..."}),indexPatternId:indexPatternId,onChange:onChange,"data-test-subj":selectId}))}IndexPatternSelectFormRowUi.propTypes={onChange:_propTypes.default.func.isRequired,indexPatternId:_propTypes.default.string,controlIndex:_propTypes.default.number.isRequired};var IndexPatternSelectFormRow=(0,_react2.injectI18n)(IndexPatternSelectFormRowUi);exports.IndexPatternSelectFormRow=IndexPatternSelectFormRow},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldSelect=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FieldSelectUi=function(_Component){_inherits(FieldSelectUi,_Component);function FieldSelectUi(props){var _this;_classCallCheck(this,FieldSelectUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(FieldSelectUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"loadFields",function(indexPatternId){_this.setState({isLoading:true,fields:[],indexPatternId:indexPatternId},_this.debouncedLoad.bind(null,indexPatternId))});_defineProperty(_assertThisInitialized(_this),"debouncedLoad",_lodash.default.debounce(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId){var indexPattern,fieldsByTypeMap,fields;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!indexPatternId||indexPatternId.length===0)){_context.next=2;break}return _context.abrupt("return");case 2:_context.prev=2;_context.next=5;return _this.props.getIndexPattern(indexPatternId);case 5:indexPattern=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);return _context.abrupt("return");case 11:if(!_this._hasUnmounted){_context.next=13;break}return _context.abrupt("return");case 13:if(!(indexPattern.id!==_this.state.indexPatternId)){_context.next=15;break}return _context.abrupt("return");case 15:fieldsByTypeMap=new Map;fields=[];indexPattern.fields.filter(_this.filterField).forEach(function(field){if(fieldsByTypeMap.has(field.type)){var fieldsList=fieldsByTypeMap.get(field.type);fieldsList.push(field.name);fieldsByTypeMap.set(field.type,fieldsList)}else{fieldsByTypeMap.set(field.type,[field.name])}});fieldsByTypeMap.forEach(function(fieldsList,fieldType){fields.push({label:fieldType,options:fieldsList.sort().map(function(fieldName){return{value:fieldName,label:fieldName}})})});fields.sort(function(a,b){if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0});_this.setState({isLoading:false,fields:fields});case 21:case"end":return _context.stop()}}},_callee,null,[[2,8]])}));return function(_x){return _ref.apply(this,arguments)}}(),300));_defineProperty(_assertThisInitialized(_this),"onChange",function(selectedOptions){_this.props.onChange(_lodash.default.get(selectedOptions,"0.value"))});_this._hasUnmounted=false;_this.state={isLoading:false,fields:[],indexPatternId:props.indexPatternId};_this.filterField=_lodash.default.get(props,"filterField",function(){return true});return _this}_createClass(FieldSelectUi,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._hasUnmounted=true}},{key:"componentDidMount",value:function componentDidMount(){this.loadFields(this.state.indexPatternId)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(this.props.indexPatternId!==nextProps.indexPatternId){this.loadFields(nextProps.indexPatternId)}}},{key:"render",value:function render(){if(!this.props.indexPatternId||this.props.indexPatternId.trim().length===0){return null}var selectId="fieldSelect-".concat(this.props.controlIndex);var selectedOptions=[];var intl=this.props.intl;if(this.props.fieldName){selectedOptions.push({value:this.props.fieldName,label:this.props.fieldName})}return _react.default.createElement(_eui.EuiFormRow,{id:selectId,label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.fieldSelect.fieldLabel",defaultMessage:"Field"})},_react.default.createElement(_eui.EuiComboBox,{placeholder:intl.formatMessage({id:"inputControl.editor.fieldSelect.selectFieldPlaceholder",defaultMessage:"Select field..."}),singleSelection:true,isLoading:this.state.isLoading,options:this.state.fields,selectedOptions:selectedOptions,onChange:this.onChange,"data-test-subj":selectId}))}}]);return FieldSelectUi}(_react.Component);FieldSelectUi.propTypes={getIndexPattern:_propTypes.default.func.isRequired,indexPatternId:_propTypes.default.string,onChange:_propTypes.default.func.isRequired,fieldName:_propTypes.default.string,filterField:_propTypes.default.func,controlIndex:_propTypes.default.number.isRequired};var FieldSelect=(0,_react2.injectI18n)(FieldSelectUi);exports.FieldSelect=FieldSelect},,,,function(module,exports,__webpack_require__){__webpack_require__(416);__webpack_require__(1730);__webpack_require__(352)},function(module,exports,__webpack_require__){__webpack_require__(607);__webpack_require__(1731)},function(module,exports,__webpack_require__){__webpack_require__(1732)},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));__webpack_require__(1743);__webpack_require__(714);__webpack_require__(447);var _modules=__webpack_require__(6);var _sidebar=_interopRequireDefault(__webpack_require__(1750));var _collection=__webpack_require__(396);var _agg_config=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("app/visualize").directive("visEditorSidebar",function(){return{restrict:"E",template:_sidebar.default,scope:true,require:"?^ngModel",controllerAs:"sidebar",controller:function controller($scope){var _this=this;$scope.$watch("vis.type",function(visType){if(visType){_this.showData=visType.schemas.buckets||visType.schemas.metrics;if(_lodash.default.has(visType,"editorConfig.optionTabs")){var activeTabs=visType.editorConfig.optionTabs.filter(function(tab){return _lodash.default.get(tab,"active",false)});if(activeTabs.length>0){_this.section=activeTabs[0].name}}_this.section=_this.section||(_this.showData?"data":_lodash.default.get(visType,"editorConfig.optionTabs[0].name"))}});$scope.onAggTypeChange=function(agg,value){if(agg.type!==value){agg.type=value}};$scope.onAggParamsChange=function(params,paramName,value){if(params[paramName]!==value){params[paramName]=value}};$scope.addSchema=function(schema){var aggConfig=new _agg_config.AggConfig($scope.state.aggs,{schema:schema,id:_agg_config.AggConfig.nextId($scope.state.aggs)});aggConfig.brandNew=true;$scope.state.aggs.push(aggConfig)};$scope.removeAgg=function(agg){var aggs=$scope.state.aggs;var index=aggs.indexOf(agg);if(index===-1){return}aggs.splice(index,1)};$scope.onToggleEnableAgg=function(agg,isEnable){agg.enabled=isEnable};$scope.reorderAggs=function(group){var indexOffset=$scope.state.aggs.indexOf(group[0]);_lodash.default.forEach(group,function(agg,index){(0,_collection.move)($scope.state.aggs,agg,indexOffset+index)})}}}})},function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _vis_options_react_wrapper=__webpack_require__(1749);_modules.uiModules.get("app/visualize").directive("visOptionsReactWrapper",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_vis_options_react_wrapper.VisOptionsReactWrapper),[["component",{wrapApply:false}],["aggs",{watchDepth:"collection"}],["stateParams",{watchDepth:"collection"}],["vis",{watchDepth:"collection"}],["uiState",{watchDepth:"collection"}],["setValue",{watchDepth:"reference"}],["setValidity",{watchDepth:"reference"}],["setTouched",{watchDepth:"reference"}],"hasHistogramAgg"])}).directive("visEditorVisOptions",function($compile){return{restrict:"E",require:"?^ngModel",scope:{vis:"=",visData:"=",uiState:"=",editor:"=",visualizeEditor:"=",editorState:"=",onAggParamsChange:"=",hasHistogramAgg:"="},link:function link($scope,$el,attrs,ngModelCtrl){$scope.setValue=function(paramName,value){return $scope.onAggParamsChange($scope.editorState.params,paramName,value)};$scope.setValidity=function(isValid){ngModelCtrl.$setValidity("visOptions",isValid)};$scope.setTouched=function(isTouched){if(isTouched){ngModelCtrl.$setTouched()}else{ngModelCtrl.$setUntouched()}};var comp=typeof $scope.editor==="string"?$scope.editor:'<vis-options-react-wrapper\n            component="editor"\n            aggs="editorState.aggs"\n            has-histogram-agg="hasHistogramAgg"\n            state-params="editorState.params"\n            vis="vis"\n            ui-state="uiState"\n            set-value="setValue"\n            set-validity="setValidity"\n            set-touched="setTouched">\n          </vis-options-react-wrapper>';var $editor=$compile(comp)($scope);$el.append($editor)}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisEditorTypesRegistryProvider=void 0;var _registry=__webpack_require__(44);var VisEditorTypesRegistryProvider=(0,_registry.uiRegistry)({name:"visEditorTypes",index:["name"],order:["title"]});exports.VisEditorTypesRegistryProvider=VisEditorTypesRegistryProvider},function(module,exports){},,,,,,function(module,exports,__webpack_require__){__webpack_require__(1781)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RegistryFieldFormatEditorsProvider=void 0;var _registry=__webpack_require__(44);var RegistryFieldFormatEditorsProvider=(0,_registry.uiRegistry)({name:"fieldFormatEditors",index:["formatId"],constructor:function constructor(){this.getEditor=function(formatId){return this.byFormatId[formatId]}}});exports.RegistryFieldFormatEditorsProvider=RegistryFieldFormatEditorsProvider},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(1817)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.applyResizeCheckerToEditors=applyResizeCheckerToEditors;var _resize_checker=__webpack_require__(619);function applyResizeCheckerToEditors($scope,$el){for(var _len=arguments.length,editors=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){editors[_key-2]=arguments[_key]}var checker=new _resize_checker.ResizeChecker($el);checker.on("resize",function(){return editors.forEach(function(e){return e.resize()})});$scope.$on("$destroy",function(){return checker.destroy()})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeInput=initializeInput;exports.default=getInput;var _autocomplete=_interopRequireDefault(__webpack_require__(730));var _mappings=_interopRequireDefault(__webpack_require__(65));var _modules=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(58);__webpack_require__(673);var SenseEditor=__webpack_require__(455);var settings=__webpack_require__(127);var utils=__webpack_require__(454);var es=__webpack_require__(453);var history=__webpack_require__(456);var input;function initializeInput($el,$actionsEl,$copyAsCurlEl,output){var openDocumentation=arguments.length>4&&arguments[4]!==undefined?arguments[4]:function(){};input=new SenseEditor($el);if(_modules.uiModules){var appSense=_modules.uiModules.get("app/sense");if(appSense&&appSense.setupResizeCheckerForRootEditors){appSense.setupResizeCheckerForRootEditors($el,input,output)}}input.autocomplete=new _autocomplete.default(input);input.$actions=$actionsEl;input.commands.addCommand({name:"auto indent request",bindKey:{win:"Ctrl-I",mac:"Command-I"},exec:function exec(){input.autoIndent()}});input.commands.addCommand({name:"move to previous request start or end",bindKey:{win:"Ctrl-Up",mac:"Command-Up"},exec:function exec(){input.moveToPreviousRequestEdge()}});input.commands.addCommand({name:"move to next request start or end",bindKey:{win:"Ctrl-Down",mac:"Command-Down"},exec:function exec(){input.moveToNextRequestEdge()}});var CURRENT_REQ_ID=0;function sendCurrentRequestToES(addedToHistoryCb){var reqId=++CURRENT_REQ_ID;input.getRequestsInRange(function(requests){if(reqId!==CURRENT_REQ_ID){return}output.update("");if(requests.length===0){return}var isMultiRequest=requests.length>1;var finishChain=function finishChain(){};var isFirstRequest=true;var sendNextRequest=function sendNextRequest(){if(reqId!==CURRENT_REQ_ID){return}if(requests.length===0){finishChain();return}var req=requests.shift();var esPath=req.url;var esMethod=req.method;var esData=utils.collapseLiteralStrings(req.data.join("\n"));if(esData){esData+="\n"}es.send(esMethod,esPath,esData).always(function(dataOrjqXHR,textStatus,jqXhrORerrorThrown){if(reqId!==CURRENT_REQ_ID){return}var xhr=dataOrjqXHR.promise?dataOrjqXHR:jqXhrORerrorThrown;function modeForContentType(contentType){if(contentType.indexOf("text/plain")>=0){return"ace/mode/text"}else if(contentType.indexOf("application/yaml")>=0){return"ace/mode/yaml"}return null}var isSuccess=typeof xhr.status==="number"&&(xhr.status>=200&&xhr.status<300||xhr.status===404);if(isSuccess){if(xhr.status!==404&&settings.getPolling()){_mappings.default.retrieveAutoCompleteInfo()}history.addToHistory(esPath,esMethod,esData);if(addedToHistoryCb){addedToHistoryCb()}var value=xhr.responseText;var mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(settings.getTripleQuotes()&&(mode===null||mode==="application/json")){try{value=utils.expandLiteralStrings(value)}catch(e){}}var warnings=xhr.getResponseHeader("warning");if(warnings){var deprecationMessages=utils.extractDeprecationMessages(warnings);value=deprecationMessages.join("\n")+"\n"+value}if(isMultiRequest){value="# "+req.method+" "+req.url+"\n"+value}if(isFirstRequest){output.update(value,mode)}else{output.append("\n"+value)}isFirstRequest=false;sendNextRequest()}else{var _value;var _mode;if(xhr.responseText){_value=xhr.responseText;_mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(_value[0]==="{"){try{_value=JSON.stringify(JSON.parse(_value),null,2)}catch(e){}}}else{_value="Request failed to get to the server (status code: "+xhr.status+")";_mode="ace/mode/text"}if(isMultiRequest){_value="# "+req.method+" "+req.url+"\n"+_value}if(isFirstRequest){output.update(_value,_mode)}else{output.append("\n"+_value)}finishChain()}})};sendNextRequest()})}input.commands.addCommand({name:"send to elasticsearch",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:function exec(){return sendCurrentRequestToES()}});input.commands.addCommand({name:"open documentation",bindKey:{win:"Ctrl-/",mac:"Command-/"},exec:function exec(){openDocumentation()}});if(settings){settings.applyCurrentSettings(input)}input.focus();input.highlightCurrentRequestsAndUpdateActionBar();input.sendCurrentRequestToES=sendCurrentRequestToES;__webpack_require__(1852)(input,output);return input}function getInput(){return input}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEndpointFromPosition=getEndpointFromPosition;exports.default=_default;var _kb=__webpack_require__(1825);var _utils=_interopRequireDefault(__webpack_require__(454));var _engine=__webpack_require__(737);var _components=__webpack_require__(94);var _lodash=_interopRequireDefault(__webpack_require__(1));var _brace=_interopRequireDefault(__webpack_require__(58));__webpack_require__(1990);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AceRange=_brace.default.acequire("ace/range").Range;var LAST_EVALUATED_TOKEN=null;function isUrlParamsToken(token){switch((token||{}).type){case"url.param":case"url.equal":case"url.value":case"url.questionmark":case"url.amp":return true;default:return false}}function getCurrentMethodAndTokenPaths(editor,pos,forceEndOfUrl){var tokenIter=editor.iterForPosition(pos.row,pos.column);var startPos=pos;var bodyTokenPath=[];var ret={};var STATES={looking_for_key:0,looking_for_scope_start:1,start:3};var state=STATES.start;var t=tokenIter.getCurrentToken();if(t){if(startPos.column===0){t=tokenIter.stepBackward();state=STATES.looking_for_scope_start}}else{if(startPos.column===0){t=tokenIter.stepBackward();state=STATES.start}}var walkedSomeBody=false;for(;t&&t.type.indexOf("url")===-1&&t.type!=="method";t=tokenIter.stepBackward()){if(t.type!=="whitespace"){walkedSomeBody=true}switch(t.type){case"variable":if(state===STATES.looking_for_key){bodyTokenPath.unshift(t.value.trim().replace(/"/g,""))}state=STATES.looking_for_scope_start;break;case"paren.lparen":bodyTokenPath.unshift(t.value);if(state===STATES.looking_for_scope_start){state=STATES.looking_for_key}break;case"paren.rparen":state=STATES.looking_for_scope_start;var parenCount=1;t=tokenIter.stepBackward();while(t&&parenCount>0){switch(t.type){case"paren.lparen":parenCount--;break;case"paren.rparen":parenCount++;break}if(parenCount>0){t=tokenIter.stepBackward()}}if(!t){return{}}continue;case"punctuation.end_triple_quote":state=STATES.looking_for_scope_start;for(t=tokenIter.stepBackward();t;t=tokenIter.stepBackward()){if(t.type==="punctuation.start_triple_quote"){t=tokenIter.stepBackward();break}}if(!t){return{}}continue;case"punctuation.start_triple_quote":if(state===STATES.start){state=STATES.looking_for_key}else if(state===STATES.looking_for_key){state=STATES.looking_for_scope_start}bodyTokenPath.unshift('"""');continue;case"string":case"constant.numeric":case"constant.language.boolean":case"text":if(state===STATES.start){state=STATES.looking_for_key}else if(state===STATES.looking_for_key){state=STATES.looking_for_scope_start}break;case"punctuation.comma":if(state===STATES.start){state=STATES.looking_for_scope_start}break;case"punctuation.colon":case"whitespace":if(state===STATES.start){state=STATES.looking_for_key}break}}if(walkedSomeBody&&(!bodyTokenPath||bodyTokenPath.length===0)){return{}}ret.urlTokenPath=[];if(tokenIter.getCurrentTokenRow()===startPos.row){if(t&&(t.type==="url.part"||t.type==="url.param"||t.type==="url.value")){if(forceEndOfUrl&&t.type==="url.part"){ret.urlTokenPath.push(t.value);ret.urlTokenPath.push(_components.URL_PATH_END_MARKER)}t=tokenIter.stepBackward();while(t.type==="whitespace"){t=tokenIter.stepBackward()}}bodyTokenPath=null}ret.bodyTokenPath=bodyTokenPath;ret.urlParamsTokenPath=null;ret.requestStartRow=tokenIter.getCurrentTokenRow();var curUrlPart;while(t&&isUrlParamsToken(t)){switch(t.type){case"url.value":if(Array.isArray(curUrlPart)){curUrlPart.unshift(t.value)}else if(curUrlPart){curUrlPart=[t.value,curUrlPart]}else{curUrlPart=t.value}break;case"url.comma":if(!curUrlPart){curUrlPart=[]}else if(!Array.isArray(curUrlPart)){curUrlPart=[curUrlPart]}break;case"url.param":var v=curUrlPart;curUrlPart={};curUrlPart[t.value]=v;break;case"url.amp":case"url.questionmark":if(!ret.urlParamsTokenPath){ret.urlParamsTokenPath=[]}ret.urlParamsTokenPath.unshift(curUrlPart||{});curUrlPart=null;break}t=tokenIter.stepBackward()}curUrlPart=null;while(t&&t.type.indexOf("url")!==-1){switch(t.type){case"url.part":if(Array.isArray(curUrlPart)){curUrlPart.unshift(t.value)}else if(curUrlPart){curUrlPart=[t.value,curUrlPart]}else{curUrlPart=t.value}break;case"url.comma":if(!curUrlPart){curUrlPart=[]}else if(!Array.isArray(curUrlPart)){curUrlPart=[curUrlPart]}break;case"url.slash":if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart);curUrlPart=null}break}t=editor.parser.prevNonEmptyToken(tokenIter)}if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart)}if(!ret.bodyTokenPath&&!ret.urlParamsTokenPath){if(ret.urlTokenPath.length>0){ret.otherTokenValues=ret.urlTokenPath[0]}}else{ret.urlTokenPath.push(_components.URL_PATH_END_MARKER)}if(t&&t.type==="method"){ret.method=t.value}return ret}function getEndpointFromPosition(editor,pos){var context=_objectSpread({},getCurrentMethodAndTokenPaths(editor,pos,true));var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(context.urlTokenPath,context,editor,true,components);return context.endpoint}function _default(editor){function isUrlPathToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.part":return true;default:return false}}function addMetaToTermsList(list,meta,template){return _lodash.default.map(list,function(t){if(_typeof(t)!=="object"){t={name:t}}return _lodash.default.defaults(t,{meta:meta,template:template})})}function applyTerm(term){var session=editor.getSession();var context=term.context;addReplacementInfoToContext(context,editor.getCursorPosition(),term.insertValue);var termAsString;if(context.autoCompleteType==="body"){termAsString=typeof term.insertValue==="string"?'"'+term.insertValue+'"':term.insertValue+"";if(term.insertValue==="["||term.insertValue==="{"){termAsString=""}}else{termAsString=term.insertValue+""}var valueToInsert=termAsString;var templateInserted=false;if(context.addTemplate&&!_lodash.default.isUndefined(term.template)&&!_lodash.default.isNull(term.template)){var indentedTemplateLines=_utils.default.jsonToString(term.template,true).split("\n");var currentIndentation=session.getLine(context.rangeToReplace.start.row);currentIndentation=currentIndentation.match(/^\s*/)[0];for(var i=1;i<indentedTemplateLines.length;i++){indentedTemplateLines[i]=currentIndentation+indentedTemplateLines[i]}valueToInsert+=": "+indentedTemplateLines.join("\n");templateInserted=true}else{templateInserted=true;if(term.value==="["){valueToInsert+="[]"}else if(term.value==="{"){valueToInsert+="{}"}else{templateInserted=false}}valueToInsert=context.prefixToAdd+valueToInsert+context.suffixToAdd;removeChangeListener();if(context.rangeToReplace.start.column!==context.rangeToReplace.end.column){session.replace(context.rangeToReplace,valueToInsert)}else{editor.insert(valueToInsert)}editor.clearSelection();var newPos={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column+termAsString.length+context.prefixToAdd.length+(templateInserted?0:context.suffixToAdd.length)};var tokenIter=editor.iterForPosition(newPos.row,newPos.column);if(context.autoCompleteType==="body"){var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"paren.rparen":newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break;case"punctuation.colon":nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if((nonEmptyToken||{}).type==="paren.lparen"){nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};if(nonEmptyToken&&nonEmptyToken.value.indexOf('"')===0){newPos.column++}}break;case"paren.lparen":case"punctuation.comma":tokenIter.stepForward();newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break}editor.moveCursorToPosition(newPos)}addChangeListener()}function getAutoCompleteContext(editor,session,pos){var context={autoCompleteSet:null,endpoint:null,urlPath:null,method:null,activeScheme:null,editor:editor};context.autoCompleteType=getAutoCompleteType(pos);switch(context.autoCompleteType){case"path":addPathAutoCompleteSetToContext(context,pos);break;case"url_params":addUrlParamsAutoCompleteSetToContext(context,pos);break;case"method":addMethodAutoCompleteSetToContext(context,pos);break;case"body":addBodyAutoCompleteSetToContext(context,pos);break;default:return null}if(!context.autoCompleteSet){return null}addReplacementInfoToContext(context,pos);context.createdWithToken=_lodash.default.clone(context.updatedForToken);return context}function getAutoCompleteType(pos){var rowMode=editor.parser.getRowParseMode();if(rowMode&editor.parser.MODE.IN_REQUEST){return"body"}if(rowMode&editor.parser.MODE.REQUEST_START){var tokenIter=editor.iterForPosition(pos.row,pos.column);var t=tokenIter.getCurrentToken();while(t.type==="url.comma"){t=tokenIter.stepBackward()}switch(t.type){case"method":return"method";case"whitespace":t=editor.parser.prevNonEmptyToken(tokenIter);switch((t||{}).type){case"method":return"path";break;default:if(isUrlPathToken(t)){return"path"}if(isUrlParamsToken(t)){return"url_params"}return null}break;default:if(isUrlPathToken(t)){return"path"}if(isUrlParamsToken(t)){return"url_params"}return null}}if(rowMode&editor.parser.MODE.REQUEST_END){return"body"}if((editor.getSession().getLine(pos.row)||"").trim()===""){rowMode=editor.parser.getRowParseMode(pos.row-1);if(rowMode&editor.parser.MODE.REQUEST_START&&rowMode&editor.parser.MODE.REQUEST_END){return"body"}return"method"}return null}function addReplacementInfoToContext(context,pos,replacingTerm){var session=editor.getSession();context.updatedForToken=_lodash.default.clone(session.getTokenAt(pos.row,pos.column));if(!context.updatedForToken){context.updatedForToken={value:"",start:pos.column}}var anchorToken=context.createdWithToken;if(!anchorToken){anchorToken=context.updatedForToken}switch(context.updatedForToken.type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":case"method":case"url.index":case"url.type":case"url.id":case"url.method":case"url.endpoint":case"url.part":case"url.param":case"url.value":context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true;break;default:if(replacingTerm&&context.updatedForToken.value===replacingTerm){context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true}else{context.rangeToReplace=new AceRange(pos.row,pos.column,pos.row,pos.column);context.replacingToken=false}break}context.textBoxPosition={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column};switch(context.autoCompleteType){case"path":addPathPrefixSuffixToContext(context);break;case"url_params":addUrlParamsPrefixSuffixToContext(context);break;case"method":addMethodPrefixSuffixToContext(context);break;case"body":addBodyPrefixSuffixToContext(context);break}}function addBodyPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"paren.rparen":case"punctuation.comma":context.addTemplate=true;break;case"punctuation.colon":context.addTemplate=false;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&nonEmptyToken.value==="{")){break}nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&nonEmptyToken.value==="}")){break}context.addTemplate=true;context.rangeToReplace.end.row=tokenIter.getCurrentTokenRow();context.rangeToReplace.end.column=tokenIter.getCurrentTokenColumn()+nonEmptyToken.value.length;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.rparen":case"punctuation.comma":case"punctuation.colon":break;default:context.suffixToAdd=", "}break;default:context.addTemplate=true;context.suffixToAdd=", ";break}tokenIter=editor.iterForCurrentLoc();nonEmptyToken=tokenIter.getCurrentToken();var insertingRelativeToToken;if(context.replacingToken){insertingRelativeToToken=0}else{var pos=editor.getCursorPosition();if(pos.column===context.updatedForToken.start){insertingRelativeToToken=-1}else if(pos.column<context.updatedForToken.start+context.updatedForToken.value.length){insertingRelativeToToken=0}else{insertingRelativeToToken=1}}if(editor.parser.isEmptyToken(nonEmptyToken)||insertingRelativeToToken<=0){nonEmptyToken=editor.parser.prevNonEmptyToken(tokenIter)}switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"punctuation.comma":case"punctuation.colon":case"method":break;default:if(nonEmptyToken&&nonEmptyToken.type.indexOf("url")<0){context.prefixToAdd=", "}}return context}function addUrlParamsPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var row=tokenIter.getCurrentTokenRow();var t=editor.parser.nextNonEmptyToken(tokenIter);if(tokenIter.getCurrentTokenRow()!==row||!t){context.suffixToAdd=" "}}function addPathPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodAutoCompleteSetToContext(context){context.autoCompleteSet=["GET","PUT","POST","DELETE","HEAD"].map(function(m,i){return{name:m,score:-i,meta:_i18n.i18n.translate("console.autocomplete.addMethodMetaText",{defaultMessage:"method"})}})}function addPathAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.token=ret.token;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(ret.urlTokenPath,context,editor,true,components);context.autoCompleteSet=addMetaToTermsList(context.autoCompleteSet,"endpoint")}function addUrlParamsAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));if(!context.endpoint){console.log("couldn't resolve an endpoint.");return context}if(!ret.urlParamsTokenPath){console.log("Can't extract a valid urlParams token path.");return context}var tokenPath=[];var currentParam=ret.urlParamsTokenPath.pop();if(currentParam){tokenPath=Object.keys(currentParam);context.otherTokenValues=currentParam[tokenPath[0]]}(0,_engine.populateContext)(tokenPath,context,editor,true,context.endpoint.paramsAutocomplete.getTopLevelComponents(context.method));return context}function addBodyAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;context.requestStartRow=ret.requestStartRow;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));context.bodyTokenPath=ret.bodyTokenPath;if(!ret.bodyTokenPath){console.log("Can't extract a valid body token path.");return context}context.endpointComponentResolver=_kb.getEndpointBodyCompleteComponents;context.globalComponentResolver=_kb.getGlobalAutocompleteComponents;var components;if(context.endpoint){components=context.endpoint.bodyAutocompleteRootComponents}else{components=(0,_kb.getUnmatchedEndpointComponents)()}(0,_engine.populateContext)(ret.bodyTokenPath,context,editor,true,components);return context}var evaluateCurrentTokenAfterAChange=_lodash.default.debounce(function evaluateCurrentTokenAfterAChange(pos){var session=editor.getSession();var currentToken=session.getTokenAt(pos.row,pos.column);if(!currentToken){if(pos.row===0){LAST_EVALUATED_TOKEN=null;return}currentToken={start:0,value:""}}currentToken.row=pos.row;if(editor.parser.isEmptyToken(currentToken)){var nextToken=session.getTokenAt(pos.row,pos.column+1);if(editor.parser.isEmptyToken(nextToken)){currentToken.start=pos.column;LAST_EVALUATED_TOKEN=currentToken}else{nextToken.row=pos.row;LAST_EVALUATED_TOKEN=nextToken}return}if(!LAST_EVALUATED_TOKEN){LAST_EVALUATED_TOKEN=currentToken;return}if(LAST_EVALUATED_TOKEN.start!==currentToken.start||LAST_EVALUATED_TOKEN.row!==currentToken.row||LAST_EVALUATED_TOKEN.value===currentToken.value){LAST_EVALUATED_TOKEN=currentToken;return}switch(currentToken.type||"UNKNOWN"){case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"UNKNOWN":return}LAST_EVALUATED_TOKEN=currentToken;editor.execCommand("startAutocomplete")},100);function editorChangeListener(){var cursor=editor.selection.lead;if(editor.__ace.completer&&editor.__ace.completer.activated){return}evaluateCurrentTokenAfterAChange(cursor)}function addChangeListener(){editor.on("changeSelection",editorChangeListener)}function removeChangeListener(){editor.off("changeSelection",editorChangeListener)}function getCompletions(aceEditor,session,pos,prefix,callback){try{var context=getAutoCompleteContext(editor,session,pos);if(!context){callback(null,[])}else{var terms=_lodash.default.map(context.autoCompleteSet,function(term){if(_typeof(term)!=="object"){term={name:term}}else{term=_lodash.default.clone(term)}var defaults={value:term.name,meta:"API",score:0,context:context};if(context.autoCompleteType==="body"){defaults.completer={insertMatch:function insertMatch(){return applyTerm(term)}}}return _lodash.default.defaults(term,defaults)});terms.sort(function(t1,t2){if(t1.score>t2.score){return-1}if(t1.score<t2.score){return 1}if(t1.name<t2.name){return-1}if(t1.name===t2.name){return 0}return 1});callback(null,_lodash.default.map(terms,function(t,i){t.insertValue=t.insertValue||t.value;t.value=""+t.value;t.score=-i;return t}))}}catch(e){console.log("error while getting completion terms",e);callback(e,null)}}addChangeListener();_brace.default.define("ace/autocomplete/text_completer",["require","exports","module"],function(require,exports){exports.getCompletions=function(editor,session,pos,prefix,callback){callback(null,[])}});var langTools=_brace.default.acequire("ace/ext/language_tools");langTools.setCompleters([{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:getCompletions}]);editor.setOptions({enableBasicAutocompletion:true});editor.$blockScrolling=Infinity;return{_test:{getCompletions:getCompletions,addReplacementInfoToContext:addReplacementInfoToContext,addChangeListener:addChangeListener,removeChangeListener:removeChangeListener}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AutocompleteComponent=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var AutocompleteComponent=function(){function AutocompleteComponent(name){_classCallCheck(this,AutocompleteComponent);this.name=name}_createClass(AutocompleteComponent,[{key:"getTerms",value:function getTerms(){return[]}},{key:"match",value:function match(){return{next:this.next}}}]);return AutocompleteComponent}();exports.AutocompleteComponent=AutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeOutput=initializeOutput;exports.default=getOutput;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ace=__webpack_require__(58);var settings=__webpack_require__(127);var OutputMode=__webpack_require__(1834);var smartResize=__webpack_require__(736);var output;function initializeOutput($el){output=ace.acequire("ace/ace").edit($el[0]);var outputMode=new OutputMode.Mode;output.$blockScrolling=Infinity;output.resize=smartResize(output);output.update=function(val,mode,cb){if(typeof mode==="function"){cb=mode;mode=void 0}var session=output.getSession();session.setMode(val?mode||outputMode:"ace/mode/text");session.setValue(val);if(typeof cb==="function"){setTimeout(cb)}};output.append=function(val,foldPrevious,cb){if(typeof foldPrevious==="function"){cb=foldPrevious;foldPrevious=true}if(_lodash.default.isUndefined(foldPrevious)){foldPrevious=true}var session=output.getSession();var lastLine=session.getLength();if(foldPrevious){output.moveCursorTo(Math.max(0,lastLine-1),0)}session.insert({row:lastLine,column:0},"\n"+val);output.moveCursorTo(lastLine+1,0);if(typeof cb==="function"){setTimeout(cb)}};output.$el=$el;(function(session){session.setMode("ace/mode/text");session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(output.getSession());output.setShowPrintMargin(false);output.setReadOnly(true);if(settings){settings.applyCurrentSettings(output)}return output}function getOutput(){return output}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputJsonHighlightRules=OutputJsonHighlightRules;__webpack_require__(1976);var _x_json_highlight_rules=__webpack_require__(734);var ace=__webpack_require__(58);var oop=ace.acequire("ace/lib/oop");var JsonHighlightRules=ace.acequire("ace/mode/json_highlight_rules").JsonHighlightRules;function OutputJsonHighlightRules(){this.$rules={};(0,_x_json_highlight_rules.addToRules)(this,"start");this.$rules.start.unshift({token:"warning",regex:"#!.*$"},{token:"comment",regex:"#.*$"});if(this.constructor===OutputJsonHighlightRules){this.normalizeRules()}}oop.inherits(OutputJsonHighlightRules,JsonHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addToRules=addToRules;var _=__webpack_require__(1);var ScriptHighlightRules=__webpack_require__(735).ScriptHighlightRules;var jsonRules=function jsonRules(root){root=root?root:"json";var rules={};rules[root]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(58);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var _lodash=__webpack_require__(1);function _default(editor){var resize=editor.resize;var throttledResize=(0,_lodash.throttle)(function(){resize.call(editor);var userRow=(0,_lodash.get)(throttledResize,"topRow",0);if(userRow!==0){editor.renderer.scrollToLine(userRow,false,false,function(){})}},35);return throttledResize}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wrapComponentWithDefaults=wrapComponentWithDefaults;exports.WalkingState=WalkingState;exports.walkTokenPath=walkTokenPath;exports.populateContext=populateContext;var _=__webpack_require__(1);function wrapComponentWithDefaults(component,defaults){var originalGetTerms=component.getTerms;component.getTerms=function(context,editor){var result=originalGetTerms.call(component,context,editor);if(!result){return result}result=_.map(result,function(term){if(!_.isObject(term)){term={name:term}}return _.defaults(term,defaults)},this);return result};return component}var tracer=function tracer(){if(window.engine_trace){console.log.call(console,arguments)}};function passThroughContext(context,extensionList){function PTC(){}PTC.prototype=context;var result=new PTC;if(extensionList){extensionList.unshift(result);_.assign.apply(_,extensionList);extensionList.shift()}return result}function WalkingState(parentName,components,contextExtensionList,depth,priority){this.parentName=parentName;this.components=components;this.contextExtensionList=contextExtensionList;this.depth=depth||0;this.priority=priority}function walkTokenPath(tokenPath,walkingStates,context,editor){if(!tokenPath||tokenPath.length===0){return walkingStates}var token=tokenPath[0];var nextWalkingStates=[];tracer("starting token evaluation ["+token+"]");_.each(walkingStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){tracer("evaluating ["+token+"] with ["+component.name+"]",component);var result=component.match(token,contextForState,editor);if(result&&!_.isEmpty(result)){tracer("matched ["+token+"] with:",result);var next;var extensionList;if(result.next&&!Array.isArray(result.next)){next=[result.next]}else{next=result.next}if(result.context_values){extensionList=[];[].push.apply(extensionList,ws.contextExtensionList);extensionList.push(result.context_values)}else{extensionList=ws.contextExtensionList}var priority=ws.priority;if(_.isNumber(result.priority)){if(_.isNumber(priority)){priority=Math.min(priority,result.priority)}else{priority=result.priority}}nextWalkingStates.push(new WalkingState(component.name,next,extensionList,ws.depth+1,priority))}})});if(nextWalkingStates.length===0){return _.map(walkingStates,function(ws){return new WalkingState(ws.name,[],ws.contextExtensionList)})}return walkTokenPath(tokenPath.slice(1),nextWalkingStates,context,editor)}function populateContext(tokenPath,context,editor,includeAutoComplete,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);if(includeAutoComplete){var autoCompleteSet=[];_.each(walkStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){_.each(component.getTerms(contextForState,editor),function(term){if(!_.isObject(term)){term={name:term}}autoCompleteSet.push(term)})})});autoCompleteSet=_.uniq(autoCompleteSet,false);context.autoCompleteSet=autoCompleteSet}if(walkStates.length!==0){var wsToUse;walkStates=_.sortBy(walkStates,function(ws){return _.isNumber(ws.priority)?ws.priority:Number.MAX_VALUE});wsToUse=_.find(walkStates,function(ws){return _.isEmpty(ws.components)});if(!wsToUse&&walkStates.length>1&&!includeAutoComplete){console.info("more then one context active for current path, but autocomplete isn't requested",walkStates)}if(!wsToUse){wsToUse=walkStates[0]}_.each(wsToUse.contextExtensionList,function(extension){_.assign(context,extension)})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditorExample=EditorExample;var _react=_interopRequireWildcard(__webpack_require__(0));var _help_example=_interopRequireDefault(__webpack_require__(1856));var _jquery=_interopRequireDefault(__webpack_require__(12));var _editor=_interopRequireDefault(__webpack_require__(455));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function EditorExample(props){var elemId="help-example-".concat(props.panel);(0,_react.useEffect)(function(){var el=(0,_jquery.default)("#".concat(elemId));el.text(_help_example.default.trim());var editor=new _editor.default(el);editor.setReadOnly(true);editor.$blockScrolling=Infinity;return function(){editor.destroy()}},[]);return _react.default.createElement("div",{id:elemId,className:"conHelp__example"})}},function(module,exports,__webpack_require__){__webpack_require__(1867)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewerError=DocViewerError;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _lib=__webpack_require__(1870);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewerError(_ref){var error=_ref.error;var errMsg=(0,_lib.formatMsg)(error);var errStack=error?(0,_lib.formatStack)(error):"";return _react.default.createElement(_eui.EuiCallOut,{title:errMsg,color:"danger",iconType:"cross","data-test-subj":"docViewerError"},errStack&&_react.default.createElement(_eui.EuiCodeBlock,null,errStack))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatESMsg=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getRootCause=function getRootCause(err){return _lodash.default.get(err,"resp.error.root_cause")};var formatESMsg=function formatESMsg(err){var rootCause=getRootCause(err);if(!rootCause){return}var result=_lodash.default.pluck(rootCause,"reason").join("\n");return result};exports.formatESMsg=formatESMsg},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldName=FieldName;var _react=_interopRequireDefault(__webpack_require__(0));var _classnames=_interopRequireDefault(__webpack_require__(26));var _shorten_dotted_string=__webpack_require__(117);var _field_name_icon=__webpack_require__(1876);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FieldName(_ref){var field=_ref.field,fieldName=_ref.fieldName,fieldType=_ref.fieldType,useShortDots=_ref.useShortDots;var type=field?String(field.type):String(fieldType);var name=field?String(field.name):String(fieldName);var displayName=useShortDots?(0,_shorten_dotted_string.shortenDottedString)(name):name;var className=(0,_classnames.default)({"dscField--noResults":field?!field.rowCount&&!field.scripted:false,scripted:field?field.scripted:false});return _react.default.createElement("span",{className:className,title:name},_react.default.createElement(_field_name_icon.FieldNameIcon,{type:type}),_react.default.createElement("span",{className:"dscFieldName"},displayName))}},function(module,exports,__webpack_require__){__webpack_require__(1887);__webpack_require__(1912)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1888)},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _jquery=_interopRequireDefault(__webpack_require__(12));var _risonNode=_interopRequireDefault(__webpack_require__(67));__webpack_require__(746);var _no_white_space=__webpack_require__(720);var _open=_interopRequireDefault(__webpack_require__(1899));var _details=_interopRequireDefault(__webpack_require__(1900));var _modules=__webpack_require__(6);var _esQuery=__webpack_require__(20);var _render_complete=__webpack_require__(82);var _cell=_interopRequireDefault(__webpack_require__(1901));var _truncate_by_height=_interopRequireDefault(__webpack_require__(1902));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("app/discover");var MIN_LINE_LENGTH=20;_module.directive("kbnTableRow",function($compile,$httpParamSerializer,kbnUrl,config){var cellTemplate=_lodash.default.template((0,_no_white_space.noWhiteSpace)(_cell.default));var truncateByHeightTemplate=_lodash.default.template((0,_no_white_space.noWhiteSpace)(_truncate_by_height.default));return{restrict:"A",scope:{columns:"=",filter:"=",filters:"=?",indexPattern:"=",row:"=kbnTableRow",onAddColumn:"=?",onRemoveColumn:"=?"},link:function link($scope,$el){$el.after('<tr data-test-subj="docTableDetailsRow" class="kbnDocTableDetails__row">');$el.empty();var $detailsScope;var $toggleScope;$scope.toggleRow=function(){var $detailsTr=$el.next();$scope.open=!$scope.open;$detailsTr.toggle($scope.open);if(!$scope.open){$detailsScope.$destroy();return}else{$detailsScope=$scope.$new()}$detailsTr.html(_details.default);$detailsScope.row=$scope.row;$detailsScope.hit=$scope.row;$detailsScope.uriEncodedId=encodeURIComponent($detailsScope.hit._id);$compile($detailsTr)($detailsScope)};$scope.$watchMulti(["indexPattern.timeFieldName","row.highlight","[]columns"],function(){createSummaryRow($scope.row,$scope.row._id)});$scope.inlineFilter=function inlineFilter($event,type){var column=(0,_jquery.default)($event.target).data().column;var field=$scope.indexPattern.fields.byName[column];$scope.filter(field,$scope.flattenedRow[column],type)};$scope.getContextAppHref=function(){var path=kbnUrl.eval("#/context/{{ indexPattern }}/{{ anchorType }}/{{ anchorId }}",{anchorId:$scope.row._id,anchorType:$scope.row._type,indexPattern:$scope.indexPattern.id});var hash=$httpParamSerializer({_a:_risonNode.default.encode({columns:$scope.columns,filters:($scope.filters||[]).map(_esQuery.disableFilter)})});return"".concat(path,"?").concat(hash)};function createSummaryRow(row){var indexPattern=$scope.indexPattern;$scope.flattenedRow=indexPattern.flattenHit(row);var newHtmls=[_open.default];var mapping=indexPattern.fields.byName;var hideTimeColumn=config.get("doc_table:hideTimeColumn");if(indexPattern.timeFieldName&&!hideTimeColumn){newHtmls.push(cellTemplate({timefield:true,formatted:_displayField(row,indexPattern.timeFieldName),filterable:mapping[indexPattern.timeFieldName].filterable&&_lodash.default.isFunction($scope.filter),column:indexPattern.timeFieldName}))}$scope.columns.forEach(function(column){var isFilterable=$scope.flattenedRow[column]!==undefined&&mapping[column]&&mapping[column].filterable&&_lodash.default.isFunction($scope.filter);newHtmls.push(cellTemplate({timefield:false,sourcefield:column==="_source",formatted:_displayField(row,column,true),filterable:isFilterable,column:column}))});var $cells=$el.children();newHtmls.forEach(function(html,i){var $cell=$cells.eq(i);if($cell.data("discover:html")===html)return;var reuse=_lodash.default.find($cells.slice(i+1),function(cell){return _jquery.default.data(cell,"discover:html")===html});var $target=reuse?(0,_jquery.default)(reuse).detach():(0,_jquery.default)(html);$target.data("discover:html",html);var $before=$cells.eq(i-1);if($before.length){$before.after($target)}else{$el.append($target)}$cells=$el.children();if(!reuse){$toggleScope=$scope.$new();$compile($target)($toggleScope)}});if($scope.open){$detailsScope.row=row}$cells.filter(":gt("+(newHtmls.length-1)+")").remove();(0,_render_complete.dispatchRenderComplete)($el[0])}function _displayField(row,fieldName,truncate){var indexPattern=$scope.indexPattern;var text=indexPattern.formatField(row,fieldName);if(truncate&&text.length>MIN_LINE_LENGTH){return truncateByHeightTemplate({body:text})}return text}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1895)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pager=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function clamp(val,min,max){return Math.min(Math.max(min,val),max)}var Pager=function(){function Pager(totalItems,pageSize,startingPage){_classCallCheck(this,Pager);this.currentPage=startingPage;this.totalItems=totalItems;this.pageSize=pageSize;this.startIndex=0;this.updateMeta()}_createClass(Pager,[{key:"nextPage",value:function nextPage(){this.currentPage+=1;this.updateMeta()}},{key:"previousPage",value:function previousPage(){this.currentPage-=1;this.updateMeta()}},{key:"setTotalItems",value:function setTotalItems(count){this.totalItems=count;this.updateMeta()}},{key:"setPageSize",value:function setPageSize(count){this.pageSize=count;this.updateMeta()}},{key:"updateMeta",value:function updateMeta(){this.totalPages=Math.ceil(this.totalItems/this.pageSize);this.currentPage=clamp(this.currentPage,1,this.totalPages);this.startItem=(this.currentPage-1)*this.pageSize+1;this.startItem=clamp(this.startItem,0,this.totalItems);this.endItem=this.startItem-1+this.pageSize;this.endItem=clamp(this.endItem,0,this.totalItems);this.startIndex=this.startItem-1}},{key:"pageCount",get:function get(){return Math.ceil(this.totalItems/this.pageSize)}},{key:"hasNextPage",get:function get(){return this.currentPage<this.totalPages}},{key:"hasPreviousPage",get:function get(){return this.currentPage>1}}]);return Pager}();exports.Pager=Pager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addColumn=addColumn;exports.removeColumn=removeColumn;exports.moveColumn=moveColumn;function addColumn(columns,columnName){if(columns.includes(columnName)){return}columns.push(columnName)}function removeColumn(columns,columnName){if(!columns.includes(columnName)){return}columns.splice(columns.indexOf(columnName),1)}function moveColumn(columns,columnName,newIndex){if(newIndex<0){return}if(newIndex>=columns.length){return}if(!columns.includes(columnName)){return}columns.splice(columns.indexOf(columnName),1);columns.splice(newIndex,0,columnName)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSort=getSort;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function isSortable(field,indexPattern){return indexPattern.fields.byName[field]&&indexPattern.fields.byName[field].sortable}function createSortObject(sortPair,indexPattern){if(Array.isArray(sortPair)&&sortPair.length===2&&isSortable(sortPair[0],indexPattern)){var _sortPair=_slicedToArray(sortPair,2),field=_sortPair[0],direction=_sortPair[1];return _defineProperty({},field,direction)}else if(_lodash.default.isPlainObject(sortPair)&&isSortable(Object.keys(sortPair)[0],indexPattern)){return sortPair}else{return undefined}}function getSort(sort,indexPattern){var defaultSortOrder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"desc";var sortObjects;if(Array.isArray(sort)){sortObjects=_lodash.default.compact(sort.map(function(sortPair){return createSortObject(sortPair,indexPattern)}))}if(!_lodash.default.isEmpty(sortObjects)){return sortObjects}else if(indexPattern.timeFieldName&&isSortable(indexPattern.timeFieldName,indexPattern)){return[_defineProperty({},indexPattern.timeFieldName,defaultSortOrder)]}else{return[{_score:"desc"}]}}getSort.array=function(sort,indexPattern,defaultSortOrder){return getSort(sort,indexPattern,defaultSortOrder).map(function(sortPair){return(0,_lodash.default)(sortPair).pairs().pop()})}},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(1913)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DisabledLabEmbeddable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _public=__webpack_require__(40);var _disabled_lab_visualization=__webpack_require__(1923);var _constants=__webpack_require__(380);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DisabledLabEmbeddable=function(_Embeddable){_inherits(DisabledLabEmbeddable,_Embeddable);function DisabledLabEmbeddable(title,initialInput){var _this;_classCallCheck(this,DisabledLabEmbeddable);_this=_possibleConstructorReturn(this,_getPrototypeOf(DisabledLabEmbeddable).call(this,initialInput,{title:title}));_this.title=title;_defineProperty(_assertThisInitialized(_this),"domNode",void 0);_defineProperty(_assertThisInitialized(_this),"type",_constants.VISUALIZE_EMBEDDABLE_TYPE);return _this}_createClass(DisabledLabEmbeddable,[{key:"reload",value:function reload(){}},{key:"render",value:function render(domNode){if(this.title){this.domNode=domNode;_reactDom.default.render(_react.default.createElement(_disabled_lab_visualization.DisabledLabVisualization,{title:this.title}),domNode)}}},{key:"destroy",value:function destroy(){if(this.domNode){_reactDom.default.unmountComponentAtNode(this.domNode)}}}]);return DisabledLabEmbeddable}(_public.Embeddable);exports.DisabledLabEmbeddable=DisabledLabEmbeddable},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeEmbeddable=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _persisted_state=__webpack_require__(99);var Rx=_interopRequireWildcard(__webpack_require__(16));var _public=__webpack_require__(40);var _public2=__webpack_require__(24);var _constants=__webpack_require__(380);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getKeys=function getKeys(o){return Object.keys(o)};var VisualizeEmbeddable=function(_Embeddable){_inherits(VisualizeEmbeddable,_Embeddable);function VisualizeEmbeddable(_ref,initialInput,parent){var _this;var savedVisualization=_ref.savedVisualization,loader=_ref.loader,editUrl=_ref.editUrl,indexPatterns=_ref.indexPatterns,editable=_ref.editable;_classCallCheck(this,VisualizeEmbeddable);_this=_possibleConstructorReturn(this,_getPrototypeOf(VisualizeEmbeddable).call(this,initialInput,{defaultTitle:savedVisualization.title,editUrl:editUrl,indexPatterns:indexPatterns,editable:editable,savedObjectId:savedVisualization.id,visTypeName:savedVisualization.vis.type.name},parent));_defineProperty(_assertThisInitialized(_this),"savedVisualization",void 0);_defineProperty(_assertThisInitialized(_this),"loader",void 0);_defineProperty(_assertThisInitialized(_this),"uiState",void 0);_defineProperty(_assertThisInitialized(_this),"handler",void 0);_defineProperty(_assertThisInitialized(_this),"timeRange",void 0);_defineProperty(_assertThisInitialized(_this),"query",void 0);_defineProperty(_assertThisInitialized(_this),"title",void 0);_defineProperty(_assertThisInitialized(_this),"filters",void 0);_defineProperty(_assertThisInitialized(_this),"visCustomizations",void 0);_defineProperty(_assertThisInitialized(_this),"subscription",void 0);_defineProperty(_assertThisInitialized(_this),"type",_constants.VISUALIZE_EMBEDDABLE_TYPE);_defineProperty(_assertThisInitialized(_this),"uiStateChangeHandler",function(){_this.updateInput(_objectSpread({},_this.uiState.toJSON()))});_this.savedVisualization=savedVisualization;_this.loader=loader;var parsedUiState=savedVisualization.uiStateJSON?JSON.parse(savedVisualization.uiStateJSON):{};_this.uiState=new _persisted_state.PersistedState(parsedUiState);_this.uiState.on("change",_this.uiStateChangeHandler);_this.subscription=Rx.merge(_this.getOutput$(),_this.getInput$()).subscribe(function(){_this.handleChanges()});return _this}_createClass(VisualizeEmbeddable,[{key:"getInspectorAdapters",value:function getInspectorAdapters(){if(!this.handler){return undefined}return this.handler.inspectorAdapters}},{key:"supportsTrigger",value:function supportsTrigger(trigger){return trigger.id!==_public.APPLY_FILTER_TRIGGER}},{key:"transferCustomizationsToUiState",value:function transferCustomizationsToUiState(){var _this2=this;var visCustomizations=this.input.vis;if(visCustomizations){if(!_lodash.default.isEqual(visCustomizations,this.visCustomizations)){this.visCustomizations=visCustomizations;this.uiState.off("change",this.uiStateChangeHandler);this.uiState.clearAllKeys();this.uiState.set("vis",visCustomizations);getKeys(visCustomizations).forEach(function(key){_this2.uiState.set(key,visCustomizations[key])});this.uiState.on("change",this.uiStateChangeHandler)}}else{this.uiState.clearAllKeys()}}},{key:"handleChanges",value:function handleChanges(){this.transferCustomizationsToUiState();var updatedParams={};if(!_lodash.default.isEqual(this.input.timeRange,this.timeRange)){this.timeRange=_lodash.default.cloneDeep(this.input.timeRange);updatedParams.timeRange=this.timeRange}if(!(0,_public2.onlyDisabledFiltersChanged)(this.input.filters,this.filters)){updatedParams.filters=this.input.filters;this.filters=this.input.filters}if(!_lodash.default.isEqual(this.input.query,this.query)){updatedParams.query=this.input.query;this.query=this.input.query}if(this.output.title!==this.title){this.title=this.output.title;updatedParams.dataAttrs={title:this.title||""}}if(this.handler&&!_lodash.default.isEmpty(updatedParams)){this.handler.update(updatedParams);this.handler.reload()}}},{key:"render",value:function render(domNode){this.timeRange=_lodash.default.cloneDeep(this.input.timeRange);this.query=this.input.query;this.filters=this.input.filters;this.transferCustomizationsToUiState();var dataAttrs={"shared-item":"",title:this.output.title||""};if(this.savedVisualization.description){dataAttrs.description=this.savedVisualization.description}var handlerParams={uiState:this.uiState,append:true,timeRange:_lodash.default.cloneDeep(this.input.timeRange),query:this.query,filters:this.filters,cssClass:"panel-content panel-content--fullWidth",dataAttrs:dataAttrs};this.handler=this.loader.embedVisualizationWithSavedObject(domNode,this.savedVisualization,handlerParams)}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(VisualizeEmbeddable.prototype),"destroy",this).call(this);if(this.subscription){this.subscription.unsubscribe()}this.uiState.off("change",this.uiStateChangeHandler);this.savedVisualization.destroy();if(this.handler){this.handler.destroy();this.handler.getElement().remove()}}},{key:"reload",value:function reload(){if(this.handler){this.handler.reload()}}}]);return VisualizeEmbeddable}(_public.Embeddable);exports.VisualizeEmbeddable=VisualizeEmbeddable},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"createUiStatsReporter",{enumerable:true,get:function get(){return _telemetry_analytics.createUiStatsReporter}});Object.defineProperty(exports,"METRIC_TYPE",{enumerable:true,get:function get(){return _analytics.METRIC_TYPE}});var _telemetry_analytics=__webpack_require__(696);var _analytics=__webpack_require__(773)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTutorials=getTutorials;exports.getTutorial=getTutorial;var _lodash=_interopRequireDefault(__webpack_require__(1));var _chrome=_interopRequireDefault(__webpack_require__(7));var _i18n=__webpack_require__(2);var _notify=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var baseUrl=_chrome.default.addBasePath("/api/kibana/home/tutorials");var headers=new Headers;headers.append("Accept","application/json");headers.append("Content-Type","application/json");headers.append("kbn-xsrf","kibana");var tutorials=[];var tutorialsLoaded=false;function loadTutorials(){return _loadTutorials.apply(this,arguments)}function _loadTutorials(){_loadTutorials=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(baseUrl,{method:"get",credentials:"include",headers:headers});case 3:response=_context.sent;if(!(response.status>=300)){_context.next=6;break}throw new Error(_i18n.i18n.translate("kbn.home.loadTutorials.requestFailedErrorMessage",{defaultMessage:"Request failed with status code: {status}",values:{status:response.status}}));case 6:_context.next=8;return response.json();case 8:tutorials=_context.sent;tutorialsLoaded=true;_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.loadTutorials.unableToLoadErrorMessage",{defaultMessage:"Unable to load tutorials"}),text:_context.t0.message});case 15:case"end":return _context.stop()}}},_callee,null,[[0,12]])}));return _loadTutorials.apply(this,arguments)}function getTutorials(){return _getTutorials.apply(this,arguments)}function _getTutorials(){_getTutorials=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(tutorialsLoaded){_context2.next=3;break}_context2.next=3;return loadTutorials();case 3:return _context2.abrupt("return",_lodash.default.cloneDeep(tutorials));case 4:case"end":return _context2.stop()}}},_callee2)}));return _getTutorials.apply(this,arguments)}function getTutorial(_x){return _getTutorial.apply(this,arguments)}function _getTutorial(){_getTutorial=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(tutorialsLoaded){_context3.next=3;break}_context3.next=3;return loadTutorials();case 3:tutorial=tutorials.find(function(tutorial){return tutorial.id===id});if(!tutorial){_context3.next=6;break}return _context3.abrupt("return",_lodash.default.cloneDeep(tutorial));case 6:case"end":return _context3.stop()}}},_callee3)}));return _getTutorial.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ERROR=exports.NOT_CHECKED=exports.NO_DATA=exports.FETCHING=exports.HAS_DATA=void 0;var HAS_DATA="has_data";exports.HAS_DATA=HAS_DATA;var FETCHING="FETCHING";exports.FETCHING=FETCHING;var NO_DATA="NO_DATA";exports.NO_DATA=NO_DATA;var NOT_CHECKED="NOT_CHECKED";exports.NOT_CHECKED=NOT_CHECKED;var ERROR="ERROR";exports.ERROR=ERROR},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1983)},function(module,exports,__webpack_require__){"use strict";var _field_name=__webpack_require__(742);var _modules=__webpack_require__(6);var _i18n=__webpack_require__(11);var _module=_modules.uiModules.get("kibana");_module.directive("fieldName",function(config,reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_field_name.FieldName),[["field",{watchDepth:"collection"}],["fieldName",{watchDepth:"reference"}],["fieldType",{watchDepth:"reference"}]],{restrict:"AE"},{useShortDots:config.get("shortDots:enable")})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loader=__webpack_require__(459);Object.keys(_loader).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _loader[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLandingBreadcrumbs=getLandingBreadcrumbs;exports.getWizardStep1Breadcrumbs=getWizardStep1Breadcrumbs;exports.getWizardStep2Breadcrumbs=getWizardStep2Breadcrumbs;exports.getCreateBreadcrumbs=getCreateBreadcrumbs;exports.getEditBreadcrumbs=getEditBreadcrumbs;var _i18n=__webpack_require__(2);var _visualize_constants=__webpack_require__(92);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function getLandingBreadcrumbs(){return[{text:_i18n.i18n.translate("kbn.visualize.listing.breadcrumb",{defaultMessage:"Visualize"}),href:"#".concat(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH)}]}function getWizardStep1Breadcrumbs(){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.visualize.wizard.step1Breadcrumb",{defaultMessage:"Create"})}])}function getWizardStep2Breadcrumbs(){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.visualize.wizard.step2Breadcrumb",{defaultMessage:"Create"})}])}function getCreateBreadcrumbs(){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.visualize.editor.createBreadcrumb",{defaultMessage:"Create"})}])}function getEditBreadcrumbs($route){return[].concat(_toConsumableArray(getLandingBreadcrumbs()),[{text:$route.current.locals.savedVis.title}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.kbnUrlDirective=kbnUrlDirective;var _modules=__webpack_require__(6);var _lodash=__webpack_require__(1);function kbnUrlDirective(name){var attr=(0,_lodash.kebabCase)((0,_lodash.words)(name).slice(1));_modules.uiModules.get("kibana").directive(name,function(chrome){return{restrict:"A",link:function link($scope,$el,$attr){$attr.$observe(name,function(val){$attr.$set(attr,chrome.addBasePath(val))})}}})}kbnUrlDirective("kbnHref")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TableListView",{enumerable:true,get:function get(){return _table_list_view.TableListView}});var _table_list_view=__webpack_require__(2017)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"saveDashboard",{enumerable:true,get:function get(){return _save_dashboard.saveDashboard}});Object.defineProperty(exports,"getAppStateDefaults",{enumerable:true,get:function get(){return _get_app_state_defaults.getAppStateDefaults}});Object.defineProperty(exports,"migrateAppState",{enumerable:true,get:function get(){return _migrate_app_state.migrateAppState}});var _save_dashboard=__webpack_require__(2027);var _get_app_state_defaults=__webpack_require__(2029);var _migrate_app_state=__webpack_require__(2030)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FilterUtils=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _moment=_interopRequireDefault(__webpack_require__(14));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var FilterUtils=function(){function FilterUtils(){_classCallCheck(this,FilterUtils)}_createClass(FilterUtils,null,[{key:"convertTimeToUTCString",value:function convertTimeToUTCString(time){if((0,_moment.default)(time).isValid()){return(0,_moment.default)(time).utc().format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")}else{return time}}},{key:"areTimesEqual",value:function areTimesEqual(timeA,timeB){return this.convertTimeToUTCString(timeA)===this.convertTimeToUTCString(timeB)}},{key:"cleanFiltersForComparison",value:function cleanFiltersForComparison(filters){return _lodash.default.map(filters,function(filter){return _lodash.default.omit(filter,["$$hashKey","$state"])})}}]);return FilterUtils}();exports.FilterUtils=FilterUtils},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertSavedDashboardPanelToPanelState=convertSavedDashboardPanelToPanelState;exports.convertPanelStateToSavedDashboardPanel=convertPanelStateToSavedDashboardPanel;var _lodash=__webpack_require__(1);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function convertSavedDashboardPanelToPanelState(savedDashboardPanel,useMargins){return _objectSpread({type:savedDashboardPanel.type,gridData:savedDashboardPanel.gridData},savedDashboardPanel.id!==undefined&&{savedObjectId:savedDashboardPanel.id},{explicitInput:_objectSpread({id:savedDashboardPanel.panelIndex},savedDashboardPanel.title!==undefined&&{title:savedDashboardPanel.title},{},savedDashboardPanel.embeddableConfig)})}function convertPanelStateToSavedDashboardPanel(panelState){var customTitle=panelState.explicitInput.title?panelState.explicitInput.title:undefined;return _objectSpread({version:_chrome.default.getKibanaVersion(),type:panelState.type,gridData:panelState.gridData,panelIndex:panelState.explicitInput.id,embeddableConfig:(0,_lodash.omit)(panelState.explicitInput,"id")},customTitle&&{title:customTitle},{},panelState.savedObjectId!==undefined&&{id:panelState.savedObjectId})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TopNavIds=void 0;var TopNavIds={ADD:"add",SHARE:"share",OPTIONS:"options",SAVE:"save",EXIT_EDIT_MODE:"exitEditMode",ENTER_EDIT_MODE:"enterEditMode",CLONE:"clone",FULL_SCREEN:"fullScreenMode"};exports.TopNavIds=TopNavIds},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.registerDefaultComponents=registerDefaultComponents;exports.PAGE_FOOTER_COMPONENT=exports.PAGE_SUBTITLE_COMPONENT=exports.PAGE_TITLE_COMPONENT=void 0;var _component_registry=__webpack_require__(470);var _page_title=__webpack_require__(2043);var _page_subtitle=__webpack_require__(2045);var _page_footer=__webpack_require__(2047);var PAGE_TITLE_COMPONENT="advanced_settings_page_title";exports.PAGE_TITLE_COMPONENT=PAGE_TITLE_COMPONENT;var PAGE_SUBTITLE_COMPONENT="advanced_settings_page_subtitle";exports.PAGE_SUBTITLE_COMPONENT=PAGE_SUBTITLE_COMPONENT;var PAGE_FOOTER_COMPONENT="advanced_settings_page_footer";exports.PAGE_FOOTER_COMPONENT=PAGE_FOOTER_COMPONENT;function registerDefaultComponents(){(0,_component_registry.tryRegisterSettingsComponent)(PAGE_TITLE_COMPONENT,_page_title.PageTitle);(0,_component_registry.tryRegisterSettingsComponent)(PAGE_SUBTITLE_COMPONENT,_page_subtitle.PageSubtitle);(0,_component_registry.tryRegisterSettingsComponent)(PAGE_FOOTER_COMPONENT,_page_footer.PageFooter)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Field=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));__webpack_require__(2277);__webpack_require__(671);var _notify=__webpack_require__(9);var _eui=__webpack_require__(3);var _lib=__webpack_require__(381);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FieldUI=function(_PureComponent){_inherits(FieldUI,_PureComponent);function FieldUI(props){var _this;_classCallCheck(this,FieldUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(FieldUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"onCodeEditorChange",function(value){var type=_this.props.setting.type;var isJsonArray=_this.state.isJsonArray;var newUnsavedValue=undefined;var isInvalid=false;var error=null;switch(type){case"json":newUnsavedValue=value.trim()||(isJsonArray?"[]":"{}");try{JSON.parse(newUnsavedValue)}catch(e){isInvalid=true;error=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.codeEditorSyntaxErrorMessage",defaultMessage:"Invalid JSON syntax"})}break;default:newUnsavedValue=value}_this.setState({error:error,isInvalid:isInvalid,unsavedValue:newUnsavedValue})});_defineProperty(_assertThisInitialized(_this),"onFieldChange",function(e){var value=e.target.value;var type=_this.props.setting.type;var unsavedValue=_this.state.unsavedValue;var newUnsavedValue=undefined;switch(type){case"boolean":newUnsavedValue=!unsavedValue;break;case"number":newUnsavedValue=Number(value);break;default:newUnsavedValue=value}_this.setState({unsavedValue:newUnsavedValue})});_defineProperty(_assertThisInitialized(_this),"onFieldKeyDown",function(_ref){var keyCode=_ref.keyCode;if(keyCode===_eui.keyCodes.ENTER){_this.saveEdit()}if(keyCode===_eui.keyCodes.ESCAPE){_this.cancelEdit()}});_defineProperty(_assertThisInitialized(_this),"onFieldEscape",function(_ref2){var keyCode=_ref2.keyCode;if(keyCode===_eui.keyCodes.ESCAPE){_this.cancelEdit()}});_defineProperty(_assertThisInitialized(_this),"onImageChange",function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(files){var file,maxSize,base64Image,isInvalid;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(files.length){_context.next=4;break}_this.clearError();_this.setState({unsavedValue:null});return _context.abrupt("return");case 4:file=files[0];maxSize=_this.props.setting.options.maxSize;_context.prev=6;_context.next=9;return _this.getImageAsBase64(file);case 9:base64Image=_context.sent;isInvalid=!!(maxSize&&maxSize.length&&base64Image.length>maxSize.length);_this.setState({isInvalid:isInvalid,error:isInvalid?_this.props.intl.formattedMessage({id:"kbn.management.settings.field.imageTooLargeErrorMessage",defaultMessage:"Image is too large, maximum size is {maxSizeDescription}"},{maxSizeDescription:maxSize.description}):null,changeImage:true,unsavedValue:base64Image});_context.next=18;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_notify.toastNotifications.addDanger(_this.props.intl.formatMessage({id:"kbn.management.settings.field.imageChangeErrorMessage",defaultMessage:"Image could not be saved"}));_this.cancelChangeImage();case 18:case"end":return _context.stop()}}},_callee,null,[[6,14]])}));return function(_x){return _ref3.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"changeImage",function(){_this.setState({changeImage:true})});_defineProperty(_assertThisInitialized(_this),"cancelChangeImage",function(){var savedValue=_this.state.savedValue;if(_this.changeImageForm){_this.changeImageForm.fileInput.value=null;_this.changeImageForm.handleChange()}_this.setState({changeImage:false,unsavedValue:savedValue})});_defineProperty(_assertThisInitialized(_this),"cancelEdit",function(){var savedValue=_this.state.savedValue;_this.clearError();_this.setState({unsavedValue:savedValue})});_defineProperty(_assertThisInitialized(_this),"showPageReloadToast",function(){if(_this.props.setting.requiresPageReload){_notify.toastNotifications.add({title:_this.props.intl.formatMessage({id:"kbn.management.settings.field.requiresPageReloadToastDescription",defaultMessage:'Please reload the page for the "{settingName}" setting to take effect.'},{settingName:_this.props.setting.displayName||_this.props.setting.name}),text:_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",onClick:function onClick(){return window.location.reload()}},_this.props.intl.formatMessage({id:"kbn.management.settings.field.requiresPageReloadToastButtonLabel",defaultMessage:"Reload page"}))))),color:"success"})}});_defineProperty(_assertThisInitialized(_this),"saveEdit",_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props$setting,name,defVal,type,_this$state,changeImage,savedValue,unsavedValue,isJsonArray,valueToSave,isSameValue;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props$setting=_this.props.setting,name=_this$props$setting.name,defVal=_this$props$setting.defVal,type=_this$props$setting.type;_this$state=_this.state,changeImage=_this$state.changeImage,savedValue=_this$state.savedValue,unsavedValue=_this$state.unsavedValue,isJsonArray=_this$state.isJsonArray;if(!(savedValue===unsavedValue)){_context2.next=4;break}return _context2.abrupt("return");case 4:valueToSave=unsavedValue;isSameValue=false;_context2.t0=type;_context2.next=_context2.t0==="array"?9:_context2.t0==="json"?12:14;break;case 9:valueToSave=valueToSave.split(",").map(function(val){return val.trim()});isSameValue=valueToSave.join(",")===defVal.join(",");return _context2.abrupt("break",15);case 12:valueToSave=valueToSave.trim();valueToSave=valueToSave||(isJsonArray?"[]":"{}");case 14:isSameValue=valueToSave===defVal;case 15:_this.setLoading(true);_context2.prev=16;if(!isSameValue){_context2.next=22;break}_context2.next=20;return _this.props.clear(name);case 20:_context2.next=24;break;case 22:_context2.next=24;return _this.props.save(name,valueToSave);case 24:_this.showPageReloadToast();if(changeImage){_this.cancelChangeImage()}_context2.next=31;break;case 28:_context2.prev=28;_context2.t1=_context2["catch"](16);_notify.toastNotifications.addDanger(_this.props.intl.formatMessage({id:"kbn.management.settings.field.saveFieldErrorMessage",defaultMessage:"Unable to save {name}"},{name:name}));case 31:_this.setLoading(false);case 32:case"end":return _context2.stop()}}},_callee2,null,[[16,28]])})));_defineProperty(_assertThisInitialized(_this),"resetField",_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var name;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:name=_this.props.setting.name;_this.setLoading(true);_context3.prev=2;_context3.next=5;return _this.props.clear(name);case 5:_this.showPageReloadToast();_this.cancelChangeImage();_this.clearError();_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3["catch"](2);_notify.toastNotifications.addDanger(_this.props.intl.formatMessage({id:"kbn.management.settings.field.resetFieldErrorMessage",defaultMessage:"Unable to reset {name}"},{name:name}));case 13:_this.setLoading(false);case 14:case"end":return _context3.stop()}}},_callee3,null,[[2,10]])})));var _this$props$setting2=_this.props.setting,_type=_this$props$setting2.type,_value=_this$props$setting2.value,_defVal=_this$props$setting2.defVal;var editableValue=_this.getEditableValue(_type,_value,_defVal);_this.state={isInvalid:false,error:null,loading:false,changeImage:false,savedValue:editableValue,unsavedValue:editableValue,isJsonArray:_type==="json"?Array.isArray(JSON.parse(_defVal||"{}")):false};_this.changeImageForm=null;return _this}_createClass(FieldUI,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var unsavedValue=this.state.unsavedValue;var _nextProps$setting=nextProps.setting,type=_nextProps$setting.type,value=_nextProps$setting.value,defVal=_nextProps$setting.defVal;var editableValue=this.getEditableValue(type,value,defVal);this.setState({savedValue:editableValue,unsavedValue:value===null||value===undefined?editableValue:unsavedValue})}},{key:"getEditableValue",value:function getEditableValue(type,value,defVal){var val=value===null||value===undefined?defVal:value;switch(type){case"array":return val.join(", ");case"boolean":return!!val;case"number":return Number(val);case"image":return val;default:return val||""}}},{key:"getDisplayedDefaultValue",value:function getDisplayedDefaultValue(type,defVal){var optionLabels=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(defVal===undefined||defVal===null||defVal===""){return"null"}switch(type){case"array":return defVal.join(", ");case"select":return optionLabels.hasOwnProperty(defVal)?optionLabels[defVal]:String(defVal);default:return String(defVal)}}},{key:"setLoading",value:function setLoading(loading){this.setState({loading:loading})}},{key:"clearError",value:function clearError(){this.setState({isInvalid:false,error:null})}},{key:"getImageAsBase64",value:function getImageAsBase64(file){if(!file instanceof File){return null}var reader=new FileReader;reader.readAsDataURL(file);return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(err){reject(err)}})}},{key:"renderField",value:function renderField(setting){var _this2=this;var enableSaving=this.props.enableSaving;var _this$state2=this.state,loading=_this$state2.loading,changeImage=_this$state2.changeImage,unsavedValue=_this$state2.unsavedValue;var name=setting.name,value=setting.value,type=setting.type,options=setting.options,_setting$optionLabels=setting.optionLabels,optionLabels=_setting$optionLabels===void 0?{}:_setting$optionLabels,isOverridden=setting.isOverridden,ariaName=setting.ariaName;switch(type){case"boolean":return _react.default.createElement(_eui.EuiSwitch,{label:!!unsavedValue?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.onLabel",defaultMessage:"On"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.offLabel",defaultMessage:"Off"}),checked:!!unsavedValue,onChange:this.onFieldChange,disabled:loading||isOverridden||!enableSaving,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-".concat(name),"aria-label":ariaName});case"markdown":case"json":return _react.default.createElement("div",{"data-test-subj":"advancedSetting-editField-".concat(name)},_react.default.createElement(_eui.EuiCodeEditor,{"aria-label":ariaName,mode:type,theme:"textmate",value:unsavedValue,onChange:this.onCodeEditorChange,width:"100%",height:"auto",minLines:6,maxLines:30,isReadOnly:isOverridden||!enableSaving,setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity},showGutter:false}));case"image":if(!(0,_lib.isDefaultValue)(setting)&&!changeImage){return _react.default.createElement(_eui.EuiImage,{"aria-label":ariaName,allowFullScreen:true,url:value,alt:name})}else{return _react.default.createElement(_eui.EuiFilePicker,{disabled:loading||isOverridden||!enableSaving,onChange:this.onImageChange,accept:".jpg,.jpeg,.png",ref:function ref(input){_this2.changeImageForm=input},onKeyDown:this.onFieldEscape,"data-test-subj":"advancedSetting-editField-".concat(name)})}case"select":return _react.default.createElement(_eui.EuiSelect,{"aria-label":ariaName,value:unsavedValue,options:options.map(function(option){return{text:optionLabels.hasOwnProperty(option)?optionLabels[option]:option,value:option}}),onChange:this.onFieldChange,isLoading:loading,disabled:loading||isOverridden||!enableSaving,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-".concat(name)});case"number":return _react.default.createElement(_eui.EuiFieldNumber,{"aria-label":ariaName,value:unsavedValue,onChange:this.onFieldChange,isLoading:loading,disabled:loading||isOverridden||!enableSaving,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-".concat(name)});default:return _react.default.createElement(_eui.EuiFieldText,{"aria-label":ariaName,value:unsavedValue,onChange:this.onFieldChange,isLoading:loading,disabled:loading||isOverridden||!enableSaving,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-".concat(name)})}}},{key:"renderLabel",value:function renderLabel(setting){return setting.name}},{key:"renderHelpText",value:function renderHelpText(setting){if(setting.isOverridden){return _react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.helpText",defaultMessage:"This setting is overridden by the Kibana server and can not be changed."}))}var canUpdateSetting=this.props.enableSaving;var defaultLink=this.renderResetToDefaultLink(setting);var imageLink=this.renderChangeImageLink(setting);if(canUpdateSetting&&(defaultLink||imageLink)){return _react.default.createElement("span",null,defaultLink,imageLink)}return null}},{key:"renderTitle",value:function renderTitle(setting){return _react.default.createElement("h3",null,setting.displayName||setting.name,setting.isCustom?_react.default.createElement(_eui.EuiIconTip,{type:"asterisk",color:"primary","aria-label":this.props.intl.formatMessage({id:"kbn.management.settings.field.customSettingAriaLabel",defaultMessage:"Custom setting"}),content:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.customSettingTooltip",defaultMessage:"Custom setting"})}):"")}},{key:"renderDescription",value:function renderDescription(setting){var description;if(_react.default.isValidElement(setting.description)){description=setting.description}else{description=_react.default.createElement("div",{dangerouslySetInnerHTML:{__html:setting.description}})}return _react.default.createElement(_react.Fragment,null,description,this.renderDefaultValue(setting))}},{key:"renderDefaultValue",value:function renderDefaultValue(setting){var type=setting.type,defVal=setting.defVal,optionLabels=setting.optionLabels;if((0,_lib.isDefaultValue)(setting)){return}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{size:"xs"},type==="json"?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.defaultValueTypeJsonText",defaultMessage:"Default: {value}",values:{value:_react.default.createElement(_eui.EuiCodeBlock,{language:"json",paddingSize:"s",overflowHeight:defVal.length>=500?300:null},this.getDisplayedDefaultValue(type,defVal))}})):_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.defaultValueText",defaultMessage:"Default: {value}",values:{value:_react.default.createElement(_eui.EuiCode,null,this.getDisplayedDefaultValue(type,defVal,optionLabels))}}))))}},{key:"renderResetToDefaultLink",value:function renderResetToDefaultLink(setting){var ariaName=setting.ariaName,name=setting.name;if((0,_lib.isDefaultValue)(setting)){return}return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiLink,{"aria-label":this.props.intl.formatMessage({id:"kbn.management.settings.field.resetToDefaultLinkAriaLabel",defaultMessage:"Reset {ariaName} to default"},{ariaName:ariaName}),onClick:this.resetField,"data-test-subj":"advancedSetting-resetField-".concat(name)},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.resetToDefaultLinkText",defaultMessage:"Reset to default"})),"")}},{key:"renderChangeImageLink",value:function renderChangeImageLink(setting){var changeImage=this.state.changeImage;var type=setting.type,value=setting.value,ariaName=setting.ariaName,name=setting.name;if(type!=="image"||!value||changeImage){return}return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiLink,{"aria-label":this.props.intl.formatMessage({id:"kbn.management.settings.field.changeImageLinkAriaLabel",defaultMessage:"Change {ariaName}"},{ariaName:ariaName}),onClick:this.changeImage,"data-test-subj":"advancedSetting-changeImage-".concat(name)},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.changeImageLinkText",defaultMessage:"Change image"})))}},{key:"renderActions",value:function renderActions(setting){var _this3=this;var ariaName=setting.ariaName,name=setting.name;var _this$state3=this.state,loading=_this$state3.loading,isInvalid=_this$state3.isInvalid,changeImage=_this$state3.changeImage,savedValue=_this$state3.savedValue,unsavedValue=_this$state3.unsavedValue;var isDisabled=loading||setting.isOverridden;var intl=this.props.intl;if(savedValue===unsavedValue&&!changeImage){return}return _react.default.createElement(_eui.EuiFormRow,{className:"mgtAdvancedSettings__fieldActions",hasEmptyLabelSpace:true},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,"aria-label":intl.formatMessage({id:"kbn.management.settings.field.saveButtonAriaLabel",defaultMessage:"Save {ariaName}"},{ariaName:ariaName}),onClick:this.saveEdit,disabled:isDisabled||isInvalid,"data-test-subj":"advancedSetting-saveEditField-".concat(name)},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.saveButtonLabel",defaultMessage:"Save"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"aria-label":intl.formatMessage({id:"kbn.management.settings.field.cancelEditingButtonAriaLabel",defaultMessage:"Cancel editing {ariaName}"},{ariaName:ariaName}),onClick:function onClick(){return changeImage?_this3.cancelChangeImage():_this3.cancelEdit()},disabled:isDisabled,"data-test-subj":"advancedSetting-cancelEditField-".concat(name)},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.field.cancelEditingButtonLabel",defaultMessage:"Cancel"})))))}},{key:"render",value:function render(){var setting=this.props.setting;var _this$state4=this.state,error=_this$state4.error,isInvalid=_this$state4.isInvalid;return _react.default.createElement(_eui.EuiFlexGroup,{className:"mgtAdvancedSettings__field"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiDescribedFormGroup,{className:"mgtAdvancedSettings__fieldWrapper",title:this.renderTitle(setting),description:this.renderDescription(setting),idAria:"".concat(setting.name,"-aria")},_react.default.createElement(_eui.EuiFormRow,{isInvalid:isInvalid,error:error,label:this.renderLabel(setting),helpText:this.renderHelpText(setting),describedByIds:["".concat(setting.name,"-aria")],className:"mgtAdvancedSettings__fieldRow"},this.renderField(setting)))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderActions(setting)))}}]);return FieldUI}(_react.PureComponent);_defineProperty(FieldUI,"propTypes",{setting:_propTypes.default.object.isRequired,save:_propTypes.default.func.isRequired,clear:_propTypes.default.func.isRequired,enableSaving:_propTypes.default.bool.isRequired});var Field=(0,_react2.injectI18n)(FieldUI);exports.Field=Field},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAriaName=getAriaName;var _lodash=__webpack_require__(1);function getAriaName(name){return(0,_lodash.words)(name).map(function(word){return word.toLowerCase()}).join(" ")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_CATEGORY=void 0;var DEFAULT_CATEGORY="general";exports.DEFAULT_CATEGORY=DEFAULT_CATEGORY},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.canViewInApp=canViewInApp;function canViewInApp(uiCapabilities,type){switch(type){case"search":case"searches":return uiCapabilities.discover.show;case"visualization":case"visualizations":return uiCapabilities.visualize.show;case"index-pattern":case"index-patterns":case"indexPatterns":return uiCapabilities.management.kibana.index_patterns;case"dashboard":case"dashboards":return uiCapabilities.dashboard.show;default:return uiCapabilities[type].show}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexBreadcrumbs=getIndexBreadcrumbs;exports.getViewBreadcrumbs=getViewBreadcrumbs;var _management=__webpack_require__(95);var _i18n=__webpack_require__(2);var _saved_object_registry=__webpack_require__(91);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function getIndexBreadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB,{text:_i18n.i18n.translate("kbn.management.savedObjects.indexBreadcrumb",{defaultMessage:"Saved objects"}),href:"#/management/kibana/objects"}]}function getViewBreadcrumbs($routeParams,$injector){var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service);var service=$injector.get(serviceObj.service);return[].concat(_toConsumableArray(getIndexBreadcrumbs()),[{text:_i18n.i18n.translate("kbn.management.savedObjects.editBreadcrumb",{defaultMessage:"Edit {savedObjectType}",values:{savedObjectType:service.type}})}])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectsTable=exports.POSSIBLE_TYPES=void 0;var _chrome=_interopRequireDefault(__webpack_require__(7));var _filesaver=__webpack_require__(435);var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _lodash=__webpack_require__(1);var _header=__webpack_require__(2079);var _flyout=__webpack_require__(2081);var _relationships=__webpack_require__(2096);var _table=__webpack_require__(2098);var _notify=__webpack_require__(9);var _eui=__webpack_require__(3);var _lib=__webpack_require__(382);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var POSSIBLE_TYPES=_chrome.default.getInjected("importAndExportableTypes");exports.POSSIBLE_TYPES=POSSIBLE_TYPES;var ObjectsTableUI=function(_Component){_inherits(ObjectsTableUI,_Component);function ObjectsTableUI(props){var _this;_classCallCheck(this,ObjectsTableUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(ObjectsTableUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"fetchCounts",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _parseQuery,queryText,visibleTypes,filteredTypes,filteredSavedObjectCounts,exportAllOptions,exportAllSelectedOptions,savedObjectCounts;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_parseQuery=(0,_lib.parseQuery)(_this.state.activeQuery),queryText=_parseQuery.queryText,visibleTypes=_parseQuery.visibleTypes;filteredTypes=_this.savedObjectTypes.filter(function(type){return!visibleTypes||visibleTypes.includes(type)});_context.next=4;return(0,_lib.getSavedObjectCounts)(_this.props.$http,filteredTypes,queryText);case 4:filteredSavedObjectCounts=_context.sent;exportAllOptions=[];exportAllSelectedOptions={};Object.keys(filteredSavedObjectCounts).forEach(function(id){exportAllOptions.push({id:id,label:"".concat(id," (").concat(filteredSavedObjectCounts[id]||0,")")});exportAllSelectedOptions[id]=true});_context.next=10;return(0,_lib.getSavedObjectCounts)(_this.props.$http,_this.savedObjectTypes,queryText);case 10:savedObjectCounts=_context.sent;_this.setState(function(state){return _objectSpread({},state,{savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions})});case 12:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"fetchSavedObjects",function(){_this.setState({isSearching:true},_this.debouncedFetch)});_defineProperty(_assertThisInitialized(_this),"debouncedFetch",(0,_lodash.debounce)(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var intl,_this$state,query,page,perPage,_parseQuery2,queryText,visibleTypes,findOptions,resp;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:intl=_this.props.intl;_this$state=_this.state,query=_this$state.activeQuery,page=_this$state.page,perPage=_this$state.perPage;_parseQuery2=(0,_lib.parseQuery)(query),queryText=_parseQuery2.queryText,visibleTypes=_parseQuery2.visibleTypes;findOptions={search:queryText?"".concat(queryText,"*"):undefined,perPage:perPage,page:page+1,fields:["id"],type:_this.savedObjectTypes.filter(function(type){return!visibleTypes||visibleTypes.includes(type)})};if(findOptions.type.length>1){findOptions.sortField="type"}_context2.prev=5;_context2.next=8;return(0,_lib.findObjects)(findOptions);case 8:resp=_context2.sent;_context2.next=16;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](5);if(_this._isMounted){_this.setState({isSearching:false})}_notify.toastNotifications.addDanger({title:intl.formatMessage({id:"kbn.management.objects.objectsTable.unableFindSavedObjectsNotificationMessage",defaultMessage:"Unable find saved objects"}),text:"".concat(_context2.t0)});return _context2.abrupt("return");case 16:if(_this._isMounted){_context2.next=18;break}return _context2.abrupt("return");case 18:_this.setState(function(_ref3){var activeQuery=_ref3.activeQuery;if(activeQuery.text!==query.text){return{}}return{savedObjects:resp.savedObjects,filteredItemCount:resp.total,isSearching:false}});case 19:case"end":return _context2.stop()}}},_callee2,null,[[5,11]])})),300));_defineProperty(_assertThisInitialized(_this),"refreshData",_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Promise.all([_this.fetchSavedObjects(),_this.fetchCounts()]);case 2:case"end":return _context3.stop()}}},_callee3)})));_defineProperty(_assertThisInitialized(_this),"onSelectionChanged",function(selection){_this.setState({selectedSavedObjects:selection})});_defineProperty(_assertThisInitialized(_this),"onQueryChange",function(_ref5){var query=_ref5.query;_this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},function(){_this.fetchSavedObjects();_this.fetchCounts()})});_defineProperty(_assertThisInitialized(_this),"onTableChange",function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(table){var _ref7,page,perPage;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_ref7=table.page||{},page=_ref7.index,perPage=_ref7.size;_this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},_this.fetchSavedObjects);case 2:case"end":return _context4.stop()}}},_callee4)}));return function(_x){return _ref6.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"onShowRelationships",function(object){_this.setState({isShowingRelationships:true,relationshipObject:object})});_defineProperty(_assertThisInitialized(_this),"onHideRelationships",function(){_this.setState({isShowingRelationships:false,relationshipObject:undefined})});_defineProperty(_assertThisInitialized(_this),"onExport",function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(includeReferencesDeep){var intl,selectedSavedObjects,objectsToExport,blob;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:intl=_this.props.intl;selectedSavedObjects=_this.state.selectedSavedObjects;objectsToExport=selectedSavedObjects.map(function(obj){return{id:obj.id,type:obj.type}});_context5.prev=3;_context5.next=6;return(0,_lib.fetchExportObjects)(objectsToExport,includeReferencesDeep);case 6:blob=_context5.sent;_context5.next=13;break;case 9:_context5.prev=9;_context5.t0=_context5["catch"](3);_notify.toastNotifications.addDanger({title:intl.formatMessage({id:"kbn.management.objects.objectsTable.export.dangerNotification",defaultMessage:"Unable to generate export"})});throw _context5.t0;case 13:(0,_filesaver.saveAs)(blob,"export.ndjson");_notify.toastNotifications.addSuccess({title:intl.formatMessage({id:"kbn.management.objects.objectsTable.export.successNotification",defaultMessage:"Your file is downloading in the background"})});case 15:case"end":return _context5.stop()}}},_callee5,null,[[3,9]])}));return function(_x2){return _ref8.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"onExportAll",_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var intl,_this$state2,exportAllSelectedOptions,isIncludeReferencesDeepChecked,exportTypes,blob;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:intl=_this.props.intl;_this$state2=_this.state,exportAllSelectedOptions=_this$state2.exportAllSelectedOptions,isIncludeReferencesDeepChecked=_this$state2.isIncludeReferencesDeepChecked;exportTypes=Object.entries(exportAllSelectedOptions).reduce(function(accum,_ref10){var _ref11=_slicedToArray(_ref10,2),id=_ref11[0],selected=_ref11[1];if(selected){accum.push(id)}return accum},[]);_context6.prev=3;_context6.next=6;return(0,_lib.fetchExportByType)(exportTypes,isIncludeReferencesDeepChecked);case 6:blob=_context6.sent;_context6.next=13;break;case 9:_context6.prev=9;_context6.t0=_context6["catch"](3);_notify.toastNotifications.addDanger({title:intl.formatMessage({id:"kbn.management.objects.objectsTable.exportAll.dangerNotification",defaultMessage:"Unable to generate export"})});throw _context6.t0;case 13:(0,_filesaver.saveAs)(blob,"export.ndjson");_notify.toastNotifications.addSuccess({title:intl.formatMessage({id:"kbn.management.objects.objectsTable.exportAll.successNotification",defaultMessage:"Your file is downloading in the background"})});_this.setState({isShowingExportAllOptionsModal:false});case 16:case"end":return _context6.stop()}}},_callee6,null,[[3,9]])})));_defineProperty(_assertThisInitialized(_this),"finishImport",function(){_this.hideImportFlyout();_this.fetchSavedObjects();_this.fetchCounts()});_defineProperty(_assertThisInitialized(_this),"showImportFlyout",function(){_this.setState({isShowingImportFlyout:true})});_defineProperty(_assertThisInitialized(_this),"hideImportFlyout",function(){_this.setState({isShowingImportFlyout:false})});_defineProperty(_assertThisInitialized(_this),"onDelete",function(){_this.setState({isShowingDeleteConfirmModal:true})});_defineProperty(_assertThisInitialized(_this),"delete",_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var savedObjectsClient,_this$state3,selectedSavedObjects,isDeleting,indexPatterns,objects,deletes;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state3=_this.state,selectedSavedObjects=_this$state3.selectedSavedObjects,isDeleting=_this$state3.isDeleting;if(!isDeleting){_context7.next=4;break}return _context7.abrupt("return");case 4:_this.setState({isDeleting:true});indexPatterns=selectedSavedObjects.filter(function(object){return object.type==="index-pattern"});if(!indexPatterns.length){_context7.next=9;break}_context7.next=9;return _this.props.indexPatterns.clearCache();case 9:_context7.next=11;return savedObjectsClient.bulkGet(selectedSavedObjects);case 11:objects=_context7.sent;deletes=objects.savedObjects.map(function(object){return savedObjectsClient.delete(object.type,object.id)});_context7.next=15;return Promise.all(deletes);case 15:_this.setState({selectedSavedObjects:[]});_context7.next=18;return _this.fetchSavedObjects();case 18:_context7.next=20;return _this.fetchCounts();case 20:_this.setState({isShowingDeleteConfirmModal:false,isDeleting:false});case 21:case"end":return _context7.stop()}}},_callee7)})));_defineProperty(_assertThisInitialized(_this),"getRelationships",function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(type,id){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return(0,_lib.getRelationships)(type,id,_this.savedObjectTypes,_this.props.$http,_this.props.basePath);case 2:return _context8.abrupt("return",_context8.sent);case 3:case"end":return _context8.stop()}}},_callee8)}));return function(_x3,_x4){return _ref13.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"changeIncludeReferencesDeep",function(){_this.setState(function(state){return{isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}})});_defineProperty(_assertThisInitialized(_this),"closeExportAllModal",function(){_this.setState({isShowingExportAllOptionsModal:false})});_this.savedObjectTypes=POSSIBLE_TYPES;_this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:_this.savedObjectTypes.reduce(function(typeToCountMap,type){typeToCountMap[type]=0;return typeToCountMap},{}),activeQuery:_eui.Query.parse(""),selectedSavedObjects:[],isShowingImportFlyout:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipObject:undefined,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{},isIncludeReferencesDeepChecked:true};return _this}_createClass(ObjectsTableUI,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchSavedObjects();this.fetchCounts()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.debouncedFetch.cancel()}},{key:"renderFlyout",value:function renderFlyout(){if(!this.state.isShowingImportFlyout){return null}return _react.default.createElement(_flyout.Flyout,{close:this.hideImportFlyout,done:this.finishImport,services:this.props.services,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:this.props.newIndexPatternUrl,savedObjectTypes:this.props.savedObjectTypes,confirmModalPromise:this.props.confirmModalPromise})}},{key:"renderRelationships",value:function renderRelationships(){if(!this.state.isShowingRelationships){return null}return _react.default.createElement(_relationships.Relationships,{savedObject:this.state.relationshipObject,getRelationships:this.getRelationships,close:this.onHideRelationships,getDashboardUrl:this.props.getDashboardUrl,goInspectObject:this.props.goInspectObject,canGoInApp:this.props.canGoInApp})}},{key:"renderDeleteConfirmModal",value:function renderDeleteConfirmModal(){var _this2=this;var _this$state4=this.state,isShowingDeleteConfirmModal=_this$state4.isShowingDeleteConfirmModal,isDeleting=_this$state4.isDeleting,selectedSavedObjects=_this$state4.selectedSavedObjects;var intl=this.props.intl;if(!isShowingDeleteConfirmModal){return null}var modal;if(isDeleting){modal=_react.default.createElement(_eui.EuiLoadingKibana,{size:"xl"})}else{var onCancel=function onCancel(){_this2.setState({isShowingDeleteConfirmModal:false})};var onConfirm=function onConfirm(){_this2.delete()};modal=_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModalTitle",defaultMessage:"Delete saved objects"}),onCancel:onCancel,onConfirm:onConfirm,buttonColor:"danger",cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:isDeleting?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.deleteProcessButtonLabel",defaultMessage:"Deleting"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.deleteSavedObjectsConfirmModalDescription",defaultMessage:"This action will delete the following saved objects:"})),_react.default.createElement(_eui.EuiInMemoryTable,{items:selectedSavedObjects,columns:[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.typeColumnName",defaultMessage:"Type"}),width:"50px",render:function render(type,object){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react.default.createElement(_eui.EuiIcon,{type:object.meta.icon||"apps"}))}},{field:"id",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.idColumnName",defaultMessage:"Id"})},{field:"meta.title",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.deleteSavedObjectsConfirmModal.titleColumnName",defaultMessage:"Title"})}],pagination:true,sorting:false}))}return _react.default.createElement(_eui.EuiOverlayMask,null,modal)}},{key:"renderExportAllOptionsModal",value:function renderExportAllOptionsModal(){var _this3=this;var _this$state5=this.state,isShowingExportAllOptionsModal=_this$state5.isShowingExportAllOptionsModal,filteredItemCount=_this$state5.filteredItemCount,exportAllOptions=_this$state5.exportAllOptions,exportAllSelectedOptions=_this$state5.exportAllSelectedOptions,isIncludeReferencesDeepChecked=_this$state5.isIncludeReferencesDeepChecked;if(!isShowingExportAllOptionsModal){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{onClose:this.closeExportAllModal},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModalTitle",defaultMessage:"Export {filteredItemCount, plural, one{# object} other {# objects}}",values:{filteredItemCount:filteredItemCount}}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModalDescription",defaultMessage:"Select which types to export"}),labelType:"legend"},_react.default.createElement(_eui.EuiCheckboxGroup,{options:exportAllOptions,idToSelectedMap:exportAllSelectedOptions,onChange:function onChange(optionId){var newExportAllSelectedOptions=_objectSpread({},exportAllSelectedOptions,{},_defineProperty({},optionId,!exportAllSelectedOptions[optionId]));_this3.setState({exportAllSelectedOptions:newExportAllSelectedOptions})}})),_react.default.createElement(_eui.EuiSwitch,{name:"includeReferencesDeep",label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related objects"}),checked:isIncludeReferencesDeepChecked,onChange:this.changeIncludeReferencesDeep})),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:this.closeExportAllModal},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:this.onExportAll},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.exportAllButtonLabel",defaultMessage:"Export all"})))))))))}},{key:"render",value:function render(){var _this4=this;var _this$state6=this.state,selectedSavedObjects=_this$state6.selectedSavedObjects,page=_this$state6.page,perPage=_this$state6.perPage,savedObjects=_this$state6.savedObjects,filteredItemCount=_this$state6.filteredItemCount,isSearching=_this$state6.isSearching,savedObjectCounts=_this$state6.savedObjectCounts;var selectionConfig={onSelectionChange:this.onSelectionChanged};var filterOptions=this.savedObjectTypes.map(function(type){return{value:type,name:type,view:"".concat(type," (").concat(savedObjectCounts[type]||0,")")}});return _react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),_react.default.createElement(_header.Header,{onExportAll:function onExportAll(){return _this4.setState({isShowingExportAllOptionsModal:true})},onImport:this.showImportFlyout,onRefresh:this.refreshData,filteredCount:filteredItemCount}),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_table.Table,{itemId:"id",selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filterOptions:filterOptions,onExport:this.onExport,canDelete:this.props.uiCapabilities.savedObjectsManagement.delete,onDelete:this.onDelete,goInspectObject:this.props.goInspectObject,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships,canGoInApp:this.props.canGoInApp}))}}]);return ObjectsTableUI}(_react.Component);_defineProperty(ObjectsTableUI,"propTypes",{savedObjectsClient:_propTypes.default.object.isRequired,indexPatterns:_propTypes.default.object.isRequired,$http:_propTypes.default.func.isRequired,basePath:_propTypes.default.string.isRequired,perPageConfig:_propTypes.default.number,newIndexPatternUrl:_propTypes.default.string.isRequired,confirmModalPromise:_propTypes.default.func.isRequired,services:_propTypes.default.array.isRequired,uiCapabilities:_propTypes.default.object.isRequired,goInspectObject:_propTypes.default.func.isRequired,canGoInApp:_propTypes.default.func.isRequired});var ObjectsTable=(0,_react2.injectI18n)(ObjectsTableUI);exports.ObjectsTable=ObjectsTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolveIndexPatternConflicts=resolveIndexPatternConflicts;exports.saveObjects=saveObjects;exports.saveObject=saveObject;exports.resolveSavedSearches=resolveSavedSearches;exports.resolveSavedObjects=resolveSavedObjects;var _errors=__webpack_require__(25);var _i18n=__webpack_require__(2);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function getSavedObject(_x,_x2){return _getSavedObject.apply(this,arguments)}function _getSavedObject(){_getSavedObject=_asyncToGenerator(regeneratorRuntime.mark(function _callee(doc,services){var service,obj;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:service=services.find(function(service){return service.type===doc._type});if(service){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return service.get();case 5:obj=_context.sent;obj.id=doc._id;obj.migrationVersion=doc._migrationVersion;return _context.abrupt("return",obj);case 9:case"end":return _context.stop()}}},_callee)}));return _getSavedObject.apply(this,arguments)}function addJsonFieldToIndexPattern(target,sourceString,fieldName,indexName){if(sourceString){try{target[fieldName]=JSON.parse(sourceString)}catch(error){throw new Error(_i18n.i18n.translate("kbn.management.objects.parsingFieldErrorMessage",{defaultMessage:"Error encountered parsing {fieldName} for index pattern {indexName}: {errorMessage}",values:{fieldName:fieldName,indexName:indexName,errorMessage:error.message}}))}}}function importIndexPattern(_x3,_x4,_x5,_x6){return _importIndexPattern.apply(this,arguments)}function _importIndexPattern(){_importIndexPattern=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(doc,indexPatterns,overwriteAll,confirmModalPromise){var emptyPattern,_doc$_source,title,timeFieldName,fields,fieldFormatMap,sourceFilters,type,typeMeta,importedIndexPattern,newId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return indexPatterns.get();case 2:emptyPattern=_context2.sent;_doc$_source=doc._source,title=_doc$_source.title,timeFieldName=_doc$_source.timeFieldName,fields=_doc$_source.fields,fieldFormatMap=_doc$_source.fieldFormatMap,sourceFilters=_doc$_source.sourceFilters,type=_doc$_source.type,typeMeta=_doc$_source.typeMeta;importedIndexPattern={id:doc._id,title:title,timeFieldName:timeFieldName};if(type){importedIndexPattern.type=type}addJsonFieldToIndexPattern(importedIndexPattern,fields,"fields",title);addJsonFieldToIndexPattern(importedIndexPattern,fieldFormatMap,"fieldFormatMap",title);addJsonFieldToIndexPattern(importedIndexPattern,sourceFilters,"sourceFilters",title);addJsonFieldToIndexPattern(importedIndexPattern,typeMeta,"typeMeta",title);Object.assign(emptyPattern,importedIndexPattern);_context2.next=13;return emptyPattern.create(overwriteAll);case 13:newId=_context2.sent;if(newId){_context2.next=26;break}_context2.prev=15;_context2.next=18;return confirmModalPromise(_i18n.i18n.translate("kbn.management.indexPattern.confirmOverwriteLabel",{values:{title:this.title},defaultMessage:"Are you sure you want to overwrite '{title}'?"}),{title:_i18n.i18n.translate("kbn.management.indexPattern.confirmOverwriteTitle",{defaultMessage:"Overwrite {type}?",values:{type:type}}),confirmButtonText:_i18n.i18n.translate("kbn.management.indexPattern.confirmOverwriteButton",{defaultMessage:"Overwrite"})});case 18:_context2.next=20;return emptyPattern.create(true);case 20:newId=_context2.sent;_context2.next=26;break;case 23:_context2.prev=23;_context2.t0=_context2["catch"](15);return _context2.abrupt("return");case 26:indexPatterns.clearCache(newId);return _context2.abrupt("return",newId);case 28:case"end":return _context2.stop()}}},_callee2,this,[[15,23]])}));return _importIndexPattern.apply(this,arguments)}function importDocument(_x7,_x8,_x9){return _importDocument.apply(this,arguments)}function _importDocument(){_importDocument=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(obj,doc,overwriteAll){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return obj.applyESResp(_objectSpread({references:doc._references||[]},doc));case 2:_context3.next=4;return obj.save({confirmOverwrite:!overwriteAll});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}}},_callee3)}));return _importDocument.apply(this,arguments)}function groupByType(docs){var defaultDocTypes={searches:[],indexPatterns:[],other:[]};return docs.reduce(function(types,doc){switch(doc._type){case"search":types.searches.push(doc);break;case"index-pattern":types.indexPatterns.push(doc);break;default:types.other.push(doc)}return types},defaultDocTypes)}function awaitEachItemInParallel(_x10,_x11){return _awaitEachItemInParallel.apply(this,arguments)}function _awaitEachItemInParallel(){_awaitEachItemInParallel=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(list,op){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all(list.map(function(item){return op(item)}));case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}},_callee4)}));return _awaitEachItemInParallel.apply(this,arguments)}function resolveIndexPatternConflicts(_x12,_x13,_x14){return _resolveIndexPatternConflicts.apply(this,arguments)}function _resolveIndexPatternConflicts(){_resolveIndexPatternConflicts=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(resolutions,conflictedIndexPatterns,overwriteAll){var importCount;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:importCount=0;_context6.next=3;return awaitEachItemInParallel(conflictedIndexPatterns,function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(_ref){var obj,oldIndexId,resolution,newIndexId,filter;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:obj=_ref.obj;oldIndexId=obj.searchSource.getOwnField("index");if(typeof oldIndexId!=="string"){oldIndexId=oldIndexId.id}resolution=resolutions.find(function(_ref3){var oldId=_ref3.oldId;return oldId===oldIndexId});if(!resolution){_context5.next=8;break}newIndexId=resolution.newId;_context5.next=8;return obj.hydrateIndexPattern(newIndexId);case 8:filter=(obj.searchSource.getOwnField("filter")||[]).map(function(filter){if(!(filter.meta&&filter.meta.index)){return filter}resolution=resolutions.find(function(_ref4){var oldId=_ref4.oldId;return oldId===filter.meta.index});return resolution?_objectSpread({},filter,{},{meta:_objectSpread({},filter.meta,{index:resolution.newId})}):filter});if(filter.length>0){obj.searchSource.setField("filter",filter)}if(resolution){_context5.next=12;break}return _context5.abrupt("return");case 12:_context5.next=14;return saveObject(obj,overwriteAll);case 14:if(!_context5.sent){_context5.next=16;break}importCount++;case 16:case"end":return _context5.stop()}}},_callee5)}));return function(_x28){return _ref2.apply(this,arguments)}}());case 3:return _context6.abrupt("return",importCount);case 4:case"end":return _context6.stop()}}},_callee6)}));return _resolveIndexPatternConflicts.apply(this,arguments)}function saveObjects(_x15,_x16){return _saveObjects.apply(this,arguments)}function _saveObjects(){_saveObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(objs,overwriteAll){var importCount;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:importCount=0;_context8.next=3;return awaitEachItemInParallel(objs,function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(obj){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return saveObject(obj,overwriteAll);case 2:if(!_context7.sent){_context7.next=4;break}importCount++;case 4:case"end":return _context7.stop()}}},_callee7)}));return function(_x29){return _ref5.apply(this,arguments)}}());case 3:return _context8.abrupt("return",importCount);case 4:case"end":return _context8.stop()}}},_callee8)}));return _saveObjects.apply(this,arguments)}function saveObject(_x17,_x18){return _saveObject.apply(this,arguments)}function _saveObject(){_saveObject=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(obj,overwriteAll){return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return obj.save({confirmOverwrite:!overwriteAll});case 2:return _context9.abrupt("return",_context9.sent);case 3:case"end":return _context9.stop()}}},_callee9)}));return _saveObject.apply(this,arguments)}function resolveSavedSearches(_x19,_x20,_x21,_x22){return _resolveSavedSearches.apply(this,arguments)}function _resolveSavedSearches(){_resolveSavedSearches=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(savedSearches,services,indexPatterns,overwriteAll){var importCount;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:importCount=0;_context11.next=3;return awaitEachItemInParallel(savedSearches,function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context10.sent;if(obj){_context10.next=5;break}return _context10.abrupt("return");case 5:_context10.next=7;return importDocument(obj,searchDoc,overwriteAll);case 7:if(!_context10.sent){_context10.next=9;break}importCount++;case 9:case"end":return _context10.stop()}}},_callee10)}));return function(_x30){return _ref6.apply(this,arguments)}}());case 3:return _context11.abrupt("return",importCount);case 4:case"end":return _context11.stop()}}},_callee11)}));return _resolveSavedSearches.apply(this,arguments)}function resolveSavedObjects(_x23,_x24,_x25,_x26,_x27){return _resolveSavedObjects.apply(this,arguments)}function _resolveSavedObjects(){_resolveSavedObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(savedObjects,overwriteAll,services,indexPatterns,confirmModalPromise){var docTypes,importedObjectCount,failedImports,conflictedSearchDocs,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:docTypes=groupByType(savedObjects);importedObjectCount=0;failedImports=[];_context15.next=5;return awaitEachItemInParallel(docTypes.indexPatterns,function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexPatternDoc){var importedIndexPatternId;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return importIndexPattern(indexPatternDoc,indexPatterns,overwriteAll,confirmModalPromise);case 3:importedIndexPatternId=_context12.sent;if(importedIndexPatternId){importedObjectCount++}_context12.next=10;break;case 7:_context12.prev=7;_context12.t0=_context12["catch"](0);failedImports.push({indexPatternDoc:indexPatternDoc,error:_context12.t0});case 10:case"end":return _context12.stop()}}},_callee12,null,[[0,7]])}));return function(_x31){return _ref7.apply(this,arguments)}}());case 5:conflictedSearchDocs=[];conflictedIndexPatterns=[];conflictedSavedObjectsLinkedToSavedSearches=[];_context15.next=10;return awaitEachItemInParallel(docTypes.searches,function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context13.sent;_context13.prev=3;_context13.next=6;return importDocument(obj,searchDoc,overwriteAll);case 6:if(!_context13.sent){_context13.next=8;break}importedObjectCount++;case 8:_context13.next=13;break;case 10:_context13.prev=10;_context13.t0=_context13["catch"](3);if(_context13.t0 instanceof _errors.SavedObjectNotFound){if(_context13.t0.savedObjectType==="index-pattern"){conflictedIndexPatterns.push({obj:obj,doc:searchDoc})}else{conflictedSearchDocs.push(searchDoc)}}else{failedImports.push({obj:obj,error:_context13.t0})}case 13:case"end":return _context13.stop()}}},_callee13,null,[[3,10]])}));return function(_x32){return _ref8.apply(this,arguments)}}());case 10:_context15.next=12;return awaitEachItemInParallel(docTypes.other,function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(otherDoc){var obj,isIndexPatternNotFound;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return getSavedObject(otherDoc,services);case 2:obj=_context14.sent;_context14.prev=3;_context14.next=6;return importDocument(obj,otherDoc,overwriteAll);case 6:if(!_context14.sent){_context14.next=8;break}importedObjectCount++;case 8:_context14.next=14;break;case 10:_context14.prev=10;_context14.t0=_context14["catch"](3);isIndexPatternNotFound=_context14.t0 instanceof _errors.SavedObjectNotFound&&_context14.t0.savedObjectType==="index-pattern";if(isIndexPatternNotFound&&obj.savedSearchId){conflictedSavedObjectsLinkedToSavedSearches.push(obj)}else if(isIndexPatternNotFound){conflictedIndexPatterns.push({obj:obj,doc:otherDoc})}else{failedImports.push({obj:obj,error:_context14.t0})}case 14:case"end":return _context14.stop()}}},_callee14,null,[[3,10]])}));return function(_x33){return _ref9.apply(this,arguments)}}());case 12:return _context15.abrupt("return",{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports});case 13:case"end":return _context15.stop()}}},_callee15)}));return _resolveSavedObjects.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexPatternListFactory",{enumerable:true,get:function get(){return _index_pattern_list.IndexPatternListFactory}});Object.defineProperty(exports,"IndexPatternListConfig",{enumerable:true,get:function get(){return _index_pattern_list_config.IndexPatternListConfig}});Object.defineProperty(exports,"IndexPatternListConfigRegistry",{enumerable:true,get:function get(){return _index_pattern_list_config_registry.IndexPatternListConfigRegistry}});__webpack_require__(2105);var _index_pattern_list=__webpack_require__(2106);var _index_pattern_list_config=__webpack_require__(785);var _index_pattern_list_config_registry=__webpack_require__(472)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListConfig=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternListConfig=function IndexPatternListConfig(){_classCallCheck(this,IndexPatternListConfig);_defineProperty(this,"getIndexPatternTags",function(indexPattern,isDefault){return isDefault?[{key:"default",name:"Default"}]:[]});_defineProperty(this,"getFieldInfo",function(){return[]});_defineProperty(this,"areScriptedFieldsEnabled",function(){return true})};exports.IndexPatternListConfig=IndexPatternListConfig;_defineProperty(IndexPatternListConfig,"key","default")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexPatternCreationFactory",{enumerable:true,get:function get(){return _index_pattern_creation.IndexPatternCreationFactory}});Object.defineProperty(exports,"IndexPatternCreationConfig",{enumerable:true,get:function get(){return _index_pattern_creation_config.IndexPatternCreationConfig}});Object.defineProperty(exports,"indexPatternTypes",{enumerable:true,get:function get(){return _index_pattern_types.indexPatternTypes}});Object.defineProperty(exports,"addIndexPatternType",{enumerable:true,get:function get(){return _index_pattern_types.addIndexPatternType}});__webpack_require__(2107);var _index_pattern_creation=__webpack_require__(2108);var _index_pattern_creation_config=__webpack_require__(787);var _index_pattern_types=__webpack_require__(473)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationConfig=void 0;var _i18n=__webpack_require__(2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var indexPatternTypeName=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultTypeName",{defaultMessage:"index pattern"});var indexPatternButtonText=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultButtonText",{defaultMessage:"Standard index pattern"});var indexPatternButtonDescription=_i18n.i18n.translate("common.ui.management.editIndexPattern.createIndex.defaultButtonDescription",{defaultMessage:"Perform full aggregations against any data"});var IndexPatternCreationConfig=function(){function IndexPatternCreationConfig(_ref){var _this=this;var _ref$type=_ref.type,type=_ref$type===void 0?undefined:_ref$type,_ref$name=_ref.name,name=_ref$name===void 0?indexPatternTypeName:_ref$name,_ref$showSystemIndice=_ref.showSystemIndices,showSystemIndices=_ref$showSystemIndice===void 0?true:_ref$showSystemIndice,_ref$httpClient=_ref.httpClient,httpClient=_ref$httpClient===void 0?null:_ref$httpClient,_ref$isBeta=_ref.isBeta,isBeta=_ref$isBeta===void 0?false:_ref$isBeta;_classCallCheck(this,IndexPatternCreationConfig);_defineProperty(this,"getIndexPatternType",function(){return _this.type});_defineProperty(this,"getIndexPatternName",function(){return _this.name});_defineProperty(this,"getIsBeta",function(){return _this.isBeta});_defineProperty(this,"getShowSystemIndices",function(){return _this.showSystemIndices});_defineProperty(this,"checkIndicesForErrors",function(){return undefined});_defineProperty(this,"getIndexPatternMappings",function(){return{}});_defineProperty(this,"renderPrompt",function(){return null});_defineProperty(this,"getFetchForWildcardOptions",function(){return{}});this.type=type;this.name=name;this.showSystemIndices=showSystemIndices;this.httpClient=httpClient;this.isBeta=isBeta}_createClass(IndexPatternCreationConfig,[{key:"getIndexPatternCreationOption",value:function(){var _getIndexPatternCreationOption=_asyncToGenerator(regeneratorRuntime.mark(function _callee(urlHandler){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",{text:indexPatternButtonText,description:indexPatternButtonDescription,testSubj:"createStandardIndexPatternButton",onClick:function onClick(){urlHandler("/management/kibana/index_pattern")}});case 1:case"end":return _context.stop()}}},_callee)}));function getIndexPatternCreationOption(_x){return _getIndexPatternCreationOption.apply(this,arguments)}return getIndexPatternCreationOption}()},{key:"getIndexTags",value:function getIndexTags(){return[]}}]);return IndexPatternCreationConfig}();exports.IndexPatternCreationConfig=IndexPatternCreationConfig;_defineProperty(IndexPatternCreationConfig,"key","default")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSupportedScriptingLanguages=getSupportedScriptingLanguages;exports.getDeprecatedScriptingLanguages=getDeprecatedScriptingLanguages;exports.GetEnabledScriptingLanguagesProvider=GetEnabledScriptingLanguagesProvider;var _chrome=_interopRequireDefault(__webpack_require__(7));var _notify=__webpack_require__(9);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getSupportedScriptingLanguages(){return["painless"]}function getDeprecatedScriptingLanguages(){return[]}function GetEnabledScriptingLanguagesProvider($http){return function(){return $http.get(_chrome.default.addBasePath("/api/kibana/scripts/languages")).then(function(res){return res.data}).catch(function(){_notify.toastNotifications.addDanger(_i18n.i18n.translate("common.ui.scriptingLanguages.errorFetchingToastDescription",{defaultMessage:"Error getting available scripting languages from Elasticsearch"}));return[]})}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(2724)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"UICapabilitiesProvider",{enumerable:true,get:function get(){return _ui_capabilities_provider.UICapabilitiesProvider}});Object.defineProperty(exports,"injectUICapabilities",{enumerable:true,get:function get(){return _inject_ui_capabilities.injectUICapabilities}});var _ui_capabilities_provider=__webpack_require__(2202);var _inject_ui_capabilities=__webpack_require__(2203)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UICapabilitiesContext=void 0;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UICapabilitiesContext=_react.default.createContext({navLinks:{},catalogue:{},management:{}});exports.UICapabilitiesContext=UICapabilitiesContext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"InitAfterBindingsWorkaround",{enumerable:true,get:function get(){return _init_after_bindings_workaround.InitAfterBindingsWorkaround}});Object.defineProperty(exports,"callAfterBindingsWorkaround",{enumerable:true,get:function get(){return _init_after_bindings_workaround.callAfterBindingsWorkaround}});var _init_after_bindings_workaround=__webpack_require__(2217)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"QueryParameterActionsProvider",{enumerable:true,get:function get(){return _actions.QueryParameterActionsProvider}});Object.defineProperty(exports,"MAX_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MAX_CONTEXT_SIZE}});Object.defineProperty(exports,"MIN_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MIN_CONTEXT_SIZE}});Object.defineProperty(exports,"QUERY_PARAMETER_KEYS",{enumerable:true,get:function get(){return _constants.QUERY_PARAMETER_KEYS}});Object.defineProperty(exports,"createInitialQueryParametersState",{enumerable:true,get:function get(){return _state.createInitialQueryParametersState}});var _actions=__webpack_require__(2224);var _constants=__webpack_require__(794);var _state=__webpack_require__(795)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QUERY_PARAMETER_KEYS=exports.MIN_CONTEXT_SIZE=exports.MAX_CONTEXT_SIZE=void 0;var _state=__webpack_require__(795);var MAX_CONTEXT_SIZE=1e4;exports.MAX_CONTEXT_SIZE=MAX_CONTEXT_SIZE;var MIN_CONTEXT_SIZE=0;exports.MIN_CONTEXT_SIZE=MIN_CONTEXT_SIZE;var QUERY_PARAMETER_KEYS=Object.keys((0,_state.createInitialQueryParametersState)());exports.QUERY_PARAMETER_KEYS=QUERY_PARAMETER_KEYS},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialQueryParametersState=createInitialQueryParametersState;function createInitialQueryParametersState(defaultStepSize,tieBreakerField){return{anchorType:null,anchorId:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(2607)},,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(174);__webpack_require__(175);__webpack_require__(176);__webpack_require__(177);__webpack_require__(178);__webpack_require__(179);__webpack_require__(180);__webpack_require__(181);__webpack_require__(182);__webpack_require__(183);__webpack_require__(184);__webpack_require__(185);__webpack_require__(186);__webpack_require__(187);__webpack_require__(188);__webpack_require__(189);__webpack_require__(190);__webpack_require__(191);__webpack_require__(192);__webpack_require__(193);__webpack_require__(194);__webpack_require__(195);__webpack_require__(196);__webpack_require__(197);__webpack_require__(198);__webpack_require__(199);__webpack_require__(200);__webpack_require__(201);__webpack_require__(202);__webpack_require__(203);__webpack_require__(204);__webpack_require__(205);__webpack_require__(206);__webpack_require__(207);__webpack_require__(208);__webpack_require__(209);__webpack_require__(210);__webpack_require__(211);__webpack_require__(212);__webpack_require__(213);__webpack_require__(214);__webpack_require__(215);__webpack_require__(216);__webpack_require__(217);__webpack_require__(218);__webpack_require__(219);__webpack_require__(220);__webpack_require__(221);__webpack_require__(222);__webpack_require__(223);__webpack_require__(224);__webpack_require__(225);__webpack_require__(226);__webpack_require__(227);__webpack_require__(228);__webpack_require__(229);__webpack_require__(230);__webpack_require__(231);__webpack_require__(232);__webpack_require__(233);__webpack_require__(234);__webpack_require__(235);__webpack_require__(236);__webpack_require__(237);__webpack_require__(238);__webpack_require__(239);__webpack_require__(240);__webpack_require__(241);__webpack_require__(242);__webpack_require__(243);__webpack_require__(244);__webpack_require__(245);__webpack_require__(246);__webpack_require__(247);__webpack_require__(248);__webpack_require__(249);__webpack_require__(250);__webpack_require__(251);__webpack_require__(252);__webpack_require__(253);__webpack_require__(254);__webpack_require__(255);__webpack_require__(256);__webpack_require__(257);__webpack_require__(258);__webpack_require__(259);__webpack_require__(260);__webpack_require__(261);__webpack_require__(262);__webpack_require__(263);__webpack_require__(264);__webpack_require__(265);__webpack_require__(266);__webpack_require__(267);__webpack_require__(268);__webpack_require__(269);__webpack_require__(270);__webpack_require__(271);__webpack_require__(272);__webpack_require__(273);__webpack_require__(274);__webpack_require__(275);__webpack_require__(276);__webpack_require__(277);__webpack_require__(278);__webpack_require__(279);__webpack_require__(280);__webpack_require__(281);__webpack_require__(282);__webpack_require__(283);__webpack_require__(284);__webpack_require__(285);__webpack_require__(286);__webpack_require__(287);__webpack_require__(288);__webpack_require__(289);__webpack_require__(290);__webpack_require__(291);__webpack_require__(292);__webpack_require__(293);__webpack_require__(294);__webpack_require__(295);__webpack_require__(296);__webpack_require__(297);__webpack_require__(298);__webpack_require__(299);__webpack_require__(300);__webpack_require__(301);__webpack_require__(302);__webpack_require__(303);__webpack_require__(304);__webpack_require__(305);__webpack_require__(306);__webpack_require__(307);__webpack_require__(308);__webpack_require__(309);__webpack_require__(310);__webpack_require__(311);__webpack_require__(312);__webpack_require__(313);__webpack_require__(314);__webpack_require__(315);__webpack_require__(316);__webpack_require__(317);__webpack_require__(318);__webpack_require__(319);__webpack_require__(320);__webpack_require__(321);__webpack_require__(322);__webpack_require__(323);__webpack_require__(324);__webpack_require__(325);__webpack_require__(326);__webpack_require__(327);__webpack_require__(328);__webpack_require__(329);__webpack_require__(330);__webpack_require__(331);__webpack_require__(332);__webpack_require__(333);var _symbolObservable=_interopRequireDefault(__webpack_require__(334));__webpack_require__(335);__webpack_require__(336);__webpack_require__(337);__webpack_require__(338);__webpack_require__(340);var _i18n=__webpack_require__(2);var _kibanaCore__=__webpack_require__(79);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.load(injectedMetadata.i18n.translationsUrl).catch(function(e){return e}).then(function(i18nError){var coreSystem=new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,browserSupportsCsp:!window.__kbnCspNotEnforced__,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(1682)}});coreSystem.setup().then(function(coreSetup){if(i18nError){coreSetup.fatalErrors.add(i18nError)}return coreSystem.start()})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _chrome=_interopRequireDefault(__webpack_require__(7));var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);__webpack_require__(698);__webpack_require__(699);__webpack_require__(710);__webpack_require__(711);__webpack_require__(712);__webpack_require__(716);__webpack_require__(448);__webpack_require__(450);__webpack_require__(722);__webpack_require__(1815);__webpack_require__(724);__webpack_require__(1816);__webpack_require__(725);__webpack_require__(726);__webpack_require__(739);__webpack_require__(743);__webpack_require__(751);__webpack_require__(752);__webpack_require__(753);__webpack_require__(750);__webpack_require__(754);__webpack_require__(757);__webpack_require__(761);__webpack_require__(1945);__webpack_require__(1977);__webpack_require__(2008);__webpack_require__(2018);__webpack_require__(2040);__webpack_require__(2209);__webpack_require__(2212);__webpack_require__(2215);__webpack_require__(423);__webpack_require__(2235);__webpack_require__(347);var _notify=__webpack_require__(9);__webpack_require__(66);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.enable();_routes.default.otherwise({redirectTo:"/".concat(_chrome.default.getInjected("kbnDefaultAppId","discover"))});_modules.uiModules.get("kibana").run(_notify.showAppRedirectNotification)},function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(47);var _i18n=__webpack_require__(2);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"timelion",title:"Timelion",description:_i18n.i18n.translate("timelion.registerFeatureDescription",{defaultMessage:"Use an expression language to analyze time series data and visualize the results."}),icon:"timelionApp",path:"/app/timelion",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _vis_factory=__webpack_require__(45);var _vis_types=__webpack_require__(49);var _vis_controller=__webpack_require__(1685);var _controls_tab=__webpack_require__(1696);var _options_tab=__webpack_require__(1700);var _default_feedback_message=__webpack_require__(346);var _update_status=__webpack_require__(83);var _i18n=__webpack_require__(2);function InputControlVisProvider(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createBaseVisualization({name:"input_control_vis",title:_i18n.i18n.translate("inputControl.register.controlsTitle",{defaultMessage:"Controls"}),icon:"visControls",description:_i18n.i18n.translate("inputControl.register.controlsDescription",{defaultMessage:"Create interactive controls for easy dashboard manipulation."}),stage:"experimental",requiresUpdateStatus:[_update_status.Status.PARAMS,_update_status.Status.TIME],feedbackMessage:_default_feedback_message.defaultFeedbackMessage,visualization:_vis_controller.VisController,visConfig:{defaults:{controls:[],updateFiltersOnChange:false,useTimeFilter:false,pinFilters:false}},editor:"default",editorConfig:{optionTabs:[{name:"controls",title:_i18n.i18n.translate("inputControl.register.tabs.controlsTitle",{defaultMessage:"Controls"}),editor:_controls_tab.ControlsTab},{name:"options",title:_i18n.i18n.translate("inputControl.register.tabs.optionsTitle",{defaultMessage:"Options"}),editor:_options_tab.OptionsTab}]},requestHandler:"none",responseHandler:"none"})}_vis_types.VisTypesRegistryProvider.register(InputControlVisProvider);var _default=InputControlVisProvider;exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _i18n=__webpack_require__(11);var _input_control_vis=__webpack_require__(1686);var _control_factory=__webpack_require__(1689);var _lineage=__webpack_require__(704);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var VisController=function(){function VisController(el,vis){var _this=this;_classCallCheck(this,VisController);_defineProperty(this,"drawVis",function(){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_input_control_vis.InputControlVis,{updateFiltersOnChange:_this.visParams.updateFiltersOnChange,controls:_this.controls,stageFilter:_this.stageFilter,submitFilters:_this.submitFilters,resetControls:_this.updateControlsFromKbn,clearControls:_this.clearControls,hasChanges:_this.hasChanges,hasValues:_this.hasValues,refreshControl:_this.refreshControl})),_this.el)});_defineProperty(this,"stageFilter",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(controlIndex,newValue){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.controls[controlIndex].set(newValue);if(!_this.visParams.updateFiltersOnChange){_context.next=5;break}_this.submitFilters();_context.next=8;break;case 5:_context.next=7;return _this.updateNestedControls();case 7:_this.drawVis();case 8:case"end":return _context.stop()}}},_callee)}));return function(_x,_x2){return _ref.apply(this,arguments)}}());_defineProperty(this,"submitFilters",function(){_this.controls.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(control){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(control.hasAncestors()&&control.hasUnsetAncestor()){control.filterManager.findFilters().forEach(function(existingFilter){_this.vis.API.queryFilter.removeFilter(existingFilter)})}case 1:case"end":return _context2.stop()}}},_callee2)}));return function(_x3){return _ref2.apply(this,arguments)}}());var stagedControls=_this.controls.filter(function(control){return control.hasChanged()});var newFilters=stagedControls.filter(function(control){return control.hasKbnFilter()}).map(function(control){return control.getKbnFilter()});stagedControls.forEach(function(control){control.filterManager.findFilters().forEach(function(existingFilter){_this.vis.API.queryFilter.removeFilter(existingFilter)})});_this.vis.API.queryFilter.addFilters(newFilters,_this.visParams.pinFilters)});_defineProperty(this,"clearControls",_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.controls.forEach(function(control){control.clear()});_context3.next=3;return _this.updateNestedControls();case 3:_this.drawVis();case 4:case"end":return _context3.stop()}}},_callee3)})));_defineProperty(this,"updateControlsFromKbn",_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.controls.forEach(function(control){control.reset()});_context4.next=3;return _this.updateNestedControls();case 3:_this.drawVis();case 4:case"end":return _context4.stop()}}},_callee4)})));_defineProperty(this,"hasChanges",function(){return _this.controls.map(function(control){return control.hasChanged()}).reduce(function(a,b){return a||b})});_defineProperty(this,"hasValues",function(){return _this.controls.map(function(control){return control.hasValue()}).reduce(function(a,b){return a||b})});_defineProperty(this,"refreshControl",function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(controlIndex,query){return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _this.controls[controlIndex].fetch(query);case 2:_this.drawVis();case 3:case"end":return _context5.stop()}}},_callee5)}));return function(_x4,_x5){return _ref5.apply(this,arguments)}}());this.el=el;this.vis=vis;this.controls=[];this.queryBarUpdateHandler=this.updateControlsFromKbn.bind(this);this.updateSubsciption=this.vis.API.queryFilter.getUpdates$().subscribe(this.queryBarUpdateHandler)}_createClass(VisController,[{key:"render",value:function(){var _render=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(visData,visParams,status){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(status.params||visParams.useTimeFilter&&status.time)){_context6.next=7;break}this.visParams=visParams;this.controls=[];_context6.next=5;return this.initControls();case 5:this.controls=_context6.sent;this.drawVis();case 7:case"end":return _context6.stop()}}},_callee6,this)}));function render(_x6,_x7,_x8){return _render.apply(this,arguments)}return render}()},{key:"destroy",value:function destroy(){this.updateSubsciption.unsubscribe();(0,_reactDom.unmountComponentAtNode)(this.el);this.controls.forEach(function(control){return control.destroy()})}},{key:"initControls",value:function(){var _initControls=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var _this2=this;var controlParamsList,controlFactoryPromises,controls,getControl,controlInitPromises;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:controlParamsList=this.visParams.controls.filter(function(controlParams){return controlParams.indexPattern&&controlParams.fieldName});controlFactoryPromises=controlParamsList.map(function(controlParams){var factory=(0,_control_factory.controlFactory)(controlParams);return factory(controlParams,_this2.vis.API,_this2.visParams.useTimeFilter)});_context7.next=4;return Promise.all(controlFactoryPromises);case 4:controls=_context7.sent;getControl=function getControl(id){return controls.find(function(control){return id===control.id})};controlInitPromises=[];(0,_lineage.getLineageMap)(controlParamsList).forEach(function(lineage,controlId){lineage.shift();var ancestors=[];lineage.forEach(function(ancestorId){ancestors.push(getControl(ancestorId))});var control=getControl(controlId);control.setAncestors(ancestors);controlInitPromises.push(control.fetch())});_context7.next=10;return Promise.all(controlInitPromises);case 10:return _context7.abrupt("return",controls);case 11:case"end":return _context7.stop()}}},_callee7,this)}));function initControls(){return _initControls.apply(this,arguments)}return initControls}()},{key:"updateNestedControls",value:function(){var _updateNestedControls=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(){var fetchPromises;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:fetchPromises=this.controls.map(function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(control){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!control.hasAncestors()){_context8.next=3;break}_context8.next=3;return control.fetch();case 3:case"end":return _context8.stop()}}},_callee8)}));return function(_x9){return _ref6.apply(this,arguments)}}());_context9.next=3;return Promise.all(fetchPromises);case 3:return _context9.abrupt("return",_context9.sent);case 4:case"end":return _context9.stop()}}},_callee9,this)}));function updateNestedControls(){return _updateNestedControls.apply(this,arguments)}return updateNestedControls}()}]);return VisController}();exports.VisController=VisController},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InputControlVis=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _range_control=__webpack_require__(1687);var _list_control=__webpack_require__(1688);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var InputControlVis=function(_Component){_inherits(InputControlVis,_Component);function InputControlVis(props){var _this;_classCallCheck(this,InputControlVis);_this=_possibleConstructorReturn(this,_getPrototypeOf(InputControlVis).call(this,props));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleReset=_this.handleReset.bind(_assertThisInitialized(_this));_this.handleClearAll=_this.handleClearAll.bind(_assertThisInitialized(_this));return _this}_createClass(InputControlVis,[{key:"handleSubmit",value:function handleSubmit(){this.props.submitFilters()}},{key:"handleReset",value:function handleReset(){this.props.resetControls()}},{key:"handleClearAll",value:function handleClearAll(){this.props.clearControls()}},{key:"renderControls",value:function renderControls(){var _this2=this;return this.props.controls.map(function(control,index){var controlComponent=null;switch(control.type){case"list":controlComponent=_react.default.createElement(_list_control.ListControl,{id:control.id,label:control.label,options:control.selectOptions,selectedOptions:control.value,formatOptionLabel:control.format,disableMsg:control.isEnabled()?null:control.disabledReason,multiselect:control.options.multiselect,partialResults:control.partialResults,dynamicOptions:control.options.dynamicOptions,controlIndex:index,stageFilter:_this2.props.stageFilter,fetchOptions:function fetchOptions(query){_this2.props.refreshControl(index,query)}});break;case"range":controlComponent=_react.default.createElement(_range_control.RangeControl,{control:control,controlIndex:index,stageFilter:_this2.props.stageFilter});break;default:throw new Error("Unhandled control type ".concat(control.type))}return _react.default.createElement(_eui.EuiFlexItem,{key:control.id,style:{minWidth:"250px"},"data-test-subj":"inputControlItem"},controlComponent)})}},{key:"renderStagingButtons",value:function renderStagingButtons(){return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:this.handleSubmit,disabled:!this.props.hasChanges(),"data-test-subj":"inputControlSubmitBtn"},_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.vis.inputControlVis.applyChangesButtonLabel",defaultMessage:"Apply changes"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:this.handleReset,disabled:!this.props.hasChanges(),"data-test-subj":"inputControlCancelBtn"},_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.vis.inputControlVis.cancelChangesButtonLabel",defaultMessage:"Cancel changes"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:this.handleClearAll,disabled:!this.props.hasValues(),"data-test-subj":"inputControlClearBtn"},_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.vis.inputControlVis.clearFormButtonLabel",defaultMessage:"Clear form"}))))}},{key:"render",value:function render(){var stagingButtons;if(this.props.controls.length>0&&!this.props.updateFiltersOnChange){stagingButtons=this.renderStagingButtons()}return _react.default.createElement("div",{className:"icvContainer"},_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},this.renderControls()),stagingButtons)}}]);return InputControlVis}(_react.Component);exports.InputControlVis=InputControlVis;InputControlVis.propTypes={stageFilter:_propTypes.default.func.isRequired,submitFilters:_propTypes.default.func.isRequired,resetControls:_propTypes.default.func.isRequired,clearControls:_propTypes.default.func.isRequired,controls:_propTypes.default.array.isRequired,updateFiltersOnChange:_propTypes.default.bool,hasChanges:_propTypes.default.func.isRequired,hasValues:_propTypes.default.func.isRequired,refreshControl:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ceilWithPrecision=ceilWithPrecision;exports.floorWithPrecision=floorWithPrecision;exports.RangeControl=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _form_row=__webpack_require__(700);var _validated_range=__webpack_require__(670);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function roundWithPrecision(value,decimalPlaces,roundFunction){if(decimalPlaces<=0){return roundFunction(value)}var results=value;results=results*Math.pow(10,decimalPlaces);results=roundFunction(results);results=results/Math.pow(10,decimalPlaces);return results}function ceilWithPrecision(value,decimalPlaces){return roundWithPrecision(value,decimalPlaces,Math.ceil)}function floorWithPrecision(value,decimalPlaces){return roundWithPrecision(value,decimalPlaces,Math.floor)}var RangeControl=function(_Component){_inherits(RangeControl,_Component);function RangeControl(){var _getPrototypeOf2;var _this;_classCallCheck(this,RangeControl);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RangeControl)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{});_defineProperty(_assertThisInitialized(_this),"onChangeComplete",_lodash.default.debounce(function(value){var controlValue={min:value[0],max:value[1]};_this.props.stageFilter(_this.props.controlIndex,controlValue)},200));return _this}_createClass(RangeControl,[{key:"renderControl",value:function renderControl(){if(!this.props.control.isEnabled()){return _react.default.createElement(_validated_range.ValidatedDualRange,{disabled:true,showInput:true})}var decimalPlaces=_lodash.default.get(this.props,"control.options.decimalPlaces",0);var min=floorWithPrecision(this.props.control.min,decimalPlaces);var max=ceilWithPrecision(this.props.control.max,decimalPlaces);var ticks=[{value:min,label:min},{value:max,label:max}];return _react.default.createElement(_validated_range.ValidatedDualRange,{id:this.props.control.id,min:min,max:max,value:this.state.value,onChange:this.onChangeComplete,showInput:true,showRange:true,showTicks:true,ticks:ticks})}},{key:"render",value:function render(){return _react.default.createElement(_form_row.FormRow,{id:this.props.control.id,label:this.props.control.label,controlIndex:this.props.controlIndex,disableMsg:this.props.control.isEnabled()?null:this.props.control.disabledReason},this.renderControl())}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var nextValue=nextProps.control.hasValue()?[nextProps.control.value.min,nextProps.control.value.max]:["",""];if(nextProps.control.hasValue()&&nextProps.control.value.min==null){nextValue[0]=""}if(nextProps.control.hasValue()&&nextProps.control.value.max==null){nextValue[1]=""}if(nextValue!==prevState.prevValue){return{value:nextValue,prevValue:nextValue}}return null}}]);return RangeControl}(_react.Component);exports.RangeControl=RangeControl;RangeControl.propTypes={control:_propTypes.default.object.isRequired,controlIndex:_propTypes.default.number.isRequired,stageFilter:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListControl=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=_interopRequireDefault(__webpack_require__(1));var _form_row=__webpack_require__(700);var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ListControlUi=function(_Component){_inherits(ListControlUi,_Component);function ListControlUi(){var _getPrototypeOf2;var _this;_classCallCheck(this,ListControlUi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ListControlUi)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isLoading:false});_defineProperty(_assertThisInitialized(_this),"componentDidMount",function(){_this._isMounted=true});_defineProperty(_assertThisInitialized(_this),"componentWillUnmount",function(){_this._isMounted=false});_defineProperty(_assertThisInitialized(_this),"handleOnChange",function(selectedOptions){var selectedValues=selectedOptions.map(function(_ref){var value=_ref.value;return value});_this.props.stageFilter(_this.props.controlIndex,selectedValues)});_defineProperty(_assertThisInitialized(_this),"debouncedFetch",_lodash.default.debounce(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(searchValue){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.fetchOptions(searchValue);case 2:if(_this._isMounted){_this.setState({isLoading:false})}case 3:case"end":return _context.stop()}}},_callee)}));return function(_x){return _ref2.apply(this,arguments)}}(),300));_defineProperty(_assertThisInitialized(_this),"onSearchChange",function(searchValue){_this.setState({isLoading:true},_this.debouncedFetch.bind(null,searchValue))});return _this}_createClass(ListControlUi,[{key:"renderControl",value:function renderControl(){var _this2=this;var intl=this.props.intl;if(this.props.disableMsg){return _react.default.createElement(_eui.EuiFieldText,{placeholder:intl.formatMessage({id:"inputControl.vis.listControl.selectTextPlaceholder",defaultMessage:"Select..."}),disabled:true})}var options=this.props.options.map(function(option){return _defineProperty({label:_this2.props.formatOptionLabel(option).toString(),value:option},"data-test-subj","option_".concat(option.toString().replace(" ","_")))}).sort(function(a,b){return a.label.toLowerCase().localeCompare(b.label.toLowerCase())});var selectedOptions=this.props.selectedOptions.map(function(selectedOption){return{label:_this2.props.formatOptionLabel(selectedOption).toString(),value:selectedOption}});return _react.default.createElement(_eui.EuiComboBox,{placeholder:intl.formatMessage({id:"inputControl.vis.listControl.selectPlaceholder",defaultMessage:"Select..."}),options:options,isLoading:this.state.isLoading,async:this.props.dynamicOptions,onSearchChange:this.props.dynamicOptions?this.onSearchChange:undefined,selectedOptions:selectedOptions,onChange:this.handleOnChange,singleSelection:!this.props.multiselect,"data-test-subj":"listControlSelect".concat(this.props.controlIndex)})}},{key:"render",value:function render(){var partialResultsWarningMessage=_i18n.i18n.translate("inputControl.vis.listControl.partialResultsWarningMessage",{defaultMessage:"Terms list might be incomplete because the request is taking too long. "+"Adjust the autocomplete settings in kibana.yml for complete results."});return _react.default.createElement(_form_row.FormRow,{id:this.props.id,label:this.props.label,warningMsg:this.props.partialResults?partialResultsWarningMessage:undefined,controlIndex:this.props.controlIndex,disableMsg:this.props.disableMsg},this.renderControl())}}]);return ListControlUi}(_react.Component);ListControlUi.propTypes={id:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired,selectedOptions:_propTypes.default.array.isRequired,options:_propTypes.default.array,formatOptionLabel:_propTypes.default.func.isRequired,disableMsg:_propTypes.default.string,multiselect:_propTypes.default.bool,dynamicOptions:_propTypes.default.bool,partialResults:_propTypes.default.bool,controlIndex:_propTypes.default.number.isRequired,stageFilter:_propTypes.default.func.isRequired,fetchOptions:_propTypes.default.func};ListControlUi.defaultProps={dynamicOptions:false,multiselect:true};ListControlUi.defaultProps={selectedOptions:[],options:[]};var ListControl=(0,_react2.injectI18n)(ListControlUi);exports.ListControl=ListControl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.controlFactory=controlFactory;var _range_control_factory=__webpack_require__(1690);var _list_control_factory=__webpack_require__(1692);function controlFactory(controlParams){var factory=null;switch(controlParams.type){case"range":factory=_range_control_factory.rangeControlFactory;break;case"list":factory=_list_control_factory.listControlFactory;break;default:throw new Error("Unhandled control type ".concat(controlParams.type))}return factory}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rangeControlFactory=rangeControlFactory;var _lodash=_interopRequireDefault(__webpack_require__(1));var _control=__webpack_require__(701);var _range_filter_manager=__webpack_require__(1691);var _create_search_source=__webpack_require__(703);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var minMaxAgg=function minMaxAgg(field){var aggBody={};if(field.scripted){aggBody.script={source:field.script,lang:field.lang}}else{aggBody.field=field.name}return{maxAgg:{max:aggBody},minAgg:{min:aggBody}}};var RangeControl=function(_Control){_inherits(RangeControl,_Control);function RangeControl(){_classCallCheck(this,RangeControl);return _possibleConstructorReturn(this,_getPrototypeOf(RangeControl).apply(this,arguments))}_createClass(RangeControl,[{key:"fetch",value:function(){var _fetch=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPattern,fieldName,aggs,searchSource,resp,min,max;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.abortController){this.abortController.abort()}this.abortController=new AbortController;indexPattern=this.filterManager.getIndexPattern();if(indexPattern){_context.next=6;break}this.disable((0,_control.noIndexPatternMsg)(this.controlParams.indexPattern));return _context.abrupt("return");case 6:fieldName=this.filterManager.fieldName;aggs=minMaxAgg(indexPattern.fields.byName[fieldName]);searchSource=(0,_create_search_source.createSearchSource)(this.kbnApi,null,indexPattern,aggs,this.useTimeFilter);this.abortController.signal.addEventListener("abort",function(){return searchSource.cancelQueued()});_context.prev=10;_context.next=13;return searchSource.fetch();case 13:resp=_context.sent;_context.next=22;break;case 16:_context.prev=16;_context.t0=_context["catch"](10);if(!(_context.t0.name==="AbortError")){_context.next=20;break}return _context.abrupt("return");case 20:this.disable(_i18n.i18n.translate("inputControl.rangeControl.unableToFetchTooltip",{defaultMessage:"Unable to fetch range min and max, error: {errorMessage}",values:{errorMessage:_context.t0.message}}));return _context.abrupt("return");case 22:min=_lodash.default.get(resp,"aggregations.minAgg.value",null);max=_lodash.default.get(resp,"aggregations.maxAgg.value",null);if(!(min===null||max===null)){_context.next=27;break}this.disable((0,_control.noValuesDisableMsg)(fieldName,indexPattern.title));return _context.abrupt("return");case 27:this.min=min;this.max=max;this.enable=true;case 30:case"end":return _context.stop()}}},_callee,this,[[10,16]])}));function fetch(){return _fetch.apply(this,arguments)}return fetch}()},{key:"destroy",value:function destroy(){if(this.abortController)this.abortController.abort()}}]);return RangeControl}(_control.Control);function rangeControlFactory(_x,_x2,_x3){return _rangeControlFactory.apply(this,arguments)}function _rangeControlFactory(){_rangeControlFactory=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(controlParams,kbnApi,useTimeFilter){var indexPattern;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return kbnApi.indexPatterns.get(controlParams.indexPattern);case 3:indexPattern=_context2.sent;_context2.next=8;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);case 8:return _context2.abrupt("return",new RangeControl(controlParams,new _range_filter_manager.RangeFilterManager(controlParams.id,controlParams.fieldName,indexPattern,kbnApi.queryFilter),kbnApi,useTimeFilter));case 9:case"end":return _context2.stop()}}},_callee2,null,[[0,6]])}));return _rangeControlFactory.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RangeFilterManager=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _filter_manager=__webpack_require__(702);var _esQuery=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function toRange(sliderValue){return{gte:sliderValue.min,lte:sliderValue.max}}function fromRange(range){var sliderValue={};if(_lodash.default.has(range,"gte")){sliderValue.min=_lodash.default.get(range,"gte")}if(_lodash.default.has(range,"gt")){sliderValue.min=_lodash.default.get(range,"gt")}if(_lodash.default.has(range,"lte")){sliderValue.max=_lodash.default.get(range,"lte")}if(_lodash.default.has(range,"lt")){sliderValue.max=_lodash.default.get(range,"lt")}return sliderValue}var RangeFilterManager=function(_FilterManager){_inherits(RangeFilterManager,_FilterManager);function RangeFilterManager(){_classCallCheck(this,RangeFilterManager);return _possibleConstructorReturn(this,_getPrototypeOf(RangeFilterManager).apply(this,arguments))}_createClass(RangeFilterManager,[{key:"createFilter",value:function createFilter(value){var newFilter=(0,_esQuery.buildRangeFilter)(this.indexPattern.fields.byName[this.fieldName],toRange(value),this.indexPattern);newFilter.meta.key=this.fieldName;newFilter.meta.controlledBy=this.controlId;return newFilter}},{key:"getValueFromFilterBar",value:function getValueFromFilterBar(){var kbnFilters=this.findFilters();if(kbnFilters.length===0){return}var range;if(_lodash.default.has(kbnFilters[0],"script")){range=_lodash.default.get(kbnFilters[0],"script.script.params")}else{range=_lodash.default.get(kbnFilters[0],["range",this.fieldName])}if(!range){return}return fromRange(range)}}]);return RangeFilterManager}(_filter_manager.FilterManager);exports.RangeFilterManager=RangeFilterManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.listControlFactory=listControlFactory;var _lodash=_interopRequireDefault(__webpack_require__(1));var _control=__webpack_require__(701);var _phrase_filter_manager=__webpack_require__(1693);var _create_search_source=__webpack_require__(703);var _i18n=__webpack_require__(2);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getEscapedQuery(){var query=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return query.replace(/[.?+*|{}[\]()"\\#@&<>~]/g,function(match){return"\\".concat(match)})}var termsAgg=function termsAgg(_ref){var field=_ref.field,size=_ref.size,direction=_ref.direction,query=_ref.query;var terms={order:{_count:direction}};if(size){terms.size=size<1?1:size}if(field.scripted){terms.script={source:field.script,lang:field.lang};terms.value_type=field.type==="number"?"float":field.type}else{terms.field=field.name}if(query){terms.include=".*".concat(getEscapedQuery(query),".*")}return{termsAgg:{terms:terms}}};var ListControl=function(_Control){_inherits(ListControl,_Control);function ListControl(){var _getPrototypeOf2;var _this;_classCallCheck(this,ListControl);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ListControl)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"fetch",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(query){var indexPattern,ancestorFilters,ancestorValues,fieldName,initialSearchSourceState,aggs,searchSource,resp,selectOptions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.abortController){_this.abortController.abort()}_this.abortController=new AbortController;indexPattern=_this.filterManager.getIndexPattern();if(indexPattern){_context.next=6;break}_this.disable((0,_control.noIndexPatternMsg)(_this.controlParams.indexPattern));return _context.abrupt("return");case 6:if(!_this.hasAncestors()){_context.next=17;break}if(!_this.hasUnsetAncestor()){_context.next=11;break}_this.disable(_i18n.i18n.translate("inputControl.listControl.disableTooltip",{defaultMessage:"Disabled until '{label}' is set.",values:{label:_this.ancestors[0].label}}));_this.lastAncestorValues=undefined;return _context.abrupt("return");case 11:ancestorValues=_this.getAncestorValues();if(!(_lodash.default.isEqual(ancestorValues,_this.lastAncestorValues)&&_lodash.default.isEqual(query,_this.lastQuery))){_context.next=14;break}return _context.abrupt("return");case 14:_this.lastAncestorValues=ancestorValues;_this.lastQuery=query;ancestorFilters=_this.getAncestorFilters();case 17:fieldName=_this.filterManager.fieldName;initialSearchSourceState={timeout:"".concat(_chrome.default.getInjected("autocompleteTimeout"),"ms"),terminate_after:_chrome.default.getInjected("autocompleteTerminateAfter")};aggs=termsAgg({field:indexPattern.fields.byName[fieldName],size:_this.options.dynamicOptions?null:_lodash.default.get(_this.options,"size",5),direction:"desc",query:query});searchSource=(0,_create_search_source.createSearchSource)(_this.kbnApi,initialSearchSourceState,indexPattern,aggs,_this.useTimeFilter,ancestorFilters);_this.abortController.signal.addEventListener("abort",function(){return searchSource.cancelQueued()});_this.lastQuery=query;_context.prev=23;_context.next=26;return searchSource.fetch();case 26:resp=_context.sent;_context.next=35;break;case 29:_context.prev=29;_context.t0=_context["catch"](23);if(!(_context.t0.name==="AbortError")){_context.next=33;break}return _context.abrupt("return");case 33:_this.disable(_i18n.i18n.translate("inputControl.listControl.unableToFetchTooltip",{defaultMessage:"Unable to fetch terms, error: {errorMessage}",values:{errorMessage:_context.t0.message}}));return _context.abrupt("return");case 35:if(!(query&&_this.lastQuery!==query)){_context.next=37;break}return _context.abrupt("return");case 37:selectOptions=_lodash.default.get(resp,"aggregations.termsAgg.buckets",[]).map(function(bucket){return bucket.key});if(!(selectOptions.length===0&&!query)){_context.next=41;break}_this.disable((0,_control.noValuesDisableMsg)(fieldName,indexPattern.title));return _context.abrupt("return");case 41:_this.partialResults=resp.terminated_early||resp.timed_out;_this.selectOptions=selectOptions;_this.enable=true;_this.disabledReason="";case 45:case"end":return _context.stop()}}},_callee,null,[[23,29]])}));return function(_x){return _ref2.apply(this,arguments)}}());return _this}_createClass(ListControl,[{key:"destroy",value:function destroy(){if(this.abortController)this.abortController.abort()}},{key:"hasValue",value:function hasValue(){return typeof this.value!=="undefined"&&this.value.length>0}}]);return ListControl}(_control.Control);function listControlFactory(_x2,_x3,_x4){return _listControlFactory.apply(this,arguments)}function _listControlFactory(){_listControlFactory=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(controlParams,kbnApi,useTimeFilter){var indexPattern,field;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return kbnApi.indexPatterns.get(controlParams.indexPattern);case 3:indexPattern=_context2.sent;field=indexPattern.fields.find(function(field){return field.name===controlParams.fieldName});if(field&&field.type!=="string"){controlParams.options.dynamicOptions=false}_context2.next=10;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);case 10:return _context2.abrupt("return",new ListControl(controlParams,new _phrase_filter_manager.PhraseFilterManager(controlParams.id,controlParams.fieldName,indexPattern,kbnApi.queryFilter),kbnApi,useTimeFilter));case 11:case"end":return _context2.stop()}}},_callee2,null,[[0,8]])}));return _listControlFactory.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PhraseFilterManager=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _filter_manager=__webpack_require__(702);var _esQuery=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PhraseFilterManager=function(_FilterManager){_inherits(PhraseFilterManager,_FilterManager);function PhraseFilterManager(controlId,fieldName,indexPattern,queryFilter){_classCallCheck(this,PhraseFilterManager);return _possibleConstructorReturn(this,_getPrototypeOf(PhraseFilterManager).call(this,controlId,fieldName,indexPattern,queryFilter))}_createClass(PhraseFilterManager,[{key:"createFilter",value:function createFilter(phrases){var newFilter;if(phrases.length===1){newFilter=(0,_esQuery.buildPhraseFilter)(this.indexPattern.fields.byName[this.fieldName],phrases[0],this.indexPattern)}else{newFilter=(0,_esQuery.buildPhrasesFilter)(this.indexPattern.fields.byName[this.fieldName],phrases,this.indexPattern)}newFilter.meta.key=this.fieldName;newFilter.meta.controlledBy=this.controlId;return newFilter}},{key:"getValueFromFilterBar",value:function getValueFromFilterBar(){var _this=this;var kbnFilters=this.findFilters();if(kbnFilters.length===0){return}var values=kbnFilters.map(function(kbnFilter){return _this._getValueFromFilter(kbnFilter)}).filter(function(value){return value!=null});if(values.length===0){return}return values.reduce(function(accumulator,currentValue){return accumulator.concat(currentValue)},[])}},{key:"_getValueFromFilter",value:function _getValueFromFilter(kbnFilter){var _this2=this;if(_lodash.default.has(kbnFilter,"query.bool.should")){return _lodash.default.get(kbnFilter,"query.bool.should").map(function(kbnFilter){return _this2._getValueFromFilter(kbnFilter)}).filter(function(value){if(value){return true}return false})}if(_lodash.default.has(kbnFilter,"script")){return _lodash.default.get(kbnFilter,"script.script.params.value")}if(_lodash.default.has(kbnFilter,["query","match",this.fieldName])){return _lodash.default.get(kbnFilter,["query","match",this.fieldName,"query"])}if(_lodash.default.has(kbnFilter,["match_phrase",this.fieldName])){return _lodash.default.get(kbnFilter,["match_phrase",this.fieldName])}}}]);return PhraseFilterManager}(_filter_manager.FilterManager);exports.PhraseFilterManager=PhraseFilterManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLineageMap=getLineageMap;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getLineageMap(controlParamsList){function getControlParamsById(controlId){return controlParamsList.find(function(controlParams){return controlParams.id===controlId})}var lineageMap=new Map;controlParamsList.forEach(function(rootControlParams){var lineage=[rootControlParams.id];var getLineage=function getLineage(controlParams){if(_lodash.default.has(controlParams,"parent")&&controlParams.parent!==""&&!lineage.includes(controlParams.parent)){lineage.push(controlParams.parent);var parent=getControlParamsById(controlParams.parent);getLineage(parent)}};getLineage(rootControlParams);lineageMap.set(rootControlParams.id,lineage)});return lineageMap}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getParentCandidates=getParentCandidates;var _editor_utils=__webpack_require__(445);function getParentCandidates(controlParamsList,controlId,lineageMap){return controlParamsList.filter(function(controlParams){if(!controlParams.indexPattern||!controlParams.fieldName){return false}var lineage=lineageMap.get(controlParams.id);if(lineage.includes(controlId)){return false}return true}).map(function(controlParams,controlIndex){return{value:controlParams.id,text:(0,_editor_utils.getTitle)(controlParams,controlIndex)}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ControlsTab=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _control_editor=__webpack_require__(1697);var _editor_utils=__webpack_require__(445);var _lineage=__webpack_require__(704);var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ControlsTabUi=function(_Component){_inherits(ControlsTabUi,_Component);function ControlsTabUi(){var _getPrototypeOf2;var _this;_classCallCheck(this,ControlsTabUi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ControlsTabUi)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{type:"list"});_defineProperty(_assertThisInitialized(_this),"getIndexPattern",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.vis.API.indexPatterns.get(indexPatternId);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"onChange",function(value){return _this.props.setValue("controls",value)});_defineProperty(_assertThisInitialized(_this),"handleLabelChange",function(controlIndex,evt){var updatedControl=_this.props.stateParams.controls[controlIndex];updatedControl.label=evt.target.value;_this.onChange((0,_editor_utils.setControl)(_this.props.stateParams.controls,controlIndex,updatedControl))});_defineProperty(_assertThisInitialized(_this),"handleIndexPatternChange",function(controlIndex,indexPatternId){var updatedControl=_this.props.stateParams.controls[controlIndex];updatedControl.indexPattern=indexPatternId;updatedControl.fieldName="";_this.onChange((0,_editor_utils.setControl)(_this.props.stateParams.controls,controlIndex,updatedControl))});_defineProperty(_assertThisInitialized(_this),"handleFieldNameChange",function(controlIndex,fieldName){var updatedControl=_this.props.stateParams.controls[controlIndex];updatedControl.fieldName=fieldName;_this.onChange((0,_editor_utils.setControl)(_this.props.stateParams.controls,controlIndex,updatedControl))});_defineProperty(_assertThisInitialized(_this),"handleCheckboxOptionChange",function(controlIndex,optionName,evt){var updatedControl=_this.props.stateParams.controls[controlIndex];updatedControl.options[optionName]=evt.target.checked;_this.onChange((0,_editor_utils.setControl)(_this.props.stateParams.controls,controlIndex,updatedControl))});_defineProperty(_assertThisInitialized(_this),"handleNumberOptionChange",function(controlIndex,optionName,evt){var updatedControl=_this.props.stateParams.controls[controlIndex];updatedControl.options[optionName]=parseFloat(evt.target.value);_this.onChange((0,_editor_utils.setControl)(_this.props.stateParams.controls,controlIndex,updatedControl))});_defineProperty(_assertThisInitialized(_this),"handleRemoveControl",function(controlIndex){_this.onChange((0,_editor_utils.removeControl)(_this.props.stateParams.controls,controlIndex))});_defineProperty(_assertThisInitialized(_this),"moveControl",function(controlIndex,direction){_this.onChange((0,_editor_utils.moveControl)(_this.props.stateParams.controls,controlIndex,direction))});_defineProperty(_assertThisInitialized(_this),"handleAddControl",function(){_this.onChange((0,_editor_utils.addControl)(_this.props.stateParams.controls,(0,_editor_utils.newControl)(_this.state.type)))});_defineProperty(_assertThisInitialized(_this),"handleParentChange",function(controlIndex,evt){var updatedControl=_this.props.stateParams.controls[controlIndex];updatedControl.parent=evt.target.value;_this.onChange((0,_editor_utils.setControl)(_this.props.stateParams.controls,controlIndex,updatedControl))});return _this}_createClass(ControlsTabUi,[{key:"renderControls",value:function renderControls(){var _this2=this;var lineageMap=(0,_lineage.getLineageMap)(this.props.stateParams.controls);return this.props.stateParams.controls.map(function(controlParams,controlIndex){var parentCandidates=(0,_lineage.getParentCandidates)(_this2.props.stateParams.controls,controlParams.id,lineageMap);return _react.default.createElement(_control_editor.ControlEditor,{key:controlParams.id,controlIndex:controlIndex,controlParams:controlParams,handleLabelChange:_this2.handleLabelChange,moveControl:_this2.moveControl,handleRemoveControl:_this2.handleRemoveControl,handleIndexPatternChange:_this2.handleIndexPatternChange,handleFieldNameChange:_this2.handleFieldNameChange,getIndexPattern:_this2.getIndexPattern,handleCheckboxOptionChange:_this2.handleCheckboxOptionChange,handleNumberOptionChange:_this2.handleNumberOptionChange,parentCandidates:parentCandidates,handleParentChange:_this2.handleParentChange})})}},{key:"render",value:function render(){var _this3=this;var intl=this.props.intl;return _react.default.createElement("div",null,this.renderControls(),_react.default.createElement(_eui.EuiPanel,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFormRow,{id:"selectControlType"},_react.default.createElement(_eui.EuiSelect,{"data-test-subj":"selectControlType",options:[{value:"range",text:intl.formatMessage({id:"inputControl.editor.controlsTab.select.rangeDropDownOptionLabel",defaultMessage:"Range slider"})},{value:"list",text:intl.formatMessage({id:"inputControl.editor.controlsTab.select.listDropDownOptionLabel",defaultMessage:"Options list"})}],value:this.state.type,onChange:function onChange(evt){return _this3.setState({type:evt.target.value})},"aria-label":intl.formatMessage({id:"inputControl.editor.controlsTab.select.controlTypeAriaLabel",defaultMessage:"Select control type"})}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFormRow,{id:"addControl"},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:this.handleAddControl,iconType:"plusInCircle","data-test-subj":"inputControlEditorAddBtn","aria-label":intl.formatMessage({id:"inputControl.editor.controlsTab.select.addControlAriaLabel",defaultMessage:"Add control"})},_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.controlsTab.addButtonLabel",defaultMessage:"Add"})))))))}}]);return ControlsTabUi}(_react.Component);ControlsTabUi.propTypes={vis:_propTypes.default.object.isRequired,setValue:_propTypes.default.func.isRequired};var ControlsTab=(0,_react2.injectI18n)(ControlsTabUi);exports.ControlsTab=ControlsTab},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ControlEditor=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _range_control_editor=__webpack_require__(1698);var _list_control_editor=__webpack_require__(1699);var _editor_utils=__webpack_require__(445);var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ControlEditorUi=function(_Component){_inherits(ControlEditorUi,_Component);function ControlEditorUi(){var _getPrototypeOf2;var _this;_classCallCheck(this,ControlEditorUi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ControlEditorUi)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"changeLabel",function(evt){_this.props.handleLabelChange(_this.props.controlIndex,evt)});_defineProperty(_assertThisInitialized(_this),"removeControl",function(){_this.props.handleRemoveControl(_this.props.controlIndex)});_defineProperty(_assertThisInitialized(_this),"moveUpControl",function(){_this.props.moveControl(_this.props.controlIndex,-1)});_defineProperty(_assertThisInitialized(_this),"moveDownControl",function(){_this.props.moveControl(_this.props.controlIndex,1)});_defineProperty(_assertThisInitialized(_this),"changeIndexPattern",function(evt){_this.props.handleIndexPatternChange(_this.props.controlIndex,evt)});_defineProperty(_assertThisInitialized(_this),"changeFieldName",function(evt){_this.props.handleFieldNameChange(_this.props.controlIndex,evt)});return _this}_createClass(ControlEditorUi,[{key:"renderEditor",value:function renderEditor(){var controlEditor=null;switch(this.props.controlParams.type){case"list":controlEditor=_react.default.createElement(_list_control_editor.ListControlEditor,{controlIndex:this.props.controlIndex,controlParams:this.props.controlParams,handleIndexPatternChange:this.changeIndexPattern,handleFieldNameChange:this.changeFieldName,getIndexPattern:this.props.getIndexPattern,handleNumberOptionChange:this.props.handleNumberOptionChange,handleCheckboxOptionChange:this.props.handleCheckboxOptionChange,parentCandidates:this.props.parentCandidates,handleParentChange:this.props.handleParentChange});break;case"range":controlEditor=_react.default.createElement(_range_control_editor.RangeControlEditor,{controlIndex:this.props.controlIndex,controlParams:this.props.controlParams,handleIndexPatternChange:this.changeIndexPattern,handleFieldNameChange:this.changeFieldName,getIndexPattern:this.props.getIndexPattern,handleNumberOptionChange:this.props.handleNumberOptionChange});break;default:throw new Error("Unhandled control editor type ".concat(this.props.controlParams.type))}var labelId="controlLabel".concat(this.props.controlIndex);return _react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{id:labelId,label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.controlEditor.controlLabel",defaultMessage:"Control Label"})},_react.default.createElement(_eui.EuiFieldText,{value:this.props.controlParams.label,onChange:this.changeLabel})),controlEditor)}},{key:"renderEditorButtons",value:function renderEditorButtons(){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":this.props.intl.formatMessage({id:"inputControl.editor.controlEditor.moveControlUpAriaLabel",defaultMessage:"Move control up"}),color:"primary",onClick:this.moveUpControl,iconType:"sortUp","data-test-subj":"inputControlEditorMoveUpControl".concat(this.props.controlIndex)}),_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":this.props.intl.formatMessage({id:"inputControl.editor.controlEditor.moveControlDownAriaLabel",defaultMessage:"Move control down"}),color:"primary",onClick:this.moveDownControl,iconType:"sortDown","data-test-subj":"inputControlEditorMoveDownControl".concat(this.props.controlIndex)}),_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":this.props.intl.formatMessage({id:"inputControl.editor.controlEditor.removeControlAriaLabel",defaultMessage:"Remove control"}),color:"danger",onClick:this.removeControl,iconType:"cross","data-test-subj":"inputControlEditorRemoveControl".concat(this.props.controlIndex)}))}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPanel,{grow:false,className:"icvControlEditor__panel"},_react.default.createElement(_eui.EuiAccordion,{id:"controlEditorAccordion",buttonContent:(0,_editor_utils.getTitle)(this.props.controlParams,this.props.controlIndex),extraAction:this.renderEditorButtons(),initialIsOpen:true},_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderEditor()))}}]);return ControlEditorUi}(_react.Component);ControlEditorUi.propTypes={controlIndex:_propTypes.default.number.isRequired,controlParams:_propTypes.default.object.isRequired,handleLabelChange:_propTypes.default.func.isRequired,moveControl:_propTypes.default.func.isRequired,handleRemoveControl:_propTypes.default.func.isRequired,handleIndexPatternChange:_propTypes.default.func.isRequired,handleFieldNameChange:_propTypes.default.func.isRequired,getIndexPattern:_propTypes.default.func.isRequired,handleCheckboxOptionChange:_propTypes.default.func.isRequired,handleNumberOptionChange:_propTypes.default.func.isRequired,parentCandidates:_propTypes.default.arrayOf(_propTypes.default.shape({value:_propTypes.default.string.isRequired,text:_propTypes.default.string.isRequired})).isRequired,handleParentChange:_propTypes.default.func.isRequired};var ControlEditor=(0,_react2.injectI18n)(ControlEditorUi);exports.ControlEditor=ControlEditor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RangeControlEditor=RangeControlEditor;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireDefault(__webpack_require__(0));var _index_pattern_select_form_row=__webpack_require__(705);var _field_select=__webpack_require__(706);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function filterField(field){return field.type==="number"}function RangeControlEditor(props){var stepSizeId="stepSize-".concat(props.controlIndex);var decimalPlacesId="decimalPlaces-".concat(props.controlIndex);var handleDecimalPlacesChange=function handleDecimalPlacesChange(evt){props.handleNumberOptionChange(props.controlIndex,"decimalPlaces",evt)};var handleStepChange=function handleStepChange(evt){props.handleNumberOptionChange(props.controlIndex,"step",evt)};return _react.default.createElement("div",null,_react.default.createElement(_index_pattern_select_form_row.IndexPatternSelectFormRow,{indexPatternId:props.controlParams.indexPattern,onChange:props.handleIndexPatternChange,controlIndex:props.controlIndex}),_react.default.createElement(_field_select.FieldSelect,{fieldName:props.controlParams.fieldName,indexPatternId:props.controlParams.indexPattern,filterField:filterField,onChange:props.handleFieldNameChange,getIndexPattern:props.getIndexPattern,controlIndex:props.controlIndex}),_react.default.createElement(_eui.EuiFormRow,{id:stepSizeId,label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.rangeControl.stepSizeLabel",defaultMessage:"Step Size"})},_react.default.createElement(_eui.EuiFieldNumber,{value:props.controlParams.options.step,onChange:handleStepChange,"data-test-subj":"rangeControlSizeInput".concat(props.controlIndex)})),_react.default.createElement(_eui.EuiFormRow,{id:decimalPlacesId,label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.rangeControl.decimalPlacesLabel",defaultMessage:"Decimal Places"})},_react.default.createElement(_eui.EuiFieldNumber,{min:0,value:props.controlParams.options.decimalPlaces,onChange:handleDecimalPlacesChange,"data-test-subj":"rangeControlDecimalPlacesInput".concat(props.controlIndex)})))}RangeControlEditor.propTypes={getIndexPattern:_propTypes.default.func.isRequired,controlIndex:_propTypes.default.number.isRequired,controlParams:_propTypes.default.object.isRequired,handleFieldNameChange:_propTypes.default.func.isRequired,handleIndexPatternChange:_propTypes.default.func.isRequired,handleNumberOptionChange:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListControlEditor=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _index_pattern_select_form_row=__webpack_require__(705);var _field_select=__webpack_require__(706);var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function filterField(field){return field.aggregatable&&["number","boolean","date","ip","string"].includes(field.type)}var ListControlEditor=function(_Component){_inherits(ListControlEditor,_Component);function ListControlEditor(){var _getPrototypeOf2;var _this;_classCallCheck(this,ListControlEditor);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ListControlEditor)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isLoadingFieldType:true,isStringField:false,prevFieldName:_this.props.controlParams.fieldName});_defineProperty(_assertThisInitialized(_this),"componentDidUpdate",function(){if(_this.state.isLoadingFieldType){_this.loadIsStringField()}});_defineProperty(_assertThisInitialized(_this),"loadIsStringField",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPattern,field;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!_this.props.controlParams.indexPattern||!_this.props.controlParams.fieldName)){_context.next=3;break}_this.setState({isLoadingFieldType:false});return _context.abrupt("return");case 3:_context.prev=3;_context.next=6;return _this.props.getIndexPattern(_this.props.controlParams.indexPattern);case 6:indexPattern=_context.sent;_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](3);return _context.abrupt("return");case 12:if(_this._isMounted){_context.next=14;break}return _context.abrupt("return");case 14:field=indexPattern.fields.find(function(field){return field.name===_this.props.controlParams.fieldName});if(field){_context.next=17;break}return _context.abrupt("return");case 17:_this.setState({isLoadingFieldType:false,isStringField:field.type==="string"});case 18:case"end":return _context.stop()}}},_callee,null,[[3,9]])})));_defineProperty(_assertThisInitialized(_this),"renderOptions",function(){if(_this.state.isLoadingFieldType||!_this.props.controlParams.fieldName){return}var options=[];if(_this.props.parentCandidates&&_this.props.parentCandidates.length>0){var parentCandidatesOptions=[{value:"",text:""}].concat(_toConsumableArray(_this.props.parentCandidates));options.push(_react.default.createElement(_eui.EuiFormRow,{id:"parentSelect-".concat(_this.props.controlIndex),label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.parentLabel",defaultMessage:"Parent control"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.parentDescription",defaultMessage:"Options are based on the value of parent control. Disabled if parent is not set."}),key:"parentSelect"},_react.default.createElement(_eui.EuiSelect,{options:parentCandidatesOptions,value:_this.props.controlParams.parent,onChange:function onChange(evt){_this.props.handleParentChange(_this.props.controlIndex,evt)}})))}options.push(_react.default.createElement(_eui.EuiFormRow,{id:"multiselect-".concat(_this.props.controlIndex),key:"multiselect",helpText:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.multiselectDescription",defaultMessage:"Allow multiple selection"})},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.multiselectLabel",defaultMessage:"Multiselect"}),checked:_this.props.controlParams.options.multiselect,onChange:function onChange(evt){_this.props.handleCheckboxOptionChange(_this.props.controlIndex,"multiselect",evt)},"data-test-subj":"listControlMultiselectInput"})));var dynamicOptionsHelpText=_this.state.isStringField?_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.dynamicOptions.updateDescription",defaultMessage:"Update options in response to user input"}):_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.dynamicOptions.stringFieldDescription",defaultMessage:'Only available for "string" fields'});options.push(_react.default.createElement(_eui.EuiFormRow,{id:"dynamicOptions-".concat(_this.props.controlIndex),key:"dynamicOptions",helpText:dynamicOptionsHelpText},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.dynamicOptionsLabel",defaultMessage:"Dynamic Options"}),checked:_this.props.controlParams.options.dynamicOptions,onChange:function onChange(evt){_this.props.handleCheckboxOptionChange(_this.props.controlIndex,"dynamicOptions",evt)},disabled:_this.state.isStringField?false:true,"data-test-subj":"listControlDynamicOptionsSwitch"})));if(!_this.props.controlParams.options.dynamicOptions||!_this.state.isStringField){options.push(_react.default.createElement(_eui.EuiFormRow,{id:"size-".concat(_this.props.controlIndex),label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.sizeLabel",defaultMessage:"Size"}),key:"size",helpText:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.listControl.sizeDescription",defaultMessage:"Number of options"})},_react.default.createElement(_eui.EuiFieldNumber,{min:1,value:_this.props.controlParams.options.size,onChange:function onChange(evt){_this.props.handleNumberOptionChange(_this.props.controlIndex,"size",evt)},"data-test-subj":"listControlSizeInput"})))}return options});return _this}_createClass(ListControlEditor,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.loadIsStringField()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"render",value:function render(){return _react.default.createElement("div",null,_react.default.createElement(_index_pattern_select_form_row.IndexPatternSelectFormRow,{indexPatternId:this.props.controlParams.indexPattern,onChange:this.props.handleIndexPatternChange,controlIndex:this.props.controlIndex}),_react.default.createElement(_field_select.FieldSelect,{fieldName:this.props.controlParams.fieldName,indexPatternId:this.props.controlParams.indexPattern,filterField:filterField,onChange:this.props.handleFieldNameChange,getIndexPattern:this.props.getIndexPattern,controlIndex:this.props.controlIndex}),this.renderOptions())}}]);return ListControlEditor}(_react.Component);exports.ListControlEditor=ListControlEditor;_defineProperty(ListControlEditor,"getDerivedStateFromProps",function(nextProps,prevState){var isNewFieldName=prevState.prevFieldName!==nextProps.controlParams.fieldName;if(!prevState.isLoadingFieldType&&isNewFieldName){return{prevFieldName:nextProps.controlParams.fieldName,isLoadingFieldType:true}}return null});ListControlEditor.propTypes={getIndexPattern:_propTypes.default.func.isRequired,controlIndex:_propTypes.default.number.isRequired,controlParams:_propTypes.default.object.isRequired,handleFieldNameChange:_propTypes.default.func.isRequired,handleIndexPatternChange:_propTypes.default.func.isRequired,handleCheckboxOptionChange:_propTypes.default.func.isRequired,handleNumberOptionChange:_propTypes.default.func.isRequired,parentCandidates:_propTypes.default.arrayOf(_propTypes.default.shape({value:_propTypes.default.string.isRequired,text:_propTypes.default.string.isRequired})).isRequired,handleParentChange:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OptionsTab=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OptionsTab=function(_Component){_inherits(OptionsTab,_Component);function OptionsTab(){var _getPrototypeOf2;var _this;_classCallCheck(this,OptionsTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(OptionsTab)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"handleUpdateFiltersChange",function(evt){_this.props.setValue("updateFiltersOnChange",evt.target.checked)});_defineProperty(_assertThisInitialized(_this),"handleUseTimeFilter",function(evt){_this.props.setValue("useTimeFilter",evt.target.checked)});_defineProperty(_assertThisInitialized(_this),"handlePinFilters",function(evt){_this.props.setValue("pinFilters",evt.target.checked)});return _this}_createClass(OptionsTab,[{key:"render",value:function render(){return _react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{id:"updateFiltersOnChange"},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.optionsTab.updateFilterLabel",defaultMessage:"Update Kibana filters on each change"}),checked:this.props.stateParams.updateFiltersOnChange,onChange:this.handleUpdateFiltersChange,"data-test-subj":"inputControlEditorUpdateFiltersOnChangeCheckbox"})),_react.default.createElement(_eui.EuiFormRow,{id:"useTimeFilter"},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.optionsTab.useTimeFilterLabel",defaultMessage:"Use time filter"}),checked:this.props.stateParams.useTimeFilter,onChange:this.handleUseTimeFilter,"data-test-subj":"inputControlEditorUseTimeFilterCheckbox"})),_react.default.createElement(_eui.EuiFormRow,{id:"pinFilters"},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"inputControl.editor.optionsTab.pinFiltersLabel",defaultMessage:"Pin filters for all applications"}),checked:this.props.stateParams.pinFilters,onChange:this.handlePinFilters,"data-test-subj":"inputControlEditorPinFiltersCheckbox"})))}}]);return OptionsTab}(_react.Component);exports.OptionsTab=OptionsTab;OptionsTab.propTypes={vis:_propTypes.default.object.isRequired,setValue:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";var _vis_types=__webpack_require__(49);var _histogram=_interopRequireDefault(__webpack_require__(1702));var _line=_interopRequireDefault(__webpack_require__(1711));var _pie=_interopRequireDefault(__webpack_require__(1712));var _area=_interopRequireDefault(__webpack_require__(1713));var _heatmap=_interopRequireDefault(__webpack_require__(1714));var _horizontal_bar=_interopRequireDefault(__webpack_require__(1716));var _gauge=_interopRequireDefault(__webpack_require__(1717));var _goal=_interopRequireDefault(__webpack_require__(1718));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_vis_types.VisTypesRegistryProvider.register(_histogram.default);_vis_types.VisTypesRegistryProvider.register(_line.default);_vis_types.VisTypesRegistryProvider.register(_pie.default);_vis_types.VisTypesRegistryProvider.register(_area.default);_vis_types.VisTypesRegistryProvider.register(_heatmap.default);_vis_types.VisTypesRegistryProvider.register(_horizontal_bar.default);_vis_types.VisTypesRegistryProvider.register(_gauge.default);_vis_types.VisTypesRegistryProvider.register(_goal.default)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _options=__webpack_require__(90);var _legend_positions=__webpack_require__(375);var _services=__webpack_require__(113);function PointSeriesVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"histogram",title:_i18n.i18n.translate("kbnVislibVisTypes.histogram.histogramTitle",{defaultMessage:"Vertical Bar"}),icon:"visBarVertical",description:_i18n.i18n.translate("kbnVislibVisTypes.histogram.histogramDescription",{defaultMessage:"Assign a continuous variable to each axis"}),visConfig:{defaults:{type:"histogram",grid:{categoryLines:false},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"bottom",show:true,style:{},scale:{type:"linear"},labels:{show:true,filter:true,truncate:100},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:true,style:{},scale:{type:"linear",mode:"normal"},labels:{show:true,rotate:0,filter:false,truncate:100},title:{text:"Count"}}],seriesParams:[{show:"true",type:"histogram",mode:"stacked",data:{label:"Count",id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:true,showCircles:true}],addTooltip:true,addLegend:true,legendPosition:_legend_positions.LegendPositions.RIGHT,times:[],addTimeMarker:false,labels:{show:false},thresholdLine:{show:false,value:10,width:1,style:"full",color:_services.palettes.euiPaletteColorBlind.colors[9]}}},editorConfig:{collections:{legendPositions:(0,_legend_positions.getLegendPositions)(),positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes>"+"</vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_options.PointSeriesOptions}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.histogram.metricTitle",{defaultMessage:"Y-axis"}),min:1,aggFilter:["!geo_centroid","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:_i18n.i18n.translate("kbnVislibVisTypes.histogram.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:"buckets",name:"segment",title:_i18n.i18n.translate("kbnVislibVisTypes.histogram.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.histogram.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"split",title:_i18n.i18n.translate("kbnVislibVisTypes.histogram.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])}})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GaugeOptions=GaugeOptions;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _ranges_panel=__webpack_require__(1704);var _style_panel=__webpack_require__(1705);var _labels_panel=__webpack_require__(1706);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function GaugeOptions(props){var stateParams=props.stateParams,setValue=props.setValue;var setGaugeValue=(0,_react.useCallback)(function(paramName,value){return setValue("gauge",_objectSpread({},stateParams.gauge,_defineProperty({},paramName,value)))},[setValue,stateParams.gauge]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_style_panel.StylePanel,_extends({},props,{setGaugeValue:setGaugeValue})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_ranges_panel.RangesPanel,_extends({},props,{setGaugeValue:setGaugeValue})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_labels_panel.LabelsPanel,_extends({},props,{setGaugeValue:setGaugeValue})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RangesPanel=RangesPanel;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(1);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _ranges=__webpack_require__(595);var _common=__webpack_require__(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function RangesPanel(_ref){var setGaugeValue=_ref.setGaugeValue,setTouched=_ref.setTouched,setValidity=_ref.setValidity,setValue=_ref.setValue,stateParams=_ref.stateParams,uiState=_ref.uiState,vis=_ref.vis;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isCustomColors=_useState2[0],setIsCustomColors=_useState2[1];(0,_react.useEffect)(function(){uiState.on("colorChanged",function(){setIsCustomColors(true)})},[uiState]);var addRangeValues=(0,_react.useCallback)(function(){var previousRange=(0,_lodash.last)(stateParams.gauge.colorsRange);var from=previousRange.to?previousRange.to:0;var to=previousRange.to?from+(previousRange.to-(previousRange.from||0)):100;return{from:from,to:to}},[stateParams.gauge.colorsRange]);var validateRange=(0,_react.useCallback)(function(_ref2,index){var from=_ref2.from,to=_ref2.to;var leftBound=index===0?-Infinity:stateParams.gauge.colorsRange[index-1].to||0;var isFromValid=from>=leftBound;var isToValid=to>=from;return[isFromValid,isToValid]},[stateParams.gauge.colorsRange]);var resetColorsButton=_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){uiState.set("vis.colors",null);setIsCustomColors(false)}},_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.controls.gaugeOptions.resetColorsButtonLabel",defaultMessage:"Reset colors"})));return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.controls.gaugeOptions.rangesTitle",defaultMessage:"Ranges"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_ranges.RangesParamEditor,{dataTestSubj:"gaugeColorRange",error:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.errorText",{defaultMessage:"Each range should be greater than previous."}),hidePlaceholders:true,value:stateParams.gauge.colorsRange,setValue:function setValue(value){return setGaugeValue("colorsRange",value)},setTouched:setTouched,setValidity:setValidity,addRangeValues:addRangeValues,validateRange:validateRange}),_react.default.createElement(_common.SwitchOption,{disabled:stateParams.gauge.colorsRange.length<2,label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.autoExtendRangeLabel",{defaultMessage:"Auto extend range"}),tooltip:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.extendRangeTooltip",{defaultMessage:"Extends range to the maximum value in your data."}),paramName:"extendRange",value:stateParams.gauge.extendRange,setValue:setGaugeValue}),_react.default.createElement(_common.SwitchOption,{dataTestSubj:"gaugePercentageMode",label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.percentageModeLabel",{defaultMessage:"Percentage mode"}),paramName:"percentageMode",value:stateParams.gauge.percentageMode,setValue:setGaugeValue}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.SelectOption,{disabled:stateParams.gauge.colorsRange.length<2,helpText:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.howToChangeColorsDescription",{defaultMessage:"Note: colors can be changed in the legend."}),label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.colorSchemaLabel",{defaultMessage:"Color schema"}),labelAppend:isCustomColors&&resetColorsButton,options:vis.type.editorConfig.collections.colorSchemas,paramName:"colorSchema",value:stateParams.gauge.colorSchema,setValue:setGaugeValue}),_react.default.createElement(_common.SwitchOption,{disabled:stateParams.gauge.colorsRange.length<2,label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.reverseColorSchemaLabel",{defaultMessage:"Reverse schema"}),paramName:"invertColors",value:stateParams.gauge.invertColors,setValue:setGaugeValue}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.showLegendLabel",{defaultMessage:"Show legend"}),paramName:"addLegend",value:stateParams.addLegend,setValue:setValue}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.showScaleLabel",{defaultMessage:"Show scale"}),paramName:"show",value:stateParams.gauge.scale.show,setValue:function setValue(paramName,value){return setGaugeValue("scale",_objectSpread({},stateParams.gauge.scale,_defineProperty({},paramName,value)))}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StylePanel=StylePanel;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _default=__webpack_require__(349);var _common=__webpack_require__(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StylePanel(_ref){var aggs=_ref.aggs,setGaugeValue=_ref.setGaugeValue,stateParams=_ref.stateParams,vis=_ref.vis;var diasableAlignment=aggs.bySchemaGroup[_default.AggGroupNames.Metrics].length===1&&!aggs.bySchemaGroup[_default.AggGroupNames.Buckets];return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.controls.gaugeOptions.styleTitle",defaultMessage:"Style"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.SelectOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.gaugeTypeLabel",{defaultMessage:"Gauge type"}),options:vis.type.editorConfig.collections.gaugeTypes,paramName:"gaugeType",value:stateParams.gauge.gaugeType,setValue:setGaugeValue}),_react.default.createElement(_common.SelectOption,{disabled:diasableAlignment,label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.alignmentLabel",{defaultMessage:"Alignment"}),options:vis.type.editorConfig.collections.alignments,paramName:"alignment",value:stateParams.gauge.alignment,setValue:setGaugeValue}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LabelsPanel=LabelsPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _common=__webpack_require__(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function LabelsPanel(_ref){var stateParams=_ref.stateParams,setValue=_ref.setValue,setGaugeValue=_ref.setGaugeValue;return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.controls.gaugeOptions.labelsTitle",defaultMessage:"Labels"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.showLabelsLabel",{defaultMessage:"Show labels"}),paramName:"show",value:stateParams.gauge.labels.show,setValue:function setValue(paramName,value){return setGaugeValue("labels",_objectSpread({},stateParams.gauge.labels,_defineProperty({},paramName,value)))}}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.TextInputOption,{disabled:!stateParams.gauge.labels.show,label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.subTextLabel",{defaultMessage:"Sub label"}),paramName:"subText",value:stateParams.gauge.style.subText,setValue:function setValue(paramName,value){return setGaugeValue("style",_objectSpread({},stateParams.gauge.style,_defineProperty({},paramName,value)))}}),_react.default.createElement(_common.SwitchOption,{disabled:!stateParams.gauge.labels.show,label:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.displayWarningsLabel",{defaultMessage:"Display warnings"}),tooltip:_i18n.i18n.translate("kbnVislibVisTypes.controls.gaugeOptions.switchWarningsTooltip",{defaultMessage:"Turns on/off warnings. When turned on, a warning will be shown if not all labels could be displayed."}),paramName:"isDisplayWarning",value:stateParams.isDisplayWarning,setValue:setValue}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PieOptions=PieOptions;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _common=__webpack_require__(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function PieOptions(props){var stateParams=props.stateParams,setValue=props.setValue;var setLabels=function setLabels(paramName,value){return setValue("labels",_objectSpread({},stateParams.labels,_defineProperty({},paramName,value)))};return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.editors.pie.pieSettingsTitle",defaultMessage:"Pie settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pie.donutLabel",{defaultMessage:"Donut"}),paramName:"isDonut",value:stateParams.isDonut,setValue:setValue}),_react.default.createElement(_common.BasicOptions,props)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.editors.pie.labelsSettingsTitle",defaultMessage:"Labels settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pie.showLabelsLabel",{defaultMessage:"Show labels"}),paramName:"show",value:stateParams.labels.show,setValue:setLabels}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pie.showTopLevelOnlyLabel",{defaultMessage:"Show top level only"}),paramName:"last_level",value:stateParams.labels.last_level,setValue:setLabels}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pie.showValuesLabel",{defaultMessage:"Show values"}),paramName:"values",value:stateParams.labels.values,setValue:setLabels}),_react.default.createElement(_common.TruncateLabelsOption,{value:stateParams.labels.truncate,setValue:setLabels})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PointSeriesOptions",{enumerable:true,get:function get(){return _point_series.PointSeriesOptions}});var _point_series=__webpack_require__(1709)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PointSeriesOptions=PointSeriesOptions;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _common=__webpack_require__(88);var _grid_options=__webpack_require__(1710);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function PointSeriesOptions(props){var stateParams=props.stateParams,_setValue=props.setValue,vis=props.vis;var options=[{value:"full",text:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.style.full",{defaultMessage:"Full"})},{value:"dashed",text:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.style.dashed",{defaultMessage:"Dashed"})},{value:"dot-dashed",text:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.style.dotdashed",{defaultMessage:"Dot-dashed"})}];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.editors.pointSeries.settingsTitle",defaultMessage:"Settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.BasicOptions,props),vis.hasSchemaAgg("segment","date_histogram")?_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.currentTimeMarkerLabel",{defaultMessage:"Current time marker"}),paramName:"addTimeMarker",value:stateParams.addTimeMarker,setValue:_setValue}):_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.orderBucketsBySumLabel",{defaultMessage:"Order buckets by sum"}),paramName:"orderBucketsBySum",value:stateParams.orderBucketsBySum,setValue:_setValue}),vis.type.type==="histogram"&&_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.showLabels",{defaultMessage:"Show values on chart"}),paramName:"show",value:stateParams.labels.show,setValue:function setValue(paramName,value){return _setValue("labels",_objectSpread({},stateParams.labels,_defineProperty({},paramName,value)))}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_grid_options.GridOptions,props),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.editors.pointSeries.thresholdLineSettings",defaultMessage:"Threshold Line"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_common.SwitchOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.show",{defaultMessage:"Show threshold line"}),paramName:"show",value:stateParams.thresholdLine.show,setValue:function setValue(paramName,value){return _setValue("thresholdLine",_objectSpread({},stateParams.thresholdLine,_defineProperty({},paramName,value)))}}),stateParams.thresholdLine.show&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_common.NumberInputOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.valueLabel",{defaultMessage:"Threshold value"}),paramName:"value",value:stateParams.thresholdLine.value,setValue:function setValue(paramName,value){return _setValue("thresholdLine",_objectSpread({},stateParams.thresholdLine,_defineProperty({},paramName,value||0)))}}),_react.default.createElement(_common.NumberInputOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.widthLabel",{defaultMessage:"Line width"}),paramName:"width",min:1,step:1,value:stateParams.thresholdLine.width,setValue:function setValue(paramName,value){return _setValue("thresholdLine",_objectSpread({},stateParams.thresholdLine,_defineProperty({},paramName,value||1)))}}),_react.default.createElement(_common.SelectOption,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.style",{defaultMessage:"Line style"}),options:options,paramName:"style",value:stateParams.thresholdLine.style,setValue:function setValue(paramName,value){return _setValue("thresholdLine",_objectSpread({},stateParams.thresholdLine,_defineProperty({},paramName,value)))}}),_react.default.createElement(_eui.EuiFormRow,{label:_i18n.i18n.translate("kbnVislibVisTypes.editors.pointSeries.thresholdLine.color",{defaultMessage:"Line color"})},_react.default.createElement(_eui.EuiColorPicker,{color:stateParams.thresholdLine.color,onChange:function onChange(value){_setValue("thresholdLine",_objectSpread({},stateParams.thresholdLine,{color:value}))}})))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GridOptions=GridOptions;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _common=__webpack_require__(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function GridOptions(_ref){var stateParams=_ref.stateParams,setValue=_ref.setValue,hasHistogramAgg=_ref.hasHistogramAgg;var setGrid=function setGrid(paramName,value){return setValue("grid",_objectSpread({},stateParams.grid,_defineProperty({},paramName,value)))};var options=(0,_react.useMemo)(function(){return[].concat(_toConsumableArray(stateParams.valueAxes.map(function(_ref2){var id=_ref2.id,name=_ref2.name;return{text:name,value:id}})),[{text:_i18n.i18n.translate("kbnVislibVisTypes.controls.pointSeries.gridAxis.dontShowLabel",{defaultMessage:"Don't show"}),value:""}])},[stateParams.valueAxes.map(function(_ref3){var id=_ref3.id;return id})]);(0,_react.useEffect)(function(){if(hasHistogramAgg){setGrid("categoryLines",false)}},[hasHistogramAgg]);return _react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbnVislibVisTypes.controls.pointSeries.gridAxis.gridText",defaultMessage:"Grid"}))),_react.default.createElement(_common.SwitchOption,{disabled:hasHistogramAgg,label:_i18n.i18n.translate("kbnVislibVisTypes.controls.pointSeries.gridAxis.xAxisLinesLabel",{defaultMessage:"Show x-axis lines"}),paramName:"categoryLines",tooltip:hasHistogramAgg?_i18n.i18n.translate("kbnVislibVisTypes.controls.pointSeries.gridAxis.yAxisLinesDisabledTooltip",{defaultMessage:"X-axis lines can't show for histograms."}):undefined,value:stateParams.grid.categoryLines,setValue:setGrid,dataTestSubj:"showCategoryLines"}),_react.default.createElement(_common.SelectOption,{id:"gridAxis",label:_i18n.i18n.translate("kbnVislibVisTypes.controls.pointSeries.gridAxis.yAxisLinesLabel",{defaultMessage:"Y-axis lines"}),options:options,paramName:"valueAxis",value:stateParams.grid.valueAxis||"",setValue:setGrid}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _options=__webpack_require__(90);var _legend_positions=__webpack_require__(375);var _services=__webpack_require__(113);function PointSeriesVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"line",title:_i18n.i18n.translate("kbnVislibVisTypes.line.lineTitle",{defaultMessage:"Line"}),icon:"visLine",description:_i18n.i18n.translate("kbnVislibVisTypes.line.lineDescription",{defaultMessage:"Emphasize trends"}),visConfig:{defaults:{type:"line",grid:{categoryLines:false},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"bottom",show:true,style:{},scale:{type:"linear"},labels:{show:true,filter:true,truncate:100},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:true,style:{},scale:{type:"linear",mode:"normal"},labels:{show:true,rotate:0,filter:false,truncate:100},title:{text:"Count"}}],seriesParams:[{show:"true",type:"line",mode:"normal",data:{label:"Count",id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:true,showCircles:true}],addTooltip:true,addLegend:true,legendPosition:_legend_positions.LegendPositions.RIGHT,times:[],addTimeMarker:false,labels:{},thresholdLine:{show:false,value:10,width:1,style:"full",color:_services.palettes.euiPaletteColorBlind.colors[9]}}},editorConfig:{collections:{legendPositions:(0,_legend_positions.getLegendPositions)(),positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes>"+"</vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_options.PointSeriesOptions}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.line.metricTitle",{defaultMessage:"Y-axis"}),min:1,aggFilter:["!geo_centroid","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:_i18n.i18n.translate("kbnVislibVisTypes.line.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality","top_hits"]},{group:"buckets",name:"segment",title:_i18n.i18n.translate("kbnVislibVisTypes.line.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.line.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"split",title:_i18n.i18n.translate("kbnVislibVisTypes.line.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])}})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=HistogramVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _options=__webpack_require__(90);function HistogramVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"pie",title:_i18n.i18n.translate("kbnVislibVisTypes.pie.pieTitle",{defaultMessage:"Pie"}),icon:"visPie",description:_i18n.i18n.translate("kbnVislibVisTypes.pie.pieDescription",{defaultMessage:"Compare parts of a whole"}),visConfig:{defaults:{type:"pie",addTooltip:true,addLegend:true,legendPosition:"right",isDonut:true,labels:{show:false,values:true,last_level:true,truncate:100}}},events:{brush:{disabled:true}},editorConfig:{collections:{legendPositions:[{text:_i18n.i18n.translate("kbnVislibVisTypes.pie.editorConfig.legendPositions.leftText",{defaultMessage:"Left"}),value:"left"},{text:_i18n.i18n.translate("kbnVislibVisTypes.pie.editorConfig.legendPositions.rightText",{defaultMessage:"Right"}),value:"right"},{text:_i18n.i18n.translate("kbnVislibVisTypes.pie.editorConfig.legendPositions.topText",{defaultMessage:"Top"}),value:"top"},{text:_i18n.i18n.translate("kbnVislibVisTypes.pie.editorConfig.legendPositions.bottomText",{defaultMessage:"Bottom"}),value:"bottom"}]},optionsTemplate:_options.PieOptions,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.pie.metricTitle",{defaultMessage:"Slice size"}),min:1,max:1,aggFilter:["sum","count","cardinality","top_hits"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",title:_i18n.i18n.translate("kbnVislibVisTypes.pie.segmentTitle",{defaultMessage:"Split slices"}),min:0,max:Infinity,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"split",title:_i18n.i18n.translate("kbnVislibVisTypes.pie.splitTitle",{defaultMessage:"Split chart"}),mustBeFirst:true,min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])},hierarchicalData:true,responseHandler:"vislib_slices"})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _options=__webpack_require__(90);var _legend_positions=__webpack_require__(375);var _services=__webpack_require__(113);function PointSeriesVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"area",title:_i18n.i18n.translate("kbnVislibVisTypes.area.areaTitle",{defaultMessage:"Area"}),icon:"visArea",description:_i18n.i18n.translate("kbnVislibVisTypes.area.areaDescription",{defaultMessage:"Emphasize the quantity beneath a line chart"}),visConfig:{defaults:{type:"area",grid:{categoryLines:false},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"bottom",show:true,style:{},scale:{type:"linear"},labels:{show:true,filter:true,truncate:100},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:true,style:{},scale:{type:"linear",mode:"normal"},labels:{show:true,rotate:0,filter:false,truncate:100},title:{text:"Count"}}],seriesParams:[{show:"true",type:"area",mode:"stacked",data:{label:"Count",id:"1"},drawLinesBetweenPoints:true,showCircles:true,interpolate:"linear",valueAxis:"ValueAxis-1"}],addTooltip:true,addLegend:true,legendPosition:_legend_positions.LegendPositions.RIGHT,times:[],addTimeMarker:false,thresholdLine:{show:false,value:10,width:1,style:"full",color:_services.palettes.euiPaletteColorBlind.colors[9]},labels:{}}},editorConfig:{collections:{legendPositions:(0,_legend_positions.getLegendPositions)(),positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes>"+"</vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_options.PointSeriesOptions}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.area.metricsTitle",{defaultMessage:"Y-axis"}),aggFilter:["!geo_centroid","!geo_bounds"],min:1,defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:_i18n.i18n.translate("kbnVislibVisTypes.area.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:"buckets",name:"segment",title:_i18n.i18n.translate("kbnVislibVisTypes.area.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.area.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"split",title:_i18n.i18n.translate("kbnVislibVisTypes.area.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])}})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=HeatmapVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _heatmap=_interopRequireDefault(__webpack_require__(1715));var _colormaps=__webpack_require__(84);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HeatmapVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"heatmap",title:_i18n.i18n.translate("kbnVislibVisTypes.heatmap.heatmapTitle",{defaultMessage:"Heat Map"}),icon:"visHeatmap",description:_i18n.i18n.translate("kbnVislibVisTypes.heatmap.heatmapDescription",{defaultMessage:"Shade cells within a matrix"}),visConfig:{defaults:{type:"heatmap",addTooltip:true,addLegend:true,enableHover:false,legendPosition:"right",times:[],colorsNumber:4,colorSchema:"Greens",setColorRange:false,colorsRange:[],invertColors:false,percentageMode:false,valueAxes:[{show:false,id:"ValueAxis-1",type:"value",scale:{type:"linear",defaultYExtents:false},labels:{show:false,rotate:0,overwriteColor:false,color:"black"}}]}},editorConfig:{collections:{legendPositions:[{value:"left",text:"left"},{value:"right",text:"right"},{value:"top",text:"top"},{value:"bottom",text:"bottom"}],scales:["linear","log","square root"],colorSchemas:Object.values(_colormaps.vislibColorMaps).map(function(value){return{id:value.id,label:value.label}})},optionsTemplate:_heatmap.default,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.heatmap.metricTitle",{defaultMessage:"Value"}),min:1,max:1,aggFilter:["count","avg","median","sum","min","max","cardinality","std_dev","top_hits"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",title:_i18n.i18n.translate("kbnVislibVisTypes.heatmap.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.heatmap.groupTitle",{defaultMessage:"Y-axis"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"split",title:_i18n.i18n.translate("kbnVislibVisTypes.heatmap.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])}})}module.exports=exports.default},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="visEditorSidebar__section">\n  <div class="visEditorSidebar__sectionTitle">\n    <div\n      i18n-id="kbnVislibVisTypes.editors.heatmap.basicSettingsTitle"\n      i18n-default-message="Basic Settings"\n    ></div>\n  </div>\n\n  <div class="visEditorSidebar__formRow">\n    <label\n      class="visEditorSidebar__formLabel"\n      for="addTooltip"\n      i18n-id="kbnVislibVisTypes.editors.heatmap.showTooltipsLabel"\n      i18n-default-message="Show Tooltips"\n    ></label>\n    <div class="visEditorSidebar__formControl">\n      <input class="kuiCheckBox" id="addTooltip" type="checkbox" ng-model="editorState.params.addTooltip">\n    </div>\n  </div>\n\n  <div class="visEditorSidebar__formRow">\n    <label\n      class="visEditorSidebar__formLabel"\n      for="enableHover"\n      i18n-id="kbnVislibVisTypes.editors.heatmap.highlightLabel"\n      i18n-default-message="Highlight"\n    ></label>\n    <div class="visEditorSidebar__formControl">\n      <input class="kuiCheckBox" id="enableHover" type="checkbox" ng-model="editorState.params.enableHover">\n    </div>\n  </div>\n\n  <div class="visEditorSidebar__formRow" ng-show="editorState.params.addLegend">\n    <label\n      class="visEditorSidebar__formLabel"\n      for="legendPosition"\n      i18n-id="kbnVislibVisTypes.editors.heatmap.legendPositionLabel"\n      i18n-default-message="Legend Position"\n    ></label>\n    <div class="visEditorSidebar__formControl">\n      <select\n        id="legendPosition"\n        class="kuiSelect visEditorSidebar__select"\n        ng-model="editorState.params.legendPosition"\n        ng-options="position.value as position.text for position in vis.type.editorConfig.collections.legendPositions"\n      ></select>\n    </div>\n  </div>\n</div>\n\n<div class="visEditorSidebar__section">\n\n  <div class="visEditorSidebar__sectionTitle">\n    <div\n      i18n-id="kbnVislibVisTypes.editors.heatmap.heatmapSettingsTitle"\n      i18n-default-message="Heatmap Settings"\n    ></div>\n  </div>\n\n  <heatmap-options></heatmap-options>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _options=__webpack_require__(90);var _legend_positions=__webpack_require__(375);function PointSeriesVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"horizontal_bar",title:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.horizontalBarTitle",{defaultMessage:"Horizontal Bar"}),icon:"visBarHorizontal",description:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.horizontalBarDescription",{defaultMessage:"Assign a continuous variable to each axis"}),visConfig:{defaults:{type:"histogram",grid:{categoryLines:false},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"left",show:true,style:{},scale:{type:"linear"},labels:{show:true,rotate:0,filter:false,truncate:200},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"bottom",show:true,style:{},scale:{type:"linear",mode:"normal"},labels:{show:true,rotate:75,filter:true,truncate:100},title:{text:"Count"}}],seriesParams:[{show:true,type:"histogram",mode:"normal",data:{label:"Count",id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:true,showCircles:true}],addTooltip:true,addLegend:true,legendPosition:_legend_positions.LegendPositions.RIGHT,times:[],addTimeMarker:false,labels:{}}},editorConfig:{collections:{legendPositions:(0,_legend_positions.getLegendPositions)(),positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes>"+"</vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_options.PointSeriesOptions}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.metricTitle",{defaultMessage:"Y-axis"}),min:1,aggFilter:["!geo_centroid","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:"buckets",name:"segment",title:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geohash_grid","!geotile_grid","!filter"]},{group:"buckets",name:"split",title:_i18n.i18n.translate("kbnVislibVisTypes.horizontalBar.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])}})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=GaugeVisType;var _i18n=__webpack_require__(2);var _vis_factory=__webpack_require__(45);var _schemas=__webpack_require__(33);var _colormaps=__webpack_require__(84);var _options=__webpack_require__(90);function GaugeVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"gauge",title:_i18n.i18n.translate("kbnVislibVisTypes.gauge.gaugeTitle",{defaultMessage:"Gauge"}),icon:"visGauge",description:_i18n.i18n.translate("kbnVislibVisTypes.gauge.gaugeDescription",{defaultMessage:"Gauges indicate the status of a metric. Use it to show how a metric's value relates to reference threshold values."}),visConfig:{defaults:{type:"gauge",addTooltip:true,addLegend:true,isDisplayWarning:false,gauge:{alignment:"automatic",extendRange:true,percentageMode:false,gaugeType:"Arc",gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",colorSchema:"Green to Red",gaugeColorMode:"Labels",colorsRange:[{from:0,to:50},{from:50,to:75},{from:75,to:100}],invertColors:false,labels:{show:true,color:"black"},scale:{show:true,labels:false,color:"rgba(105,112,125,0.2)"},type:"meter",style:{bgWidth:.9,width:.9,mask:false,bgMask:false,maskBars:50,bgFill:"rgba(105,112,125,0.2)",bgColor:true,subText:"",fontSize:60}}}},events:{brush:{disabled:true}},editorConfig:{collections:{gaugeTypes:[{text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.gaugeTypes.arcText",{defaultMessage:"Arc"}),value:"Arc"},{text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.gaugeTypes.circleText",{defaultMessage:"Circle"}),value:"Circle"}],alignments:[{value:"automatic",text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.alignmentAutomaticTitle",{defaultMessage:"Automatic"})},{value:"horizontal",text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.alignmentHorizontalTitle",{defaultMessage:"Horizontal"})},{value:"vertical",text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.alignmentVerticalTitle",{defaultMessage:"Vertical"})}],colorSchemas:_colormaps.colorSchemas},optionsTemplate:_options.GaugeOptions,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.gauge.metricTitle",{defaultMessage:"Metric"}),min:1,aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.gauge.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])},useCustomNoDataScreen:true})}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=GoalVisType;var _vis_factory=__webpack_require__(45);var _i18n=__webpack_require__(2);var _schemas=__webpack_require__(33);var _colormaps=__webpack_require__(84);var _options=__webpack_require__(90);function GoalVisType(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider);return VisFactory.createVislibVisualization({name:"goal",title:_i18n.i18n.translate("kbnVislibVisTypes.goal.goalTitle",{defaultMessage:"Goal"}),icon:"visGoal",description:_i18n.i18n.translate("kbnVislibVisTypes.goal.goalDescription",{defaultMessage:"A goal chart indicates how close you are to your final goal."}),visConfig:{defaults:{addTooltip:true,addLegend:false,isDisplayWarning:false,type:"gauge",gauge:{verticalSplit:false,autoExtend:false,percentageMode:true,gaugeType:"Arc",gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",useRanges:false,colorSchema:"Green to Red",gaugeColorMode:"None",colorsRange:[{from:0,to:1e4}],invertColors:false,labels:{show:true,color:"black"},scale:{show:false,labels:false,color:"rgba(105,112,125,0.2)",width:2},type:"meter",style:{bgFill:"rgba(105,112,125,0.2)",bgColor:false,labelColor:false,subText:"",fontSize:60}}}},events:{brush:{disabled:true}},editorConfig:{collections:{gaugeTypes:[{text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.gaugeTypes.arcText",{defaultMessage:"Arc"}),value:"Arc"},{text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.gaugeTypes.circleText",{defaultMessage:"Circle"}),value:"Circle"}],alignments:[{value:"automatic",text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.alignmentAutomaticTitle",{defaultMessage:"Automatic"})},{value:"horizontal",text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.alignmentHorizontalTitle",{defaultMessage:"Horizontal"})},{value:"vertical",text:_i18n.i18n.translate("kbnVislibVisTypes.gauge.alignmentVerticalTitle",{defaultMessage:"Vertical"})}],colorSchemas:_colormaps.colorSchemas},optionsTemplate:_options.GaugeOptions,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:_i18n.i18n.translate("kbnVislibVisTypes.goal.metricTitle",{defaultMessage:"Metric"}),min:1,aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"group",title:_i18n.i18n.translate("kbnVislibVisTypes.goal.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter"]}])},useCustomNoDataScreen:true})}module.exports=exports.default},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.noneResponseHandler=void 0;var _vis_response_handlers=__webpack_require__(353);var noneResponseHandler=function noneResponseHandler(){return{name:"none",handler:function handler(response){return new Promise(function(resolve){resolve(response)})}}};exports.noneResponseHandler=noneResponseHandler;_vis_response_handlers.VisResponseHandlersRegistryProvider.register(noneResponseHandler)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.noneRequestHandlerProvider=void 0;var _vis_request_handlers=__webpack_require__(354);var noneRequestHandlerProvider=function noneRequestHandlerProvider(){return{name:"none",handler:function handler(){return new Promise(function(resolve){resolve()})}}};exports.noneRequestHandlerProvider=noneRequestHandlerProvider;_vis_request_handlers.VisRequestHandlersRegistryProvider.register(noneRequestHandlerProvider)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultEditor=void 0;__webpack_require__(1733);__webpack_require__(1739);__webpack_require__(713);var _i18n=__webpack_require__(2);__webpack_require__(714);__webpack_require__(1751);__webpack_require__(1752);var _jquery=_interopRequireDefault(__webpack_require__(12));var _lodash=_interopRequireDefault(__webpack_require__(1));var _angular=_interopRequireDefault(__webpack_require__(17));var _default=_interopRequireDefault(__webpack_require__(1753));var _eui=__webpack_require__(3);var _parent_pipeline_agg_helper=__webpack_require__(120);var _editor_size=__webpack_require__(361);var _vis_editor_types=__webpack_require__(715);var _visualize_loader=__webpack_require__(362);var _agg_groups=__webpack_require__(61);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var defaultEditor=function defaultEditor($rootScope,$compile){var _class,_temp;return _temp=_class=function(){function DefaultEditor(el,savedObj){_classCallCheck(this,DefaultEditor);this.el=(0,_jquery.default)(el);this.savedObj=savedObj;this.vis=savedObj.vis;if(!this.vis.type.editorConfig.optionTabs&&this.vis.type.editorConfig.optionsTemplate){this.vis.type.editorConfig.optionTabs=[{name:"options",title:_i18n.i18n.translate("common.ui.vis.editors.sidebar.tabs.optionsLabel",{defaultMessage:"Options"}),editor:this.vis.type.editorConfig.optionsTemplate}]}}_createClass(DefaultEditor,[{key:"render",value:function render(_ref){var _this=this;var uiState=_ref.uiState,timeRange=_ref.timeRange,filters=_ref.filters,appState=_ref.appState;var $scope;var updateScope=function updateScope(){$scope.vis=_this.vis;$scope.uiState=uiState};return new Promise(function(resolve){if(!_this.$scope){_this.$scope=$scope=$rootScope.$new();updateScope();$scope.state=$scope.vis.copyCurrentState(true);$scope.oldState=$scope.vis.getSerializableState($scope.state);$scope.toggleSidebar=function(){$scope.$broadcast("render")};_this.el.one("renderComplete",resolve);$scope.stageEditableVis=function(){$scope.oldState=$scope.vis.getSerializableState($scope.state);$scope.vis.setCurrentState($scope.state);$scope.vis.updateState();$scope.vis.dirty=false};$scope.resetEditableVis=function(){$scope.state=$scope.vis.copyCurrentState(true);$scope.vis.dirty=false};$scope.autoApplyEnabled=false;if($scope.vis.type.editorConfig.enableAutoApply){$scope.toggleAutoApply=function(){$scope.autoApplyEnabled=!$scope.autoApplyEnabled};$scope.$watch("vis.dirty",_lodash.default.debounce(function(){if(!$scope.autoApplyEnabled||!$scope.vis.dirty)return;$scope.stageEditableVis()},800))}$scope.submitEditorWithKeyboard=function(event){if(event.ctrlKey&&event.keyCode===_eui.keyCodes.ENTER){event.preventDefault();event.stopPropagation();$scope.stageEditableVis()}};$scope.getSidebarClass=function(){if($scope.vis.type.editorConfig.defaultSize===_editor_size.DefaultEditorSize.SMALL){return"visEditor__collapsibleSidebar--small"}else if($scope.vis.type.editorConfig.defaultSize===_editor_size.DefaultEditorSize.MEDIUM){return"visEditor__collapsibleSidebar--medium"}else if($scope.vis.type.editorConfig.defaultSize===_editor_size.DefaultEditorSize.LARGE){return"visEditor__collapsibleSidebar--large"}};$scope.$watch(function(){return $scope.vis.getSerializableState($scope.state)},function(newState){$scope.vis.dirty=!_angular.default.equals(newState,$scope.oldState);var responseAggs=$scope.state.aggs.getResponseAggs();$scope.hasHistogramAgg=responseAggs.some(function(agg){return agg.type.name==="histogram"});$scope.metricAggs=responseAggs.filter(function(agg){return _lodash.default.get(agg,"schema.group")===_agg_groups.AggGroupNames.Metrics});var lastParentPipelineAgg=_lodash.default.findLast($scope.metricAggs,function(_ref2){var type=_ref2.type;return type.subtype===_parent_pipeline_agg_helper.parentPipelineAggHelper.subtype});$scope.lastParentPipelineAggTitle=lastParentPipelineAgg&&lastParentPipelineAgg.type.title},true);$scope.$watch(function(){return $scope.vis.getCurrentState(false)},function(newState){if(!_lodash.default.isEqual(newState,$scope.oldState)){$scope.state=$scope.vis.copyCurrentState(true);$scope.oldState=newState}},true);var template=(0,_jquery.default)(_default.default);_this.el.html(template);$compile(template)($scope)}else{$scope=_this.$scope;updateScope()}if(!_this._handler){var visualizationEl=_this.el.find(".visEditor__canvas")[0];(0,_visualize_loader.getVisualizeLoader)().then(function(loader){if(!visualizationEl){return}_this._loader=loader;_this._handler=_this._loader.embedVisualizationWithSavedObject(visualizationEl,_this.savedObj,{uiState:uiState,listenOnChange:false,timeRange:timeRange,filters:filters,appState:appState})})}else{_this._handler.update({timeRange:timeRange,filters:filters})}})}},{key:"resize",value:function resize(){}},{key:"destroy",value:function destroy(){if(this.$scope){this.$scope.$destroy();this.$scope=null}if(this._handler){this._handler.destroy()}}}]);return DefaultEditor}(),_defineProperty(_class,"key","default"),_temp};exports.defaultEditor=defaultEditor;_vis_editor_types.VisEditorTypesRegistryProvider.register(defaultEditor)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(17);var _modules=__webpack_require__(6);__webpack_require__(1734);__webpack_require__(1735);var _tooltipHtmlUnsafePopup=_interopRequireDefault(__webpack_require__(1737));var _tooltipPopup=_interopRequireDefault(__webpack_require__(1738));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana",["ui.bootstrap"]);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.bindHtml","ui.bootstrap.tooltip"]);angular.module("ui.bootstrap.tpls",["template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html"]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",_tooltipHtmlUnsafePopup.default)}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",_tooltipPopup.default)}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe);scope.$watch(attr.bindHtmlUnsafe,function bindHtmlUnsafeWatchAction(value){element.html(value||"")})}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1736);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position"]).provider("$tooltip",function(){var defaultOptions={placement:"top",animation:true,popupDelay:0};var triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"};var globalOptions={};this.options=function(value){angular.extend(globalOptions,value)};this.setTriggers=function setTriggers(triggers){angular.extend(triggerMap,triggers)};function snake_case(name){var regexp=/[A-Z]/g;var separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function($window,$compile,$timeout,$document,$position,$interpolate){return function $tooltip(type,prefix,defaultTriggerShow){var options=angular.extend({},defaultOptions,globalOptions);function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow;var hide=triggerMap[show]||show;return{show:show,hide:hide}}var directiveName=snake_case(type);var startSym=$interpolate.startSymbol();var endSym=$interpolate.endSymbol();var template="<div "+directiveName+"-popup "+'title="'+startSym+"title"+endSym+'" '+'content="'+startSym+"content"+endSym+'" '+'placement="'+startSym+"placement"+endSym+'" '+'animation="animation" '+'is-open="isOpen"'+">"+"</div>";return{restrict:"EA",compile:function compile(tElem,tAttrs){var tooltipLinker=$compile(template);return function link(scope,element,attrs){var tooltip;var tooltipLinkedScope;var transitionTimeout;var popupTimeout;var appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:false;var triggers=getTriggers(undefined);var hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]);var ttScope=scope.$new(true);var positionTooltip=function positionTooltip(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px";ttPosition.left+="px";tooltip.css(ttPosition)};ttScope.isOpen=false;function toggleTooltipBind(){if(!ttScope.isOpen){showTooltipBind()}else{hideTooltipBind()}}function showTooltipBind(){if(hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])){return}prepareTooltip();if(ttScope.popupDelay){if(!popupTimeout){popupTimeout=$timeout(show,ttScope.popupDelay,false);popupTimeout.then(function(reposition){return reposition()}).catch(function(error){if(error!=="canceled"){throw error}})}}else{show()()}}function hideTooltipBind(){scope.$evalAsync(function(){hide()})}function show(){popupTimeout=null;if(transitionTimeout){$timeout.cancel(transitionTimeout);transitionTimeout=null}if(!ttScope.content){return angular.noop}createTooltip();tooltip.css({top:0,left:0,display:"block"});ttScope.$digest();positionTooltip();ttScope.isOpen=true;ttScope.$digest();return positionTooltip}function hide(){ttScope.isOpen=false;$timeout.cancel(popupTimeout);popupTimeout=null;if(ttScope.animation){if(!transitionTimeout){transitionTimeout=$timeout(removeTooltip,500)}}else{removeTooltip()}}function createTooltip(){if(tooltip){removeTooltip()}tooltipLinkedScope=ttScope.$new();tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){if(appendToBody){$document.find("body").append(tooltip)}else{element.after(tooltip)}})}function removeTooltip(){transitionTimeout=null;if(tooltip){tooltip.remove();tooltip=null}if(tooltipLinkedScope){tooltipLinkedScope.$destroy();tooltipLinkedScope=null}}function prepareTooltip(){prepPlacement();prepPopupDelay()}attrs.$observe(type,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide()}});attrs.$observe(prefix+"Title",function(val){ttScope.title=val});function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"];var delay=parseInt(val,10);ttScope.popupDelay=!isNaN(delay)?delay:options.popupDelay}var unregisterTriggers=function unregisterTriggers(){element.unbind(triggers.show,showTooltipBind);element.unbind(triggers.hide,hideTooltipBind)};function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers();triggers=getTriggers(val);if(triggers.show===triggers.hide){element.bind(triggers.show,toggleTooltipBind)}else{element.bind(triggers.show,showTooltipBind);element.bind(triggers.hide,hideTooltipBind)}}prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody;if(appendToBody){scope.$on("$locationChangeSuccess",function closeTooltipOnLocationChangeSuccess(){if(ttScope.isOpen){hide()}})}scope.$on("$destroy",function onDestroyTooltip(){$timeout.cancel(transitionTimeout);$timeout.cancel(popupTimeout);unregisterTriggers();removeTooltip();ttScope=null})}}}}}]}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipPopup",function(){return{restrict:"EA",replace:true,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:true,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){if(el.currentStyle){return el.currentStyle[cssprop]}else if($window.getComputedStyle){return $window.getComputedStyle(el)[cssprop]}return el.style[cssprop]}function isStaticPositioned(element){return(getStyle(element,"position")||"static")==="static"}var parentOffsetEl=function parentOffsetEl(element){var docDomEl=$document[0];var offsetParent=element.offsetParent||docDomEl;while(offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent)){offsetParent=offsetParent.offsetParent}return offsetParent||docDomEl};return{position:function position(element){var elBCR=this.offset(element);var offsetParentBCR={top:0,left:0};var offsetParentEl=parentOffsetEl(element[0]);if(offsetParentEl!=$document[0]){offsetParentBCR=this.offset(angular.element(offsetParentEl));offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop;offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft}var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function offset(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function positionElements(hostEl,targetEl,positionStr,appendToBody){var positionStrParts=positionStr.split("-");var pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";var hostElPos,targetElWidth,targetElHeight,targetElPos;hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl);targetElWidth=targetEl.prop("offsetWidth");targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function center(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function left(){return hostElPos.left},right:function right(){return hostElPos.left+hostElPos.width}};var shiftHeight={center:function center(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function top(){return hostElPos.top},bottom:function bottom(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()};break}return targetElPos}}}])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="bsTooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\t\n    <div class="bsTooltip-arrow"></div>\t\n    <div class="bsTooltip-inner" bind-html-unsafe="content"></div>\t\n  </div>'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="bsTooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\t\n    <div class="bsTooltip-arrow"></div>\t\n    <div class="bsTooltip-inner" ng-bind="content"></div>\t\n  </div>'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1740)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _kbn_form_controller=__webpack_require__(1741);var _kbn_model_controller=__webpack_require__(1742);_modules.uiModules.get("kibana").config(function($provide){$provide.decorator("formDirective",_kbn_form_controller.decorateFormController);$provide.decorator("ngFormDirective",_kbn_form_controller.decorateFormController);$provide.decorator("ngModelDirective",_kbn_model_controller.decorateModelController)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decorateFormController=decorateFormController;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function decorateFormController($delegate,$injector){var _$delegate=_slicedToArray($delegate,1),directive=_$delegate[0];var FormController=directive.controller;var KbnFormController=function(_FormController){_inherits(KbnFormController,_FormController);function KbnFormController($scope,$element){var _getPrototypeOf2;var _this;_classCallCheck(this,KbnFormController);for(var _len=arguments.length,superArgs=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){superArgs[_key-2]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(KbnFormController)).call.apply(_getPrototypeOf2,[this].concat(superArgs)));var onSubmit=function onSubmit(event){_this._markInvalidTouched(event)};$element.on("submit",onSubmit);$scope.$on("$destroy",function(){$element.off("submit",onSubmit)});return _this}_createClass(KbnFormController,[{key:"errorCount",value:function errorCount(){return this._getInvalidModels().length}},{key:"softErrorCount",value:function softErrorCount(){return this._getInvalidModels().filter(function(model){return model.$touched||model.$dirty}).length}},{key:"$setTouched",value:function $setTouched(){this._getInvalidModels().forEach(function(model){return model.$setTouched()})}},{key:"_markInvalidTouched",value:function _markInvalidTouched(event){if(this.errorCount()){event.preventDefault();event.stopImmediatePropagation();this.$setTouched()}}},{key:"_getInvalidModels",value:function _getInvalidModels(){return this.$$controls.reduce(function(acc,control){if(typeof control._getInvalidModels==="function"){return[].concat(_toConsumableArray(acc),_toConsumableArray(control._getInvalidModels()))}if(control.$invalid){return[].concat(_toConsumableArray(acc),[control])}return acc},[])}}]);return KbnFormController}(FormController);_defineProperty(KbnFormController,"$inject",["$scope","$element"]);directive.controller=[].concat(_toConsumableArray($injector.annotate(KbnFormController)),_toConsumableArray($injector.annotate(FormController)),[function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return _construct(KbnFormController,args)}]);return $delegate}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decorateModelController=decorateModelController;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function decorateModelController($delegate,$injector){var _$delegate=_slicedToArray($delegate,1),directive=_$delegate[0];var ModelController=directive.controller;var KbnModelController=function(_ModelController){_inherits(KbnModelController,_ModelController);function KbnModelController($scope,$element){var _getPrototypeOf2;var _this;_classCallCheck(this,KbnModelController);for(var _len=arguments.length,superArgs=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){superArgs[_key-2]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(KbnModelController)).call.apply(_getPrototypeOf2,[this].concat(superArgs)));var onInvalid=function onInvalid(){_this.$setTouched()};$element.on("invalid",onInvalid);$scope.$on("$destroy",function(){$element.off("invalid",onInvalid)});return _this}return KbnModelController}(ModelController);_defineProperty(KbnModelController,"$inject",["$scope","$element"]);directive.controller=[].concat(_toConsumableArray($injector.annotate(KbnModelController)),_toConsumableArray($injector.annotate(ModelController)),[function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return _construct(KbnModelController,args)}]);return $delegate}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(81);var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _agg_group=__webpack_require__(1744);_modules.uiModules.get("app/visualize").directive("visEditorAggGroupWrapper",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_agg_group.DefaultEditorAggGroup),[["metricAggs",{watchDepth:"reference"}],["schemas",{watchDepth:"collection"}],["state",{watchDepth:"reference"}],["addSchema",{watchDepth:"reference"}],["onAggParamsChange",{watchDepth:"reference"}],["onAggTypeChange",{watchDepth:"reference"}],["onToggleEnableAgg",{watchDepth:"reference"}],["removeAgg",{watchDepth:"reference"}],["reorderAggs",{watchDepth:"reference"}],["setTouched",{watchDepth:"reference"}],["setValidity",{watchDepth:"reference"}],"groupName","formIsTouched","lastParentPipelineAggTitle"])}).directive("visEditorAggGroup",function(){return{restrict:"E",scope:true,require:"?^ngModel",template:function template(){return'<vis-editor-agg-group-wrapper\t\n            ng-if="setValidity"\t\n            form-is-touched="formIsTouched"\n            group-name="groupName"\n            last-parent-pipeline-agg-title="lastParentPipelineAggTitle"\n            metric-aggs="metricAggs"\n            state="state"\n            schemas="schemas"\t\n            add-schema="addSchema"\t\n            on-agg-params-change="onAggParamsChange"\n            on-agg-type-change="onAggTypeChange"\n            on-toggle-enable-agg="onToggleEnableAgg"\n            remove-agg="removeAgg"\n            reorder-aggs="reorderAggs"\n            set-validity="setValidity"\t\n            set-touched="setTouched"\t\n          ></vis-editor-agg-group-wrapper>'},link:function link($scope,$el,attr,ngModelCtrl){$scope.groupName=attr.groupName;$scope.$bind("schemas",attr.schemas);$scope.$watch(function(){return ngModelCtrl.$touched},function(value){$scope.formIsTouched=value});$scope.setValidity=function(isValid){ngModelCtrl.$setValidity("aggGroup".concat($scope.groupName),isValid)};$scope.setTouched=function(isTouched){if(isTouched){ngModelCtrl.$setTouched()}else{ngModelCtrl.$setUntouched()}}}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultEditorAggGroup=DefaultEditorAggGroup;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _agg_groups=__webpack_require__(61);var _agg=__webpack_require__(1745);var _agg_add=__webpack_require__(1746);var _agg_group_helper=__webpack_require__(1747);var _agg_group_state=__webpack_require__(1748);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DefaultEditorAggGroup(_ref){var formIsTouched=_ref.formIsTouched,groupName=_ref.groupName,lastParentPipelineAggTitle=_ref.lastParentPipelineAggTitle,metricAggs=_ref.metricAggs,state=_ref.state,_ref$schemas=_ref.schemas,schemas=_ref$schemas===void 0?[]:_ref$schemas,addSchema=_ref.addSchema,onAggParamsChange=_ref.onAggParamsChange,onAggTypeChange=_ref.onAggTypeChange,onToggleEnableAgg=_ref.onToggleEnableAgg,removeAgg=_ref.removeAgg,reorderAggs=_ref.reorderAggs,setTouched=_ref.setTouched,setValidity=_ref.setValidity;var groupNameLabel=(0,_agg_groups.aggGroupNamesMap)()[groupName];var group=state.aggs.bySchemaGroup[groupName]||[];var stats={max:0,count:group.length};schemas.forEach(function(schema){stats.max+=schema.max});var _useReducer=(0,_react.useReducer)(_agg_group_state.aggGroupReducer,group,_agg_group_state.initAggsState),_useReducer2=_slicedToArray(_useReducer,2),aggsState=_useReducer2[0],setAggsState=_useReducer2[1];var isGroupValid=Object.values(aggsState).every(function(item){return item.valid});var isAllAggsTouched=(0,_agg_group_helper.isInvalidAggsTouched)(aggsState);(0,_react.useEffect)(function(){setTouched(isAllAggsTouched)},[isAllAggsTouched]);(0,_react.useEffect)(function(){if(formIsTouched&&!isAllAggsTouched){Object.keys(aggsState).map(function(_ref2){var _ref3=_slicedToArray(_ref2,1),aggId=_ref3[0];setAggsState({type:_agg_group_state.AGGS_ACTION_KEYS.TOUCHED,payload:true,aggId:Number(aggId)})})}},[formIsTouched]);(0,_react.useEffect)(function(){setValidity(isGroupValid)},[isGroupValid]);var onDragEnd=function onDragEnd(_ref4){var source=_ref4.source,destination=_ref4.destination;if(source&&destination){var orderedGroup=Array.from(group);var _orderedGroup$splice=orderedGroup.splice(source.index,1),_orderedGroup$splice2=_slicedToArray(_orderedGroup$splice,1),removed=_orderedGroup$splice2[0];orderedGroup.splice(destination.index,0,removed);reorderAggs(orderedGroup)}};var setTouchedHandler=function setTouchedHandler(aggId,touched){setAggsState({type:_agg_group_state.AGGS_ACTION_KEYS.TOUCHED,payload:touched,aggId:aggId})};var setValidityHandler=function setValidityHandler(aggId,valid){setAggsState({type:_agg_group_state.AGGS_ACTION_KEYS.VALID,payload:valid,aggId:aggId})};return _react.default.createElement(_eui.EuiDragDropContext,{onDragEnd:onDragEnd},_react.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("div",null,groupNameLabel)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiDroppable,{droppableId:"agg_group_dnd_".concat(groupName)},_react.default.createElement(_react.default.Fragment,null,group.map(function(agg,index){return _react.default.createElement(_eui.EuiDraggable,{key:agg.id,index:index,draggableId:"agg_group_dnd_".concat(groupName,"_").concat(agg.id),customDragHandle:true},function(provided){return _react.default.createElement(_agg.DefaultEditorAgg,{agg:agg,aggIndex:index,aggIsTooLow:(0,_agg_group_helper.calcAggIsTooLow)(agg,index,group),dragHandleProps:provided.dragHandleProps,formIsTouched:aggsState[agg.id]?aggsState[agg.id].touched:false,groupName:groupName,isDraggable:stats.count>1,isLastBucket:groupName===_agg_groups.AggGroupNames.Buckets&&index===group.length-1,isRemovable:(0,_agg_group_helper.isAggRemovable)(agg,group),lastParentPipelineAggTitle:lastParentPipelineAggTitle,metricAggs:metricAggs,state:state,onAggParamsChange:onAggParamsChange,onAggTypeChange:onAggTypeChange,onToggleEnableAgg:onToggleEnableAgg,removeAgg:removeAgg,setTouched:function setTouched(isTouched){return setTouchedHandler(agg.id,isTouched)},setValidity:function setValidity(isValid){return setValidityHandler(agg.id,isValid)}})})}))),stats.max>stats.count&&_react.default.createElement(_agg_add.DefaultEditorAggAdd,{group:group,groupName:groupName,schemas:schemas,stats:stats,addSchema:addSchema})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultEditorAgg=DefaultEditorAgg;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _agg_params=__webpack_require__(589);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DefaultEditorAgg(_ref){var agg=_ref.agg,aggIndex=_ref.aggIndex,aggIsTooLow=_ref.aggIsTooLow,dragHandleProps=_ref.dragHandleProps,formIsTouched=_ref.formIsTouched,groupName=_ref.groupName,isDraggable=_ref.isDraggable,isLastBucket=_ref.isLastBucket,isRemovable=_ref.isRemovable,metricAggs=_ref.metricAggs,lastParentPipelineAggTitle=_ref.lastParentPipelineAggTitle,state=_ref.state,onAggParamsChange=_ref.onAggParamsChange,onAggTypeChange=_ref.onAggTypeChange,onToggleEnableAgg=_ref.onToggleEnableAgg,removeAgg=_ref.removeAgg,setTouched=_ref.setTouched,setValidity=_ref.setValidity;var _useState=(0,_react.useState)(agg.brandNew),_useState2=_slicedToArray(_useState,2),isEditorOpen=_useState2[0],setIsEditorOpen=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=_slicedToArray(_useState3,2),validState=_useState4[0],setValidState=_useState4[1];var showDescription=!isEditorOpen&&validState;var showError=!isEditorOpen&&!validState;var disabledParams;var aggError;var isLastBucketAgg=isLastBucket&&lastParentPipelineAggTitle&&agg.type;var SchemaComponent=agg.schema.editorComponent;if(isLastBucketAgg){if(["date_histogram","histogram"].includes(agg.type.name)){disabledParams=["min_doc_count"]}else{aggError=_i18n.i18n.translate("common.ui.aggTypes.metrics.wrongLastBucketTypeErrorMessage",{defaultMessage:'Last bucket aggregation must be "Date Histogram" or "Histogram" when using "{type}" metric aggregation.',values:{type:lastParentPipelineAggTitle},description:"Date Histogram and Histogram should not be translated"})}}var aggDescription="";if(agg.type&&agg.type.makeLabel){try{aggDescription=agg.type.makeLabel(agg)}catch(e){aggDescription=""}}(0,_react.useEffect)(function(){if(isLastBucketAgg&&["date_histogram","histogram"].includes(agg.type.name)){onAggParamsChange(agg.params,"min_doc_count",agg.type.name==="histogram"?true:0)}},[lastParentPipelineAggTitle,isLastBucket,agg.type]);var onToggle=function onToggle(isOpen){setIsEditorOpen(isOpen);if(!isOpen){setTouched(true)}};var onSetValidity=function onSetValidity(isValid){setValidity(isValid);setValidState(isValid)};var renderAggButtons=function renderAggButtons(){var actionIcons=[];if(showError){actionIcons.push({id:"hasErrors",color:"danger",type:"alert",tooltip:_i18n.i18n.translate("common.ui.vis.editors.agg.errorsAriaLabel",{defaultMessage:"Aggregation has errors"}),dataTestSubj:"hasErrorsAggregationIcon"})}if(agg.enabled&&isRemovable){actionIcons.push({id:"disableAggregation",color:"text",type:"eye",onClick:function onClick(){return onToggleEnableAgg(agg,false)},tooltip:_i18n.i18n.translate("common.ui.vis.editors.agg.disableAggButtonTooltip",{defaultMessage:"Disable aggregation"}),dataTestSubj:"toggleDisableAggregationBtn disable"})}if(!agg.enabled){actionIcons.push({id:"enableAggregation",color:"text",type:"eyeClosed",onClick:function onClick(){return onToggleEnableAgg(agg,true)},tooltip:_i18n.i18n.translate("common.ui.vis.editors.agg.enableAggButtonTooltip",{defaultMessage:"Enable aggregation"}),dataTestSubj:"toggleDisableAggregationBtn enable"})}if(isDraggable){actionIcons.push({id:"dragHandle",type:"grab",tooltip:_i18n.i18n.translate("common.ui.vis.editors.agg.modifyPriorityButtonTooltip",{defaultMessage:"Modify priority by dragging"}),dataTestSubj:"dragHandleBtn"})}if(isRemovable){actionIcons.push({id:"removeDimension",color:"danger",type:"cross",onClick:function onClick(){return removeAgg(agg)},tooltip:_i18n.i18n.translate("common.ui.vis.editors.agg.removeDimensionButtonTooltip",{defaultMessage:"Remove dimension"}),dataTestSubj:"removeDimensionBtn"})}return _react.default.createElement("div",dragHandleProps,actionIcons.map(function(icon){if(icon.id==="dragHandle"){var _ref2;return _react.default.createElement(_eui.EuiIconTip,{key:icon.id,type:icon.type,content:icon.tooltip,iconProps:(_ref2={},_defineProperty(_ref2,"aria-label",icon.tooltip),_defineProperty(_ref2,"data-test-subj",icon.dataTestSubj),_ref2),position:"bottom"})}return _react.default.createElement(_eui.EuiToolTip,{key:icon.id,position:"bottom",content:icon.tooltip},_react.default.createElement(_eui.EuiButtonIcon,{iconType:icon.type,color:icon.color,onClick:icon.onClick,"aria-label":icon.tooltip,"data-test-subj":icon.dataTestSubj}))}))};var buttonContent=_react.default.createElement(_react.default.Fragment,null,agg.schema.title," ",showDescription&&_react.default.createElement("span",null,aggDescription));return _react.default.createElement(_eui.EuiAccordion,{id:"visEditorAggAccordion".concat(agg.id),initialIsOpen:isEditorOpen,buttonContent:buttonContent,buttonClassName:"eui-textTruncate",buttonContentClassName:"visEditorSidebar__aggGroupAccordionButtonContent eui-textTruncate",className:"visEditorSidebar__section visEditorSidebar__collapsible visEditorSidebar__collapsible--marginBottom","aria-label":_i18n.i18n.translate("common.ui.vis.editors.agg.toggleEditorButtonAriaLabel",{defaultMessage:"Toggle {schema} editor",values:{schema:agg.schema.title}}),"data-test-subj":"visEditorAggAccordion".concat(agg.id),extraAction:renderAggButtons(),onToggle:onToggle},_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),SchemaComponent&&_react.default.createElement(SchemaComponent,{aggParams:agg.params,editorStateParams:state.params,setValue:onAggParamsChange}),_react.default.createElement(_agg_params.DefaultEditorAggParams,{agg:agg,aggError:aggError,aggIndex:aggIndex,aggIsTooLow:aggIsTooLow,disabledParams:disabledParams,formIsTouched:formIsTouched,groupName:groupName,indexPattern:agg.getIndexPattern(),metricAggs:metricAggs,state:state,onAggParamsChange:onAggParamsChange,onAggTypeChange:onAggTypeChange,setTouched:setTouched,setValidity:onSetValidity})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultEditorAggAdd=DefaultEditorAggAdd;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);var _agg_groups=__webpack_require__(61);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DefaultEditorAggAdd(_ref){var _ref$group=_ref.group,group=_ref$group===void 0?[]:_ref$group,groupName=_ref.groupName,schemas=_ref.schemas,addSchema=_ref.addSchema,stats=_ref.stats;var _useState=(0,_react.useState)(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var onSelectSchema=function onSelectSchema(schema){setIsPopoverOpen(false);addSchema(schema)};var addButton=_react.default.createElement(_eui.EuiButtonEmpty,{size:"xs",iconType:"plusInCircleFilled","data-test-subj":"visEditorAdd_".concat(groupName),onClick:function onClick(){return setIsPopoverOpen(!isPopoverOpen)}},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.vis.editors.aggAdd.addButtonLabel",defaultMessage:"Add"}));var groupNameLabel=groupName===_agg_groups.AggGroupNames.Buckets?_i18n.i18n.translate("common.ui.vis.editors.aggAdd.bucketLabel",{defaultMessage:"bucket"}):_i18n.i18n.translate("common.ui.vis.editors.aggAdd.metricLabel",{defaultMessage:"metric"});var isSchemaDisabled=function isSchemaDisabled(schema){var count=group.filter(function(agg){return agg.schema.name===schema.name}).length;return count>=schema.max};return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{id:"addGroupButtonPopover_".concat(groupName),button:addButton,isOpen:isPopoverOpen,panelPaddingSize:"none",repositionOnScroll:true,closePopover:function closePopover(){return setIsPopoverOpen(false)}},_react.default.createElement(_eui.EuiPopoverTitle,null,(groupName!==_agg_groups.AggGroupNames.Buckets||!stats.count)&&_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.vis.editors.aggAdd.addGroupButtonLabel",defaultMessage:"Add {groupNameLabel}",values:{groupNameLabel:groupNameLabel}}),groupName===_agg_groups.AggGroupNames.Buckets&&stats.count>0&&_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.vis.editors.aggAdd.addSubGroupButtonLabel",defaultMessage:"Add sub-{groupNameLabel}",values:{groupNameLabel:groupNameLabel}})),_react.default.createElement(_eui.EuiContextMenuPanel,{items:schemas.map(function(schema){return _react.default.createElement(_eui.EuiContextMenuItem,{key:"".concat(schema.name,"_").concat(schema.title),"data-test-subj":"visEditorAdd_".concat(groupName,"_").concat(schema.title),disabled:isPopoverOpen&&isSchemaDisabled(schema),onClick:function onClick(){return onSelectSchema(schema)}},schema.title)})}))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isInvalidAggsTouched=isInvalidAggsTouched;exports.calcAggIsTooLow=exports.isAggRemovable=void 0;var _lodash=__webpack_require__(1);var isAggRemovable=function isAggRemovable(agg,group){var metricCount=(0,_lodash.reduce)(group,function(count,aggregation){return aggregation.schema.name===agg.schema.name?++count:count},0);return metricCount>agg.schema.min};exports.isAggRemovable=isAggRemovable;var calcAggIsTooLow=function calcAggIsTooLow(agg,aggIndex,group){if(!agg.schema.mustBeFirst){return false}var firstDifferentSchema=(0,_lodash.findIndex)(group,function(aggr){return aggr.schema!==agg.schema});if(firstDifferentSchema===-1){return false}return aggIndex>firstDifferentSchema};exports.calcAggIsTooLow=calcAggIsTooLow;function isInvalidAggsTouched(aggsState){var invalidAggs=Object.values(aggsState).filter(function(agg){return!agg.valid});if((0,_lodash.isEmpty)(invalidAggs)){return false}return invalidAggs.every(function(agg){return agg.touched})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aggGroupReducer=aggGroupReducer;exports.initAggsState=initAggsState;exports.AGGS_ACTION_KEYS=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AGGS_ACTION_KEYS;exports.AGGS_ACTION_KEYS=AGGS_ACTION_KEYS;(function(AGGS_ACTION_KEYS){AGGS_ACTION_KEYS["TOUCHED"]="aggsTouched";AGGS_ACTION_KEYS["VALID"]="aggsValid"})(AGGS_ACTION_KEYS||(exports.AGGS_ACTION_KEYS=AGGS_ACTION_KEYS={}));function aggGroupReducer(state,action){var aggState=state[action.aggId]||{touched:false,valid:true};switch(action.type){case AGGS_ACTION_KEYS.TOUCHED:return _objectSpread({},state,_defineProperty({},action.aggId,_objectSpread({},aggState,{touched:action.payload})));case AGGS_ACTION_KEYS.VALID:return _objectSpread({},state,_defineProperty({},action.aggId,_objectSpread({},aggState,{valid:action.payload})));default:throw new Error}}function initAggsState(group){return group.reduce(function(state,agg){state[agg.id]={touched:false,valid:true};return state},{})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisOptionsReactWrapper=VisOptionsReactWrapper;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function VisOptionsReactWrapper(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,["component"]);return _react.default.createElement(Component,rest)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="visEditorSidebar__container">\n  <form\n    class="visEditorSidebar__form"\n    ng-submit="visualizeEditor.$valid && stageEditableVis()"\n    name="visualizeEditor"\n    novalidate\n    ng-keydown="submitEditorWithKeyboard($event)"\n  >\x3c!-- see http://goo.gl/9kgz5w --\x3e\n\n    <div\n      css-truncate\n      aria-label="{{\n        ::\'common.ui.vis.editors.sidebar.indexPatternAriaLabel\' | i18n:\n        {\n          defaultMessage: \'Index pattern: {title}\',\n          values: { title: vis.indexPattern.title }\n        }\n      }}"\n      ng-if="vis.type.requiresSearch && vis.type.options.showIndexSelection"\n      class="visEditorSidebar__indexPattern"\n      tabindex="0"\n      id="sidebarIndexPatternTitle"\n    >\n      {{ vis.indexPattern.title }}\n    </div>\n\n    <nav class="navbar visEditorSidebar__nav">\n      <div class="container-fluid">\n\n        \x3c!-- tabs --\x3e\n        <ul class="nav navbar-nav" role="tablist">\n          <li\n            role="tab"\n            aria-selected="{{sidebar.section === \'data\'}}"\n            ng-class="{active: sidebar.section == \'data\'}"\n            ng-show="sidebar.showData"\n          >\n            <a\n              class="visEditorSidebar__navLink"\n              ng-class="{\'visEditorSidebar__navLink-isSelected\': sidebar.section == \'data\'}"\n              ng-click="sidebar.section=\'data\'"\n              kbn-accessible-click\n              data-test-subj="visualizeEditDataLink"\n              i18n-id="common.ui.vis.editors.sidebar.tabs.dataLabel"\n              i18n-default-message="Data"\n            >\n            </a>\n          </li>\n\n          <li\n            role="tab"\n            aria-selected="{{sidebar.section === tab.name}}"\n            ng-repeat="tab in vis.type.editorConfig.optionTabs"\n            ng-class="{active: sidebar.section == tab.name}"\n            ng-if="vis.type.editorConfig.optionTabs.length > 1 || sidebar.showData"\n          >\n            <a\n              class="visEditorSidebar__navLink"\n              ng-class="{\'visEditorSidebar__navLink-isSelected\': sidebar.section == tab.name}"\n              ng-click="sidebar.section=tab.name"\n              kbn-accessible-click\n              data-test-subj="{{ \'visEditorTab\' + tab.name }}"\n            >\n              {{tab.title}}\n            </a>\n          </li>\n        </ul>\n\n        \x3c!-- controls --\x3e\n        <ul class="nav navbar-nav navbar-right">\n          <li\n            ng-if="visualizeEditor.errorCount() > 0 && visualizeEditor.errorCount() === visualizeEditor.softErrorCount()"\n            disabled\n            tooltip="{{::\'common.ui.vis.editors.sidebar.errorButtonTooltip\' | i18n: { defaultMessage: \'Errors in the highlighted fields need to be resolved.\' } }}"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400"\n            tooltip-append-to-body="1"\n          >\n            <div\n              class="kuiButton kuiButton--danger navbar-btn-link visEditorSidebar__navButtonLink"\n              aria-label="{{::\'common.ui.vis.editors.sidebar.errorButtonAriaLabel\' | i18n: { defaultMessage: \'Errors in the highlighted fields need to be resolved.\' } }}"\n            >\n              <icon aria-hidden="true" type="\'alert\'" color="\'danger\'"></icon>\n            </div>\n          </li>\n\n          <li\n            tooltip="{{::\'common.ui.vis.editors.sidebar.autoApplyChangesTooltip\' | i18n: { defaultMessage: \'Auto apply changes\' } }}"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400"\n            tooltip-append-to-body="1"\n            ng-if="vis.type.editorConfig.enableAutoApply"\n          >\n            <button\n              data-test-subj="visualizeEditorAutoButton"\n              class="kuiButton kuiButton--basic navbar-btn-link visEditorSidebar__navButtonLink"\n              aria-label="{{::\'common.ui.vis.editors.sidebar.autoApplyChangesAriaLabel\' | i18n: { defaultMessage: \'Auto update the visualization on every change\' } }}"\n              ng-click="toggleAutoApply()"\n              ng-class="{\n                \'kuiButton--primary\': autoApplyEnabled,\n                \'kuiButton--basic\': !autoApplyEnabled\n              }"\n            >\n              <icon aria-hidden="true" type="\'refresh\'"></icon>\n            </button>\n          </li>\n              <span\n                ng-show="autoApplyEnabled"\n                i18n-id="common.ui.vis.editors.sidebar.autoApplyChangesLabel"\n                i18n-default-message="Auto Apply"\n              >\n            </span>\n\n          <li\n            tooltip="{{::\'common.ui.vis.editors.sidebar.applyChangesTooltip\' | i18n: { defaultMessage: \'Apply changes\' } }}"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400" tooltip-append-to-body="1"\n            ng-hide="autoApplyEnabled || (visualizeEditor.errorCount() > 0 && visualizeEditor.errorCount() === visualizeEditor.softErrorCount())"\n          >\n            <button\n              data-test-subj="visualizeEditorRenderButton"\n              class="kuiButton kuiButton--primary navbar-btn-link visEditorSidebar__navButtonLink"\n              type="submit"\n              ng-disabled="!vis.dirty || autoApplyEnabled"\n              aria-label="{{::\'common.ui.vis.editors.sidebar.applyChangesAriaLabel\' | i18n: { defaultMessage: \'Update the visualization with your changes\' } }}"\n            >\n              <icon aria-hidden="true" type="\'play\'"></icon>\n            </button>\n          </li>\n\n          <li\n            tooltip="{{::\'common.ui.vis.editors.sidebar.discardChangesTooltip\' | i18n: { defaultMessage: \'Discard changes\' } }}"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400"\n            tooltip-append-to-body="1"\n            ng-hide="autoApplyEnabled"\n          >\n            <button\n              data-test-subj="visualizeEditorResetButton"\n              class="kuiButton navbar-btn-link visEditorSidebar__navButtonLink"\n              ng-disabled="!vis.dirty"\n              ng-click="resetEditableVis()"\n              aria-label="{{::\'common.ui.vis.editors.sidebar.discardChangesAriaLabel\' | i18n: { defaultMessage: \'Reset the visualization\' } }}"\n            >\n              <icon type="\'cross\'"></icon>\n            </button>\n          </li>\n        </ul>\n      </div>\n    </nav>\n\n    <div class="visEditorSidebar__config" ng-show="sidebar.section == \'data\'">\n      \x3c!-- metrics --\x3e\n      <vis-editor-agg-group\n        class="visEditorSidebar__aggGroup"\n        ng-if="vis.type.schemas.metrics"\n        group-name="metrics"\n        ng-model="_internalNgModelState"\n        data-test-subj="metricsAggGroup"\n        schemas="vis.type.schemas.metrics"\n      ></vis-editor-agg-group>\n      <div class="euiSpacer euiSpacer--s"></div>\n      \x3c!-- buckets --\x3e\n      <vis-editor-agg-group\n        class="visEditorSidebar__aggGroup"\n        ng-if="vis.type.schemas.buckets"\n        group-name="buckets"\n        ng-model="_internalNgModelState"\n        data-test-subj="bucketsAggGroup"\n        schemas="vis.type.schemas.buckets"\n      ></vis-editor-agg-group>\n    </div>\n\n    <div class="visEditorSidebar__config" ng-repeat="tab in vis.type.editorConfig.optionTabs" ng-show="sidebar.section == tab.name">\n      <vis-editor-vis-options\n        class="visEditorSidebar__options"\n        ng-model="_internalNgModelState"\n        editor-state="state"\n        has-histogram-agg="hasHistogramAgg"\n        vis="vis"\n        vis-data="visData"\n        ui-state="uiState"\n        visualize-editor="visualizeEditor"\n        editor="tab.editor"\n        on-agg-params-change="onAggParamsChange"\n      ></vis-editor-vis-options>\n    </div>\n\n  </form>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(12));var _modules=__webpack_require__(6);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("visEditorResizer",function(){return{restrict:"E",link:function link($scope,$el){var $left=$el.parent();$el.on("mousedown",function(event){$el.addClass("active");var startWidth=$left.width();var startX=event.pageX;function onMove(event){var newWidth=startWidth+event.pageX-startX;$left.width(newWidth)}(0,_jquery.default)(document.body).on("mousemove",onMove).one("mouseup",function(){$el.removeClass("active");(0,_jquery.default)(document.body).off("mousemove",onMove);$scope.$broadcast("render")})});$el.on("keydown",function(event){var keyCode=event.keyCode;if(keyCode===_eui.keyCodes.LEFT||keyCode===_eui.keyCodes.RIGHT){event.preventDefault();var startWidth=$left.width();var newWidth=startWidth+(keyCode===_eui.keyCodes.LEFT?-15:15);$left.width(newWidth);$scope.$broadcast("render")}})}}})},function(module,exports,__webpack_require__){"use strict";var _filter=__webpack_require__(411);var filterByName=(0,_filter.propFilter)("name");_filter.aggTypeFilters.addFilter(function(aggType,indexPatterns,aggConfig){var doesSchemaAllowAggType=filterByName([aggType],aggConfig.schema.aggFilter).length!==0;return doesSchemaAllowAggType})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="visEditor--default">\n  <div class="collapsible-sidebar visEditor__collapsibleSidebar" ng-class="::getSidebarClass()">\n    <vis-editor-sidebar class="visEditor__sidebar" />\n    <vis-editor-resizer\n      class="visEditor__resizer"\n      tabindex="0"\n      aria-label="{{::\'common.ui.vis.editors.resizeAriaLabels\' | i18n: { defaultMessage: \'Press left/right to resize the editor\' } }}"\n      data-test-subj="visualizeEditorResizer"\n    >&#xFE19;</vis-editor-resizer>\n  </div>\n\n  <div\n    class="visEditor__canvas"\n    data-shared-item\n    data-shared-items-container\n    render-complete\n    data-title="{{vis.title}}"\n    data-description="{{vis.description}}"\n  />\n\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _field_format_editors=__webpack_require__(723);var _bytes=__webpack_require__(1782);var _color=__webpack_require__(1787);var _date=__webpack_require__(1789);var _date_nanos=__webpack_require__(1791);var _duration=__webpack_require__(1793);var _number=__webpack_require__(452);var _percent=__webpack_require__(1795);var _static_lookup=__webpack_require__(1797);var _string=__webpack_require__(1799);var _truncate=__webpack_require__(1801);var _url=__webpack_require__(1804);_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _bytes.BytesFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _color.ColorFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _date.DateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _date_nanos.DateNanosFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _duration.DurationFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _number.NumberFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _percent.PercentFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _static_lookup.StaticLookupFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _string.StringFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _truncate.TruncateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _url.UrlFormatEditor})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"BytesFormatEditor",{enumerable:true,get:function get(){return _bytes.BytesFormatEditor}});var _bytes=__webpack_require__(1783)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BytesFormatEditor=void 0;var _number=__webpack_require__(452);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var BytesFormatEditor=function(_NumberFormatEditor){_inherits(BytesFormatEditor,_NumberFormatEditor);function BytesFormatEditor(props){var _this;_classCallCheck(this,BytesFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(BytesFormatEditor).call(this,props));_this.state=_objectSpread({},_this.state,{sampleInputs:[256,1024,515e4,199e7]});return _this}return BytesFormatEditor}(_number.NumberFormatEditor);exports.BytesFormatEditor=BytesFormatEditor;_defineProperty(BytesFormatEditor,"formatId","bytes")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var NumberFormatEditor=function(_DefaultFormatEditor){_inherits(NumberFormatEditor,_DefaultFormatEditor);function NumberFormatEditor(props){var _this;_classCallCheck(this,NumberFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(NumberFormatEditor).call(this,props));_this.state.sampleInputs=[1e4,12.345678,-1,-999,.52];return _this}_createClass(NumberFormatEditor,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,format=_this$props.format,formatParams=_this$props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.number.numeralLabel",defaultMessage:"Numeral.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react.default.createElement(_eui.EuiCode,null,defaultPattern)}}),helpText:_react.default.createElement("span",null,_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"https://adamwdraper.github.io/Numeral-js/"},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.number.documentationLabel",defaultMessage:"Documentation"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"}))),isInvalid:!!error,error:error},_react.default.createElement(_eui.EuiFieldText,{value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return NumberFormatEditor}(_default.DefaultFormatEditor);exports.NumberFormatEditor=NumberFormatEditor;_defineProperty(NumberFormatEditor,"formatId","number")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultFormatEditor=exports.convertSampleInput=void 0;var _react=__webpack_require__(0);var _propTypes=_interopRequireDefault(__webpack_require__(10));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var convertSampleInput=function convertSampleInput(converter,inputs){var error=null;var samples=[];try{samples=inputs.map(function(input){return{input:input,output:converter(input)}})}catch(e){error=_i18n.i18n.translate("common.ui.fieldEditor.defaultErrorMessage",{defaultMessage:"An error occurred while trying to use this format configuration: {message}",values:{message:e.message}})}return{error:error,samples:samples}};exports.convertSampleInput=convertSampleInput;var DefaultFormatEditor=function(_PureComponent){_inherits(DefaultFormatEditor,_PureComponent);function DefaultFormatEditor(props){var _this;_classCallCheck(this,DefaultFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(DefaultFormatEditor).call(this,props));_defineProperty(_assertThisInitialized(_this),"onChange",function(){var newParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _this$props=_this.props,onChange=_this$props.onChange,formatParams=_this$props.formatParams;onChange(_objectSpread({},formatParams,{},newParams))});_this.state={sampleInputs:[],sampleConverterType:"text",error:null,samples:[]};return _this}_createClass(DefaultFormatEditor,[{key:"render",value:function render(){return null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var format=nextProps.format,formatParams=nextProps.formatParams,onError=nextProps.onError;var sampleInputsByType=state.sampleInputsByType,sampleInputs=state.sampleInputs,sampleConverterType=state.sampleConverterType;var converter=format.getConverterFor(sampleConverterType);var type=_typeof(sampleInputsByType)==="object"&&formatParams.type;var inputs=type?sampleInputsByType[formatParams.type]||[]:sampleInputs;var output=convertSampleInput(converter,inputs);onError(output.error);return output}}]);return DefaultFormatEditor}(_react.PureComponent);exports.DefaultFormatEditor=DefaultFormatEditor;_defineProperty(DefaultFormatEditor,"propTypes",{fieldType:_propTypes.default.string.isRequired,format:_propTypes.default.object.isRequired,formatParams:_propTypes.default.object.isRequired,onChange:_propTypes.default.func.isRequired,onError:_propTypes.default.func.isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormatEditorSamples=exports.FormatEditorSamplesComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FormatEditorSamplesComponent=function(_PureComponent){_inherits(FormatEditorSamplesComponent,_PureComponent);function FormatEditorSamplesComponent(){_classCallCheck(this,FormatEditorSamplesComponent);return _possibleConstructorReturn(this,_getPrototypeOf(FormatEditorSamplesComponent).apply(this,arguments))}_createClass(FormatEditorSamplesComponent,[{key:"render",value:function render(){var _this$props=this.props,samples=_this$props.samples,intl=_this$props.intl,sampleType=_this$props.sampleType;var columns=[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.samples.inputHeader",defaultMessage:"Input"}),render:function render(input){return _typeof(input)==="object"?JSON.stringify(input):input}},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.samples.outputHeader",defaultMessage:"Output"}),render:function render(output){return sampleType==="html"?_react.default.createElement("div",{dangerouslySetInnerHTML:{__html:output}}):_react.default.createElement("div",null,output)}}];return samples.length?_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.samplesHeader",defaultMessage:"Samples"})},_react.default.createElement(_eui.EuiBasicTable,{className:"kbnFieldFormatEditor__samples",compressed:true,items:samples,columns:columns})):null}}]);return FormatEditorSamplesComponent}(_react.PureComponent);exports.FormatEditorSamplesComponent=FormatEditorSamplesComponent;_defineProperty(FormatEditorSamplesComponent,"defaultProps",{sampleType:"text"});_defineProperty(FormatEditorSamplesComponent,"propTypes",{samples:_propTypes.default.arrayOf(_propTypes.default.shape({input:_propTypes.default.any.isRequired,output:_propTypes.default.any.isRequired})).isRequired,sampleType:_propTypes.default.oneOf(["html","text"])});var FormatEditorSamples=(0,_react2.injectI18n)(FormatEditorSamplesComponent);exports.FormatEditorSamples=FormatEditorSamples},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ColorFormatEditor",{enumerable:true,get:function get(){return _color.ColorFormatEditor}});var _color=__webpack_require__(1788)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorFormatEditor=exports.ColorFormatEditorComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _color_default=__webpack_require__(721);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ColorFormatEditorComponent=function(_DefaultFormatEditor){_inherits(ColorFormatEditorComponent,_DefaultFormatEditor);function ColorFormatEditorComponent(props){var _this;_classCallCheck(this,ColorFormatEditorComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ColorFormatEditorComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"onColorChange",function(newColorParams,index){var colors=_toConsumableArray(_this.props.formatParams.colors);colors[index]=_objectSpread({},colors[index],{},newColorParams);_this.onChange({colors:colors})});_defineProperty(_assertThisInitialized(_this),"addColor",function(){var colors=_toConsumableArray(_this.props.formatParams.colors);_this.onChange({colors:[].concat(_toConsumableArray(colors),[_objectSpread({},_color_default.DEFAULT_COLOR)])})});_defineProperty(_assertThisInitialized(_this),"removeColor",function(index){var colors=_toConsumableArray(_this.props.formatParams.colors);colors.splice(index,1);_this.onChange({colors:colors})});_this.onChange({fieldType:props.fieldType});return _this}_createClass(ColorFormatEditorComponent,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,formatParams=_this$props.formatParams,fieldType=_this$props.fieldType,intl=_this$props.intl;var items=formatParams.colors&&formatParams.colors.length&&formatParams.colors.map(function(color,index){return _objectSpread({},color,{index:index})})||[];var columns=[fieldType==="string"?{field:"regex",name:intl.formatMessage({id:"common.ui.fieldEditor.color.patternLabel",defaultMessage:"Pattern (regular expression)"}),render:function render(value,item){return _react.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({regex:e.target.value},item.index)}})}}:{field:"range",name:intl.formatMessage({id:"common.ui.fieldEditor.color.rangeLabel",defaultMessage:"Range (min:max)"}),render:function render(value,item){return _react.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({range:e.target.value},item.index)}})}},{field:"text",name:intl.formatMessage({id:"common.ui.fieldEditor.color.textColorLabel",defaultMessage:"Text color"}),render:function render(color,item){return _react.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({text:newColor},item.index)}})}},{field:"background",name:intl.formatMessage({id:"common.ui.fieldEditor.color.backgroundLabel",defaultMessage:"Background color"}),render:function render(color,item){return _react.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({background:newColor},item.index)}})}},{name:intl.formatMessage({id:"common.ui.fieldEditor.color.exampleLabel",defaultMessage:"Example"}),render:function render(item){return _react.default.createElement("div",{style:{background:item.background,color:item.text}},"123456")}},{actions:[{name:intl.formatMessage({id:"common.ui.fieldEditor.color.deleteAria",defaultMessage:"Delete"}),description:intl.formatMessage({id:"common.ui.fieldEditor.color.deleteTitle",defaultMessage:"Delete color format"}),onClick:function onClick(item){_this2.removeColor(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}]}];return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addColor},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.color.addColorButton",defaultMessage:"Add color"})),_react.default.createElement(_eui.EuiSpacer,{size:"l"}))}}]);return ColorFormatEditorComponent}(_default.DefaultFormatEditor);exports.ColorFormatEditorComponent=ColorFormatEditorComponent;var ColorFormatEditor=(0,_react2.injectI18n)(ColorFormatEditorComponent);exports.ColorFormatEditor=ColorFormatEditor;ColorFormatEditor.formatId="color"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DateFormatEditor",{enumerable:true,get:function get(){return _date.DateFormatEditor}});var _date=__webpack_require__(1790)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DateFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(14));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DateFormatEditor=function(_DefaultFormatEditor){_inherits(DateFormatEditor,_DefaultFormatEditor);function DateFormatEditor(props){var _this;_classCallCheck(this,DateFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(DateFormatEditor).call(this,props));_this.state.sampleInputs=[Date.now(),(0,_moment.default)().startOf("year").valueOf(),(0,_moment.default)().endOf("year").valueOf()];return _this}_createClass(DateFormatEditor,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,format=_this$props.format,formatParams=_this$props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.date.momentLabel",defaultMessage:"Moment.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react.default.createElement(_eui.EuiCode,null,defaultPattern)}}),isInvalid:!!error,error:error,helpText:_react.default.createElement("span",null,_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"https://momentjs.com/"},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.date.documentationLabel",defaultMessage:"Documentation"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"})))},_react.default.createElement(_eui.EuiFieldText,{"data-test-subj":"dateEditorPattern",value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return DateFormatEditor}(_default.DefaultFormatEditor);exports.DateFormatEditor=DateFormatEditor;_defineProperty(DateFormatEditor,"formatId","date")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DateNanosFormatEditor",{enumerable:true,get:function get(){return _date_nanos.DateNanosFormatEditor}});var _date_nanos=__webpack_require__(1792)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DateNanosFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DateNanosFormatEditor=function(_DefaultFormatEditor){_inherits(DateNanosFormatEditor,_DefaultFormatEditor);function DateNanosFormatEditor(props){var _this;_classCallCheck(this,DateNanosFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(DateNanosFormatEditor).call(this,props));_this.state.sampleInputs=["2015-01-01T12:10:30.123456789Z","2019-05-08T06:55:21.567891234Z","2019-08-06T17:22:30.987654321Z"];return _this}_createClass(DateNanosFormatEditor,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,format=_this$props.format,formatParams=_this$props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.date.momentLabel",defaultMessage:"Moment.js format pattern (Default: {defaultPattern})",values:{defaultPattern:_react.default.createElement(_eui.EuiCode,null,defaultPattern)}}),isInvalid:!!error,error:error,helpText:_react.default.createElement("span",null,_react.default.createElement(_eui.EuiLink,{target:"_blank",href:"https://momentjs.com/"},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.date.documentationLabel",defaultMessage:"Documentation"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"})))},_react.default.createElement(_eui.EuiFieldText,{"data-test-subj":"dateEditorPattern",value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return DateNanosFormatEditor}(_default.DefaultFormatEditor);exports.DateNanosFormatEditor=DateNanosFormatEditor;_defineProperty(DateNanosFormatEditor,"formatId","date_nanos")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DurationFormatEditor",{enumerable:true,get:function get(){return _duration.DurationFormatEditor}});var _duration=__webpack_require__(1794)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DurationFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DurationFormatEditor=function(_DefaultFormatEditor){_inherits(DurationFormatEditor,_DefaultFormatEditor);function DurationFormatEditor(props){var _this;_classCallCheck(this,DurationFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(DurationFormatEditor).call(this,props));_this.state.sampleInputs=[-123,1,12,123,658,1988,3857,123292,923528271];_this.state.hasDecimalError=false;return _this}_createClass(DurationFormatEditor,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,format=_this$props.format,formatParams=_this$props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples,hasDecimalError=_this$state.hasDecimalError;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.duration.inputFormatLabel",defaultMessage:"Input format"}),isInvalid:!!error,error:hasDecimalError?null:error},_react.default.createElement(_eui.EuiSelect,{value:formatParams.inputFormat,options:format.type.inputFormats.map(function(format){return{value:format.kind,text:format.text}}),onChange:function onChange(e){_this2.onChange({inputFormat:e.target.value})},isInvalid:!!error})),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.duration.outputFormatLabel",defaultMessage:"Output format"}),isInvalid:!!error},_react.default.createElement(_eui.EuiSelect,{value:formatParams.outputFormat,options:format.type.outputFormats.map(function(format){return{value:format.method,text:format.text}}),onChange:function onChange(e){_this2.onChange({outputFormat:e.target.value})},isInvalid:!!error})),!format.isHuman()?_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.duration.decimalPlacesLabel",defaultMessage:"Decimal places"}),isInvalid:!!error,error:hasDecimalError?error:null},_react.default.createElement(_eui.EuiFieldNumber,{value:formatParams.outputPrecision,min:0,max:20,onChange:function onChange(e){_this2.onChange({outputPrecision:e.target.value?Number(e.target.value):null})},isInvalid:!!error})):null,_react.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var output=_get(_getPrototypeOf(DurationFormatEditor),"getDerivedStateFromProps",this).call(this,nextProps,state);var error=null;if(!nextProps.format.isHuman()&&nextProps.formatParams.outputPrecision>20){error=_i18n.i18n.translate("common.ui.fieldEditor.durationErrorMessage",{defaultMessage:"Decimal places must be between 0 and 20"});nextProps.onError(error);return _objectSpread({},output,{error:error,hasDecimalError:true})}return _objectSpread({},output,{hasDecimalError:false})}}]);return DurationFormatEditor}(_default.DefaultFormatEditor);exports.DurationFormatEditor=DurationFormatEditor;_defineProperty(DurationFormatEditor,"formatId","duration")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PercentFormatEditor",{enumerable:true,get:function get(){return _percent.PercentFormatEditor}});var _percent=__webpack_require__(1796)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PercentFormatEditor=void 0;var _number=__webpack_require__(452);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PercentFormatEditor=function(_NumberFormatEditor){_inherits(PercentFormatEditor,_NumberFormatEditor);function PercentFormatEditor(props){var _this;_classCallCheck(this,PercentFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(PercentFormatEditor).call(this,props));_this.state=_objectSpread({},_this.state,{sampleInputs:[.1,.99999,1,100,1e3]});return _this}return PercentFormatEditor}(_number.NumberFormatEditor);exports.PercentFormatEditor=PercentFormatEditor;_defineProperty(PercentFormatEditor,"formatId","percent")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StaticLookupFormatEditor",{enumerable:true,get:function get(){return _static_lookup.StaticLookupFormatEditor}});var _static_lookup=__webpack_require__(1798)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticLookupFormatEditor=exports.StaticLookupFormatEditorComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var StaticLookupFormatEditorComponent=function(_DefaultFormatEditor){_inherits(StaticLookupFormatEditorComponent,_DefaultFormatEditor);function StaticLookupFormatEditorComponent(){var _getPrototypeOf2;var _this;_classCallCheck(this,StaticLookupFormatEditorComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(StaticLookupFormatEditorComponent)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"onLookupChange",function(newLookupParams,index){var lookupEntries=_toConsumableArray(_this.props.formatParams.lookupEntries);lookupEntries[index]=_objectSpread({},lookupEntries[index],{},newLookupParams);_this.onChange({lookupEntries:lookupEntries})});_defineProperty(_assertThisInitialized(_this),"addLookup",function(){var lookupEntries=_toConsumableArray(_this.props.formatParams.lookupEntries);_this.onChange({lookupEntries:[].concat(_toConsumableArray(lookupEntries),[{}])})});_defineProperty(_assertThisInitialized(_this),"removeLookup",function(index){var lookupEntries=_toConsumableArray(_this.props.formatParams.lookupEntries);lookupEntries.splice(index,1);_this.onChange({lookupEntries:lookupEntries})});return _this}_createClass(StaticLookupFormatEditorComponent,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,formatParams=_this$props.formatParams,intl=_this$props.intl;var items=formatParams.lookupEntries&&formatParams.lookupEntries.length&&formatParams.lookupEntries.map(function(lookup,index){return _objectSpread({},lookup,{index:index})})||[];var columns=[{field:"key",name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.keyLabel",defaultMessage:"Key"}),render:function render(value,item){return _react.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({key:e.target.value},item.index)}})}},{field:"value",name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.valueLabel",defaultMessage:"Value"}),render:function render(value,item){return _react.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({value:e.target.value},item.index)}})}},{actions:[{name:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.deleteAria",defaultMessage:"Delete"}),description:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.deleteTitle",defaultMessage:"Delete entry"}),onClick:function onClick(item){_this2.removeLookup(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}],width:"30px"}];return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns,style:{maxWidth:"400px"}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addLookup},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.staticLookup.addEntryButton",defaultMessage:"Add entry"})),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.staticLookup.unknownKeyLabel",defaultMessage:"Value for unknown key"})},_react.default.createElement(_eui.EuiFieldText,{value:formatParams.unknownKeyValue||"",placeholder:intl.formatMessage({id:"common.ui.fieldEditor.staticLookup.leaveBlankPlaceholder",defaultMessage:"Leave blank to keep value as-is"}),onChange:function onChange(e){_this2.onChange({unknownKeyValue:e.target.value})}})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}}]);return StaticLookupFormatEditorComponent}(_default.DefaultFormatEditor);exports.StaticLookupFormatEditorComponent=StaticLookupFormatEditorComponent;var StaticLookupFormatEditor=(0,_react2.injectI18n)(StaticLookupFormatEditorComponent);exports.StaticLookupFormatEditor=StaticLookupFormatEditor;StaticLookupFormatEditor.formatId="static_lookup"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StringFormatEditor",{enumerable:true,get:function get(){return _string.StringFormatEditor}});var _string=__webpack_require__(1800)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var StringFormatEditor=function(_DefaultFormatEditor){_inherits(StringFormatEditor,_DefaultFormatEditor);function StringFormatEditor(props){var _this;_classCallCheck(this,StringFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(StringFormatEditor).call(this,props));_this.state.sampleInputs=["A Quick Brown Fox.","STAY CALM!","com.organizations.project.ClassName","hostname.net","SGVsbG8gd29ybGQ="];return _this}_createClass(StringFormatEditor,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,format=_this$props.format,formatParams=_this$props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.string.transformLabel",defaultMessage:"Transform"}),isInvalid:!!error,error:error},_react.default.createElement(_eui.EuiSelect,{"data-test-subj":"stringEditorTransform",defaultValue:formatParams.transform,options:format.type.transformOptions.map(function(option){return{value:option.kind,text:option.text}}),onChange:function onChange(e){_this2.onChange({transform:e.target.value})},isInvalid:!!error})),_react.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return StringFormatEditor}(_default.DefaultFormatEditor);exports.StringFormatEditor=StringFormatEditor;_defineProperty(StringFormatEditor,"formatId","string")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TruncateFormatEditor",{enumerable:true,get:function get(){return _truncate.TruncateFormatEditor}});var _truncate=__webpack_require__(1802)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TruncateFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _sample=__webpack_require__(1803);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TruncateFormatEditor=function(_DefaultFormatEditor){_inherits(TruncateFormatEditor,_DefaultFormatEditor);function TruncateFormatEditor(props){var _this;_classCallCheck(this,TruncateFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(TruncateFormatEditor).call(this,props));_this.state.sampleInputs=[_sample.sample];return _this}_createClass(TruncateFormatEditor,[{key:"render",value:function render(){var _this2=this;var formatParams=this.props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.truncate.lengthLabel",defaultMessage:"Field length"}),isInvalid:!!error,error:error},_react.default.createElement(_eui.EuiFieldNumber,{defaultValue:formatParams.fieldLength,onChange:function onChange(e){_this2.onChange({fieldLength:e.target.value?Number(e.target.value):null})},isInvalid:!!error})),_react.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return TruncateFormatEditor}(_default.DefaultFormatEditor);exports.TruncateFormatEditor=TruncateFormatEditor;_defineProperty(TruncateFormatEditor,"formatId","truncate")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sample=void 0;var sample="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae sem consequat, sollicitudin enim a, feugiat mi. Curabitur congue laoreet elit, eu dictum nisi commodo ut. Nullam congue sem a blandit commodo. Suspendisse eleifend sodales leo ac hendrerit. Nam fringilla tempor fermentum. Ut tristique pharetra sapien sit amet pharetra. Ut turpis massa, viverra id erat quis, fringilla vehicula risus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus tincidunt gravida gravida. Praesent et ligula viverra, semper lacus in, tristique elit. Cras ac eleifend diam. Nulla facilisi. Morbi id sagittis magna. Sed fringilla, magna in suscipit aliquet.";exports.sample=sample},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _default=__webpack_require__(64);var _samples=__webpack_require__(93);var _label_template_flyout=__webpack_require__(1805);var _url_template_flyout=__webpack_require__(1806);var _chrome=_interopRequireDefault(__webpack_require__(7));__webpack_require__(1807);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UrlFormatEditor=function(_DefaultFormatEditor){_inherits(UrlFormatEditor,_DefaultFormatEditor);function UrlFormatEditor(props){var _this;_classCallCheck(this,UrlFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(UrlFormatEditor).call(this,props));_defineProperty(_assertThisInitialized(_this),"onTypeChange",function(newType){var urlTemplate=_this.props.formatParams.urlTemplate;if(newType==="img"&&!urlTemplate){_this.onChange({type:newType,urlTemplate:_this.iconPattern})}else if(newType!=="img"&&urlTemplate===_this.iconPattern){_this.onChange({type:newType,urlTemplate:null})}else{_this.onChange({type:newType})}});_defineProperty(_assertThisInitialized(_this),"showUrlTemplateHelp",function(){_this.setState({showLabelTemplateHelp:false,showUrlTemplateHelp:true})});_defineProperty(_assertThisInitialized(_this),"hideUrlTemplateHelp",function(){_this.setState({showUrlTemplateHelp:false})});_defineProperty(_assertThisInitialized(_this),"showLabelTemplateHelp",function(){_this.setState({showLabelTemplateHelp:true,showUrlTemplateHelp:false})});_defineProperty(_assertThisInitialized(_this),"hideLabelTemplateHelp",function(){_this.setState({showLabelTemplateHelp:false})});var bp=_chrome.default.getBasePath();_this.iconPattern="".concat(bp,"/bundles/src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/{{value}}.png");_this.state=_objectSpread({},_this.state,{sampleInputsByType:{a:["john","/some/pathname/asset.png",1234],img:["go","stop",["de","ne","us","ni"],"cv"],audio:["hello.mp3"]},sampleConverterType:"html",showUrlTemplateHelp:false,showLabelTemplateHelp:false});return _this}_createClass(UrlFormatEditor,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,format=_this$props.format,formatParams=_this$props.formatParams;var _this$state=this.state,error=_this$state.error,samples=_this$state.samples,sampleConverterType=_this$state.sampleConverterType;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_label_template_flyout.LabelTemplateFlyout,{isVisible:this.state.showLabelTemplateHelp,onClose:this.hideLabelTemplateHelp}),_react.default.createElement(_url_template_flyout.UrlTemplateFlyout,{isVisible:this.state.showUrlTemplateHelp,onClose:this.hideUrlTemplateHelp}),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.typeLabel",defaultMessage:"Type"})},_react.default.createElement(_eui.EuiSelect,{"data-test-subj":"urlEditorType",value:formatParams.type,options:format.type.urlTypes.map(function(type){return{value:type.kind,text:type.text}}),onChange:function onChange(e){_this2.onTypeChange(e.target.value)}})),formatParams.type==="a"?_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.openTabLabel",defaultMessage:"Open in a new tab"})},_react.default.createElement(_eui.EuiSwitch,{label:formatParams.openLinkInCurrentTab?_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.offLabel",defaultMessage:"Off"}):_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.onLabel",defaultMessage:"On"}),checked:!formatParams.openLinkInCurrentTab,onChange:function onChange(e){_this2.onChange({openLinkInCurrentTab:!e.target.checked})}})):null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.urlTemplateLabel",defaultMessage:"URL template"}),helpText:_react.default.createElement(_eui.EuiLink,{onClick:this.showUrlTemplateHelp},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.template.helpLinkText",defaultMessage:"URL template help"})),isInvalid:!!error,error:error},_react.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorUrlTemplate",value:formatParams.urlTemplate||"",onChange:function onChange(e){_this2.onChange({urlTemplate:e.target.value})}})),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.labelTemplateLabel",defaultMessage:"Label template"}),helpText:_react.default.createElement(_eui.EuiLink,{onClick:this.showLabelTemplateHelp},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.url.labelTemplateHelpText",defaultMessage:"Label template help"})),isInvalid:!!error,error:error},_react.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorLabelTemplate",value:formatParams.labelTemplate||"",onChange:function onChange(e){_this2.onChange({labelTemplate:e.target.value})}})),_react.default.createElement(_samples.FormatEditorSamples,{samples:samples,sampleType:sampleConverterType}))}}]);return UrlFormatEditor}(_default.DefaultFormatEditor);exports.UrlFormatEditor=UrlFormatEditor;_defineProperty(UrlFormatEditor,"formatId","url")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LabelTemplateFlyout=exports.LabelTemplateFlyoutComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LabelTemplateFlyoutComponent=function LabelTemplateFlyoutComponent(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===void 0?false:_ref$isVisible,_ref$onClose=_ref.onClose,onClose=_ref$onClose===void 0?function(){}:_ref$onClose,intl=_ref.intl;return isVisible?_react.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplateHeader",defaultMessage:"Label Template"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplateLabel",defaultMessage:"If the URL in this field is large, it might be useful to provide an alternate template for the text version of the URL. This will be displayed instead of the url, but will still link to the URL. The format is a string which uses double curly brace notation {doubleCurlyBraces} to inject values. The following values can be accessed:",values:{doubleCurlyBraces:_react.default.createElement(_eui.EuiCode,null,"{{ }}")}})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_eui.EuiCode,null,"value")," ",_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.valueLabel",defaultMessage:"The fields value"})),_react.default.createElement("li",null,_react.default.createElement(_eui.EuiCode,null,"url")," ",_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.urlLabel",defaultMessage:"The formatted URL"}))),_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.labelTemplate.examplesHeader",defaultMessage:"Examples"})),_react.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,urlTemplate:"http://company.net/profiles?user_id={{value}}",labelTemplate:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.idLabel",defaultMessage:"User #{value}"},{value:"{{value}}"}),output:'<a href="http://company.net/profiles?user_id=1234">'+intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.output.idLabel",defaultMessage:"User"})+" #1234</a>"},{input:"/assets/main.css",urlTemplate:"http://site.com{{rawValue}}",labelTemplate:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.pathLabel",defaultMessage:"View Asset"}),output:'<a href="http://site.com/assets/main.css">'+intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.example.output.pathLabel",defaultMessage:"View Asset"})+"</a>"}],columns:[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.inputHeader",defaultMessage:"Input"}),width:"160px"},{field:"urlTemplate",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.urlHeader",defaultMessage:"URL Template"})},{field:"labelTemplate",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.labelHeader",defaultMessage:"Label Template"})},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.labelTemplate.outputHeader",defaultMessage:"Output"}),render:function render(value){return _react.default.createElement("span",{dangerouslySetInnerHTML:{__html:value}})}}]})))):null};exports.LabelTemplateFlyoutComponent=LabelTemplateFlyoutComponent;LabelTemplateFlyoutComponent.displayName="LabelTemplateFlyout";var LabelTemplateFlyout=(0,_react2.injectI18n)(LabelTemplateFlyoutComponent);exports.LabelTemplateFlyout=LabelTemplateFlyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlTemplateFlyout=exports.UrlTemplateFlyoutComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UrlTemplateFlyoutComponent=function UrlTemplateFlyoutComponent(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===void 0?false:_ref$isVisible,_ref$onClose=_ref.onClose,onClose=_ref$onClose===void 0?function(){}:_ref$onClose,intl=_ref.intl;return isVisible?_react.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateHeader",defaultMessage:"Url Template"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateLabel.fieldDetail",defaultMessage:"If a field only contains part of a URL then a {strongUrlTemplate} can be used to format the value as a complete URL. The format is a string which uses double curly brace notation {doubleCurlyBraces} to inject values. The following values can be accessed:",values:{doubleCurlyBraces:_react.default.createElement(_eui.EuiCode,null,"{{ }}"),strongUrlTemplate:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplateLabel.strongUrlTemplateLabel",defaultMessage:"Url Template"}))}})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_eui.EuiCode,null,"value")," ",_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.valueLabel",defaultMessage:"The URI-escaped value"})),_react.default.createElement("li",null,_react.default.createElement(_eui.EuiCode,null,"rawValue")," ",_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.rawValueLabel",defaultMessage:"The unescaped value"}))),_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.urlTemplate.examplesHeader",defaultMessage:"Examples"})),_react.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,template:"http://company.net/profiles?user_id={{value}}",output:"http://company.net/profiles?user_id=1234"},{input:"users/admin",template:"http://company.net/groups?id={{value}}",output:"http://company.net/groups?id=users%2Fadmin"},{input:"/images/favicon.ico",template:"http://www.site.com{{rawValue}}",output:"http://www.site.com/images/favicon.ico"}],columns:[{field:"input",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.inputHeader",defaultMessage:"Input"}),width:"160px"},{field:"template",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.templateHeader",defaultMessage:"Template"})},{field:"output",name:intl.formatMessage({id:"common.ui.fieldEditor.urlTemplate.outputHeader",defaultMessage:"Output"})}]})))):null};exports.UrlTemplateFlyoutComponent=UrlTemplateFlyoutComponent;UrlTemplateFlyoutComponent.displayName="UrlTemplateFlyout";var UrlTemplateFlyout=(0,_react2.injectI18n)(UrlTemplateFlyoutComponent);exports.UrlTemplateFlyout=UrlTemplateFlyout},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1808);__webpack_require__(1809);__webpack_require__(1810);__webpack_require__(1811);__webpack_require__(1812);__webpack_require__(1813);__webpack_require__(1814)},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/go.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/stop.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/de.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/ne.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/us.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/ni.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/legacy/ui/public/field_editor/components/field_format_editor/editors/url/icons/cv.png"},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(19));var _index=_interopRequireDefault(__webpack_require__(1818));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(58);__webpack_require__(378);__webpack_require__(379);__webpack_require__(1824);__webpack_require__(1862);__webpack_require__(1865);_routes.default.when("/dev_tools/console",{requireUICapability:"dev_tools.show",controller:"SenseController",template:_index.default})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-top-nav \n  app-name="\'console\'"\n  config="topNavMenu" \n></kbn-top-nav>\n<kbn-dev-tools-app data-test-subj="console">\n  <sense-history ng-show="showHistory" is-shown="showHistory" close="closeHistory()" history-dirty="lastRequestTimestamp"></sense-history>\n  <div class="conApp">\n    <div class="conApp__editor">\n      <ul class="conApp__autoComplete" id="autocomplete"></ul>\n      <div class="conApp__editorActions" id="ConAppEditorActions">\n        <kbn-tooltip text="{{:: \'console.sendRequestButtonTooltip\' | i18n: { defaultMessage: \'click to send request\' } }}">\n          <button\n            class="conApp__editorActionButton conApp__editorActionButton--success"\n            ng-click="sendSelected()"\n            data-test-subj="send-request-button">\n            <i class="fa fa-play"></i>\n          </button>\n        </kbn-tooltip>\n        <console-menu\n          auto-indent="autoIndent"\n          get-documentation="getDocumentation"\n          open-documentation="openDocumentation"\n          get-curl="getRequestsAsCURL"\n        >\n        </console-menu>\n      </div>\n\n      <div class="conApp__editorContent" id="ConAppEditor" data-test-subj="request-editor">GET _search\n  {\n    "query": { "match_all": {} }\n  }</div>\n\n    </div>\n    <div class="conApp__resizer" id="ConAppResizer">&#xFE19;</div>\n    <div class="conApp__output" data-test-subj="response-editor">\n      <div class="conApp__outputContent" id="ConAppOutput">{}</div>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n<div id="consoleWelcomePanel"></div>\n<div id="consoleHelpPanel"></div>\n<div id="consoleSettingsModal"></div>\n'},,,,,,function(module,exports,__webpack_require__){"use strict";var _doc_title=__webpack_require__(111);var _sense_editor_resize=__webpack_require__(728);var _jquery=_interopRequireDefault(__webpack_require__(12));var _input=__webpack_require__(729);var _output=__webpack_require__(732);var _app=_interopRequireDefault(__webpack_require__(1853));var _autocomplete=__webpack_require__(730);var _mappings=_interopRequireDefault(__webpack_require__(65));var _documentation_links=__webpack_require__(60);var _welcome_show_panel=__webpack_require__(1854);var _storage=_interopRequireDefault(__webpack_require__(128));var _get_top_nav=__webpack_require__(1857);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var _module=__webpack_require__(6).get("app/sense");_module.run(function($rootScope){_module.setupResizeCheckerForRootEditors=function($el){for(var _len=arguments.length,editors=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){editors[_key-1]=arguments[_key]}return _sense_editor_resize.applyResizeCheckerToEditors.apply(void 0,[$rootScope,$el].concat(editors))}});function showWelcomeMessageIfNeeded($scope){if(_storage.default.get("version_welcome_shown")!=="@@SENSE_REVISION"){var hideWelcomePanel=(0,_welcome_show_panel.showWelcomePanel)();$scope.$on("$destroy",function(){hideWelcomePanel()})}}_module.controller("SenseController",function SenseController($scope,$timeout,$location,kbnUiAceKeyboardModeService){_doc_title.docTitle.change("Console");showWelcomeMessageIfNeeded($scope);$scope.getRequestsAsCURL=function(){return""};var input;var output;$timeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var session;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:output=(0,_output.initializeOutput)((0,_jquery.default)("#ConAppOutput"));input=(0,_input.initializeInput)((0,_jquery.default)("#ConAppEditor"),(0,_jquery.default)("#ConAppEditorActions"),(0,_jquery.default)("#ConCopyAsCurl"),output,$scope.openDocumentation);(0,_app.default)(input,output,$location.search().load_from);kbnUiAceKeyboardModeService.initialize($scope,(0,_jquery.default)("#ConAppEditor"));session=input.getSession();session.getSelection().on("changeCursor",function(){$scope.getDocumentation()});$scope.getDocumentation();$scope.getRequestsAsCURL=input.getRequestsAsCURL;case 8:case"end":return _context.stop()}}},_callee)})));$scope.getDocumentation=function(){input.getRequestsInRange(function(requests){if(!requests||requests.length===0){$scope.documentation=null;$scope.$apply();return}var position=requests[0].range.end;position.column=position.column-1;var endpoint=(0,_autocomplete.getEndpointFromPosition)(input,position);if(endpoint&&endpoint.documentation&&endpoint.documentation.indexOf("http")!==-1){$scope.documentation=endpoint.documentation.replace("/master/","/".concat(_documentation_links.DOC_LINK_VERSION,"/"));$scope.documentation=$scope.documentation.replace("/current/","/".concat(_documentation_links.DOC_LINK_VERSION,"/"));$scope.$apply()}else{$scope.documentation=null;$scope.$apply()}})};$scope.showHistory=false;$scope.historyDirty=undefined;$scope.toggleHistory=function(){$scope.showHistory=!$scope.showHistory};$scope.closeHistory=function(){$scope.showHistory=false};$scope.topNavMenu=(0,_get_top_nav.getTopNavConfig)($scope,$scope.toggleHistory);$scope.openDocumentation=function(){if(!$scope.documentation){return}window.open($scope.documentation,"_blank")};$scope.sendSelected=function(){input.focus();input.sendCurrentRequestToES(function(){$scope.lastRequestTimestamp=(new Date).getTime()});return false};$scope.autoIndent=function(event){input.autoIndent();event.preventDefault();input.focus()};$scope.$on("$destroy",function(){_mappings.default.clearSubscriptions()})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUnmatchedEndpointComponents=getUnmatchedEndpointComponents;exports.getEndpointDescriptionByEndpoint=getEndpointDescriptionByEndpoint;exports.getEndpointBodyCompleteComponents=getEndpointBodyCompleteComponents;exports.getTopLevelUrlCompleteComponents=getTopLevelUrlCompleteComponents;exports.getGlobalAutocompleteComponents=getGlobalAutocompleteComponents;exports.setActiveApi=setActiveApi;exports._test=void 0;var _components=__webpack_require__(94);var _jquery=_interopRequireDefault(__webpack_require__(12));var _lodash=_interopRequireDefault(__webpack_require__(1));var _api=_interopRequireDefault(__webpack_require__(1841));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ACTIVE_API=new _api.default;var isNotAnIndexName=function isNotAnIndexName(name){return name[0]==="_"&&name!=="_all"};var idAutocompleteComponentFactory=function idAutocompleteComponentFactory(name,parent){return new _components.IdAutocompleteComponent(name,parent)};var parametrizedComponentFactories={getComponent:function getComponent(name,parent,provideDefault){if(this[name]){return this[name]}else if(provideDefault){return idAutocompleteComponentFactory}},index:function index(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,false)},indices:function indices(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,true)},type:function type(name,parent){return new _components.TypeAutocompleteComponent(name,parent,false)},types:function types(name,parent){return new _components.TypeAutocompleteComponent(name,parent,true)},id:function id(name,parent){return idAutocompleteComponentFactory(name,parent)},transform_id:function transform_id(name,parent){return idAutocompleteComponentFactory(name,parent)},username:function username(name,parent){return new _components.UsernameAutocompleteComponent(name,parent)},user:function user(name,parent){return new _components.UsernameAutocompleteComponent(name,parent)},template:function template(name,parent){return new _components.TemplateAutocompleteComponent(name,parent)},task_id:function task_id(name,parent){return idAutocompleteComponentFactory(name,parent)},ids:function ids(name,parent){return idAutocompleteComponentFactory(name,parent,true)},fields:function fields(name,parent){return new _components.FieldAutocompleteComponent(name,parent,true)},field:function field(name,parent){return new _components.FieldAutocompleteComponent(name,parent,false)},nodes:function nodes(name,parent){return new _components.ListComponent(name,["_local","_master","data:true","data:false","master:true","master:false"],parent)},node:function node(name,parent){return new _components.ListComponent(name,[],parent,false)}};function getUnmatchedEndpointComponents(){return ACTIVE_API.getUnmatchedEndpointComponents()}function getEndpointDescriptionByEndpoint(endpoint){return ACTIVE_API.getEndpointDescriptionByEndpoint(endpoint)}function getEndpointBodyCompleteComponents(endpoint){var desc=getEndpointDescriptionByEndpoint(endpoint);if(!desc){throw new Error("failed to resolve endpoint ['"+endpoint+"']")}return desc.bodyAutocompleteRootComponents}function getTopLevelUrlCompleteComponents(method){return ACTIVE_API.getTopLevelUrlCompleteComponents(method)}function getGlobalAutocompleteComponents(term,throwOnMissing){return ACTIVE_API.getGlobalAutocompleteComponents(term,throwOnMissing)}function loadApisFromJson(json,urlParametrizedComponentFactories,bodyParametrizedComponentFactories){urlParametrizedComponentFactories=urlParametrizedComponentFactories||parametrizedComponentFactories;bodyParametrizedComponentFactories=bodyParametrizedComponentFactories||urlParametrizedComponentFactories;var api=new _api.default(urlParametrizedComponentFactories,bodyParametrizedComponentFactories);var names=[];_lodash.default.each(json,function(apiJson,name){names.unshift(name);_lodash.default.each(apiJson.globals||{},function(globalJson,globalName){api.addGlobalAutocompleteRules(globalName,globalJson)});_lodash.default.each(apiJson.endpoints||{},function(endpointJson,endpointName){api.addEndpointDescription(endpointName,endpointJson)})});api.name=names.join(",");return api}function setActiveApi(api){if(_lodash.default.isString(api)){_jquery.default.ajax({url:"../api/console/api_server?sense_version="+encodeURIComponent("@@SENSE_VERSION")+"&apis="+encodeURIComponent(api),dataType:"json"}).then(function(data){setActiveApi(loadApisFromJson(data))},function(jqXHR){console.log("failed to load API '"+api+"': "+jqXHR.responseText)});return}ACTIVE_API=api}setActiveApi("es_6_0");var _test={loadApisFromJson:loadApisFromJson};exports._test=_test},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConstantComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _shared_component=__webpack_require__(78);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ConstantComponent=function(_SharedComponent){_inherits(ConstantComponent,_SharedComponent);function ConstantComponent(name,parent,options){var _this;_classCallCheck(this,ConstantComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ConstantComponent).call(this,name,parent));if(_lodash.default.isString(options)){options=[options]}_this.options=options||[name];return _this}_createClass(ConstantComponent,[{key:"getTerms",value:function getTerms(){return this.options}},{key:"addOption",value:function addOption(options){if(!Array.isArray(options)){options=[options]}[].push.apply(this.options,options);this.options=_lodash.default.uniq(this.options)}},{key:"match",value:function match(token,context,editor){if(token!==this.name){return null}return _get(_getPrototypeOf(ConstantComponent.prototype),"match",this).call(this,token,context,editor)}}]);return ConstantComponent}(_shared_component.SharedComponent);exports.ConstantComponent=ConstantComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SimpleParamComponent=void 0;var _shared_component=__webpack_require__(78);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var SimpleParamComponent=function(_SharedComponent){_inherits(SimpleParamComponent,_SharedComponent);function SimpleParamComponent(name,parent){_classCallCheck(this,SimpleParamComponent);return _possibleConstructorReturn(this,_getPrototypeOf(SimpleParamComponent).call(this,name,parent))}_createClass(SimpleParamComponent,[{key:"match",value:function match(token,context,editor){var result=_get(_getPrototypeOf(SimpleParamComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.name]=token;return result}}]);return SimpleParamComponent}(_shared_component.SharedComponent);exports.SimpleParamComponent=SimpleParamComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalProxy=void 0;var _shared_component=__webpack_require__(78);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ConditionalProxy=function(_SharedComponent){_inherits(ConditionalProxy,_SharedComponent);function ConditionalProxy(predicate,delegate){var _this;_classCallCheck(this,ConditionalProxy);_this=_possibleConstructorReturn(this,_getPrototypeOf(ConditionalProxy).call(this,"__condition"));_this.predicate=predicate;_this.delegate=delegate;return _this}_createClass(ConditionalProxy,[{key:"getTerms",value:function getTerms(context,editor){if(this.predicate(context,editor)){return this.delegate.getTerms(context,editor)}else{return null}}},{key:"match",value:function match(token,context,editor){if(this.predicate(context,editor)){return this.delegate.match(token,context,editor)}else{return false}}}]);return ConditionalProxy}(_shared_component.SharedComponent);exports.ConditionalProxy=ConditionalProxy},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalOnlyComponent=void 0;var _shared_component=__webpack_require__(78);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var GlobalOnlyComponent=function(_SharedComponent){_inherits(GlobalOnlyComponent,_SharedComponent);function GlobalOnlyComponent(){_classCallCheck(this,GlobalOnlyComponent);return _possibleConstructorReturn(this,_getPrototypeOf(GlobalOnlyComponent).apply(this,arguments))}_createClass(GlobalOnlyComponent,[{key:"getTerms",value:function getTerms(){return null}},{key:"match",value:function match(token,context){var result={next:[]};var globalRules=context.globalComponentResolver(token,false);if(globalRules){result.next.push.apply(result.next,globalRules)}if(result.next.length){return result}result.next=[this];return result}}]);return GlobalOnlyComponent}(_shared_component.SharedComponent);exports.GlobalOnlyComponent=GlobalOnlyComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _2=__webpack_require__(94);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ObjectComponent=function(_SharedComponent){_inherits(ObjectComponent,_SharedComponent);function ObjectComponent(name,constants,patternsAndWildCards){var _this;_classCallCheck(this,ObjectComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ObjectComponent).call(this,name));_this.constants=constants;_this.patternsAndWildCards=patternsAndWildCards;return _this}_createClass(ObjectComponent,[{key:"getTerms",value:function getTerms(context,editor){var options=[];_lodash.default.each(this.constants,function(component){options.push.apply(options,component.getTerms(context,editor))});_lodash.default.each(this.patternsAndWildCards,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};_lodash.default.each(this.constants,function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}});var globalRules=context.globalComponentResolver(token,false);if(globalRules){result.next.push.apply(result.next,globalRules)}if(result.next.length){return result}_lodash.default.each(this.patternsAndWildCards,function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}});return result}}]);return ObjectComponent}(_2.SharedComponent);exports.ObjectComponent=ObjectComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AcceptEndpointComponent=exports.URL_PATH_END_MARKER=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _shared_component=__webpack_require__(78);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var URL_PATH_END_MARKER="__url_path_end__";exports.URL_PATH_END_MARKER=URL_PATH_END_MARKER;var AcceptEndpointComponent=function(_SharedComponent){_inherits(AcceptEndpointComponent,_SharedComponent);function AcceptEndpointComponent(endpoint,parent){var _this;_classCallCheck(this,AcceptEndpointComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AcceptEndpointComponent).call(this,endpoint.id,parent));_this.endpoint=endpoint;return _this}_createClass(AcceptEndpointComponent,[{key:"match",value:function match(token,context,editor){if(token!==URL_PATH_END_MARKER){return null}if(this.endpoint.methods&&-1===_lodash.default.indexOf(this.endpoint.methods,context.method)){return null}var r=_get(_getPrototypeOf(AcceptEndpointComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.endpoint=this.endpoint;if(_lodash.default.isNumber(this.endpoint.priority)){r.priority=this.endpoint.priority}return r}}]);return AcceptEndpointComponent}(_shared_component.SharedComponent);exports.AcceptEndpointComponent=AcceptEndpointComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlPatternMatcher=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _2=__webpack_require__(94);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UrlPatternMatcher=function(){function UrlPatternMatcher(parametrizedComponentFactories){var _this=this;_classCallCheck(this,UrlPatternMatcher);_defineProperty(this,"getTopLevelComponents",function(method){var methodRoot=this[method];if(!methodRoot){return[]}return methodRoot.rootComponent.next});["HEAD","GET","PUT","POST","DELETE"].forEach(function(method){_this[method]={rootComponent:new _2.SharedComponent("ROOT"),parametrizedComponentFactories:parametrizedComponentFactories||{getComponent:function getComponent(){}}}})}_createClass(UrlPatternMatcher,[{key:"addEndpoint",value:function addEndpoint(pattern,endpoint){var _this2=this;endpoint.methods.forEach(function(method){var c;var activeComponent=_this2[method].rootComponent;var endpointComponents=endpoint.url_components||{};var partList=pattern.split("/");_lodash.default.each(partList,function(part,partIndex){if(part.search(/^{.+}$/)>=0){part=part.substr(1,part.length-2);if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);return}if(c=endpointComponents[part]){if(Array.isArray(c)){c=new _2.ListComponent(part,c,activeComponent)}else if(_lodash.default.isObject(c)&&c.type==="list"){c=new _2.ListComponent(part,c.list,activeComponent,c.multiValued,c.allow_non_valid)}else{console.warn("incorrectly configured url component ",part," in endpoint",endpoint);c=new _2.SharedComponent(part)}}else if(c=this[method].parametrizedComponentFactories.getComponent(part)){c=c(part,activeComponent)}else{c=new _2.SimpleParamComponent(part,activeComponent)}activeComponent=c}else{var lookAhead=part;var s;for(partIndex++;partIndex<partList.length;partIndex++){s=partList[partIndex];if(s.indexOf("{")>=0){break}lookAhead+="/"+s}if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);activeComponent.addOption(lookAhead)}else{c=new _2.ConstantComponent(part,activeComponent,lookAhead);activeComponent=c}}},_this2);new _2.AcceptEndpointComponent(endpoint,activeComponent)})}}]);return UrlPatternMatcher}();exports.UrlPatternMatcher=UrlPatternMatcher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _mappings=_interopRequireDefault(__webpack_require__(65));var _list_component=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function nonValidIndexType(token){return!(token==="_all"||token[0]!=="_")}var IndexAutocompleteComponent=function(_ListComponent){_inherits(IndexAutocompleteComponent,_ListComponent);function IndexAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,IndexAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(IndexAutocompleteComponent).call(this,name,_mappings.default.getIndices,parent,multiValued))}_createClass(IndexAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"index"}},{key:"getContextKey",value:function getContextKey(){return"indices"}}]);return IndexAutocompleteComponent}(_list_component.ListComponent);exports.IndexAutocompleteComponent=IndexAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var ace=__webpack_require__(58);__webpack_require__(733);var oop=ace.acequire("ace/lib/oop");var JSONMode=ace.acequire("ace/mode/json").Mode;var HighlightRules=__webpack_require__(733).OutputJsonHighlightRules;var MatchingBraceOutdent=ace.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=ace.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=ace.acequire("ace/mode/folding/cstyle").FoldMode;ace.acequire("ace/worker/worker_client");var AceTokenizer=ace.acequire("ace/tokenizer").Tokenizer;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(Mode,JSONMode);(function(){this.createWorker=function(){return null};this.$id="sense/mode/input"}).call(Mode.prototype)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _mappings=_interopRequireDefault(__webpack_require__(65));var _list_component=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function FieldGenerator(context){return _lodash.default.map(_mappings.default.getFields(context.indices,context.types),function(field){return{name:field.name,meta:field.type}})}var FieldAutocompleteComponent=function(_ListComponent){_inherits(FieldAutocompleteComponent,_ListComponent);function FieldAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,FieldAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(FieldAutocompleteComponent).call(this,name,FieldGenerator,parent,multiValued))}_createClass(FieldAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,function(token){return token.match(/[^\w.?*]/)})}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"field"}},{key:"getContextKey",value:function getContextKey(){return"fields"}}]);return FieldAutocompleteComponent}(_list_component.ListComponent);exports.FieldAutocompleteComponent=FieldAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _list_component=__webpack_require__(112);var _mappings=_interopRequireDefault(__webpack_require__(65));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function TypeGenerator(context){return _mappings.default.getTypes(context.indices)}function nonValidIndexType(token){return!(token==="_all"||token[0]!=="_")}var TypeAutocompleteComponent=function(_ListComponent){_inherits(TypeAutocompleteComponent,_ListComponent);function TypeAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,TypeAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(TypeAutocompleteComponent).call(this,name,TypeGenerator,parent,multiValued))}_createClass(TypeAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"type"}},{key:"getContextKey",value:function getContextKey(){return"types"}}]);return TypeAutocompleteComponent}(_list_component.ListComponent);exports.TypeAutocompleteComponent=TypeAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IdAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _shared_component=__webpack_require__(78);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IdAutocompleteComponent=function(_SharedComponent){_inherits(IdAutocompleteComponent,_SharedComponent);function IdAutocompleteComponent(name,parent,multi){var _this;_classCallCheck(this,IdAutocompleteComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(IdAutocompleteComponent).call(this,name,parent));_this.multi_match=multi;return _this}_createClass(IdAutocompleteComponent,[{key:"match",value:function match(token,context,editor){if(!token){return null}if(!this.multi_match&&Array.isArray(token)){return null}token=Array.isArray(token)?token:[token];if(_lodash.default.find(token,function(t){return t.match(/[\/,]/)})){return null}var r=_get(_getPrototypeOf(IdAutocompleteComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.id=token;return r}}]);return IdAutocompleteComponent}(_shared_component.SharedComponent);exports.IdAutocompleteComponent=IdAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateAutocompleteComponent=void 0;var _mappings=_interopRequireDefault(__webpack_require__(65));var _list_component=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TemplateAutocompleteComponent=function(_ListComponent){_inherits(TemplateAutocompleteComponent,_ListComponent);function TemplateAutocompleteComponent(name,parent){_classCallCheck(this,TemplateAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(TemplateAutocompleteComponent).call(this,name,_mappings.default.getTemplates,parent))}_createClass(TemplateAutocompleteComponent,[{key:"getContextKey",value:function getContextKey(){return"template"}}]);return TemplateAutocompleteComponent}(_list_component.ListComponent);exports.TemplateAutocompleteComponent=TemplateAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UsernameAutocompleteComponent=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _mappings=_interopRequireDefault(__webpack_require__(65));var _list_component=__webpack_require__(112);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function nonValidUsernameType(token){return token[0]==="_"}var UsernameAutocompleteComponent=function(_ListComponent){_inherits(UsernameAutocompleteComponent,_ListComponent);function UsernameAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,UsernameAutocompleteComponent);return _possibleConstructorReturn(this,_getPrototypeOf(UsernameAutocompleteComponent).call(this,name,_mappings.default.getIndices,parent,multiValued))}_createClass(UsernameAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1){return false}return!_lodash.default.find(tokens,nonValidUsernameType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"username"}},{key:"getContextKey",value:function getContextKey(){return"username"}}]);return UsernameAutocompleteComponent}(_list_component.ListComponent);exports.UsernameAutocompleteComponent=UsernameAutocompleteComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _components=__webpack_require__(94);var _url_params=__webpack_require__(1842);var _body_completer=__webpack_require__(1843);var _=__webpack_require__(1);function Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories){this.globalRules={};this.endpoints={};this.urlPatternMatcher=new _components.UrlPatternMatcher(urlParametrizedComponentFactories);this.globalBodyComponentFactories=bodyParametrizedComponentFactories;this.name=""}(function(cls){cls.addGlobalAutocompleteRules=function(parentNode,rules){this.globalRules[parentNode]=(0,_body_completer.compileBodyDescription)("GLOBAL."+parentNode,rules,this.globalBodyComponentFactories)};cls.getGlobalAutocompleteComponents=function(term,throwOnMissing){var result=this.globalRules[term];if(_.isUndefined(result)&&(throwOnMissing||_.isUndefined(throwOnMissing))){throw new Error("failed to resolve global components for  ['"+term+"']")}return result};cls.addEndpointDescription=function(endpoint,description){var copiedDescription={};_.extend(copiedDescription,description||{});_.defaults(copiedDescription,{id:endpoint,patterns:[endpoint],methods:["GET"]});_.each(copiedDescription.patterns,function(p){this.urlPatternMatcher.addEndpoint(p,copiedDescription)},this);copiedDescription.paramsAutocomplete=new _url_params.UrlParams(copiedDescription.url_params);copiedDescription.bodyAutocompleteRootComponents=(0,_body_completer.compileBodyDescription)(copiedDescription.id,copiedDescription.data_autocomplete_rules,this.globalBodyComponentFactories);this.endpoints[endpoint]=copiedDescription};cls.getEndpointDescriptionByEndpoint=function(endpoint){return this.endpoints[endpoint]};cls.getTopLevelUrlCompleteComponents=function(method){return this.urlPatternMatcher.getTopLevelComponents(method)};cls.getUnmatchedEndpointComponents=function(){return(0,_body_completer.globalsOnlyAutocompleteComponents)()};cls.clear=function(){this.endpoints={};this.globalRules={}}})(Api.prototype);var _default=Api;exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlParams=exports.ParamComponent=void 0;var _components=__webpack_require__(94);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var _=__webpack_require__(1);var ParamComponent=function(_ConstantComponent){_inherits(ParamComponent,_ConstantComponent);function ParamComponent(name,parent,description){var _this;_classCallCheck(this,ParamComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ParamComponent).call(this,name,parent));_this.description=description;return _this}_createClass(ParamComponent,[{key:"getTerms",value:function getTerms(){var t={name:this.name};if(this.description==="__flag__"){t.meta="flag"}else{t.meta="param";t.insertValue=this.name+"="}return[t]}}]);return ParamComponent}(_components.ConstantComponent);exports.ParamComponent=ParamComponent;var UrlParams=function(){function UrlParams(description,defaults){_classCallCheck(this,UrlParams);this.rootComponent=new _components.SharedComponent("ROOT");if(_.isUndefined(defaults)){defaults={pretty:"__flag__",format:["json","yaml"],filter_path:""}}description=_.clone(description||{});_.defaults(description,defaults);_.each(description,function(pDescription,param){var component=new ParamComponent(param,this.rootComponent,pDescription);if(Array.isArray(pDescription)){new _components.ListComponent(param,pDescription,component)}else if(pDescription==="__flag__"){new _components.ListComponent(param,["true","false"],component)}},this)}_createClass(UrlParams,[{key:"getTopLevelComponents",value:function getTopLevelComponents(){return this.rootComponent.next}}]);return UrlParams}();exports.UrlParams=UrlParams},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.globalsOnlyAutocompleteComponents=globalsOnlyAutocompleteComponents;exports.compileBodyDescription=compileBodyDescription;var _engine=__webpack_require__(737);var _components=__webpack_require__(94);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var _=__webpack_require__(1);function CompilingContext(endpointId,parametrizedComponentFactories){this.parametrizedComponentFactories=parametrizedComponentFactories;this.endpointId=endpointId}function resolvePathToComponents(tokenPath,context,editor,components){var walkStates=(0,_engine.walkTokenPath)(tokenPath,[new _engine.WalkingState("ROOT",components,[])],context,editor);var result=[].concat.apply([],_.pluck(walkStates,"components"));return result}var ScopeResolver=function(_SharedComponent){_inherits(ScopeResolver,_SharedComponent);function ScopeResolver(link,compilingContext){var _this;_classCallCheck(this,ScopeResolver);_this=_possibleConstructorReturn(this,_getPrototypeOf(ScopeResolver).call(this,"__scope_link"));if(_.isString(link)&&link[0]==="."){if(link==="."){link=compilingContext.endpointId}else{link=compilingContext.endpointId+link}}_this.link=link;_this.compilingContext=compilingContext;return _this}_createClass(ScopeResolver,[{key:"resolveLinkToComponents",value:function resolveLinkToComponents(context,editor){if(_.isFunction(this.link)){var desc=this.link(context,editor);return compileDescription(desc,this.compilingContext)}if(!_.isString(this.link)){throw new Error("unsupported link format",this.link)}var path=this.link.replace(/\./g,"{").split(/(\{)/);var endpoint=path[0];var components;try{if(endpoint==="GLOBAL"){if(path.length<3){throw new Error("missing term in global link: "+this.link)}var term=path[2];components=context.globalComponentResolver(term);path=path.slice(3)}else{path=path.slice(1);components=context.endpointComponentResolver(endpoint)}}catch(e){throw new Error("failed to resolve link ["+this.link+"]: "+e)}return resolvePathToComponents(path,context,editor,components)}},{key:"getTerms",value:function getTerms(context,editor){var options=[];var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){var componentResult=component.match(token,context,editor);if(componentResult&&componentResult.next){result.next.push.apply(result.next,componentResult.next)}});return result}}]);return ScopeResolver}(_components.SharedComponent);function getTemplate(description){if(description.__template){return description.__template}else if(description.__one_of){return getTemplate(description.__one_of[0])}else if(description.__any_of){return[]}else if(description.__scope_link){return{}}else if(Array.isArray(description)){if(description.length===1){if(_.isObject(description[0])){var innerTemplate=getTemplate(description[0]);return innerTemplate!=null?[innerTemplate]:[]}}return[]}else if(_.isObject(description)){return{}}else if(_.isString(description)&&!/^\{.*\}$/.test(description)){return description}else{return description}}function getOptions(description){var options={};var template=getTemplate(description);if(!_.isUndefined(template)){options.template=template}return options}function compileDescription(description,compilingContext){if(Array.isArray(description)){return[compileList(description,compilingContext)]}else if(_.isObject(description)){if(description.__scope_link){return[new ScopeResolver(description.__scope_link,compilingContext)]}if(description.__any_of){return[compileList(description.__any_of,compilingContext)]}if(description.__one_of){return _.flatten(_.map(description.__one_of,function(d){return compileDescription(d,compilingContext)}))}var obj=compileObject(description,compilingContext);if(description.__condition){return[compileCondition(description.__condition,obj,compilingContext)]}else{return[obj]}}else if(_.isString(description)&&/^\{.*\}$/.test(description)){return[compileParametrizedValue(description,compilingContext)]}else{return[new _components.ConstantComponent(description)]}}function compileParametrizedValue(value,compilingContext,template){value=value.substr(1,value.length-2).toLowerCase();var component=compilingContext.parametrizedComponentFactories.getComponent(value,true);if(!component){throw new Error("no factory found for '"+value+"'")}component=component(value,null,template);if(!_.isUndefined(template)){component=(0,_engine.wrapComponentWithDefaults)(component,{template:template})}return component}function compileObject(objDescription,compilingContext){var objectC=new _components.ConstantComponent("{");var constants=[];var patterns=[];_.each(objDescription,function(desc,key){if(key.indexOf("__")===0){return}var options=getOptions(desc);var component;if(/^\{.*\}$/.test(key)){component=compileParametrizedValue(key,compilingContext,options.template);patterns.push(component)}else if(key==="*"){component=new _components.SharedComponent(key);patterns.push(component)}else{options.name=key;component=new _components.ConstantComponent(key,null,[options]);constants.push(component)}_.map(compileDescription(desc,compilingContext),function(subComponent){component.addComponent(subComponent)})});objectC.addComponent(new _components.ObjectComponent("inner",constants,patterns));return objectC}function compileList(listRule,compilingContext){var listC=new _components.ConstantComponent("[");_.each(listRule,function(desc){_.each(compileDescription(desc,compilingContext),function(component){listC.addComponent(component)})});return listC}function compileCondition(description,compiledObject){if(description.lines_regex){return new _components.ConditionalProxy(function(context,editor){var lines=editor.getSession().getLines(context.requestStartRow,editor.getCursorPosition().row).join("\n");return new RegExp(description.lines_regex,"m").test(lines)},compiledObject)}else{throw"unknown condition type - got: "+JSON.stringify(description)}}function globalsOnlyAutocompleteComponents(){return[new _components.GlobalOnlyComponent("__global__")]}function compileBodyDescription(endpointId,description,parametrizedComponentFactories){return compileDescription(description,new CompilingContext(endpointId,parametrizedComponentFactories))}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detectCURL=detectCURL;exports.parseCURL=parseCURL;function detectCURLinLine(line){return line.match(/^\s*?curl\s+(-X[A-Z]+)?\s*['"]?.*?['"]?(\s*$|\s+?-d\s*?['"])/)}function detectCURL(text){if(!text)return false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=text.split("\n")[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var line=_step.value;if(detectCURLinLine(line)){return true}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return false}function parseCURL(text){var state="NONE";var out=[];var body=[];var line="";var lines=text.trim().split("\n");var matches;var EmptyLine=/^\s*$/;var Comment=/^\s*(?:#|\/{2,})(.*)\n?$/;var ExecutionComment=/^\s*#!/;var ClosingSingleQuote=/^([^']*)'/;var ClosingDoubleQuote=/^((?:[^\\"]|\\.)*)"/;var EscapedQuotes=/^((?:[^\\"']|\\.)+)/;var LooksLikeCurl=/^\s*curl\s+/;var CurlVerb=/-X ?(GET|HEAD|POST|PUT|DELETE)/;var HasProtocol=/[\s"']https?:\/\//;var CurlRequestWithProto=/[\s"']https?:\/\/[^\/ ]+\/+([^\s"']+)/;var CurlRequestWithoutProto=/[\s"'][^\/ ]+\/+([^\s"']+)/;var CurlData=/^.+\s(--data|-d)\s*/;var SenseLine=/^\s*(GET|HEAD|POST|PUT|DELETE)\s+\/?(.+)/;if(lines.length>0&&ExecutionComment.test(lines[0])){lines.shift()}function nextLine(){if(line.length>0){return true}if(lines.length===0){return false}line=lines.shift().replace(/[\r\n]+/g,"\n")+"\n";return true}function unescapeLastBodyEl(){var str=body.pop().replace(/\\([\\"'])/g,"$1");body.push(str)}function detectQuote(){if(line.substr(0,1)==="'"){line=line.substr(1);state="SINGLE_QUOTE"}else if(line.substr(0,1)==='"'){line=line.substr(1);state="DOUBLE_QUOTE"}else{state="UNQUOTED"}}function addBodyToOut(){if(body.length>0){out.push(body.join(""));body=[]}state="LF";out.push("\n")}function consumeMatching(pattern){var matches=line.match(pattern);if(matches){body.push(matches[1]);line=line.substr(matches[0].length);detectQuote()}else{body.push(line);line=""}}function parseCurlLine(){var verb="GET";var request="";var matches;if(matches=line.match(CurlVerb)){verb=matches[1]}var pattern=HasProtocol.test(line)?CurlRequestWithProto:CurlRequestWithoutProto;if(matches=line.match(pattern)){request=matches[1]}out.push(verb+" /"+request+"\n");if(matches=line.match(CurlData)){line=line.substr(matches[0].length);detectQuote();if(EmptyLine.test(line)){line=""}}else{state="NONE";line="";out.push("")}}while(nextLine()){if(state==="SINGLE_QUOTE"){consumeMatching(ClosingSingleQuote)}else if(state==="DOUBLE_QUOTE"){consumeMatching(ClosingDoubleQuote);unescapeLastBodyEl()}else if(state==="UNQUOTED"){consumeMatching(EscapedQuotes);if(body.length){unescapeLastBodyEl()}if(state==="UNQUOTED"){addBodyToOut();line=""}}else if(state==="BODY"){if(Comment.test(line)||EmptyLine.test(line)){addBodyToOut()}else{body.push(line);line=""}}else if(EmptyLine.test(line)){if(state!=="LF"){out.push("\n");state="LF"}line=""}else if(matches=line.match(Comment)){out.push("#"+matches[1]+"\n");state="NONE";line=""}else if(LooksLikeCurl.test(line)){parseCurlLine()}else if(matches=line.match(SenseLine)){out.push(matches[1]+" /"+matches[2]+"\n");line="";state="BODY"}else{out.push("### "+line);line=""}}addBodyToOut();return out.join("").trim()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var MODE={REQUEST_START:2,IN_REQUEST:4,MULTI_DOC_CUR_DOC_END:8,REQUEST_END:16,BETWEEN_REQUESTS:32};function RowParser(editor){var defaultEditor=editor;this.getRowParseMode=function(row){if(row===null||typeof row==="undefined"){row=editor.getCursorPosition().row}var session=editor.getSession();if(row>=session.getLength()||row<0){return MODE.BETWEEN_REQUESTS}var mode=session.getState(row);if(!mode){return MODE.BETWEEN_REQUESTS}if(mode!=="start"){return MODE.IN_REQUEST}var line=(session.getLine(row)||"").trim();if(!line||line[0]==="#"){return MODE.BETWEEN_REQUESTS}if(line.indexOf("}",line.length-1)>=0){row++;if(row<session.getLength()){line=(session.getLine(row)||"").trim();if(line.indexOf("{")===0){return MODE.MULTI_DOC_CUR_DOC_END|MODE.IN_REQUEST}}return MODE.REQUEST_END|MODE.MULTI_DOC_CUR_DOC_END}row++;if(row>=session.getLength()){return MODE.REQUEST_START|MODE.REQUEST_END}line=(session.getLine(row)||"").trim();if(line.indexOf("{")!==0){return MODE.REQUEST_START|MODE.REQUEST_END}return MODE.REQUEST_START};this.rowPredicate=function(row,editor,value){var mode=this.getRowParseMode(row,editor);return(mode&value)>0};this.isEndRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END)};this.isRequestEdge=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END|MODE.REQUEST_START)};this.isStartRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_START)};this.isInBetweenRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.BETWEEN_REQUESTS)};this.isInRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.IN_REQUEST)};this.isMultiDocDocEndRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.MULTI_DOC_CUR_DOC_END)};this.isEmptyToken=function(tokenOrTokenIter){var token=tokenOrTokenIter&&tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return!token||token.type==="whitespace"};this.isUrlOrMethodToken=function(tokenOrTokenIter){var t=tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return t&&t.type&&(t.type==="method"||t.type.indexOf("url")===0)};this.nextNonEmptyToken=function(tokenIter){var t=tokenIter.stepForward();while(t&&this.isEmptyToken(t)){t=tokenIter.stepForward()}return t};this.prevNonEmptyToken=function(tokenIter){var t=tokenIter.stepBackward();while((t||tokenIter.getCurrentTokenRow()>0)&&this.isEmptyToken(t)){t=tokenIter.stepBackward()}return t}}RowParser.prototype.MODE=MODE;var _default=RowParser;exports.default=_default;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var _brace=_interopRequireDefault(__webpack_require__(58));var _worker=__webpack_require__(1848);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var TextMode=_brace.default.acequire("ace/mode/text").Mode;var ScriptMode=__webpack_require__(1850).ScriptMode;var MatchingBraceOutdent=_brace.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace.default.acequire("ace/mode/folding/cstyle").FoldMode;var WorkerClient=_brace.default.acequire("ace/worker/worker_client").WorkerClient;var AceTokenizer=_brace.default.acequire("ace/tokenizer").Tokenizer;var HighlightRules=__webpack_require__(1851).InputHighlightRules;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode;this.createModeDelegates({"script-":ScriptMode})}oop.inherits(Mode,TextMode);(function(){this.getCompletions=function(){return[]};this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if(state!=="string_literal"){var match=line.match(/^.*[\{\(\[]\s*$/);if(match){indent+=tab}}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace","sense_editor"],_worker.workerModule,"SenseWorker");worker.attachToDocument(session.getDocument());worker.on("error",function(e){session.setAnnotations([e.data])});worker.on("ok",function(anno){session.setAnnotations(anno.data)});return worker}}).call(Mode.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.workerModule=void 0;var _worker=_interopRequireDefault(__webpack_require__(1849));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var workerModule={id:"sense_editor/mode/worker",src:_worker.default};exports.workerModule=workerModule},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]="/* eslint-disable */\n/* \n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the javascript\n  mode from the brace distro.\n*/\n\n(function (window) {\n  function resolveModuleId(id, paths) {\n    for (let testPath = id, tail = ''; testPath;) {\n      let alias = paths[testPath];\n      if ('string' === typeof alias) return alias + tail;\n      if (alias)\n        {return (\n          alias.location.replace(/\\/*$/, '/') +\n          (tail || alias.main || alias.name)\n        );}\n      if (alias === !1) return '';\n      let i = testPath.lastIndexOf('/');\n      if (-1 === i) break;\n      (tail = testPath.substr(i) + tail), (testPath = testPath.slice(0, i));\n    }\n    return id;\n  }\n  if (\n    !(\n      (void 0 !== window.window && window.document) ||\n      (window.acequire && window.define)\n    )\n  ) {\n    window.console ||\n      ((window.console = function () {\n        let msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({ type: 'log', data: msgs });\n      }),\n        (window.console.error = window.console.warn = window.console.log = window.console.trace =\n        window.console)),\n    (window.window = window),\n    (window.ace = window),\n    (window.onerror = function (message, file, line, col, err) {\n      postMessage({\n        type: 'error',\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack,\n        },\n      });\n    }),\n    (window.normalizeModule = function (parentId, moduleName) {\n      if (-1 !== moduleName.indexOf('!')) {\n        let chunks = moduleName.split('!');\n        return (\n          window.normalizeModule(parentId, chunks[0]) +\n            '!' +\n            window.normalizeModule(parentId, chunks[1])\n        );\n      }\n      if ('.' == moduleName.charAt(0)) {\n        let base = parentId\n          .split('/')\n          .slice(0, -1)\n          .join('/');\n        for (\n          moduleName = (base ? base + '/' : '') + moduleName;\n          -1 !== moduleName.indexOf('.') && previous != moduleName;\n\n        ) {\n          var previous = moduleName;\n          moduleName = moduleName\n            .replace(/^\\.\\//, '')\n            .replace(/\\/\\.\\//, '/')\n            .replace(/[^\\/]+\\/\\.\\.\\//, '');\n        }\n      }\n      return moduleName;\n    }),\n    (window.acequire = function acequire(parentId, id) {\n      if ((id || ((id = parentId), (parentId = null)), !id.charAt))\n        {throw Error(\n            'worker.js acequire() accepts only (parentId, id) as arguments'\n          );}\n      id = window.normalizeModule(parentId, id);\n      let module = window.acequire.modules[id];\n      if (module)\n        {return (\n            module.initialized ||\n              ((module.initialized = !0),\n              (module.exports = module.factory().exports)),\n            module.exports\n          );}\n      if (!window.acequire.tlns) return console.log('unable to load ' + id);\n      let path = resolveModuleId(id, window.acequire.tlns);\n      return (\n        '.js' != path.slice(-3) && (path += '.js'),\n        (window.acequire.id = id),\n        (window.acequire.modules[id] = {}),\n        importScripts(path),\n        window.acequire(parentId, id)\n      );\n    }),\n    (window.acequire.modules = {}),\n    (window.acequire.tlns = {}),\n    (window.define = function (id, deps, factory) {\n      if (\n        (2 == arguments.length\n          ? ((factory = deps),\n            'string' !== typeof id && ((deps = id), (id = window.acequire.id)))\n          : 1 == arguments.length &&\n              ((factory = id), (deps = []), (id = window.acequire.id)),\n          'function' !== typeof factory)\n      )\n        {return (\n            (window.acequire.modules[id] = {\n              exports: factory,\n              initialized: !0,\n            }),\n            void 0\n          );}\n      deps.length || (deps = ['require', 'exports', 'module']);\n      let req = function (childId) {\n        return window.acequire(id, childId);\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function () {\n          let module = this,\n            returnExports = factory.apply(\n              this,\n              deps.map(function (dep) {\n                switch (dep) {\n                  case 'require':\n                    return req;\n                  case 'exports':\n                    return module.exports;\n                  case 'module':\n                    return module;\n                  default:\n                    return req(dep);\n                }\n              })\n            );\n          return returnExports && (module.exports = returnExports), module;\n        },\n      };\n    }),\n    (window.define.amd = {}),\n    (acequire.tlns = {}),\n    (window.initBaseUrls = function (topLevelNamespaces) {\n      for (let i in topLevelNamespaces)\n        {acequire.tlns[i] = topLevelNamespaces[i];}\n    }),\n    (window.initSender = function () {\n      let EventEmitter = window.acequire('ace/lib/event_emitter')\n          .EventEmitter,\n        oop = window.acequire('ace/lib/oop'),\n        Sender = function () {};\n      return (\n        function () {\n          oop.implement(this, EventEmitter),\n          (this.callback = function (data, callbackId) {\n            postMessage({ type: 'call', id: callbackId, data: data });\n          }),\n          (this.emit = function (name, data) {\n            postMessage({ type: 'event', name: name, data: data });\n          });\n        }.call(Sender.prototype),\n        new Sender()\n      );\n    });\n    let main = (window.main = null),\n      sender = (window.sender = null);\n    window.onmessage = function (e) {\n      let msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        {if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command])\n            throw Error('Unknown command:' + msg.command);\n          window[msg.command].apply(window, msg.args);\n        }}\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns),\n        acequire('ace/lib/es5-shim'),\n        (sender = window.sender = window.initSender());\n        let clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n      }\n    };\n  }\n}(this)),\nace.define('ace/lib/oop', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.inherits = function (ctor, superCtor) {\n    (ctor.super_ = superCtor),\n    (ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0,\n      },\n    }));\n  }),\n  (exports.mixin = function (obj, mixin) {\n    for (let key in mixin) obj[key] = mixin[key];\n    return obj;\n  }),\n  (exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  });\n}),\nace.define('ace/range', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  let comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    },\n    Range = function (startRow, startColumn, endRow, endColumn) {\n      (this.start = { row: startRow, column: startColumn }),\n      (this.end = { row: endRow, column: endColumn });\n    };\n  (function () {\n    (this.isEqual = function (range) {\n      return (\n        this.start.row === range.start.row &&\n          this.end.row === range.end.row &&\n          this.start.column === range.start.column &&\n          this.end.column === range.end.column\n      );\n    }),\n    (this.toString = function () {\n      return (\n        'Range: [' +\n            this.start.row +\n            '/' +\n            this.start.column +\n            '] -> [' +\n            this.end.row +\n            '/' +\n            this.end.column +\n            ']'\n      );\n    }),\n    (this.contains = function (row, column) {\n      return 0 == this.compare(row, column);\n    }),\n    (this.compareRange = function (range) {\n      let cmp,\n        end = range.end,\n        start = range.start;\n      return (\n        (cmp = this.compare(end.row, end.column)),\n        1 == cmp\n          ? ((cmp = this.compare(start.row, start.column)),\n            1 == cmp ? 2 : 0 == cmp ? 1 : 0)\n          : -1 == cmp\n            ? -2\n            : ((cmp = this.compare(start.row, start.column)),\n              -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n      );\n    }),\n    (this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    }),\n    (this.containsRange = function (range) {\n      return (\n        0 == this.comparePoint(range.start) &&\n            0 == this.comparePoint(range.end)\n      );\n    }),\n    (this.intersects = function (range) {\n      let cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp;\n    }),\n    (this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    }),\n    (this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    }),\n    (this.setStart = function (row, column) {\n      'object' === typeof row\n        ? ((this.start.column = row.column), (this.start.row = row.row))\n        : ((this.start.row = row), (this.start.column = column));\n    }),\n    (this.setEnd = function (row, column) {\n      'object' === typeof row\n        ? ((this.end.column = row.column), (this.end.row = row.row))\n        : ((this.end.row = row), (this.end.column = column));\n    }),\n    (this.inside = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column) || this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideStart = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideEnd = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.compare = function (row, column) {\n      return this.isMultiLine() || row !== this.start.row\n        ? this.start.row > row\n          ? -1\n          : row > this.end.row\n            ? 1\n            : this.start.row === row\n              ? column >= this.start.column\n                ? 0\n                : -1\n              : this.end.row === row\n                ? this.end.column >= column\n                  ? 0\n                  : 1\n                : 0\n        : this.start.column > column\n          ? -1\n          : column > this.end.column\n            ? 1\n            : 0;\n    }),\n    (this.compareStart = function (row, column) {\n      return this.start.row == row && this.start.column == column\n        ? -1\n        : this.compare(row, column);\n    }),\n    (this.compareEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.compare(row, column);\n    }),\n    (this.compareInside = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.start.row == row && this.start.column == column\n          ? -1\n          : this.compare(row, column);\n    }),\n    (this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };\n      else if (firstRow > this.end.row)\n        {var end = { row: firstRow, column: 0 };}\n      if (this.start.row > lastRow)\n        {var start = { row: lastRow + 1, column: 0 };}\n      else if (firstRow > this.start.row)\n        {var start = { row: firstRow, column: 0 };}\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.extend = function (row, column) {\n      let cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = { row: row, column: column };\n      else var end = { row: row, column: column };\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.isEmpty = function () {\n      return (\n        this.start.row === this.end.row &&\n            this.start.column === this.end.column\n      );\n    }),\n    (this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    }),\n    (this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    }),\n    (this.collapseRows = function () {\n      return 0 == this.end.column\n        ? new Range(\n          this.start.row,\n          0,\n          Math.max(this.start.row, this.end.row - 1),\n          0\n        )\n        : new Range(this.start.row, 0, this.end.row, 0);\n    }),\n    (this.toScreenRange = function (session) {\n      let screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(\n        screenPosStart.row,\n        screenPosStart.column,\n        screenPosEnd.row,\n        screenPosEnd.column\n      );\n    }),\n    (this.moveBy = function (row, column) {\n      (this.start.row += row),\n      (this.start.column += column),\n      (this.end.row += row),\n      (this.end.column += column);\n    });\n  }.call(Range.prototype),\n    (Range.fromPoints = function (start, end) {\n      return new Range(start.row, start.column, end.row, end.column);\n    }),\n    (Range.comparePoints = comparePoints),\n    (Range.comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    }),\n    (exports.Range = Range));\n}),\nace.define('ace/apply_delta', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  exports.applyDelta = function (docLines, delta) {\n    let row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || '';\n    switch (delta.action) {\n      case 'insert':\n        var lines = delta.lines;\n        if (1 === lines.length)\n          {docLines[row] =\n              line.substring(0, startColumn) +\n              delta.lines[0] +\n              line.substring(startColumn);}\n        else {\n          let args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args),\n          (docLines[row] = line.substring(0, startColumn) + docLines[row]),\n          (docLines[row + delta.lines.length - 1] += line.substring(\n            startColumn\n          ));\n        }\n        break;\n      case 'remove':\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow\n          ? (docLines[row] =\n                line.substring(0, startColumn) + line.substring(endColumn))\n          : docLines.splice(\n            row,\n            endRow - row + 1,\n            line.substring(0, startColumn) +\n                  docLines[endRow].substring(endColumn)\n          );\n    }\n  };\n}),\nace.define(\n  'ace/lib/event_emitter',\n  ['require', 'exports', 'module'],\n  function (acequire, exports) {\n    \n    let EventEmitter = {},\n      stopPropagation = function () {\n        this.propagationStopped = !0;\n      },\n      preventDefault = function () {\n        this.defaultPrevented = !0;\n      };\n    (EventEmitter._emit = EventEmitter._dispatchEvent = function (\n      eventName,\n      e\n    ) {\n      this._eventRegistry || (this._eventRegistry = {}),\n      this._defaultHandlers || (this._defaultHandlers = {});\n      let listeners = this._eventRegistry[eventName] || [],\n        defaultHandler = this._defaultHandlers[eventName];\n      if (listeners.length || defaultHandler) {\n        ('object' === typeof e && e) || (e = {}),\n        e.type || (e.type = eventName),\n        e.stopPropagation || (e.stopPropagation = stopPropagation),\n        e.preventDefault || (e.preventDefault = preventDefault),\n        (listeners = listeners.slice());\n        for (\n          let i = 0;\n          listeners.length > i &&\n            (listeners[i](e, this), !e.propagationStopped);\n          i++\n        );\n        return defaultHandler && !e.defaultPrevented\n          ? defaultHandler(e, this)\n          : void 0;\n      }\n    }),\n    (EventEmitter._signal = function (eventName, e) {\n      let listeners = (this._eventRegistry || {})[eventName];\n      if (listeners) {\n        listeners = listeners.slice();\n        for (let i = 0; listeners.length > i; i++) listeners[i](e, this);\n      }\n    }),\n    (EventEmitter.once = function (eventName, callback) {\n      let _self = this;\n      callback &&\n            this.addEventListener(eventName, function newCallback() {\n              _self.removeEventListener(eventName, newCallback),\n              callback.apply(null, arguments);\n            });\n    }),\n    (EventEmitter.setDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (\n        (handlers ||\n              (handlers = this._defaultHandlers = { _disabled_: {} }),\n          handlers[eventName])\n      ) {\n        let old = handlers[eventName],\n          disabled = handlers._disabled_[eventName];\n        disabled || (handlers._disabled_[eventName] = disabled = []),\n        disabled.push(old);\n        let i = disabled.indexOf(callback);\n        -1 != i && disabled.splice(i, 1);\n      }\n      handlers[eventName] = callback;\n    }),\n    (EventEmitter.removeDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (handlers) {\n        let disabled = handlers._disabled_[eventName];\n        if (handlers[eventName] == callback)\n          {handlers[eventName],\n                disabled && this.setDefaultHandler(eventName, disabled.pop());}\n        else if (disabled) {\n          let i = disabled.indexOf(callback);\n          -1 != i && disabled.splice(i, 1);\n        }\n      }\n    }),\n    (EventEmitter.on = EventEmitter.addEventListener = function (\n      eventName,\n      callback,\n      capturing\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      return (\n        listeners || (listeners = this._eventRegistry[eventName] = []),\n        -1 == listeners.indexOf(callback) &&\n              listeners[capturing ? 'unshift' : 'push'](callback),\n        callback\n      );\n    }),\n    (EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (\n      eventName,\n      callback\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      if (listeners) {\n        let index = listeners.indexOf(callback);\n        -1 !== index && listeners.splice(index, 1);\n      }\n    }),\n    (EventEmitter.removeAllListeners = function (eventName) {\n      this._eventRegistry && (this._eventRegistry[eventName] = []);\n    }),\n    (exports.EventEmitter = EventEmitter);\n  }\n),\nace.define(\n  'ace/anchor',\n  ['require', 'exports', 'module', 'ace/lib/oop', 'ace/lib/event_emitter'],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Anchor = (exports.Anchor = function (doc, row, column) {\n        (this.$onChange = this.onChange.bind(this)),\n        this.attach(doc),\n        column === void 0\n          ? this.setPosition(row.row, row.column)\n          : this.setPosition(row, column);\n      });\n    (function () {\n      function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        let bColIsAfter = equalPointsInOrder\n          ? point1.column <= point2.column\n          : point1.column < point2.column;\n        return (\n          point1.row < point2.row || (point1.row == point2.row && bColIsAfter)\n        );\n      }\n      function $getTransformedPoint(delta, point, moveIfEqual) {\n        let deltaIsInsert = 'insert' == delta.action,\n          deltaRowShift =\n              (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n          deltaColShift =\n              (deltaIsInsert ? 1 : -1) *\n              (delta.end.column - delta.start.column),\n          deltaStart = delta.start,\n          deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n        return $pointsInOrder(point, deltaStart, moveIfEqual)\n          ? { row: point.row, column: point.column }\n          : $pointsInOrder(deltaEnd, point, !moveIfEqual)\n            ? {\n              row: point.row + deltaRowShift,\n              column:\n                    point.column +\n                    (point.row == deltaEnd.row ? deltaColShift : 0),\n            }\n            : { row: deltaStart.row, column: deltaStart.column };\n      }\n      oop.implement(this, EventEmitter),\n      (this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n      }),\n      (this.getDocument = function () {\n        return this.document;\n      }),\n      (this.$insertRight = !1),\n      (this.onChange = function (delta) {\n        if (\n          !(\n            (delta.start.row == delta.end.row &&\n                  delta.start.row != this.row) ||\n                delta.start.row > this.row\n          )\n        ) {\n          let point = $getTransformedPoint(\n            delta,\n            { row: this.row, column: this.column },\n            this.$insertRight\n          );\n          this.setPosition(point.row, point.column, !0);\n        }\n      }),\n      (this.setPosition = function (row, column, noClip) {\n        let pos;\n        if (\n          ((pos = noClip\n            ? { row: row, column: column }\n            : this.$clipPositionToDocument(row, column)),\n            this.row != pos.row || this.column != pos.column)\n        ) {\n          let old = { row: this.row, column: this.column };\n          (this.row = pos.row),\n          (this.column = pos.column),\n          this._signal('change', { old: old, value: pos });\n        }\n      }),\n      (this.detach = function () {\n        this.document.removeEventListener('change', this.$onChange);\n      }),\n      (this.attach = function (doc) {\n        (this.document = doc || this.document),\n        this.document.on('change', this.$onChange);\n      }),\n      (this.$clipPositionToDocument = function (row, column) {\n        let pos = {};\n        return (\n          row >= this.document.getLength()\n            ? ((pos.row = Math.max(0, this.document.getLength() - 1)),\n              (pos.column = this.document.getLine(pos.row).length))\n            : 0 > row\n              ? ((pos.row = 0), (pos.column = 0))\n              : ((pos.row = row),\n                (pos.column = Math.min(\n                  this.document.getLine(pos.row).length,\n                  Math.max(0, column)\n                ))),\n          0 > column && (pos.column = 0),\n          pos\n        );\n      });\n    }.call(Anchor.prototype));\n  }\n),\nace.define(\n  'ace/document',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/apply_delta',\n    'ace/lib/event_emitter',\n    'ace/range',\n    'ace/anchor',\n  ],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      applyDelta = acequire('./apply_delta').applyDelta,\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Range = acequire('./range').Range,\n      Anchor = acequire('./anchor').Anchor,\n      Document = function (textOrLines) {\n        (this.$lines = ['']),\n        0 === textOrLines.length\n          ? (this.$lines = [''])\n          : Array.isArray(textOrLines)\n            ? this.insertMergedLines({ row: 0, column: 0 }, textOrLines)\n            : this.insert({ row: 0, column: 0 }, textOrLines);\n      };\n    (function () {\n      oop.implement(this, EventEmitter),\n      (this.setValue = function (text) {\n        let len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length)),\n        this.insert({ row: 0, column: 0 }, text);\n      }),\n      (this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n      }),\n      (this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n      }),\n      (this.$split =\n            0 === 'aaa'.split(/a/).length\n              ? function (text) {\n                return text.replace(/\\r\\n|\\r/g, '\\n').split('\\n');\n              }\n              : function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n              }),\n      (this.$detectNewLine = function (text) {\n        let match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        (this.$autoNewLine = match ? match[1] : '\\n'),\n        this._signal('changeNewLineMode');\n      }),\n      (this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n          case 'windows':\n            return '\\r\\n';\n          case 'unix':\n            return '\\n';\n          default:\n            return this.$autoNewLine || '\\n';\n        }\n      }),\n      (this.$autoNewLine = ''),\n      (this.$newLineMode = 'auto'),\n      (this.setNewLineMode = function (newLineMode) {\n        this.$newLineMode !== newLineMode &&\n              ((this.$newLineMode = newLineMode),\n                this._signal('changeNewLineMode'));\n      }),\n      (this.getNewLineMode = function () {\n        return this.$newLineMode;\n      }),\n      (this.isNewLine = function (text) {\n        return '\\r\\n' == text || '\\r' == text || '\\n' == text;\n      }),\n      (this.getLine = function (row) {\n        return this.$lines[row] || '';\n      }),\n      (this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n      }),\n      (this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n      }),\n      (this.getLength = function () {\n        return this.$lines.length;\n      }),\n      (this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(\n          this.getNewLineCharacter()\n        );\n      }),\n      (this.getLinesForRange = function (range) {\n        let lines;\n        if (range.start.row === range.end.row)\n          {lines = [\n                this.getLine(range.start.row).substring(\n                  range.start.column,\n                  range.end.column\n                ),\n              ];}\n        else {\n          (lines = this.getLines(range.start.row, range.end.row)),\n          (lines[0] = (lines[0] || '').substring(range.start.column));\n          let l = lines.length - 1;\n          range.end.row - range.start.row == l &&\n                (lines[l] = lines[l].substring(0, range.end.column));\n        }\n        return lines;\n      }),\n      (this.insertLines = function (row, lines) {\n        return (\n          console.warn(\n            'Use of document.insertLines is deprecated. Use the insertFullLines method instead.'\n          ),\n          this.insertFullLines(row, lines)\n        );\n      }),\n      (this.removeLines = function (firstRow, lastRow) {\n        return (\n          console.warn(\n            'Use of document.removeLines is deprecated. Use the removeFullLines method instead.'\n          ),\n          this.removeFullLines(firstRow, lastRow)\n        );\n      }),\n      (this.insertNewLine = function (position) {\n        return (\n          console.warn(\n            'Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\\'\\', \\'\\']) instead.'\n          ),\n          this.insertMergedLines(position, ['', ''])\n        );\n      }),\n      (this.insert = function (position, text) {\n        return (\n          1 >= this.getLength() && this.$detectNewLine(text),\n          this.insertMergedLines(position, this.$split(text))\n        );\n      }),\n      (this.insertInLine = function (position, text) {\n        let start = this.clippedPos(position.row, position.column),\n          end = this.pos(position.row, position.column + text.length);\n        return (\n          this.applyDelta(\n            { start: start, end: end, action: 'insert', lines: [text] },\n            !0\n          ),\n          this.clonePos(end)\n        );\n      }),\n      (this.clippedPos = function (row, column) {\n        let length = this.getLength();\n        void 0 === row\n          ? (row = length)\n          : 0 > row\n            ? (row = 0)\n            : row >= length && ((row = length - 1), (column = void 0));\n        let line = this.getLine(row);\n        return (\n          void 0 == column && (column = line.length),\n          (column = Math.min(Math.max(column, 0), line.length)),\n          { row: row, column: column }\n        );\n      }),\n      (this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n      }),\n      (this.pos = function (row, column) {\n        return { row: row, column: column };\n      }),\n      (this.$clipPosition = function (position) {\n        let length = this.getLength();\n        return (\n          position.row >= length\n            ? ((position.row = Math.max(0, length - 1)),\n              (position.column = this.getLine(length - 1).length))\n            : ((position.row = Math.max(0, position.row)),\n              (position.column = Math.min(\n                Math.max(position.column, 0),\n                this.getLine(position.row).length\n              ))),\n          position\n        );\n      }),\n      (this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        let column = 0;\n        this.getLength() > row\n          ? ((lines = lines.concat([''])), (column = 0))\n          : ((lines = [''].concat(lines)),\n            row--,\n            (column = this.$lines[row].length)),\n        this.insertMergedLines({ row: row, column: column }, lines);\n      }),\n      (this.insertMergedLines = function (position, lines) {\n        let start = this.clippedPos(position.row, position.column),\n          end = {\n            row: start.row + lines.length - 1,\n            column:\n                  (1 == lines.length ? start.column : 0) +\n                  lines[lines.length - 1].length,\n          };\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'insert',\n            lines: lines,\n          }),\n          this.clonePos(end)\n        );\n      }),\n      (this.remove = function (range) {\n        let start = this.clippedPos(range.start.row, range.start.column),\n          end = this.clippedPos(range.end.row, range.end.column);\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'remove',\n            lines: this.getLinesForRange({ start: start, end: end }),\n          }),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeInLine = function (row, startColumn, endColumn) {\n        let start = this.clippedPos(row, startColumn),\n          end = this.clippedPos(row, endColumn);\n        return (\n          this.applyDelta(\n            {\n              start: start,\n              end: end,\n              action: 'remove',\n              lines: this.getLinesForRange({ start: start, end: end }),\n            },\n            !0\n          ),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeFullLines = function (firstRow, lastRow) {\n        (firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1)),\n        (lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1));\n        let deleteFirstNewLine =\n                lastRow == this.getLength() - 1 && firstRow > 0,\n          deleteLastNewLine = this.getLength() - 1 > lastRow,\n          startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n          startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n          endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n          endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n          range = new Range(startRow, startCol, endRow, endCol),\n          deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        return (\n          this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: 'remove',\n            lines: this.getLinesForRange(range),\n          }),\n          deletedLines\n        );\n      }),\n      (this.removeNewLine = function (row) {\n        this.getLength() - 1 > row &&\n              row >= 0 &&\n              this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: 'remove',\n                lines: ['', ''],\n              });\n      }),\n      (this.replace = function (range, text) {\n        if (\n          (range instanceof Range ||\n                (range = Range.fromPoints(range.start, range.end)),\n            0 === text.length && range.isEmpty())\n        )\n          {return range.start;}\n        if (text == this.getTextRange(range)) return range.end;\n        this.remove(range);\n        let end;\n        return (end = text ? this.insert(range.start, text) : range.start);\n      }),\n      (this.applyDeltas = function (deltas) {\n        for (let i = 0; deltas.length > i; i++) this.applyDelta(deltas[i]);\n      }),\n      (this.revertDeltas = function (deltas) {\n        for (let i = deltas.length - 1; i >= 0; i--)\n          {this.revertDelta(deltas[i]);}\n      }),\n      (this.applyDelta = function (delta, doNotValidate) {\n        let isInsert = 'insert' == delta.action;\n        (isInsert\n          ? 1 >= delta.lines.length && !delta.lines[0]\n          : !Range.comparePoints(delta.start, delta.end)) ||\n              (isInsert &&\n                delta.lines.length > 2e4 &&\n                this.$splitAndapplyLargeDelta(delta, 2e4),\n                applyDelta(this.$lines, delta, doNotValidate),\n                this._signal('change', delta));\n      }),\n      (this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        for (\n          let lines = delta.lines,\n            l = lines.length,\n            row = delta.start.row,\n            column = delta.start.column,\n            from = 0,\n            to = 0;\n          ;\n\n        ) {\n          (from = to), (to += MAX - 1);\n          let chunk = lines.slice(from, to);\n          if (to > l) {\n            (delta.lines = chunk),\n            (delta.start.row = row + from),\n            (delta.start.column = column);\n            break;\n          }\n          chunk.push(''),\n          this.applyDelta(\n            {\n              start: this.pos(row + from, column),\n              end: this.pos(row + to, (column = 0)),\n              action: delta.action,\n              lines: chunk,\n            },\n            !0\n          );\n        }\n      }),\n      (this.revertDelta = function (delta) {\n        this.applyDelta({\n          start: this.clonePos(delta.start),\n          end: this.clonePos(delta.end),\n          action: 'insert' == delta.action ? 'remove' : 'insert',\n          lines: delta.lines.slice(),\n        });\n      }),\n      (this.indexToPosition = function (index, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            i = startRow || 0,\n            l = lines.length;\n          l > i;\n          i++\n        )\n          {if (((index -= lines[i].length + newlineLength), 0 > index))\n                return {\n                  row: i,\n                  column: index + lines[i].length + newlineLength,\n                };}\n        return { row: l - 1, column: lines[l - 1].length };\n      }),\n      (this.positionToIndex = function (pos, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            index = 0,\n            row = Math.min(pos.row, lines.length),\n            i = startRow || 0;\n          row > i;\n          ++i\n        )\n          {index += lines[i].length + newlineLength;}\n        return index + pos.column;\n      });\n    }.call(Document.prototype),\n      (exports.Document = Document));\n  }\n),\nace.define('ace/lib/lang', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.last = function (a) {\n    return a[a.length - 1];\n  }),\n  (exports.stringReverse = function (string) {\n    return string\n      .split('')\n      .reverse()\n      .join('');\n  }),\n  (exports.stringRepeat = function (string, count) {\n    for (var result = ''; count > 0;)\n      {1 & count && (result += string), (count >>= 1) && (string += string);}\n    return result;\n  });\n  let trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  (exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  }),\n  (exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  }),\n  (exports.copyObject = function (obj) {\n    let copy = {};\n    for (let key in obj) copy[key] = obj[key];\n    return copy;\n  }),\n  (exports.copyArray = function (array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++)\n      {copy[i] =\n            array[i] && 'object' == typeof array[i]\n              ? this.copyObject(array[i])\n              : array[i];}\n    return copy;\n  }),\n  (exports.deepCopy = function deepCopy(obj) {\n    if ('object' !== typeof obj || !obj) return obj;\n    let copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++)\n        {copy[key] = deepCopy(obj[key]);}\n      return copy;\n    }\n    if ('[object Object]' !== Object.prototype.toString.call(obj))\n      {return obj;}\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  }),\n  (exports.arrayToMap = function (arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map;\n  }),\n  (exports.createMap = function (props) {\n    let map = Object.create(null);\n    for (let i in props) map[i] = props[i];\n    return map;\n  }),\n  (exports.arrayRemove = function (array, value) {\n    for (let i = 0; array.length >= i; i++)\n      {value === array[i] && array.splice(i, 1);}\n  }),\n  (exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }),\n  (exports.escapeHTML = function (str) {\n    return str\n      .replace(/&/g, '&#38;')\n      .replace(/\"/g, '&#34;')\n      .replace(/'/g, '&#39;')\n      .replace(/</g, '&#60;');\n  }),\n  (exports.getMatchOffsets = function (string, regExp) {\n    let matches = [];\n    return (\n      string.replace(regExp, function (str) {\n        matches.push({\n          offset: arguments[arguments.length - 2],\n          length: str.length,\n        });\n      }),\n      matches\n    );\n  }),\n  (exports.deferredCall = function (fcn) {\n    var timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      deferred = function (timeout) {\n        return (\n          deferred.cancel(),\n          (timer = setTimeout(callback, timeout || 0)),\n          deferred\n        );\n      };\n    return (\n      (deferred.schedule = deferred),\n      (deferred.call = function () {\n        return this.cancel(), fcn(), deferred;\n      }),\n      (deferred.cancel = function () {\n        return clearTimeout(timer), (timer = null), deferred;\n      }),\n      (deferred.isPending = function () {\n        return timer;\n      }),\n      deferred\n    );\n  }),\n  (exports.delayedCall = function (fcn, defaultTimeout) {\n    let timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      _self = function (timeout) {\n        null == timer &&\n              (timer = setTimeout(callback, timeout || defaultTimeout));\n      };\n    return (\n      (_self.delay = function (timeout) {\n        timer && clearTimeout(timer),\n        (timer = setTimeout(callback, timeout || defaultTimeout));\n      }),\n      (_self.schedule = _self),\n      (_self.call = function () {\n        this.cancel(), fcn();\n      }),\n      (_self.cancel = function () {\n        timer && clearTimeout(timer), (timer = null);\n      }),\n      (_self.isPending = function () {\n        return timer;\n      }),\n      _self\n    );\n  });\n}),\nace.define(\n  'ace/worker/mirror',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/range',\n    'ace/document',\n    'ace/lib/lang',\n  ],\n  function (acequire, exports) {\n    \n    acequire('../range').Range;\n    let Document = acequire('../document').Document,\n      lang = acequire('../lib/lang'),\n      Mirror = (exports.Mirror = function (sender) {\n        this.sender = sender;\n        let doc = (this.doc = new Document('')),\n          deferredUpdate = (this.deferredUpdate = lang.delayedCall(\n            this.onUpdate.bind(this)\n          )),\n          _self = this;\n        sender.on('change', function (e) {\n          let data = e.data;\n          if (data[0].start) doc.applyDeltas(data);\n          else\n            {for (var i = 0; data.length > i; i += 2) {\n                if (Array.isArray(data[i + 1]))\n                  var d = {\n                    action: 'insert',\n                    start: data[i],\n                    lines: data[i + 1],\n                  };\n                else\n                  var d = {\n                    action: 'remove',\n                    start: data[i],\n                    end: data[i + 1],\n                  };\n                doc.applyDelta(d, !0);\n              }}\n          return _self.$timeout\n            ? deferredUpdate.schedule(_self.$timeout)\n            : (_self.onUpdate(), void 0);\n        });\n      });\n    (function () {\n      (this.$timeout = 500),\n      (this.setTimeout = function (timeout) {\n        this.$timeout = timeout;\n      }),\n      (this.setValue = function (value) {\n        this.doc.setValue(value),\n        this.deferredUpdate.schedule(this.$timeout);\n      }),\n      (this.getValue = function (callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n      }),\n      (this.onUpdate = function () {}),\n      (this.isPending = function () {\n        return this.deferredUpdate.isPending();\n      });\n    }.call(Mirror.prototype));\n  }\n),\nace.define('ace/lib/es5-shim', ['require', 'exports', 'module'], function () {\n  function Empty() {}\n  function doesDefinePropertyWork(object) {\n    try {\n      return (\n        Object.defineProperty(object, 'sentinel', {}), 'sentinel' in object\n      );\n    } catch (exception) {}\n  }\n  function toInteger(n) {\n    return (\n      (n = +n),\n      n !== n\n        ? (n = 0)\n        : 0 !== n &&\n            n !== 1 / 0 &&\n            n !== -(1 / 0) &&\n            (n = (n > 0 || -1) * Math.floor(Math.abs(n))),\n      n\n    );\n  }\n  Function.prototype.bind ||\n      (Function.prototype.bind = function (that) {\n        let target = this;\n        if ('function' !== typeof target)\n          {throw new TypeError(\n            'Function.prototype.bind called on incompatible ' + target\n          );}\n        var args = slice.call(arguments, 1),\n          bound = function () {\n            if (this instanceof bound) {\n              let result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n              );\n              return Object(result) === result ? result : this;\n            }\n            return target.apply(that, args.concat(slice.call(arguments)));\n          };\n        return (\n          target.prototype &&\n            ((Empty.prototype = target.prototype),\n              (bound.prototype = new Empty()),\n              (Empty.prototype = null)),\n          bound\n        );\n      });\n  var defineGetter,\n    defineSetter,\n    lookupGetter,\n    lookupSetter,\n    supportsAccessors,\n    call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if (\n    ((supportsAccessors = owns(prototypeOfObject, '__defineGetter__')) &&\n        ((defineGetter = call.bind(prototypeOfObject.__defineGetter__)),\n          (defineSetter = call.bind(prototypeOfObject.__defineSetter__)),\n          (lookupGetter = call.bind(prototypeOfObject.__lookupGetter__)),\n          (lookupSetter = call.bind(prototypeOfObject.__lookupSetter__))),\n      2 != [1, 2].splice(0).length)\n  )\n    {if (\n        (function() {\n          function makeArray(l) {\n            var a = Array(l + 2);\n            return (a[0] = a[1] = 0), a;\n          }\n          var lengthBefore,\n            array = [];\n          return (\n            array.splice.apply(array, makeArray(20)),\n            array.splice.apply(array, makeArray(26)),\n            (lengthBefore = array.length),\n            array.splice(5, 0, 'XXX'),\n            lengthBefore + 1 == array.length,\n            lengthBefore + 1 == array.length ? !0 : void 0\n          );\n        })()\n      ) {\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n          return arguments.length\n            ? array_splice.apply(\n                this,\n                [\n                  void 0 === start ? 0 : start,\n                  void 0 === deleteCount ? this.length - start : deleteCount,\n                ].concat(slice.call(arguments, 2))\n              )\n            : [];\n        };\n      } else\n        Array.prototype.splice = function(pos, removeCount) {\n          var length = this.length;\n          pos > 0\n            ? pos > length && (pos = length)\n            : void 0 == pos\n              ? (pos = 0)\n              : 0 > pos && (pos = Math.max(length + pos, 0)),\n            length > pos + removeCount || (removeCount = length - pos);\n          var removed = this.slice(pos, pos + removeCount),\n            insert = slice.call(arguments, 2),\n            add = insert.length;\n          if (pos === length) add && this.push.apply(this, insert);\n          else {\n            var remove = Math.min(removeCount, length - pos),\n              tailOldPos = pos + remove,\n              tailNewPos = tailOldPos + add - remove,\n              tailCount = length - tailOldPos,\n              lengthAfterRemove = length - remove;\n            if (tailOldPos > tailNewPos)\n              for (var i = 0; tailCount > i; ++i)\n                this[tailNewPos + i] = this[tailOldPos + i];\n            else if (tailNewPos > tailOldPos)\n              for (i = tailCount; i--; )\n                this[tailNewPos + i] = this[tailOldPos + i];\n            if (add && pos === lengthAfterRemove)\n              (this.length = lengthAfterRemove), this.push.apply(this, insert);\n            else\n              for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i)\n                this[pos + i] = insert[i];\n          }\n          return removed;\n        };}\n  Array.isArray ||\n      (Array.isArray = function (obj) {\n        return '[object Array]' == _toString(obj);\n      });\n  let boxedString = Object('a'),\n    splitString = 'a' != boxedString[0] || !(0 in boxedString);\n  if (\n    (Array.prototype.forEach ||\n        (Array.prototype.forEach = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun)) throw new TypeError();\n          for (; length > ++i;)\n            {i in self && fun.call(thisp, self[i], i, object);}\n        }),\n      Array.prototype.map ||\n        (Array.prototype.map = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self && (result[i] = fun.call(thisp, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.filter ||\n        (Array.prototype.filter = function (fun) {\n          let value,\n            object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = [],\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self &&\n              ((value = self[i]),\n              fun.call(thisp, value, i, object) && result.push(value));}\n          return result;\n        }),\n      Array.prototype.every ||\n        (Array.prototype.every = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && !fun.call(thisp, self[i], i, object)) return !1;}\n          return !0;\n        }),\n      Array.prototype.some ||\n        (Array.prototype.some = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && fun.call(thisp, self[i], i, object)) return !0;}\n          return !1;\n        }),\n      Array.prototype.reduce ||\n        (Array.prototype.reduce = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError('reduce of empty array with no initial value');}\n          let result,\n            i = 0;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i++];\n                break;\n              }\n              if (++i >= length)\n                throw new TypeError(\n                  'reduce of empty array with no initial value'\n                );\n            }}\n          for (; length > i; i++)\n            {i in self &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.reduceRight ||\n        (Array.prototype.reduceRight = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError(\n              'reduceRight of empty array with no initial value'\n            );}\n          let result,\n            i = length - 1;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i--];\n                break;\n              }\n              if (0 > --i)\n                throw new TypeError(\n                  'reduceRight of empty array with no initial value'\n                );\n            }}\n          do\n            {i in this &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          while (i--);\n          return result;\n        }),\n      (Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2)) ||\n        (Array.prototype.indexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = 0;\n          for (\n            arguments.length > 1 && (i = toInteger(arguments[1])),\n            i = i >= 0 ? i : Math.max(0, length + i);\n            length > i;\n            i++\n          )\n            {if (i in self && self[i] === sought) return i;}\n          return -1;\n        }),\n      (Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3)) ||\n        (Array.prototype.lastIndexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = length - 1;\n          for (\n            arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))),\n            i = i >= 0 ? i : length - Math.abs(i);\n            i >= 0;\n            i--\n          )\n            {if (i in self && sought === self[i]) return i;}\n          return -1;\n        }),\n      Object.getPrototypeOf ||\n        (Object.getPrototypeOf = function (object) {\n          return (\n            object.__proto__ ||\n            (object.constructor\n              ? object.constructor.prototype\n              : prototypeOfObject)\n          );\n        }),\n      !Object.getOwnPropertyDescriptor)\n  ) {\n    let ERR_NON_OBJECT =\n        'Object.getOwnPropertyDescriptor called on a non-object: ';\n    Object.getOwnPropertyDescriptor = function (object, property) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT + object);}\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (\n          ((descriptor = { enumerable: !0, configurable: !0 }),\n            supportsAccessors)\n        ) {\n          let prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (((object.__proto__ = prototype), getter || setter))\n            {return (\n                getter && (descriptor.get = getter),\n                setter && (descriptor.set = setter),\n                descriptor\n              );}\n        }\n        return (descriptor.value = object[property]), descriptor;\n      }\n    };\n  }\n  if (\n    (Object.getOwnPropertyNames ||\n        (Object.getOwnPropertyNames = function (object) {\n          return Object.keys(object);\n        }),\n      !Object.create)\n  ) {\n    let createEmpty;\n    (createEmpty =\n        null === Object.prototype.__proto__\n          ? function () {\n            return { __proto__: null };\n          }\n          : function () {\n            let empty = {};\n            for (let i in empty) empty[i] = null;\n            return (\n              (empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null),\n              empty\n            );\n          }),\n    (Object.create = function (prototype, properties) {\n      let object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ('object' !== typeof prototype)\n          {throw new TypeError(\n                'typeof prototype[' + typeof prototype + \"] != 'object'\"\n              );}\n        let Type = function () {};\n        (Type.prototype = prototype),\n        (object = new Type()),\n        (object.__proto__ = prototype);\n      }\n      return (\n        void 0 !== properties &&\n              Object.defineProperties(object, properties),\n        object\n      );\n    });\n  }\n  if (Object.defineProperty) {\n    let definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom =\n          'undefined' === typeof document ||\n          doesDefinePropertyWork(document.createElement('div'));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom)\n      {var definePropertyFallback = Object.defineProperty;}\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    let ERR_NON_OBJECT_DESCRIPTOR =\n          'Property description must be an object: ',\n      ERR_NON_OBJECT_TARGET = 'Object.defineProperty called on non-object: ',\n      ERR_ACCESSORS_NOT_SUPPORTED =\n          'getters & setters can not be defined on this javascript engine';\n    Object.defineProperty = function (object, property, descriptor) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT_TARGET + object);}\n      if (\n        ('object' !== typeof descriptor && 'function' !== typeof descriptor) ||\n          null === descriptor\n      )\n        {throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);}\n      if (definePropertyFallback)\n        {try {\n            return definePropertyFallback.call(\n              Object,\n              object,\n              property,\n              descriptor\n            );\n          } catch (exception) {}}\n      if (owns(descriptor, 'value'))\n        {if (\n            supportsAccessors &&\n            (lookupGetter(object, property) || lookupSetter(object, property))\n          ) {\n            var prototype = object.__proto__;\n            (object.__proto__ = prototypeOfObject),\n              delete object[property],\n              (object[property] = descriptor.value),\n              (object.__proto__ = prototype);\n          } else object[property] = descriptor.value;}\n      else {\n        if (!supportsAccessors)\n          {throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);}\n        owns(descriptor, 'get') &&\n            defineGetter(object, property, descriptor.get),\n        owns(descriptor, 'set') &&\n              defineSetter(object, property, descriptor.set);\n      }\n      return object;\n    };\n  }\n  Object.defineProperties ||\n      (Object.defineProperties = function (object, properties) {\n        for (let property in properties)\n          {owns(properties, property) &&\n            Object.defineProperty(object, property, properties[property]);}\n        return object;\n      }),\n  Object.seal ||\n        (Object.seal = function (object) {\n          return object;\n        }),\n  Object.freeze ||\n        (Object.freeze = function (object) {\n          return object;\n        });\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = (function (freezeObject) {\n      return function (object) {\n        return 'function' === typeof object ? object : freezeObject(object);\n      };\n    }(Object.freeze));\n  }\n  if (\n    (Object.preventExtensions ||\n        (Object.preventExtensions = function (object) {\n          return object;\n        }),\n      Object.isSealed ||\n        (Object.isSealed = function () {\n          return !1;\n        }),\n      Object.isFrozen ||\n        (Object.isFrozen = function () {\n          return !1;\n        }),\n      Object.isExtensible ||\n        (Object.isExtensible = function (object) {\n          if (Object(object) === object) throw new TypeError();\n          for (var name = ''; owns(object, name);) name += '?';\n          object[name] = !0;\n          let returnValue = owns(object, name);\n          return delete object[name], returnValue;\n        }),\n      !Object.keys)\n  ) {\n    let hasDontEnumBug = !0,\n      dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor',\n      ],\n      dontEnumsLength = dontEnums.length;\n    for (let key in { toString: null }) hasDontEnumBug = !1;\n    Object.keys = function (object) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError('Object.keys called on a non-object');}\n      let keys = [];\n      for (let name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        {for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n            var dontEnum = dontEnums[i];\n            owns(object, dontEnum) && keys.push(dontEnum);\n          }}\n      return keys;\n    };\n  }\n  Date.now ||\n      (Date.now = function () {\n        return new Date().getTime();\n      });\n  let ws = '\t\\nv\\f\\r \\u2028\\u2029\ufeff';\n  if (!String.prototype.trim || ws.trim()) {\n    ws = '[' + ws + ']';\n    let trimBeginRegexp = RegExp('^' + ws + ws + '*'),\n      trimEndRegexp = RegExp(ws + ws + '*$');\n    String.prototype.trim = function () {\n      return (this + '')\n        .replace(trimBeginRegexp, '')\n        .replace(trimEndRegexp, '');\n    };\n  }\n  var toObject = function (o) {\n    if (null == o) throw new TypeError('can\\'t convert ' + o + ' to object');\n    return Object(o);\n  };\n});\nace.define(\n  'sense_editor/mode/worker_parser',\n  ['require', 'exports', 'module'],\n  function () {\n    let at, // The index of the current character\n      ch, // The current character\n      annos, // annotations\n      escapee = {\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        b: '\\b',\n        f: '\\f',\n        n: '\\n',\n        r: '\\r',\n        t: '\\t',\n      },\n      text,\n      annotate = function (type, text) {\n        annos.push({ type: type, text: text, at: at });\n      },\n      error = function (m) {\n        throw {\n          name: 'SyntaxError',\n          message: m,\n          at: at,\n          text: text,\n        };\n      },\n      reset = function (newAt) {\n        ch = text.charAt(newAt);\n        at = newAt + 1;\n      },\n      next = function (c) {\n        if (c && c !== ch) {\n          error('Expected \\'' + c + '\\' instead of \\'' + ch + '\\'');\n        }\n\n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n      },\n      nextUpTo = function (upTo, errorMessage) {\n        let currentAt = at,\n          i = text.indexOf(upTo, currentAt);\n        if (i < 0) {\n          error(errorMessage || 'Expected \\'' + upTo + '\\'');\n        }\n        reset(i + upTo.length);\n        return text.substring(currentAt, i);\n      },\n      peek = function (c) {\n        return text.substr(at, c.length) === c; // nocommit - double check\n      },\n      number = function () {\n        let number,\n          string = '';\n\n        if (ch === '-') {\n          string = '-';\n          next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n        if (ch === '.') {\n          string += '.';\n          while (next() && ch >= '0' && ch <= '9') {\n            string += ch;\n          }\n        }\n        if (ch === 'e' || ch === 'E') {\n          string += ch;\n          next();\n          if (ch === '-' || ch === '+') {\n            string += ch;\n            next();\n          }\n          while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n          }\n        }\n        number = +string;\n        if (isNaN(number)) {\n          error('Bad number');\n        } else {\n          return number;\n        }\n      },\n      string = function () {\n        let hex,\n          i,\n          string = '',\n          uffff;\n\n        if (ch === '\"') {\n          if (peek('\"\"')) {\n            // literal\n            next('\"');\n            next('\"');\n            return nextUpTo('\"\"\"', 'failed to find closing \\'\"\"\"\\'');\n          } else {\n            while (next()) {\n              if (ch === '\"') {\n                next();\n                return string;\n              } else if (ch === '\\\\') {\n                next();\n                if (ch === 'u') {\n                  uffff = 0;\n                  for (i = 0; i < 4; i += 1) {\n                    hex = parseInt(next(), 16);\n                    if (!isFinite(hex)) {\n                      break;\n                    }\n                    uffff = uffff * 16 + hex;\n                  }\n                  string += String.fromCharCode(uffff);\n                } else if (typeof escapee[ch] === 'string') {\n                  string += escapee[ch];\n                } else {\n                  break;\n                }\n              } else {\n                string += ch;\n              }\n            }\n          }\n        }\n        error('Bad string');\n      },\n      white = function () {\n        while (ch && ch <= ' ') {\n          next();\n        }\n      },\n      strictWhite = function () {\n        while (ch && (ch == ' ' || ch == '\\t')) {\n          next();\n        }\n      },\n      newLine = function () {\n        if (ch == '\\n') next();\n      },\n      word = function () {\n        switch (ch) {\n          case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n          case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n          case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error('Unexpected \\'' + ch + '\\'');\n      },\n      // parses and returns the method\n      method = function () {\n        switch (ch) {\n          case 'G':\n            next('G');\n            next('E');\n            next('T');\n            return 'GET';\n          case 'H':\n            next('H');\n            next('E');\n            next('A');\n            next('D');\n            return 'HEAD';\n          case 'D':\n            next('D');\n            next('E');\n            next('L');\n            next('E');\n            next('T');\n            next('E');\n            return 'DELETE';\n          case 'P':\n            next('P');\n            switch (ch) {\n              case 'U':\n                next('U');\n                next('T');\n                return 'PUT';\n              case 'O':\n                next('O');\n                next('S');\n                next('T');\n                return 'POST';\n              default:\n                error('Unexpected \\'' + ch + '\\'');\n            }\n            break;\n          default:\n            error('Expected one of GET/POST/PUT/DELETE/HEAD');\n        }\n      },\n      value, // Place holder for the value function.\n      array = function () {\n        const array = [];\n\n        if (ch === '[') {\n          next('[');\n          white();\n          if (ch === ']') {\n            next(']');\n            return array; // empty array\n          }\n          while (ch) {\n            array.push(value());\n            white();\n            if (ch === ']') {\n              next(']');\n              return array;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad array');\n      },\n      object = function () {\n        let key,\n          object = {};\n\n        if (ch === '{') {\n          next('{');\n          white();\n          if (ch === '}') {\n            next('}');\n            return object; // empty object\n          }\n          while (ch) {\n            key = string();\n            white();\n            next(':');\n            if (Object.hasOwnProperty.call(object, key)) {\n              error('Duplicate key \"' + key + '\"');\n            }\n            object[key] = value();\n            white();\n            if (ch === '}') {\n              next('}');\n              return object;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad object');\n      };\n\n    value = function () {\n      white();\n      switch (ch) {\n        case '{':\n          return object();\n        case '[':\n          return array();\n        case '\"':\n          return string();\n        case '-':\n          return number();\n        default:\n          return ch >= '0' && ch <= '9' ? number() : word();\n      }\n    };\n\n    let url = function () {\n        let url = '';\n        while (ch && ch != '\\n') {\n          url += ch;\n          next();\n        }\n        if (url == '') {\n          error('Missing url');\n        }\n        return url;\n      },\n      request = function () {\n        white();\n        method();\n        strictWhite();\n        url();\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        if (ch == '{') {\n          object();\n        }\n        // multi doc request\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        while (ch == '{') {\n          // another object\n          object();\n          strictWhite();\n          newLine();\n          strictWhite();\n        }\n      },\n      comment = function () {\n        while (ch == '#') {\n          while (ch && ch !== '\\n') {\n            next();\n          }\n          white();\n        }\n      },\n      multi_request = function () {\n        while (ch && ch != '') {\n          white();\n          if (!ch) {\n            continue;\n          }\n          try {\n            comment();\n            white();\n            if (!ch) {\n              continue;\n            }\n            request();\n            white();\n          } catch (e) {\n            annotate('error', e.message);\n            // snap\n            const substring = text.substr(at);\n            const nextMatch = substring.search(/^POST|HEAD|GET|PUT|DELETE/m);\n            if (nextMatch < 1) return;\n            reset(at + nextMatch);\n          }\n        }\n      };\n\n    return function (source, reviver) {\n      let result;\n\n      text = source;\n      at = 0;\n      annos = [];\n      next();\n      multi_request();\n      white();\n      if (ch) {\n        annotate('error', 'Syntax error');\n      }\n\n      result = { annotations: annos };\n\n      return typeof reviver === 'function'\n        ? (function walk(holder, key) {\n          let k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            for (k in value) {\n              if (Object.hasOwnProperty.call(value, k)) {\n                v = walk(value, k);\n                if (v !== undefined) {\n                  value[k] = v;\n                } else {\n                  delete value[k];\n                }\n              }\n            }\n          }\n          return reviver.call(holder, key, value);\n        }({ '': result }, ''))\n        : result;\n    };\n  }\n);\n\nace.define(\n  'sense_editor/mode/worker',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/worker/mirror',\n    'sense_editor/mode/worker_parser',\n  ],\n  function (require, exports) {\n    const oop = require('ace/lib/oop');\n    const Mirror = require('ace/worker/mirror').Mirror;\n    const parse = require('sense_editor/mode/worker_parser');\n\n    const SenseWorker = (exports.SenseWorker = function (sender) {\n      Mirror.call(this, sender);\n      this.setTimeout(200);\n    });\n\n    oop.inherits(SenseWorker, Mirror);\n\n    (function () {\n      this.id = 'senseWorker';\n      this.onUpdate = function () {\n        const value = this.doc.getValue();\n        let pos, result;\n        try {\n          result = parse(value);\n        } catch (e) {\n          pos = this.charToDocumentPosition(e.at - 1);\n          this.sender.emit('error', {\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: 'error',\n          });\n          return;\n        }\n        for (let i = 0; i < result.annotations.length; i++) {\n          pos = this.charToDocumentPosition(result.annotations[i].at - 1);\n          result.annotations[i].row = pos.row;\n          result.annotations[i].column = pos.column;\n        }\n        this.sender.emit('ok', result.annotations);\n      };\n\n      this.charToDocumentPosition = function (charPos) {\n        let i = 0;\n        const len = this.doc.getLength();\n        const nl = this.doc.getNewLineCharacter().length;\n\n        if (!len) {\n          return { row: 0, column: 0 };\n        }\n\n        let lineStart = 0,\n          line;\n        while (i < len) {\n          line = this.doc.getLine(i);\n          const lineLength = line.length + nl;\n          if (lineStart + lineLength > charPos) {\n            return {\n              row: i,\n              column: charPos - lineStart,\n            };\n          }\n\n          lineStart += lineLength;\n          i += 1;\n        }\n\n        return {\n          row: i - 1,\n          column: line.length,\n        };\n      };\n    }.call(SenseWorker.prototype));\n  }\n);\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptMode=ScriptMode;var _brace=_interopRequireDefault(__webpack_require__(58));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace.default.acequire("ace/lib/oop");var TextMode=_brace.default.acequire("ace/mode/text").Mode;var MatchingBraceOutdent=_brace.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace.default.acequire("ace/mode/folding/cstyle").FoldMode;_brace.default.acequire("ace/tokenizer");var ScriptHighlightRules=__webpack_require__(735).ScriptHighlightRules;function ScriptMode(){this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(ScriptMode,TextMode);(function(){this.HighlightRules=ScriptHighlightRules;this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);var match=line.match(/^.*[\{\[]\s*$/);if(match){indent+=tab}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)}}).call(ScriptMode.prototype)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InputHighlightRules=InputHighlightRules;var _x_json_highlight_rules=__webpack_require__(734);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var ace=__webpack_require__(58);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;function InputHighlightRules(){function mergeTokens(){return[].concat.apply([],arguments)}function addEOL(tokens,reg,nextIfEOL,normalNext){if(_typeof(reg)==="object"){reg=reg.source}return[{token:tokens.concat(["whitespace"]),regex:reg+"(\\s*)$",next:nextIfEOL},{token:tokens,regex:reg,next:normalNext}]}this.$rules={start:mergeTokens([{token:"warning",regex:"#!.*$"},{token:"comment",regex:/^#.*$/},{token:"paren.lparen",regex:"{",next:"json",push:true}],addEOL(["method"],/([a-zA-Z]+)/,"start","method_sep"),[{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}]),method_sep:mergeTokens(addEOL(["whitespace","url.protocol_host","url.slash"],/(\s+)(https?:\/\/[^?\/,]+)(\/)/,"start","url"),addEOL(["whitespace","url.protocol_host"],/(\s+)(https?:\/\/[^?\/,]+)/,"start","url"),addEOL(["whitespace","url.slash"],/(\s+)(\/)/,"start","url"),addEOL(["whitespace"],/(\s+)/,"start","url")),url:mergeTokens(addEOL(["url.part"],/([^?\/,\s]+)/,"start"),addEOL(["url.comma"],/(,)/,"start"),addEOL(["url.slash"],/(\/)/,"start"),addEOL(["url.questionmark"],/(\?)/,"start","urlParams")),urlParams:mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start"),addEOL(["url.param"],/([^&=]+)/,"start"),addEOL(["url.amp"],/(&)/,"start"))};(0,_x_json_highlight_rules.addToRules)(this);if(this.constructor===InputHighlightRules){this.normalizeRules()}}oop.inherits(InputHighlightRules,TextHighlightRules)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var $=__webpack_require__(12);var storage=__webpack_require__(128);function _default(input,output){var $left=input.$el.parent();function readStoredEditorWidth(){return storage.get("editorWidth")}function storeEditorWidth(editorWidth){storage.set("editorWidth",editorWidth)}function setEditorWidth(editorWidth){storeEditorWidth(editorWidth);$left.width(editorWidth)}var $resizer=$("#ConAppResizer");$resizer.on("mousedown",function(event){$resizer.addClass("active");var startWidth=$left.width();var startX=event.pageX;input.resize.topRow=input.renderer.layerConfig.firstRow;output.resize.topRow=output.renderer.layerConfig.firstRow;function onMove(event){setEditorWidth(startWidth+event.pageX-startX)}$(document.body).on("mousemove",onMove).one("mouseup",function(){$resizer.removeClass("active");$(this).off("mousemove",onMove);input.resize();output.resize()})});var initialEditorWidth=readStoredEditorWidth();if(initialEditorWidth!=null){setEditorWidth(initialEditorWidth)}}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=init;var $=__webpack_require__(12);var history=__webpack_require__(456);var mappings=__webpack_require__(65);function init(input,output){var sourceLocation=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"stored";$(document.body).removeClass("fouc");function resetToValues(content){if(content!=null){input.update(content)}output.update("")}function setupAutosave(){var timer;var saveDelay=500;input.getSession().on("change",function onChange(){if(timer){timer=clearTimeout(timer)}timer=setTimeout(saveCurrentState,saveDelay)})}function saveCurrentState(){try{var content=input.getValue();history.updateCurrentState(content)}catch(e){console.log("Ignoring saving error: "+e)}}function loadSavedState(){var previousSaveState=history.getSavedEditorState();if(sourceLocation==="stored"){if(previousSaveState){resetToValues(previousSaveState.content)}else{resetToValues();input.autoIndent()}}else if(/^https?:\/\//.test(sourceLocation)){var loadFrom={url:sourceLocation,dataType:"text",kbnXsrfToken:false};if(/https?:\/\/api.github.com/.test(sourceLocation)){loadFrom.headers={Accept:"application/vnd.github.v3.raw"}}$.ajax(loadFrom).done(function(data){resetToValues(data);input.moveToNextRequestEdge(true);input.highlightCurrentRequestsAndUpdateActionBar();input.updateActionsBar()})}else{resetToValues()}input.moveToNextRequestEdge(true)}history.restoreFromHistory=function applyHistoryElem(req){var session=input.getSession();var pos=input.getCursorPosition();var prefix="";var suffix="\n";if(input.parser.isStartRequestRow(pos.row)){pos.column=0;suffix+="\n"}else if(input.parser.isEndRequestRow(pos.row)){var line=session.getLine(pos.row);pos.column=line.length;prefix="\n\n"}else if(input.parser.isInBetweenRequestsRow(pos.row)){pos.column=0}else{pos=input.nextRequestEnd(pos);prefix="\n\n"}var s=prefix+req.method+" "+req.endpoint;if(req.data){s+="\n"+req.data}s+=suffix;session.insert(pos,s);input.clearSelection();input.moveCursorTo(pos.row+prefix.length,0);input.focus()};setupAutosave();loadSavedState();mappings.retrieveAutoCompleteInfo()}module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showWelcomePanel=showWelcomePanel;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _i18n=__webpack_require__(11);var _welcome_panel=__webpack_require__(1855);var _storage=_interopRequireDefault(__webpack_require__(128));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;function showWelcomePanel(){var onClose=function onClose(){if(!container)return;_reactDom.default.unmountComponentAtNode(container);isOpen=false};var onDismiss=function onDismiss(){_storage.default.set("version_welcome_shown","@@SENSE_REVISION");onClose()};var container=document.getElementById("consoleWelcomePanel");if(container&&!isOpen){isOpen=true;var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_welcome_panel.WelcomePanel,{onDismiss:onDismiss}));_reactDom.default.render(element,container)}return onClose}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WelcomePanel=WelcomePanel;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _editor_example=__webpack_require__(738);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function WelcomePanel(props){return _react.default.createElement(_eui.EuiFlyout,{onClose:props.onDismiss,"data-test-subj":"welcomePanel",size:"s"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.pageTitle",defaultMessage:"Welcome to Console"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickIntroTitle",defaultMessage:"Quick intro to the UI"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickIntroDescription",defaultMessage:"The Console UI is split into two panes: an editor pane (left) and a response pane (right). Use the editor to type requests and submit them to Elasticsearch. The results will be displayed in the response pane on the right side."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.supportedRequestFormatTitle",defaultMessage:"Console understands requests in a compact format, similar to cURL:"})),_react.default.createElement(_editor_example.EditorExample,{panel:"welcome"}),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.supportedRequestFormatDescription",defaultMessage:"While typing a request, Console will make suggestions which you can then accept by hitting Enter/Tab. These suggestions are made based on the request structure as well as your indices and types."})),_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTipsTitle",defaultMessage:"A few quick tips, while I have your attention"})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.submitRequestDescription",defaultMessage:"Submit requests to ES using the green triangle button."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.useWrenchMenuDescription",defaultMessage:"Use the wrench menu for other useful things."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.cUrlFormatForRequestsDescription",defaultMessage:"You can paste requests in cURL format and they will be translated to the Console syntax."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.resizeEditorDescription",defaultMessage:"You can resize the editor and output panes by dragging the separator between them."})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.quickTips.keyboardShortcutsDescription",defaultMessage:"Study the keyboard shortcuts under the Help button. Good stuff in there!"}))))),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiButton,{fill:true,fullWidth:false,"data-test-subj":"help-close-button",onClick:props.onDismiss},_react.default.createElement(_react2.FormattedMessage,{id:"console.welcomePage.closeButtonLabel",defaultMessage:"Dismiss"}))))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='# index a doc\nPUT index/type/1\n{\n  "body": "here"\n}\n\n# and get it ...\nGET index/type/1\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTopNavConfig=getTopNavConfig;var _i18n=__webpack_require__(2);var _settings_show_modal=__webpack_require__(1858);var _help_show_panel=__webpack_require__(1860);function getTopNavConfig($scope,toggleHistory){return[{id:"history",label:_i18n.i18n.translate("console.topNav.historyTabLabel",{defaultMessage:"History"}),description:_i18n.i18n.translate("console.topNav.historyTabDescription",{defaultMessage:"History"}),run:function run(){$scope.$evalAsync(toggleHistory)},testId:"consoleHistoryButton"},{id:"settings",label:_i18n.i18n.translate("console.topNav.settingsTabLabel",{defaultMessage:"Settings"}),description:_i18n.i18n.translate("console.topNav.settingsTabDescription",{defaultMessage:"Settings"}),run:function run(){(0,_settings_show_modal.showSettingsModal)()},testId:"consoleSettingsButton"},{id:"help",label:_i18n.i18n.translate("console.topNav.helpTabLabel",{defaultMessage:"Help"}),description:_i18n.i18n.translate("console.topNav.helpTabDescription",{defaultMessage:"Help"}),run:function run(){var hideHelpPanel=(0,_help_show_panel.showHelpPanel)();$scope.$on("$destroy",function(){hideHelpPanel()})},testId:"consoleHelpButton"}]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showSettingsModal=showSettingsModal;var _i18n=__webpack_require__(11);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _settings_modal=__webpack_require__(1859);var _mappings=_interopRequireDefault(__webpack_require__(65));var _settings=__webpack_require__(127);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function showSettingsModal(){var container=document.getElementById("consoleSettingsModal");var curSettings=(0,_settings.getCurrentSettings)();var refreshAutocompleteSettings=function refreshAutocompleteSettings(selectedSettings){_mappings.default.retrieveAutoCompleteInfo(selectedSettings)};var closeModal=function closeModal(){if(!container)return;_reactDom.default.unmountComponentAtNode(container);container.innerHTML=""};var getAutocompleteDiff=function getAutocompleteDiff(newSettings,prevSettings){return Object.keys(newSettings.autocomplete).filter(function(key){return prevSettings.autocomplete[key]!==newSettings.autocomplete[key]})};var fetchAutocompleteSettingsIfNeeded=function fetchAutocompleteSettingsIfNeeded(newSettings,prevSettings){if(newSettings.polling){var autocompleteDiff=getAutocompleteDiff(newSettings,prevSettings);var isSettingsChanged=autocompleteDiff.length>0;var isPollingChanged=prevSettings.polling!==newSettings.polling;if(isSettingsChanged){var changedSettings=autocompleteDiff.reduce(function(changedSettingsAccum,setting){changedSettingsAccum[setting]=newSettings.autocomplete[setting];return changedSettingsAccum},{});_mappings.default.retrieveAutoCompleteInfo(changedSettings)}else if(isPollingChanged){_mappings.default.retrieveAutoCompleteInfo()}}};var onSave=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(newSettings){var prevSettings;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:prevSettings=(0,_settings.getCurrentSettings)();(0,_settings.updateSettings)(newSettings);fetchAutocompleteSettingsIfNeeded(newSettings,prevSettings);closeModal();case 4:case"end":return _context.stop()}}},_callee)}));return function onSave(_x){return _ref.apply(this,arguments)}}();var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_settings_modal.DevToolsSettingsModal,{settings:curSettings,onSaveSettings:onSave,onClose:closeModal,refreshAutocompleteSettings:refreshAutocompleteSettings}));_reactDom.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DevToolsSettingsModal=DevToolsSettingsModal;var _react=_interopRequireWildcard(__webpack_require__(0));var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function DevToolsSettingsModal(props){var _useState=(0,_react.useState)(props.settings.fontSize),_useState2=_slicedToArray(_useState,2),fontSize=_useState2[0],setFontSize=_useState2[1];var _useState3=(0,_react.useState)(props.settings.wrapMode),_useState4=_slicedToArray(_useState3,2),wrapMode=_useState4[0],setWrapMode=_useState4[1];var _useState5=(0,_react.useState)(props.settings.autocomplete.fields),_useState6=_slicedToArray(_useState5,2),fields=_useState6[0],setFields=_useState6[1];var _useState7=(0,_react.useState)(props.settings.autocomplete.indices),_useState8=_slicedToArray(_useState7,2),indices=_useState8[0],setIndices=_useState8[1];var _useState9=(0,_react.useState)(props.settings.autocomplete.templates),_useState10=_slicedToArray(_useState9,2),templates=_useState10[0],setTemplates=_useState10[1];var _useState11=(0,_react.useState)(props.settings.polling),_useState12=_slicedToArray(_useState11,2),polling=_useState12[0],setPolling=_useState12[1];var _useState13=(0,_react.useState)(props.settings.tripleQuotes),_useState14=_slicedToArray(_useState13,2),tripleQuotes=_useState14[0],setTripleQuotes=_useState14[1];var autoCompleteCheckboxes=[{id:"fields",label:_i18n.i18n.translate("console.settingsPage.fieldsLabelText",{defaultMessage:"Fields"}),stateSetter:setFields},{id:"indices",label:_i18n.i18n.translate("console.settingsPage.indicesAndAliasesLabelText",{defaultMessage:"Indices & Aliases"}),stateSetter:setIndices},{id:"templates",label:_i18n.i18n.translate("console.settingsPage.templatesLabelText",{defaultMessage:"Templates"}),stateSetter:setTemplates}];var checkboxIdToSelectedMap={fields:fields,indices:indices,templates:templates};var onAutocompleteChange=function onAutocompleteChange(optionId){var option=_.find(autoCompleteCheckboxes,function(item){return item.id===optionId});if(option){option.stateSetter(!checkboxIdToSelectedMap[optionId])}};function saveSettings(){props.onSaveSettings({fontSize:fontSize,wrapMode:wrapMode,autocomplete:{fields:fields,indices:indices,templates:templates},polling:polling,tripleQuotes:tripleQuotes})}var pollingFields=fields||indices||templates?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.refreshingDataLabel",defaultMessage:"Refreshing autocomplete suggestions"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.refreshingDataDescription",defaultMessage:"Console refreshes autocomplete suggestions by querying Elasticsearch. Automatic refreshes may be an issue if you have a large cluster or if you have network limitations."})},_react.default.createElement(_eui.EuiSwitch,{checked:polling,"data-test-subj":"autocompletePolling",id:"autocompletePolling",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Automatically refresh autocomplete suggestions",id:"console.settingsPage.pollingLabelText"}),onChange:function onChange(e){return setPolling(e.target.checked)}})),_react.default.createElement(_eui.EuiButton,{"data-test-subj":"autocompletePolling",id:"autocompletePolling",onClick:function onClick(){props.refreshAutocompleteSettings({autocomplete:{fields:fields,indices:indices,templates:templates}})}},_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Refresh autocomplete suggestions",id:"console.settingsPage.refreshButtonLabel"}))):undefined;return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{"data-test-subj":"devToolsSettingsModal",className:"conApp__settingsModal",onClose:props.onClose},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.pageTitle",defaultMessage:"Console Settings"}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.fontSizeLabel",defaultMessage:"Font Size"})},_react.default.createElement(_eui.EuiFieldNumber,{autoFocus:true,"data-test-subj":"setting-font-size-input",value:fontSize,min:6,max:50,onChange:function onChange(e){var val=parseInt(e.target.value,10);if(!val)return;setFontSize(val)}})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{checked:wrapMode,"data-test-subj":"settingsWrapLines",id:"wrapLines",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Wrap long lines",id:"console.settingsPage.wrapLongLinesLabelText"}),onChange:function onChange(e){return setWrapMode(e.target.checked)}})),_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.jsonSyntaxLabel",defaultMessage:"JSON syntax"})},_react.default.createElement(_eui.EuiSwitch,{checked:tripleQuotes,"data-test-subj":"tripleQuotes",id:"tripleQuotes",label:_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Use triple quotes in output pane",id:"console.settingsPage.tripleQuotesMessage"}),onChange:function onChange(e){return setTripleQuotes(e.target.checked)}})),_react.default.createElement(_eui.EuiFormRow,{labelType:"legend",label:_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.autocompleteLabel",defaultMessage:"Autocomplete"})},_react.default.createElement(_eui.EuiCheckboxGroup,{options:autoCompleteCheckboxes,idToSelectedMap:checkboxIdToSelectedMap,onChange:function onChange(e){onAutocompleteChange(e)}})),pollingFields),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"settingsCancelButton",onClick:props.onClose},_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.cancelButtonLabel",defaultMessage:"Cancel"})),_react.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"settings-save-button",onClick:saveSettings},_react.default.createElement(_react2.FormattedMessage,{id:"console.settingsPage.saveButtonLabel",defaultMessage:"Save"})))))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showHelpPanel=showHelpPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _i18n=__webpack_require__(11);var _help_panel=__webpack_require__(1861);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;function showHelpPanel(){var onClose=function onClose(){if(!container)return;_reactDom.default.unmountComponentAtNode(container);isOpen=false};var container=document.getElementById("consoleHelpPanel");if(container&&!isOpen){isOpen=true;var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_help_panel.HelpPanel,{onClose:onClose}));_reactDom.default.render(element,container)}return onClose}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HelpPanel=HelpPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _editor_example=__webpack_require__(738);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HelpPanel(props){return _react.default.createElement(_eui.EuiFlyout,{onClose:props.onClose,"data-test-subj":"helpFlyout",size:"s"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.pageTitle",defaultMessage:"Help"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{defaultMessage:"Request format",id:"console.helpPage.requestFormatTitle"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.requestFormatDescription",defaultMessage:"You can type one or more requests in the white editor. Console understands requests in a compact format:"})),_react.default.createElement(_editor_example.EditorExample,{panel:"help"}),_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommandsTitle",defaultMessage:"Keyboard commands"})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement("dl",null,_react.default.createElement("dt",null,"Ctrl/Cmd + I"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.autoIndentDescription",defaultMessage:"Auto indent current request"})),_react.default.createElement("dt",null,"Ctrl/Cmd + /"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.openDocumentationDescription",defaultMessage:"Open documentation for current request"})),_react.default.createElement("dt",null,"Ctrl + Space"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.openAutoCompleteDescription",defaultMessage:"Open Auto complete (even if not typing)"})),_react.default.createElement("dt",null,"Ctrl/Cmd + Enter"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.submitRequestDescription",defaultMessage:"Submit request"})),_react.default.createElement("dt",null,"Ctrl/Cmd + Up/Down"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.jumpToPreviousNextRequestDescription",defaultMessage:"Jump to the previous/next request start or end."})),_react.default.createElement("dt",null,"Ctrl/Cmd + Alt + L"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.collapseExpandCurrentScopeDescription",defaultMessage:"Collapse/expand current scope."})),_react.default.createElement("dt",null,"Ctrl/Cmd + Option + 0"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.collapseAllScopesDescription",defaultMessage:"Collapse all scopes but the current one. Expand by adding a shift."})),_react.default.createElement("dt",null,"Down arrow"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.switchFocusToAutoCompleteMenuDescription",defaultMessage:"Switch focus to auto-complete menu. Use arrows to further select a term"})),_react.default.createElement("dt",null,"Enter/Tab"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.selectCurrentlySelectedInAutoCompleteMenuDescription",defaultMessage:"Select the currently selected or the top most term in auto-complete menu"})),_react.default.createElement("dt",null,"Esc"),_react.default.createElement("dd",null,_react.default.createElement(_react2.FormattedMessage,{id:"console.helpPage.keyboardCommands.closeAutoCompleteMenuDescription",defaultMessage:"Close auto-complete menu"}))))))}},function(module,exports,__webpack_require__){"use strict";var _eui=__webpack_require__(3);var _history=_interopRequireDefault(__webpack_require__(1863));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _require=__webpack_require__(1),memoize=_require.memoize;var moment=__webpack_require__(14);var history=__webpack_require__(456);__webpack_require__(1864);__webpack_require__(6).get("app/sense").directive("senseHistory",function(){return{restrict:"E",template:_history.default,controllerAs:"history",scope:{isShown:"=",historyDirty:"=",close:"&"},controller:function controller($scope,$element){var _this=this;$scope.$watch("historyDirty",function(){_this.init()});$scope.$watch("isShown",function(){if($scope.isShown)_this.init()});this.init=function(){_this.reqs=history.getHistory();_this.selectedIndex=0;_this.selectedReq=_this.reqs[_this.selectedIndex];_this.viewingReq=_this.selectedReq;_this.describeReq=memoize(function(req){var endpoint=req.endpoint;var date=moment(req.time);var formattedDate=date.format("MMM D");if(date.diff(moment(),"days")>-7){formattedDate=date.fromNow()}return"".concat(endpoint," (").concat(formattedDate,")")});_this.describeReq.cache=new WeakMap};this.clear=function(){history.clearHistory($element);_this.init()};this.close=function(){$scope.close()};this.restore=function(){var req=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this.selectedReq;history.restoreFromHistory(req)};this.onKeyDown=function(ev){if(ev.keyCode===_eui.keyCodes.ENTER){_this.restore();return}if(ev.keyCode===_eui.keyCodes.UP){ev.preventDefault();_this.selectedIndex--}else if(ev.keyCode===_eui.keyCodes.DOWN){ev.preventDefault();_this.selectedIndex++}_this.selectedIndex=Math.min(Math.max(0,_this.selectedIndex),_this.reqs.length-1);_this.selectedReq=_this.reqs[_this.selectedIndex];_this.viewingReq=_this.reqs[_this.selectedIndex]}}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="conHistory">\n  <h2\n    class="kuiLocalDropdownTitle"\n    i18n-id="console.historyPage.pageTitle"\n    i18n-default-message="History"\n  ></h2>\n\n  <div class="conHistory__body">\n    <ul\n      class="list-group conHistory__reqs"\n      tabindex="0"\n      role="listbox"\n      aria-activedescendant="historyReq{{ history.selectedIndex }}"\n      scrollto-activedescendant\n      ng-keydown="history.onKeyDown($event)"\n      aria-label="{{:: \'console.historyPage.requestListAriaLabel\' | i18n: { defaultMessage: \'History of sent requests\' } }}"\n    >\n      <li\n        class="list-group-item conHistory__req"\n        role="option"\n        ng-repeat="req in history.reqs"\n        id="historyReq{{$index}}"\n        ng-class="{ \'conHistory__req-selected\': history.viewingReq === req }"\n        ng-click="history.selectedReq = req; history.viewingReq = req; history.selectedIndex = $index"\n        ng-mouseenter="history.viewingReq = req"\n        ng-mouseleave="history.viewingReq = history.selectedReq"\n        ng-dblclick="history.restore(req)"\n        aria-label="{{:: \'console.historyPage.itemOfRequestListAriaLabel\' | i18n: { defaultMessage: \'Request: {historyItem}\', values: { historyItem: history.describeReq(req) },} }}"\n        aria-selected="{{ history.selectedReq === req }}"\n      >\n        {{ history.describeReq(req) }}\n        <span class="conHistory__reqIcon"><i class="fa fa-chevron-right"></i></span>\n      </li>\n    </ul>\n\n    <sense-history-viewer class="conHistory__viewer" req="history.viewingReq" />\n  </div>\n\n  <div class="conHistory__footer">\n    <button\n      class="kuiButton kuiButton--danger"\n      ng-click="history.clear()"\n      i18n-id="console.historyPage.clearHistoryButtonLabel"\n      i18n-default-message="Clear"\n    ></button>\n\n    <div class="conHistory__footerButtonsRight">\n      <button\n        class="kuiButton kuiButton--hollow"\n        ng-click="history.close()"\n        i18n-id="console.historyPage.closehistoryButtonLabel"\n        i18n-default-message="Close"\n      ></button>\n\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="!history.selectedReq"\n        ng-click="history.restore()"\n        i18n-id="console.historyPage.applyHistoryButtonLabel"\n        i18n-default-message="Apply"\n      ></button>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(2);var _sense_editor_resize=__webpack_require__(728);var SenseEditor=__webpack_require__(455);__webpack_require__(6).get("app/sense").directive("senseHistoryViewer",function(){return{restrict:"E",scope:{req:"="},link:function link($scope,$el){var viewer=new SenseEditor($el);viewer.setReadOnly(true);viewer.renderer.setShowPrintMargin(false);(0,_sense_editor_resize.applyResizeCheckerToEditors)($scope,$el,viewer);__webpack_require__(127).applyCurrentSettings(viewer);$scope.$watch("req",function(req){if(req){var s=req.method+" "+req.endpoint+"\n"+(req.data||"");viewer.setValue(s);viewer.clearSelection()}else{viewer.getSession().setValue(_i18n.i18n.translate("console.historyPage.noHistoryTextMessage",{defaultMessage:"No history available"}))}});$scope.$on("$destroy",function(){viewer.destroy()})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(81);var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _console_menu=__webpack_require__(1866);var _module=_modules.uiModules.get("apps/sense",["react"]);_module.directive("consoleMenu",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_console_menu.ConsoleMenu))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConsoleMenu=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ConsoleMenu=function(_Component){_inherits(ConsoleMenu,_Component);function ConsoleMenu(props){var _this;_classCallCheck(this,ConsoleMenu);_this=_possibleConstructorReturn(this,_getPrototypeOf(ConsoleMenu).call(this,props));_defineProperty(_assertThisInitialized(_this),"mouseEnter",function(){if(_this.state.isPopoverOpen)return;_this.props.getCurl(function(text){_this.setState({curlCode:text})})});_defineProperty(_assertThisInitialized(_this),"onButtonClick",function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})});_defineProperty(_assertThisInitialized(_this),"closePopover",function(){_this.setState({isPopoverOpen:false})});_defineProperty(_assertThisInitialized(_this),"openDocs",function(){_this.closePopover();_this.props.getDocumentation();_this.props.openDocumentation()});_this.state={curlCode:"",isPopoverOpen:false};return _this}_createClass(ConsoleMenu,[{key:"copyAsCurl",value:function copyAsCurl(){this.copyText(this.state.curlCode)}},{key:"copyText",value:function copyText(text){var textField=document.createElement("textarea");textField.innerText=text;document.body.appendChild(textField);textField.select();document.execCommand("copy");textField.remove()}},{key:"render",value:function render(){var _this2=this;var button=_react.default.createElement(_eui.EuiButtonIcon,{iconType:"wrench",onClick:this.onButtonClick,"aria-label":_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptionsButtonAriaLabel",defaultMessage:"Request options"})});var items=[_react.default.createElement(_eui.EuiContextMenuItem,{key:"Copy as cURL",id:"ConCopyAsCurl",disabled:!document.queryCommandSupported("copy"),onClick:function onClick(){_this2.closePopover();_this2.copyAsCurl()}},_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptions.copyAsUrlButtonLabel",defaultMessage:"Copy as cURL"})),_react.default.createElement(_eui.EuiContextMenuItem,{key:"Open documentation",onClick:function onClick(){_this2.openDocs()}},_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptions.openDocumentationButtonLabel",defaultMessage:"Open documentation"})),_react.default.createElement(_eui.EuiContextMenuItem,{key:"Auto indent",onClick:function onClick(event){_this2.closePopover();_this2.props.autoIndent(event)}},_react.default.createElement(_react2.FormattedMessage,{id:"console.requestOptions.autoIndentButtonLabel",defaultMessage:"Auto indent"}))];return _react.default.createElement("span",{onMouseEnter:this.mouseEnter},_react.default.createElement(_eui.EuiPopover,{id:"contextMenu",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:items})))}}]);return ConsoleMenu}(_react.Component);exports.ConsoleMenu=ConsoleMenu;ConsoleMenu.propTypes={getCurl:_propTypes.default.func.isRequired,openDocumentation:_propTypes.default.func.isRequired,getDocumentation:_propTypes.default.func.isRequired,autoIndent:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1868);__webpack_require__(1885)},function(module,exports,__webpack_require__){"use strict";var _doc_views=__webpack_require__(457);var _i18n=__webpack_require__(2);var _table=__webpack_require__(1874);(0,_doc_views.addDocView)({title:_i18n.i18n.translate("kbnDocViews.table.tableTitle",{defaultMessage:"Table"}),order:10,component:_table.DocViewTable})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.injectAngularElement=injectAngularElement;exports.convertDirectiveToRenderFn=convertDirectiveToRenderFn;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _angular=_interopRequireDefault(__webpack_require__(17));var _chrome=_interopRequireDefault(__webpack_require__(7));var _doc_viewer_render_error=__webpack_require__(740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function injectAngularElement(_x,_x2,_x3,_x4){return _injectAngularElement.apply(this,arguments)}function _injectAngularElement(){_injectAngularElement=_asyncToGenerator(regeneratorRuntime.mark(function _callee(domNode,template,scopeProps,Controller){var $injector,rootScope,$compile,newScope,$target,$element;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _chrome.default.dangerouslyGetActiveInjector();case 2:$injector=_context.sent;rootScope=$injector.get("$rootScope");$compile=$injector.get("$compile");newScope=Object.assign(rootScope.$new(),scopeProps);if(typeof Controller==="function"){newScope.$ctrl=$injector.instantiate(Controller,{$scope:newScope})}$target=_angular.default.element(domNode);$element=_angular.default.element(template);newScope.$apply(function(){var linkFn=$compile($element);$target.empty().append($element);linkFn(newScope)});return _context.abrupt("return",function(){newScope.$destroy()});case 11:case"end":return _context.stop()}}},_callee)}));return _injectAngularElement.apply(this,arguments)}function convertDirectiveToRenderFn(directive){return function(domNode,props){var rejected=false;var cleanupFnPromise=injectAngularElement(domNode,directive.template,props,directive.controller);cleanupFnPromise.catch(function(e){rejected=true;(0,_reactDom.render)(_react.default.createElement(_doc_viewer_render_error.DocViewerError,{error:e}),domNode)});return function(){if(!rejected){cleanupFnPromise.then(function(cleanup){return cleanup()})}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"formatESMsg",{enumerable:true,get:function get(){return _format_es_msg.formatESMsg}});Object.defineProperty(exports,"formatMsg",{enumerable:true,get:function get(){return _format_msg.formatMsg}});Object.defineProperty(exports,"formatStack",{enumerable:true,get:function get(){return _format_stack.formatStack}});Object.defineProperty(exports,"isAngularHttpError",{enumerable:true,get:function get(){return _format_angular_http_error.isAngularHttpError}});Object.defineProperty(exports,"formatAngularHttpError",{enumerable:true,get:function get(){return _format_angular_http_error.formatAngularHttpError}});var _format_es_msg=__webpack_require__(741);var _format_msg=__webpack_require__(1871);var _format_stack=__webpack_require__(1872);var _format_angular_http_error=__webpack_require__(522)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatMsg=formatMsg;var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);var _format_es_msg=__webpack_require__(741);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var has=_lodash.default.has;function formatMsg(err,source){var message="";if(source){message+=source+": "}var esMsg=(0,_format_es_msg.formatESMsg)(err);if(typeof err==="string"){message+=err}else if(esMsg){message+=esMsg}else if(err instanceof Error){message+=formatMsg.describeError(err)}else if(has(err,"status")&&has(err,"data")){if(err.status===-1){message+=_i18n.i18n.translate("common.ui.notify.toaster.unavailableServerErrorMessage",{defaultMessage:"An HTTP request has failed to connect. "+"Please check if the Kibana server is running and that your browser has a working connection, "+"or contact your system administrator."})}else{message+=_i18n.i18n.translate("common.ui.notify.toaster.errorStatusMessage",{defaultMessage:"Error {errStatus} {errStatusText}: {errMessage}",values:{errStatus:err.status,errStatusText:err.statusText,errMessage:err.data.message}})}}return message}formatMsg.describeError=function(err){if(!err)return undefined;if(err.shortMessage)return err.shortMessage;if(err.body&&err.body.message)return err.body.message;if(err.message)return err.message;return""+err}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatStack=formatStack;var _i18n=__webpack_require__(2);function formatStack(err){if(err.stack&&!~err.stack.indexOf(err.message)){return _i18n.i18n.translate("common.ui.notify.toaster.errorMessage",{defaultMessage:"Error: {errorMessage}\n      {errorStack}",values:{errorMessage:err.message,errorStack:err.stack}})}return err.stack}},function(module,exports,__webpack_require__){"use strict"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTable=DocViewTable;var _react=_interopRequireWildcard(__webpack_require__(0));var _table_row=__webpack_require__(1875);var _table_helper=__webpack_require__(1884);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var COLLAPSE_LINE_LENGTH=350;function DocViewTable(_ref){var hit=_ref.hit,indexPattern=_ref.indexPattern,filter=_ref.filter,columns=_ref.columns,onAddColumn=_ref.onAddColumn,onRemoveColumn=_ref.onRemoveColumn;var mapping=indexPattern.fields.byName;var flattened=indexPattern.flattenHit(hit);var formatted=indexPattern.formatHit(hit,"html");var _useState=(0,_react.useState)({}),_useState2=_slicedToArray(_useState,2),fieldRowOpen=_useState2[0],setFieldRowOpen=_useState2[1];function toggleValueCollapse(field){fieldRowOpen[field]=fieldRowOpen[field]!==true;setFieldRowOpen(_objectSpread({},fieldRowOpen))}return _react.default.createElement("table",{className:"table table-condensed kbnDocViewerTable"},_react.default.createElement("tbody",null,Object.keys(flattened).sort().map(function(field){var valueRaw=flattened[field];var value=(0,_table_helper.trimAngularSpan)(String(formatted[field]));var isCollapsible=value.length>COLLAPSE_LINE_LENGTH;var isCollapsed=isCollapsible&&!fieldRowOpen[field];var toggleColumn=onRemoveColumn&&onAddColumn&&Array.isArray(columns)?function(){if(columns.includes(field)){onRemoveColumn(field)}else{onAddColumn(field)}}:undefined;var isArrayOfObjects=Array.isArray(flattened[field])&&(0,_table_helper.arrayContainsObjects)(flattened[field]);var displayUnderscoreWarning=!mapping[field]&&field.indexOf("_")===0;var displayNoMappingWarning=!mapping[field]&&!displayUnderscoreWarning&&!isArrayOfObjects;return _react.default.createElement(_table_row.DocViewTableRow,{key:field,field:field,fieldMapping:mapping[field],displayUnderscoreWarning:displayUnderscoreWarning,displayNoMappingWarning:displayNoMappingWarning,isCollapsed:isCollapsed,isCollapsible:isCollapsible,isColumnActive:Array.isArray(columns)&&columns.includes(field),onFilter:filter,onToggleCollapse:function onToggleCollapse(){return toggleValueCollapse(field)},onToggleColumn:toggleColumn,value:value,valueRaw:valueRaw})})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRow=DocViewTableRow;var _react=_interopRequireDefault(__webpack_require__(0));var _field_name=__webpack_require__(742);var _classnames=_interopRequireDefault(__webpack_require__(26));var _table_row_btn_filter_add=__webpack_require__(1877);var _table_row_btn_filter_remove=__webpack_require__(1878);var _table_row_btn_toggle_column=__webpack_require__(1879);var _table_row_btn_collapse=__webpack_require__(1880);var _table_row_btn_filter_exists=__webpack_require__(1881);var _table_row_icon_no_mapping=__webpack_require__(1882);var _table_row_icon_underscore=__webpack_require__(1883);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRow(_ref){var field=_ref.field,fieldMapping=_ref.fieldMapping,displayNoMappingWarning=_ref.displayNoMappingWarning,displayUnderscoreWarning=_ref.displayUnderscoreWarning,isCollapsible=_ref.isCollapsible,isCollapsed=_ref.isCollapsed,isColumnActive=_ref.isColumnActive,onFilter=_ref.onFilter,onToggleCollapse=_ref.onToggleCollapse,onToggleColumn=_ref.onToggleColumn,value=_ref.value,valueRaw=_ref.valueRaw;var valueClassName=(0,_classnames.default)({kbnDocViewer__value:true,"truncate-by-height":isCollapsible&&isCollapsed});return _react.default.createElement("tr",{key:field,"data-test-subj":"tableDocViewRow-".concat(field)},typeof onFilter==="function"&&_react.default.createElement("td",{className:"kbnDocViewer__buttons"},_react.default.createElement(_table_row_btn_filter_add.DocViewTableRowBtnFilterAdd,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:function onClick(){return onFilter(fieldMapping,valueRaw,"+")}}),_react.default.createElement(_table_row_btn_filter_remove.DocViewTableRowBtnFilterRemove,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:function onClick(){return onFilter(fieldMapping,valueRaw,"-")}}),typeof onToggleColumn==="function"&&_react.default.createElement(_table_row_btn_toggle_column.DocViewTableRowBtnToggleColumn,{active:isColumnActive,onClick:onToggleColumn}),_react.default.createElement(_table_row_btn_filter_exists.DocViewTableRowBtnFilterExists,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:function onClick(){return onFilter("_exists_",field,"+")},scripted:fieldMapping&&fieldMapping.scripted})),_react.default.createElement("td",{className:"kbnDocViewer__field"},_react.default.createElement(_field_name.FieldName,{field:fieldMapping,fieldName:field})),_react.default.createElement("td",null,isCollapsible&&_react.default.createElement(_table_row_btn_collapse.DocViewTableRowBtnCollapse,{onClick:onToggleCollapse,isCollapsed:isCollapsed}),displayUnderscoreWarning&&_react.default.createElement(_table_row_icon_underscore.DocViewTableRowIconUnderscore,null),displayNoMappingWarning&&_react.default.createElement(_table_row_icon_no_mapping.DocViewTableRowIconNoMapping,null),_react.default.createElement("div",{className:valueClassName,"data-test-subj":"tableDocViewRow-".concat(field,"-value"),dangerouslySetInnerHTML:{__html:value}})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldNameIcon=FieldNameIcon;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FieldNameIcon(_ref){var type=_ref.type;switch(type){case"boolean":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.booleanAriaLabel",{defaultMessage:"Boolean field"}),className:"dscField__icon kuiIcon fa-adjust"});case"conflict":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.conflictFieldAriaLabel",{defaultMessage:"Conflicting field"}),className:"dscField__icon kuiIcon fa-warning"});case"date":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.dateFieldAriaLabel",{defaultMessage:"Date field"}),className:"dscField__icon kuiIcon fa-clock-o"});case"geo_point":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.geoPointFieldAriaLabel",{defaultMessage:"Geo Point"}),className:"dscField__icon kuiIcon fa-globe"});case"geo_shape":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.geoShapeFieldAriaLabel",{defaultMessage:"Geo Shape"}),className:"dscField__icon kuiIcon fa-globe"});case"ip":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.ipAddressFieldAriaLabel",{defaultMessage:"IP address field"}),className:"dscField__icon kuiIcon fa-laptop"});case"murmur3":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.murmur3FieldAriaLabel",{defaultMessage:"Murmur3 field"}),className:"dscField__icon"},_react.default.createElement("strong",{"aria-hidden":"true"},"h"));case"number":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.numberFieldAriaLabel",{defaultMessage:"Number field"}),className:"dscField__icon"},_react.default.createElement("strong",{"aria-hidden":"true"},"#"));case"source":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.sourceFieldAriaLabel",{defaultMessage:"Source field"}),className:"dscField__icon kuiIcon fa-file-text-o"});case"string":return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.stringFieldAriaLabel",{defaultMessage:"String field"}),className:"dscField__icon"},_react.default.createElement("strong",{"aria-hidden":"true"},"t"));default:return _react.default.createElement("span",{"aria-label":_i18n.i18n.translate("common.ui.directives.fieldNameIcons.unknownFieldAriaLabel",{defaultMessage:"Unknown field"}),className:"dscField__icon"},_react.default.createElement("strong",{"aria-hidden":"true"},"?"))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowBtnFilterAdd=DocViewTableRowBtnFilterAdd;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowBtnFilterAdd(_ref){var onClick=_ref.onClick,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled;var tooltipContent=disabled?_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields can not be searched"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.filterForValueButtonTooltip",defaultMessage:"Filter for value"});return _react.default.createElement(_eui.EuiToolTip,{content:tooltipContent},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("kbnDocViews.table.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),className:"kbnDocViewer__actionButton","data-test-subj":"addInclusiveFilterButton",disabled:disabled,onClick:onClick,iconType:"magnifyWithPlus",iconSize:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowBtnFilterRemove=DocViewTableRowBtnFilterRemove;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowBtnFilterRemove(_ref){var onClick=_ref.onClick,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled;var tooltipContent=disabled?_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields can not be searched"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.filterOutValueButtonTooltip",defaultMessage:"Filter out value"});return _react.default.createElement(_eui.EuiToolTip,{content:tooltipContent},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("kbnDocViews.table.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),className:"kbnDocViewer__actionButton","data-test-subj":"removeInclusiveFilterButton",disabled:disabled,onClick:onClick,iconType:"magnifyWithMinus",iconSize:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowBtnToggleColumn=DocViewTableRowBtnToggleColumn;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowBtnToggleColumn(_ref){var onClick=_ref.onClick,active=_ref.active,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled;if(disabled){return _react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("kbnDocViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",disabled:true,iconType:"tableOfContents",iconSize:"s"})}return _react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.toggleColumnInTableButtonTooltip",defaultMessage:"Toggle column in table"})},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("kbnDocViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),"aria-pressed":active,onClick:onClick,className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",iconType:"tableOfContents",iconSize:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowBtnCollapse=DocViewTableRowBtnCollapse;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowBtnCollapse(_ref){var _onClick=_ref.onClick,isCollapsed=_ref.isCollapsed;var label=_i18n.i18n.translate("kbnDocViews.table.toggleFieldDetails",{defaultMessage:"Toggle field details"});return _react.default.createElement(_eui.EuiToolTip,{content:label},_react.default.createElement(_eui.EuiButtonIcon,{"aria-expanded":!isCollapsed,"aria-label":label,"data-test-subj":"collapseBtn",onClick:function onClick(){return _onClick()},iconType:isCollapsed?"arrowRight":"arrowDown",iconSize:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowBtnFilterExists=DocViewTableRowBtnFilterExists;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowBtnFilterExists(_ref){var onClick=_ref.onClick,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$scripted=_ref.scripted,scripted=_ref$scripted===void 0?false:_ref$scripted;var tooltipContent=disabled?scripted?_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.unableToFilterForPresenceOfScriptedFieldsTooltip",defaultMessage:"Unable to filter for presence of scripted fields"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.unableToFilterForPresenceOfMetaFieldsTooltip",defaultMessage:"Unable to filter for presence of meta fields"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbnDocViews.table.filterForFieldPresentButtonTooltip",defaultMessage:"Filter for field present"});return _react.default.createElement(_eui.EuiToolTip,{content:tooltipContent},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":_i18n.i18n.translate("kbnDocViews.table.filterForFieldPresentButtonAriaLabel",{defaultMessage:"Filter for field present"}),onClick:onClick,className:"kbnDocViewer__actionButton","data-test-subj":"addExistsFilterButton",disabled:disabled,iconType:"indexOpen",iconSize:"s"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowIconNoMapping=DocViewTableRowIconNoMapping;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowIconNoMapping(){var ariaLabel=_i18n.i18n.translate("kbnDocViews.table.noCachedMappingForThisFieldAriaLabel",{defaultMessage:"Warning"});var tooltipContent=_i18n.i18n.translate("kbnDocViews.table.noCachedMappingForThisFieldTooltip",{defaultMessage:"No cached mapping for this field. Refresh field list from the Management > Index Patterns page"});return _react.default.createElement(_eui.EuiIconTip,{"aria-label":ariaLabel,color:"warning",content:tooltipContent,iconProps:{className:"kbnDocViewer__warning","data-test-subj":"noMappingWarning"},size:"s",type:"alert"})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewTableRowIconUnderscore=DocViewTableRowIconUnderscore;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewTableRowIconUnderscore(){var ariaLabel=_i18n.i18n.translate("kbnDocViews.table.fieldNamesBeginningWithUnderscoreUnsupportedAriaLabel",{defaultMessage:"Warning"});var tooltipContent=_i18n.i18n.translate("kbnDocViews.table.fieldNamesBeginningWithUnderscoreUnsupportedTooltip",{defaultMessage:"Field names beginning with {underscoreSign} are not supported",values:{underscoreSign:"_"}});return _react.default.createElement(_eui.EuiIconTip,{"aria-label":ariaLabel,content:tooltipContent,color:"warning",iconProps:{className:"kbnDocViewer__warning","data-test-subj":"underscoreWarning"},size:"s",type:"alert"})}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.arrayContainsObjects=arrayContainsObjects;exports.trimAngularSpan=trimAngularSpan;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function arrayContainsObjects(value){return Array.isArray(value)&&value.some(function(v){return _typeof(v)==="object"&&v!==null})}function trimAngularSpan(text){return text.replace(/^<span ng-non-bindable>/,"").replace(/<\/span>$/,"")}},function(module,exports,__webpack_require__){"use strict";var _doc_views=__webpack_require__(457);var _i18n=__webpack_require__(2);var _json_code_block=__webpack_require__(1886);(0,_doc_views.addDocView)({title:_i18n.i18n.translate("kbnDocViews.json.jsonTitle",{defaultMessage:"JSON"}),order:20,component:_json_code_block.JsonCodeBlock})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonCodeBlock=JsonCodeBlock;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function JsonCodeBlock(_ref){var hit=_ref.hit;var label=_i18n.i18n.translate("kbnDocViews.json.codeEditorAriaLabel",{defaultMessage:"Read only JSON view of an elasticsearch document"});return _react.default.createElement(_eui.EuiCodeBlock,{"aria-label":label,language:"json",isCopyable:true,paddingSize:"s"},JSON.stringify(hit,null,2))}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchEmbeddableFactory=void 0;__webpack_require__(744);var _capabilities=__webpack_require__(37);var _i18n=__webpack_require__(2);var _chrome=_interopRequireDefault(__webpack_require__(7));var _query_filter=__webpack_require__(51);var _public=__webpack_require__(40);var _legacy=__webpack_require__(374);var _search_embeddable=__webpack_require__(1909);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchEmbeddableFactory=function(_EmbeddableFactory){_inherits(SearchEmbeddableFactory,_EmbeddableFactory);function SearchEmbeddableFactory(executeTriggerActions){var _this;_classCallCheck(this,SearchEmbeddableFactory);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchEmbeddableFactory).call(this,{savedObjectMetaData:{name:_i18n.i18n.translate("kbn.discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"}),type:"search",getIconForSavedObject:function getIconForSavedObject(){return"search"}}}));_this.executeTriggerActions=executeTriggerActions;_defineProperty(_assertThisInitialized(_this),"type",_search_embeddable.SEARCH_EMBEDDABLE_TYPE);return _this}_createClass(SearchEmbeddableFactory,[{key:"isEditable",value:function isEditable(){return _capabilities.capabilities.get().discover.save}},{key:"canCreateNew",value:function canCreateNew(){return false}},{key:"getDisplayName",value:function getDisplayName(){return _i18n.i18n.translate("kbn.embeddable.search.displayName",{defaultMessage:"search"})}},{key:"createFromSavedObject",value:function(){var _createFromSavedObject=_asyncToGenerator(regeneratorRuntime.mark(function _callee(savedObjectId,input,parent){var $injector,$compile,$rootScope,searchLoader,editUrl,Private,queryFilter,savedObject;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _chrome.default.dangerouslyGetActiveInjector();case 2:$injector=_context.sent;$compile=$injector.get("$compile");$rootScope=$injector.get("$rootScope");searchLoader=$injector.get("savedSearches");editUrl=_chrome.default.addBasePath("/app/kibana".concat(searchLoader.urlFor(savedObjectId)));Private=$injector.get("Private");queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);_context.prev=9;_context.next=12;return searchLoader.get(savedObjectId);case 12:savedObject=_context.sent;return _context.abrupt("return",new _search_embeddable.SearchEmbeddable({savedSearch:savedObject,$rootScope:$rootScope,$compile:$compile,editUrl:editUrl,queryFilter:queryFilter,editable:_capabilities.capabilities.get().discover.save,indexPatterns:_.compact([savedObject.searchSource.getField("index")])},input,this.executeTriggerActions,parent));case 16:_context.prev=16;_context.t0=_context["catch"](9);console.error(_context.t0);return _context.abrupt("return",new _public.ErrorEmbeddable(_context.t0,input,parent));case 20:case"end":return _context.stop()}}},_callee,this,[[9,16]])}));function createFromSavedObject(_x,_x2,_x3){return _createFromSavedObject.apply(this,arguments)}return createFromSavedObject}()},{key:"create",value:function(){var _create=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(input){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new _public.ErrorEmbeddable("Saved searches can only be created from a saved object",input));case 1:case"end":return _context2.stop()}}},_callee2)}));function create(_x4){return _create.apply(this,arguments)}return create}()}]);return SearchEmbeddableFactory}(_public.EmbeddableFactory);exports.SearchEmbeddableFactory=SearchEmbeddableFactory;var factory=new SearchEmbeddableFactory(_legacy.start.executeTriggerActions);_legacy.setup.registerEmbeddableFactory(factory.type,factory)},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _doc_table=_interopRequireDefault(__webpack_require__(1889));__webpack_require__(1890);__webpack_require__(1891);__webpack_require__(745);var _render_complete=__webpack_require__(82);var _modules=__webpack_require__(6);__webpack_require__(1903);__webpack_require__(1906);var _doc_table_strings=__webpack_require__(1908);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("app/discover").directive("docTable",function(config,getAppState,pagerFactory,$filter){return{restrict:"E",template:_doc_table.default,scope:{sorting:"=",columns:"=",hits:"=",totalHitCount:"=",indexPattern:"=",isLoading:"=?",infiniteScroll:"=?",filter:"=?",filters:"=?",minimumVisibleRows:"=?",onAddColumn:"=?",onChangeSortOrder:"=?",onMoveColumn:"=?",onRemoveColumn:"=?",inspectorAdapters:"=?"},link:function link($scope,$el){$scope.$watch("minimumVisibleRows",function(minimumVisibleRows){$scope.limit=Math.max(minimumVisibleRows||50,$scope.limit||50)});$scope.persist={sorting:$scope.sorting,columns:$scope.columns};var limitTo=$filter("limitTo");var calculateItemsOnPage=function calculateItemsOnPage(){$scope.pager.setTotalItems($scope.hits.length);$scope.pageOfItems=limitTo($scope.hits,$scope.pager.pageSize,$scope.pager.startIndex)};$scope.limitedResultsWarning=(0,_doc_table_strings.getLimitedSearchResultsMessage)(config.get("discover:sampleSize"));$scope.addRows=function(){$scope.limit+=50};$scope.$watch("columns",function(columns){if(columns.length!==0)return;var $state=getAppState();$scope.columns.push("_source");if($state)$state.replace()});$scope.$watchCollection("columns",function(columns,oldColumns){if(oldColumns.length===1&&oldColumns[0]==="_source"&&$scope.columns.length>1){_lodash.default.pull($scope.columns,"_source")}if($scope.columns.length===0)$scope.columns.push("_source")});$scope.$watch("hits",function(hits){if(!hits)return;$scope.limit=50;if(hits.length===0){(0,_render_complete.dispatchRenderComplete)($el[0])}if($scope.infiniteScroll)return;$scope.pager=pagerFactory.create(hits.length,50,1);calculateItemsOnPage()});$scope.pageOfItems=[];$scope.onPageNext=function(){$scope.pager.nextPage();calculateItemsOnPage()};$scope.onPagePrevious=function(){$scope.pager.previousPage();calculateItemsOnPage()};$scope.shouldShowLimitedResultsWarning=function(){return!$scope.pager.hasNextPage&&$scope.pager.totalItems<$scope.totalHitCount}}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div\n  class="kbnDocTable__container"\n  ng-if="hits.length"\n  ng-class="{ loading: isLoading }"\n>\n  <div ng-if="!infiniteScroll">\n    <div class="kuiBar kbnDocTable__bar">\n      <div class="kuiBarSection">\n        <div\n          ng-if="shouldShowLimitedResultsWarning()"\n          class="kuiToolBarText kuiSubduedText"\n        >\n          {{ limitedResultsWarning }}\n        </div>\n        \x3c!-- Pagination --\x3e\n        <tool-bar-pager-text\n          start-item="pager.startItem"\n          end-item="pager.endItem"\n          total-items="totalHitCount"\n        ></tool-bar-pager-text>\n        <tool-bar-pager-buttons\n          has-previous-page="pager.hasPreviousPage"\n          has-next-page="pager.hasNextPage"\n          on-page-next="onPageNext"\n          on-page-previous="onPagePrevious"\n        ></tool-bar-pager-buttons>\n      </div>\n    </div>\n    <table class="kbnDocTable table" ng-if="indexPattern">\n      <thead\n        kbn-table-header\n        columns="columns"\n        index-pattern="indexPattern"\n        sort-order="sorting"\n        on-change-sort-order="onChangeSortOrder"\n        on-move-column="onMoveColumn"\n        on-remove-column="onRemoveColumn"\n      ></thead>\n      <tbody>\n        <tr ng-repeat="row in pageOfItems|limitTo:limit track by row._index+row._type+row._id+row._score+row._version+row._routing"\n          kbn-table-row="row"\n          columns="columns"\n          sorting="sorting"\n          index-pattern="indexPattern"\n          filter="filter"\n          filters="filters"\n          class="kbnDocTable__row"\n          on-add-column="onAddColumn"\n          on-remove-column="onRemoveColumn"\n        ></tr>\n      </tbody>\n    </table>\n    \x3c!-- ToolBarFooter --\x3e\n    <div class="kuiBar kbnDocTable__bar">\n      <div class="kuiBarSection">\n        <div\n          ng-if="shouldShowLimitedResultsWarning()"\n          class="kuiToolBarText kuiSubduedText"\n        >\n          {{ limitedResultsWarning }}\n        </div>\n        \x3c!-- Pagination --\x3e\n        <tool-bar-pager-text\n          start-item="pager.startItem"\n          end-item="pager.endItem"\n          total-items="totalHitCount"\n        ></tool-bar-pager-text>\n        <tool-bar-pager-buttons\n          has-previous-page="pager.hasPreviousPage"\n          has-next-page="pager.hasNextPage"\n          on-page-next="onPageNext"\n          on-page-previous="onPagePrevious"\n        ></tool-bar-pager-buttons>\n      </div>\n    </div>\n  </div>\n\n  <table ng-if="infiniteScroll" class="kbn-table table" ng-if="indexPattern" data-test-subj="docTable">\n    <thead\n      kbn-table-header\n      columns="columns"\n      index-pattern="indexPattern"\n      sort-order="sorting"\n      on-change-sort-order="onChangeSortOrder"\n      on-move-column="onMoveColumn"\n      on-remove-column="onRemoveColumn"\n    ></thead>\n    <tbody>\n      <tr ng-repeat="row in hits|limitTo:limit track by row._index+row._type+row._id+row._score+row._version+row._routing"\n        kbn-table-row="row"\n        columns="columns"\n        sorting="sorting"\n        index-pattern="indexPattern"\n        filter="filter"\n        filters="filters"\n        class="kbnDocTable__row"\n        ng-class="{\'kbnDocTable__row--highlight\': row[\'$$_isAnchor\']}"\n        data-test-subj="docTableRow{{ row[\'$$_isAnchor\'] ? \' docTableAnchorRow\' : \'\'}}"\n        on-add-column="onAddColumn"\n        on-remove-column="onRemoveColumn"\n      ></tr>\n    </tbody>\n  </table>\n  <kbn-infinite-scroll ng-if="infiniteScroll" more="addRows"></kbn-infinite-scroll>\n</div>\n\n<div ng-if="hits != null && !hits.length" class="kbnDocTable__error">\n  <div class="euiText euiText--extraSmall euiTextColor euiTextColor--subdued">\n    <icon type="\'visualizeApp\'" size="\'m\'" color="\'subdued\'"></icon>\n\n    <div class="euiSpacer euiSpacer--m"></div>\n\n    <p\n      i18n-id="kbn.docTable.noResultsTitle"\n      i18n-default-message="No results found"\n    >\n    </p>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(12));var _modules=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("app/discover");_module.directive("kbnInfiniteScroll",function(){return{restrict:"E",scope:{more:"="},link:function link($scope,$element){var $window=(0,_jquery.default)(window);var checkTimer;function onScroll(){if(!$scope.more)return;var winHeight=$window.height();var winBottom=winHeight+$window.scrollTop();var elTop=$element.offset().top;var remaining=elTop-winBottom;if(remaining<=winHeight*.5){$scope[$scope.$$phase?"$eval":"$apply"](function(){$scope.more()})}}function scheduleCheck(){if(checkTimer)return;checkTimer=setTimeout(function(){checkTimer=null;onScroll()},50)}$window.on("scroll",scheduleCheck);$scope.$on("$destroy",function(){clearTimeout(checkTimer);$window.off("scroll",scheduleCheck)});scheduleCheck()}}})},function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _table_header=__webpack_require__(1892);var _module=_modules.uiModules.get("app/discover");_module.directive("kbnTableHeader",function(reactDirective,config){return reactDirective((0,_i18n.wrapInI18nContext)(_table_header.TableHeader),undefined,{restrict:"A"},{hideTimeColumn:config.get("doc_table:hideTimeColumn"),isShortDots:config.get("shortDots:enable")})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableHeader=TableHeader;var _react=_interopRequireDefault(__webpack_require__(0));var _table_header_column=__webpack_require__(1893);var _helpers=__webpack_require__(1894);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function TableHeader(_ref){var columns=_ref.columns,hideTimeColumn=_ref.hideTimeColumn,indexPattern=_ref.indexPattern,isShortDots=_ref.isShortDots,onChangeSortOrder=_ref.onChangeSortOrder,onMoveColumn=_ref.onMoveColumn,onRemoveColumn=_ref.onRemoveColumn,sortOrder=_ref.sortOrder;var displayedColumns=(0,_helpers.getDisplayedColumns)(columns,indexPattern,hideTimeColumn,isShortDots);return _react.default.createElement("tr",{"data-test-subj":"docTableHeader",className:"kbnDocTableHeader"},_react.default.createElement("th",{style:{width:"24px"}}),displayedColumns.map(function(col){return _react.default.createElement(_table_header_column.TableHeaderColumn,_extends({key:col.name},col,{sortOrder:sortOrder,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,onChangeSortOrder:onChangeSortOrder}))}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableHeaderColumn=TableHeaderColumn;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var sortDirectionToIcon={desc:"fa fa-sort-down",asc:"fa fa-sort-up","":"fa fa-sort"};function TableHeaderColumn(_ref){var colLeftIdx=_ref.colLeftIdx,colRightIdx=_ref.colRightIdx,displayName=_ref.displayName,isRemoveable=_ref.isRemoveable,isSortable=_ref.isSortable,name=_ref.name,onChangeSortOrder=_ref.onChangeSortOrder,onMoveColumn=_ref.onMoveColumn,onRemoveColumn=_ref.onRemoveColumn,sortOrder=_ref.sortOrder;var _ref2=sortOrder.find(function(sortPair){return name===sortPair[0]})||[],_ref3=_slicedToArray(_ref2,2),_ref3$=_ref3[1],sortDirection=_ref3$===void 0?"":_ref3$;var currentSortWithoutColumn=sortOrder.filter(function(pair){return pair[0]!==name});var currentColumnSort=sortOrder.find(function(pair){return pair[0]===name});var currentColumnSortDirection=currentColumnSort&&currentColumnSort[1]||"";var btnSortIcon=sortDirectionToIcon[sortDirection];var btnSortClassName=sortDirection!==""?btnSortIcon:"kbnDocTableHeader__sortChange ".concat(btnSortIcon);var handleChangeSortOrder=function handleChangeSortOrder(){if(!onChangeSortOrder)return;if(currentColumnSort===undefined){onChangeSortOrder([].concat(_toConsumableArray(currentSortWithoutColumn),[[name,"asc"]]))}else if(currentColumnSortDirection==="asc"){onChangeSortOrder([].concat(_toConsumableArray(currentSortWithoutColumn),[[name,"desc"]]))}else if(currentColumnSortDirection==="desc"&&currentSortWithoutColumn.length===0){onChangeSortOrder([[name,"asc"]])}else{onChangeSortOrder(currentSortWithoutColumn)}};var getSortButtonAriaLabel=function getSortButtonAriaLabel(){var sortAscendingMessage=_i18n.i18n.translate("kbn.docTable.tableHeader.sortByColumnAscendingAriaLabel",{defaultMessage:"Sort {columnName} ascending",values:{columnName:name}});var sortDescendingMessage=_i18n.i18n.translate("kbn.docTable.tableHeader.sortByColumnDescendingAriaLabel",{defaultMessage:"Sort {columnName} descending",values:{columnName:name}});var stopSortingMessage=_i18n.i18n.translate("kbn.docTable.tableHeader.sortByColumnUnsortedAriaLabel",{defaultMessage:"Stop sorting on {columnName}",values:{columnName:name}});if(currentColumnSort===undefined){return sortAscendingMessage}else if(sortDirection==="asc"){return sortDescendingMessage}else if(sortDirection==="desc"&&currentSortWithoutColumn.length===0){return sortAscendingMessage}else{return stopSortingMessage}};var buttons=[{active:isSortable&&typeof onChangeSortOrder==="function",ariaLabel:getSortButtonAriaLabel(),className:btnSortClassName,onClick:handleChangeSortOrder,testSubject:"docTableHeaderFieldSort_".concat(name),tooltip:getSortButtonAriaLabel()},{active:isRemoveable&&typeof onRemoveColumn==="function",ariaLabel:_i18n.i18n.translate("kbn.docTable.tableHeader.removeColumnButtonAriaLabel",{defaultMessage:"Remove {columnName} column",values:{columnName:name}}),className:"fa fa-remove kbnDocTableHeader__move",onClick:function onClick(){return onRemoveColumn&&onRemoveColumn(name)},testSubject:"docTableRemoveHeader-".concat(name),tooltip:_i18n.i18n.translate("kbn.docTable.tableHeader.removeColumnButtonTooltip",{defaultMessage:"Remove Column"})},{active:colLeftIdx>=0&&typeof onMoveColumn==="function",ariaLabel:_i18n.i18n.translate("kbn.docTable.tableHeader.moveColumnLeftButtonAriaLabel",{defaultMessage:"Move {columnName} column to the left",values:{columnName:name}}),className:"fa fa-angle-double-left kbnDocTableHeader__move",onClick:function onClick(){return onMoveColumn&&onMoveColumn(name,colLeftIdx)},testSubject:"docTableMoveLeftHeader-".concat(name),tooltip:_i18n.i18n.translate("kbn.docTable.tableHeader.moveColumnLeftButtonTooltip",{defaultMessage:"Move column to the left"})},{active:colRightIdx>=0&&typeof onMoveColumn==="function",ariaLabel:_i18n.i18n.translate("kbn.docTable.tableHeader.moveColumnRightButtonAriaLabel",{defaultMessage:"Move {columnName} column to the right",values:{columnName:name}}),className:"fa fa-angle-double-right kbnDocTableHeader__move",onClick:function onClick(){return onMoveColumn&&onMoveColumn(name,colRightIdx)},testSubject:"docTableMoveRightHeader-".concat(name),tooltip:_i18n.i18n.translate("kbn.docTable.tableHeader.moveColumnRightButtonTooltip",{defaultMessage:"Move column to the right"})}];return _react.default.createElement("th",{"data-test-subj":"docTableHeaderField"},_react.default.createElement("span",{"data-test-subj":"docTableHeader-".concat(name)},displayName,buttons.filter(function(button){return button.active}).map(function(button,idx){return _react.default.createElement(_eui.EuiToolTip,{id:"docTableHeader-".concat(name,"-tt"),content:button.tooltip,key:"button-".concat(idx)},_react.default.createElement("button",{"aria-label":button.ariaLabel,className:button.className,"data-test-subj":button.testSubject,onClick:button.onClick}))})))}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.getTimeColumn=getTimeColumn;exports.getDisplayedColumns=getDisplayedColumns;var _shorten_dotted_string=__webpack_require__(117);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function getTimeColumn(timeFieldName){return{name:timeFieldName,displayName:"Time",isSortable:true,isRemoveable:false,colLeftIdx:-1,colRightIdx:-1}}function getDisplayedColumns(columns,indexPattern,hideTimeField,isShortDots){if(!Array.isArray(columns)||_typeof(indexPattern)!=="object"||!indexPattern.getFieldByName){return[]}var columnProps=columns.map(function(column,idx){var field=indexPattern.getFieldByName(column);return{name:column,displayName:isShortDots?(0,_shorten_dotted_string.shortenDottedString)(column):column,isSortable:field&&field.sortable?true:false,isRemoveable:column!=="_source"||columns.length>1,colLeftIdx:idx-1<0?-1:idx-1,colRightIdx:idx+1>=columns.length?-1:idx+1}});return!hideTimeField&&indexPattern.timeFieldName?[getTimeColumn(indexPattern.timeFieldName)].concat(_toConsumableArray(columnProps)):columnProps}},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _doc_viewer=__webpack_require__(1896);_modules.uiModules.get("apps/discover").directive("docViewer",function(reactDirective){return reactDirective(_doc_viewer.DocViewer,undefined,{restrict:"E",scope:{hit:"=",indexPattern:"=",filter:"=?",columns:"=?",onAddColumn:"=?",onRemoveColumn:"=?"}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewer=DocViewer;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _doc_views=__webpack_require__(457);var _doc_viewer_tab=__webpack_require__(1897);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DocViewer(renderProps){var tabs=(0,_doc_views.getDocViewsSorted)(renderProps.hit).map(function(_ref,idx){var title=_ref.title,render=_ref.render,component=_ref.component;return{id:title,name:title,content:_react.default.createElement(_doc_viewer_tab.DocViewerTab,{id:idx,title:title,component:component,renderProps:renderProps,render:render})}});return _react.default.createElement("div",{className:"kbnDocViewer"},_react.default.createElement(_eui.EuiTabbedContent,{tabs:tabs}))}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewerTab=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _doc_viewer_render_tab=__webpack_require__(1898);var _doc_viewer_render_error=__webpack_require__(740);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DocViewerTab=function(_React$Component){_inherits(DocViewerTab,_React$Component);function DocViewerTab(){var _getPrototypeOf2;var _this;_classCallCheck(this,DocViewerTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(DocViewerTab)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{hasError:false,error:null});return _this}_createClass(DocViewerTab,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){return nextProps.renderProps.hit._id!==this.props.renderProps.hit._id||nextProps.id!==this.props.id||nextState.hasError}},{key:"render",value:function render(){var _this$props=this.props,component=_this$props.component,render=_this$props.render,renderProps=_this$props.renderProps,title=_this$props.title;var _this$state=this.state,hasError=_this$state.hasError,error=_this$state.error;if(hasError&&error){return _react.default.createElement(_doc_viewer_render_error.DocViewerError,{error:error})}else if(!render&&!component){return _react.default.createElement(_doc_viewer_render_error.DocViewerError,{error:"Invalid plugin ".concat(title,", there is neither a (react) component nor a render function provided")})}if(render){return _react.default.createElement(_doc_viewer_render_tab.DocViewRenderTab,{render:render,renderProps:renderProps})}var Component=component;return _react.default.createElement(_react2.I18nProvider,null,_react.default.createElement(Component,renderProps))}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(error){return{hasError:true,error:error}}}]);return DocViewerTab}(_react.default.Component);exports.DocViewerTab=DocViewerTab},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DocViewRenderTab=DocViewRenderTab;var _react=_interopRequireWildcard(__webpack_require__(0));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function DocViewRenderTab(_ref){var render=_ref.render,renderProps=_ref.renderProps;var ref=(0,_react.useRef)(null);(0,_react.useEffect)(function(){if(ref&&ref.current){return render(ref.current,renderProps)}},[render,renderProps]);return _react.default.createElement("div",{ref:ref})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<td ng-click="toggleRow()" data-test-subj="docTableExpandToggleColumn" class="kbnDocTableCell__toggleDetails">\n  <button\n    class="euiButtonIcon euiButtonIcon--text"\n    aria-expanded="{{!!open}}"\n    aria-label="{{ ::\'kbn.docTable.tableRow.toggleRowDetailsButtonAriaLabel\' | i18n: {defaultMessage: \'Toggle row details\'} }}"\n  >\n    <icon ng-if="open" type="\'arrowDown\'" size="\'s\'"></icon>\n    <icon ng-if="!open" type="\'arrowRight\'" size="\'s\'"></icon>\n  </button>\n</td>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<td colspan="{{ columns.length + 2 }}">\n  <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow euiFlexGroup--justifyContentSpaceBetween">\n    <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n      <div class="euiFlexGroup euiFlexGroup--gutterSmall euiFlexGroup--directionRow">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero">\n          <icon type="\'folderOpen\'" size="\'m\'"></icon>\n        </div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero">\n          <h4\n            class="euiTitle euiTitle--xsmall"\n            i18n-id="kbn.docTable.tableRow.detailHeading"\n            i18n-default-message="Expanded document"\n          ></h4>\n        </div>\n      </div>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n      <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n          <a\n            class="euiLink"\n            data-test-subj="docTableRowAction"\n            ng-href="{{ getContextAppHref() }}"\n            ng-if="indexPattern.isTimeBased()"\n            i18n-id="kbn.docTable.tableRow.viewSurroundingDocumentsLinkText"\n            i18n-default-message="View surrounding documents"\n          ></a>\n        </div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n          <a\n            class="euiLink"\n            data-test-subj="docTableRowAction"\n            ng-href="#/doc/{{indexPattern.id}}/{{row._index}}?id={{uriEncodedId}}"\n            i18n-id="kbn.docTable.tableRow.viewSingleDocumentLinkText"\n            i18n-default-message="View single document"\n          ></a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div data-test-subj="docViewer">\n    <doc-viewer\n      columns="columns"\n      filter="filter"\n      hit="hit"\n      index-pattern="indexPattern"\n      on-add-column="onAddColumn"\n      on-remove-column="onRemoveColumn"\n    ></doc-viewer>\n  </div>\n  \n</td>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<%\nvar attributes = \'\';\nif (timefield) {\n  attributes=\'class="eui-textNoWrap" width="1%"\';\n} else if (sourcefield) {\n  attributes=\'class="eui-textBreakAll eui-textBreakWord"\';\n} else {\n  attributes=\'class="kbnDocTableCell__dataField eui-textBreakAll eui-textBreakWord"\';\n}\n%>\n<td <%= attributes %> data-test-subj="docTableField">\n  <%= formatted %>\n  <span class="kbnDocTableCell__filter">\n    <% if (filterable) { %>\n      <button\n        ng-click="inlineFilter($event, \'+\')"\n        class="fa fa-search-plus kbnDocTableRowFilterButton"\n        data-column="<%- column %>"\n        tooltip-append-to-body="1"\n        tooltip="{{ ::\'kbn.docTable.tableRow.filterForValueButtonTooltip\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n        aria-label="{{ ::\'kbn.docTable.tableRow.filterForValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n      ></button>\n\n      <button\n        ng-click="inlineFilter($event, \'-\')"\n        class="fa fa-search-minus kbnDocTableRowFilterButton"\n        data-column="<%- column %>"\n        tooltip="{{ ::\'kbn.docTable.tableRow.filterOutValueButtonTooltip\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        aria-label="{{ ::\'kbn.docTable.tableRow.filterOutValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        tooltip-append-to-body="1"\n      ></button>\n    <% } %>\n  </span>\n</td>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="truncate-by-height">\n  <%= body %>\n</div>'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _tool_bar_pager_text=__webpack_require__(1904);var _tool_bar_pager_buttons=__webpack_require__(1905);var _i18n=__webpack_require__(11);var app=_modules.uiModules.get("kibana");app.directive("toolBarPagerText",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_tool_bar_pager_text.ToolBarPagerText))});app.directive("toolBarPagerButtons",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_tool_bar_pager_buttons.ToolBarPagerButtons))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolBarPagerText=ToolBarPagerText;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ToolBarPagerText(_ref){var startItem=_ref.startItem,endItem=_ref.endItem,totalItems=_ref.totalItems;return _react.default.createElement("div",{className:"kuiToolBarText","data-test-subj":"toolBarPagerText"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.docTable.pagerControl.pagesCountLabel",defaultMessage:"{startItem}{endItem} of {totalItems}",values:{startItem:startItem,endItem:endItem,totalItems:totalItems}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ToolBarPagerButtons=ToolBarPagerButtons;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ToolBarPagerButtons(props){return _react.default.createElement("div",{className:"kuiButtonGroup"},_react.default.createElement("button",{className:"kuiButton kuiButton--basic kuiButton--icon",onClick:function onClick(){return props.onPagePrevious()},disabled:!props.hasPreviousPage,"data-test-subj":"btnPrevPage"},_react.default.createElement("span",{className:"kuiButton__icon kuiIcon fa-chevron-left"})),_react.default.createElement("button",{className:"kuiButton kuiButton--basic kuiButton--icon",onClick:function onClick(){return props.onPageNext()},disabled:!props.hasNextPage,"data-test-subj":"btnNextPage"},_react.default.createElement("span",{className:"kuiButton__icon kuiIcon fa-chevron-right"})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Pager",{enumerable:true,get:function get(){return _pager.Pager}});__webpack_require__(1907);var _pager=__webpack_require__(747)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _pager=__webpack_require__(747);function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var app=_modules.uiModules.get("kibana");app.factory("pagerFactory",function(){return{create:function create(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _construct(_pager.Pager,args)}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLimitedSearchResultsMessage=getLimitedSearchResultsMessage;var _i18n=__webpack_require__(2);function getLimitedSearchResultsMessage(resultCount){return _i18n.i18n.translate("kbn.docTable.limitedSearchResultLabel",{defaultMessage:"Limited to {resultCount} results. Refine your search.",values:{resultCount:resultCount}})}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchEmbeddable=exports.SEARCH_EMBEDDABLE_TYPE=void 0;var _filter_manager=__webpack_require__(458);var _angular=_interopRequireDefault(__webpack_require__(17));var _lodash=_interopRequireDefault(__webpack_require__(1));var _courier_inspector_utils=__webpack_require__(351);var _adapters=__webpack_require__(115);var Rx=_interopRequireWildcard(__webpack_require__(16));var _esQuery=__webpack_require__(20);var _chrome=_interopRequireDefault(__webpack_require__(7));var _i18n=__webpack_require__(2);var _notify=__webpack_require__(9);var _timefilter=__webpack_require__(22);var _public=__webpack_require__(24);var _public2=__webpack_require__(40);var columnActions=_interopRequireWildcard(__webpack_require__(748));var _search_template=_interopRequireDefault(__webpack_require__(1911));var _get_sort=__webpack_require__(749);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var config=_chrome.default.getUiSettingsClient();var SEARCH_EMBEDDABLE_TYPE="search";exports.SEARCH_EMBEDDABLE_TYPE=SEARCH_EMBEDDABLE_TYPE;var SearchEmbeddable=function(_Embeddable){_inherits(SearchEmbeddable,_Embeddable);function SearchEmbeddable(_ref,initialInput,executeTriggerActions,parent){var _this;var $rootScope=_ref.$rootScope,$compile=_ref.$compile,savedSearch=_ref.savedSearch,editUrl=_ref.editUrl,indexPatterns=_ref.indexPatterns,editable=_ref.editable,queryFilter=_ref.queryFilter;_classCallCheck(this,SearchEmbeddable);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchEmbeddable).call(this,initialInput,{defaultTitle:savedSearch.title,editUrl:editUrl,indexPatterns:indexPatterns,editable:editable},parent));_this.executeTriggerActions=executeTriggerActions;_defineProperty(_assertThisInitialized(_this),"savedSearch",void 0);_defineProperty(_assertThisInitialized(_this),"$rootScope",void 0);_defineProperty(_assertThisInitialized(_this),"$compile",void 0);_defineProperty(_assertThisInitialized(_this),"inspectorAdaptors",void 0);_defineProperty(_assertThisInitialized(_this),"searchScope",void 0);_defineProperty(_assertThisInitialized(_this),"panelTitle","");_defineProperty(_assertThisInitialized(_this),"filtersSearchSource",void 0);_defineProperty(_assertThisInitialized(_this),"searchInstance",void 0);_defineProperty(_assertThisInitialized(_this),"autoRefreshFetchSubscription",void 0);_defineProperty(_assertThisInitialized(_this),"subscription",void 0);_defineProperty(_assertThisInitialized(_this),"type",SEARCH_EMBEDDABLE_TYPE);_defineProperty(_assertThisInitialized(_this),"filterGen",void 0);_defineProperty(_assertThisInitialized(_this),"prevTimeRange",void 0);_defineProperty(_assertThisInitialized(_this),"prevFilters",void 0);_defineProperty(_assertThisInitialized(_this),"prevQuery",void 0);_defineProperty(_assertThisInitialized(_this),"fetch",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var searchSource,title,description,inspectorRequest,resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.searchScope){_context.next=2;break}return _context.abrupt("return");case 2:searchSource=_this.savedSearch.searchSource;searchSource.cancelQueued();searchSource.setField("size",config.get("discover:sampleSize"));searchSource.setField("sort",(0,_get_sort.getSort)(_this.searchScope.sort,_this.searchScope.indexPattern));_this.inspectorAdaptors.requests.reset();title=_i18n.i18n.translate("kbn.embeddable.inspectorRequestDataTitle",{defaultMessage:"Data"});description=_i18n.i18n.translate("kbn.embeddable.inspectorRequestDescription",{defaultMessage:"This request queries Elasticsearch to fetch the data for the search."});inspectorRequest=_this.inspectorAdaptors.requests.start(title,{description:description});inspectorRequest.stats((0,_courier_inspector_utils.getRequestInspectorStats)(searchSource));searchSource.getSearchRequestBody().then(function(body){inspectorRequest.json(body)});_this.searchScope.isLoading=true;_context.prev=13;_context.next=16;return searchSource.fetch();case 16:resp=_context.sent;_this.searchScope.isLoading=false;inspectorRequest.stats((0,_courier_inspector_utils.getResponseInspectorStats)(searchSource,resp)).ok({json:resp});_this.searchScope.$apply(function(){_this.searchScope.hits=resp.hits.hits;_this.searchScope.totalHitCount=resp.hits.total});_context.next=27;break;case 22:_context.prev=22;_context.t0=_context["catch"](13);if(!(_context.t0.name==="AbortError")){_context.next=26;break}return _context.abrupt("return");case 26:_notify.toastNotifications.addError(_context.t0,{title:_i18n.i18n.translate("kbn.embeddable.errorTitle",{defaultMessage:"Error fetching data"})});case 27:case"end":return _context.stop()}}},_callee,null,[[13,22]])})));_this.filterGen=(0,_filter_manager.getFilterGenerator)(queryFilter);_this.savedSearch=savedSearch;_this.$rootScope=$rootScope;_this.$compile=$compile;_this.inspectorAdaptors={requests:new _adapters.RequestAdapter};_this.initializeSearchScope();_this.autoRefreshFetchSubscription=_timefilter.timefilter.getAutoRefreshFetch$().subscribe(_this.fetch);_this.subscription=Rx.merge(_this.getOutput$(),_this.getInput$()).subscribe(function(){_this.panelTitle=_this.output.title||"";if(_this.searchScope){_this.pushContainerStateParamsToScope(_this.searchScope)}});return _this}_createClass(SearchEmbeddable,[{key:"getInspectorAdapters",value:function getInspectorAdapters(){return this.inspectorAdaptors}},{key:"getSavedSearch",value:function getSavedSearch(){return this.savedSearch}},{key:"render",value:function render(domNode){if(!this.searchScope){throw new Error("Search scope not defined")}this.searchInstance=this.$compile(_search_template.default)(this.searchScope);var rootNode=_angular.default.element(domNode);rootNode.append(this.searchInstance);this.pushContainerStateParamsToScope(this.searchScope)}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(SearchEmbeddable.prototype),"destroy",this).call(this);this.savedSearch.destroy();if(this.searchInstance){this.searchInstance.remove()}if(this.searchScope){this.searchScope.$destroy();delete this.searchScope}if(this.subscription){this.subscription.unsubscribe()}if(this.autoRefreshFetchSubscription){this.autoRefreshFetchSubscription.unsubscribe()}this.savedSearch.searchSource.cancelQueued()}},{key:"initializeSearchScope",value:function initializeSearchScope(){var _this2=this;var searchScope=this.searchScope=this.$rootScope.$new();searchScope.description=this.savedSearch.description;searchScope.inspectorAdapters=this.inspectorAdaptors;var searchSource=this.savedSearch.searchSource;var indexPattern=searchScope.indexPattern=searchSource.getField("index");var timeRangeSearchSource=searchSource.create();timeRangeSearchSource.setField("filter",function(){if(!_this2.searchScope||!_this2.input.timeRange){return}return(0,_timefilter.getTime)(indexPattern,_this2.input.timeRange)});this.filtersSearchSource=searchSource.create();this.filtersSearchSource.setParent(timeRangeSearchSource);searchSource.setParent(this.filtersSearchSource);this.pushContainerStateParamsToScope(searchScope);searchScope.setSortOrder=function(sort){_this2.updateInput({sort:sort})};searchScope.addColumn=function(columnName){if(!searchScope.columns){return}indexPattern.popularizeField(columnName,1);columnActions.addColumn(searchScope.columns,columnName);_this2.updateInput({columns:searchScope.columns})};searchScope.removeColumn=function(columnName){if(!searchScope.columns){return}columnActions.removeColumn(searchScope.columns,columnName);_this2.updateInput({columns:searchScope.columns})};searchScope.moveColumn=function(columnName,newIndex){if(!searchScope.columns){return}columnActions.moveColumn(searchScope.columns,columnName,newIndex);_this2.updateInput({columns:searchScope.columns})};searchScope.filter=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(field,value,operator){var filters;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:filters=_this2.filterGen.generate(field,value,operator,indexPattern.id);filters=filters.map(function(filter){return _objectSpread({},filter,{$state:{store:_esQuery.FilterStateStore.APP_STATE}})});_context2.next=4;return _this2.executeTriggerActions(_public2.APPLY_FILTER_TRIGGER,{embeddable:_this2,triggerContext:{filters:filters}});case 4:case"end":return _context2.stop()}}},_callee2)}));return function(_x,_x2,_x3){return _ref3.apply(this,arguments)}}()}},{key:"reload",value:function reload(){this.fetch()}},{key:"pushContainerStateParamsToScope",value:function pushContainerStateParamsToScope(searchScope){var isFetchRequired=!(0,_public.onlyDisabledFiltersChanged)(this.input.filters,this.prevFilters)||!_lodash.default.isEqual(this.prevQuery,this.input.query)||!_lodash.default.isEqual(this.prevTimeRange,this.input.timeRange)||!_lodash.default.isEqual(searchScope.sort,this.input.sort||this.savedSearch.sort);searchScope.columns=this.input.columns||this.savedSearch.columns;searchScope.sort=this.input.sort||this.savedSearch.sort;searchScope.sharedItemTitle=this.panelTitle;if(isFetchRequired){this.filtersSearchSource.setField("filter",this.input.filters);this.filtersSearchSource.setField("query",this.input.query);this.fetch();this.prevFilters=this.input.filters;this.prevQuery=this.input.query;this.prevTimeRange=this.input.timeRange}}}]);return SearchEmbeddable}(_public2.Embeddable);exports.SearchEmbeddable=SearchEmbeddable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFilterGenerator=getFilterGenerator;var _lodash=_interopRequireDefault(__webpack_require__(1));var _esQuery=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFilterGenerator(queryFilter){var filterGen={};filterGen.generate=function(field,values,operation,index){values=Array.isArray(values)?values:[values];var fieldName=_lodash.default.isObject(field)?field.name:field;var filters=_lodash.default.flatten([queryFilter.getAppFilters()]);var newFilters=[];var negate=operation==="-";_lodash.default.each(values,function(value){var filter;var existing=_lodash.default.find(filters,function(filter){if(!filter)return;if(fieldName==="_exists_"&&filter.exists){return filter.exists.field===value}if(_lodash.default.has(filter,"query.match")){return filter.query.match[fieldName]&&filter.query.match[fieldName].query===value}if(filter.script){return filter.meta.field===fieldName&&filter.script.script.params.value===value}});if(existing){existing.meta.disabled=false;if(existing.meta.negate!==negate){existing.meta.negate=!existing.meta.negate}newFilters.push(existing);return}switch(fieldName){case"_exists_":filter={meta:{negate:negate,index:index},exists:{field:value}};break;default:if(field.scripted){filter={meta:{negate:negate,index:index,field:fieldName},script:(0,_esQuery.getPhraseScript)(field,value)}}else{filter={meta:{negate:negate,index:index},query:{match:{}}};filter.query.match[fieldName]={query:value,type:"phrase"}}break}newFilters.push(filter)});return newFilters};filterGen.add=function(field,values,operation,index){var newFilters=this.generate(field,values,operation,index);return queryFilter.addFilters(newFilters)};return filterGen}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<doc-table\n  sorting="sort"\n  columns="columns"\n  data-shared-item\n  data-title="{{sharedItemTitle}}"\n  data-description="{{description}}"\n  render-complete\n  class="panel-content"\n  filter="filter"\n  on-add-column="addColumn"\n  on-change-sort-order="setSortOrder"\n  on-move-column="moveColumn"\n  on-remove-column="removeColumn"\n  data-test-subj="embeddedSavedSearchDocTable"\n  hits="hits"\n  index-pattern="indexPattern"\n  total-hit-count="totalHitCount"\n  is-loading="isLoading"\n>\n</doc-table>\n'},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeEmbeddableFactory=void 0;__webpack_require__(32);__webpack_require__(750);__webpack_require__(724);__webpack_require__(726);__webpack_require__(739);__webpack_require__(743);__webpack_require__(751);__webpack_require__(722);__webpack_require__(450);__webpack_require__(698);__webpack_require__(725);__webpack_require__(752);__webpack_require__(448);__webpack_require__(753);__webpack_require__(754);__webpack_require__(712);__webpack_require__(711);__webpack_require__(710);__webpack_require__(699);__webpack_require__(716);var _i18n=__webpack_require__(2);var _capabilities=__webpack_require__(37);var _chrome=_interopRequireDefault(__webpack_require__(7));var _loader=__webpack_require__(459);var _vis_types=__webpack_require__(49);var _public=__webpack_require__(40);var _legacy=__webpack_require__(374);var _wizard=__webpack_require__(1914);var _disabled_lab_embeddable=__webpack_require__(755);var _get_index_pattern=__webpack_require__(1924);var _visualize_embeddable=__webpack_require__(756);var _constants=__webpack_require__(380);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var VisualizeEmbeddableFactory=function(_EmbeddableFactory){_inherits(VisualizeEmbeddableFactory,_EmbeddableFactory);_createClass(VisualizeEmbeddableFactory,null,[{key:"createVisualizeEmbeddableFactory",value:function(){var _createVisualizeEmbeddableFactory=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var $injector,Private,visTypes;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _chrome.default.dangerouslyGetActiveInjector();case 2:$injector=_context.sent;Private=$injector.get("Private");visTypes=Private(_vis_types.VisTypesRegistryProvider);return _context.abrupt("return",new VisualizeEmbeddableFactory(visTypes));case 6:case"end":return _context.stop()}}},_callee)}));function createVisualizeEmbeddableFactory(){return _createVisualizeEmbeddableFactory.apply(this,arguments)}return createVisualizeEmbeddableFactory}()}]);function VisualizeEmbeddableFactory(visTypes){var _this;_classCallCheck(this,VisualizeEmbeddableFactory);_this=_possibleConstructorReturn(this,_getPrototypeOf(VisualizeEmbeddableFactory).call(this,{savedObjectMetaData:{name:_i18n.i18n.translate("kbn.visualize.savedObjectName",{defaultMessage:"Visualization"}),type:"visualization",getIconForSavedObject:function getIconForSavedObject(savedObject){if(!visTypes){return"visualizeApp"}return visTypes.byName[JSON.parse(savedObject.attributes.visState).type].icon||"visualizeApp"},getTooltipForSavedObject:function getTooltipForSavedObject(savedObject){if(!visTypes){return""}return"".concat(savedObject.attributes.title," (").concat(visTypes.byName[JSON.parse(savedObject.attributes.visState).type].title,")")},showSavedObject:function showSavedObject(savedObject){if(!visTypes){return false}var typeName=JSON.parse(savedObject.attributes.visState).type;var visType=visTypes.byName[typeName];if(!visType){return false}if(_chrome.default.getUiSettingsClient().get("visualize:enableLabs")){return true}return visType.stage!=="experimental"}}}));_defineProperty(_assertThisInitialized(_this),"type",_constants.VISUALIZE_EMBEDDABLE_TYPE);_defineProperty(_assertThisInitialized(_this),"visTypes",void 0);_this.visTypes=visTypes;return _this}_createClass(VisualizeEmbeddableFactory,[{key:"isEditable",value:function isEditable(){return _capabilities.capabilities.get().visualize.save}},{key:"getDisplayName",value:function getDisplayName(){return _i18n.i18n.translate("kbn.embeddable.visualizations.displayName",{defaultMessage:"visualization"})}},{key:"createFromSavedObject",value:function(){var _createFromSavedObject=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(savedObjectId,input,parent){var $injector,config,savedVisualizations,visId,editUrl,loader,savedObject,isLabsEnabled,indexPattern,indexPatterns;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _chrome.default.dangerouslyGetActiveInjector();case 2:$injector=_context2.sent;config=$injector.get("config");savedVisualizations=$injector.get("savedVisualizations");_context2.prev=5;visId=savedObjectId;editUrl=_chrome.default.addBasePath("/app/kibana".concat(savedVisualizations.urlFor(visId)));_context2.next=10;return(0,_loader.getVisualizeLoader)();case 10:loader=_context2.sent;_context2.next=13;return savedVisualizations.get(visId);case 13:savedObject=_context2.sent;isLabsEnabled=config.get("visualize:enableLabs");if(!(!isLabsEnabled&&savedObject.vis.type.stage==="experimental")){_context2.next=17;break}return _context2.abrupt("return",new _disabled_lab_embeddable.DisabledLabEmbeddable(savedObject.title,input));case 17:_context2.next=19;return(0,_get_index_pattern.getIndexPattern)(savedObject);case 19:indexPattern=_context2.sent;indexPatterns=indexPattern?[indexPattern]:[];return _context2.abrupt("return",new _visualize_embeddable.VisualizeEmbeddable({savedVisualization:savedObject,loader:loader,indexPatterns:indexPatterns,editUrl:editUrl,editable:this.isEditable()},input,parent));case 24:_context2.prev=24;_context2.t0=_context2["catch"](5);console.error(_context2.t0);return _context2.abrupt("return",new _public.ErrorEmbeddable(_context2.t0,input,parent));case 28:case"end":return _context2.stop()}}},_callee2,this,[[5,24]])}));function createFromSavedObject(_x,_x2,_x3){return _createFromSavedObject.apply(this,arguments)}return createFromSavedObject}()},{key:"create",value:function(){var _create=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(this.visTypes){(0,_wizard.showNewVisModal)(this.visTypes,{editorParams:["addToDashboard"]})}return _context3.abrupt("return",undefined);case 2:case"end":return _context3.stop()}}},_callee3,this)}));function create(){return _create.apply(this,arguments)}return create}()}]);return VisualizeEmbeddableFactory}(_public.EmbeddableFactory);exports.VisualizeEmbeddableFactory=VisualizeEmbeddableFactory;VisualizeEmbeddableFactory.createVisualizeEmbeddableFactory().then(function(embeddableFactory){_legacy.setup.registerEmbeddableFactory(_constants.VISUALIZE_EMBEDDABLE_TYPE,embeddableFactory)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultSearchStrategy=void 0;var _search_strategy_registry=__webpack_require__(611);var _is_default_type_index_pattern=__webpack_require__(612);var _search_error=__webpack_require__(356);var _get_search_params=__webpack_require__(420);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function getAllFetchParams(searchRequests,Promise){return Promise.map(searchRequests,function(searchRequest){return Promise.try(searchRequest.getFetchParams,void 0,searchRequest).then(function(fetchParams){return searchRequest.fetchParams=fetchParams}).then(function(value){return{resolved:value}}).catch(function(error){return{rejected:error}})})}function serializeAllFetchParams(_x,_x2,_x3){return _serializeAllFetchParams.apply(this,arguments)}function _serializeAllFetchParams(){_serializeAllFetchParams=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(fetchParams,searchRequests,serializeFetchParams){var searchRequestsWithFetchParams,failedSearchRequests;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:searchRequestsWithFetchParams=[];failedSearchRequests=[];fetchParams.forEach(function(result,index){if(result.resolved){searchRequestsWithFetchParams.push(result.resolved)}else{var searchRequest=searchRequests[index];searchRequest.handleFailure(result.rejected);failedSearchRequests.push(searchRequest)}});_context2.next=5;return serializeFetchParams(searchRequestsWithFetchParams);case 5:_context2.t0=_context2.sent;_context2.t1=failedSearchRequests;return _context2.abrupt("return",{serializedFetchParams:_context2.t0,failedSearchRequests:_context2.t1});case 8:case"end":return _context2.stop()}}},_callee2)}));return _serializeAllFetchParams.apply(this,arguments)}var defaultSearchStrategy={id:"default",search:function search(params){var config=params.config;return config.get("courier:batchSearches")?msearch(params):_search(params)},isViable:function isViable(indexPattern){if(!indexPattern){return false}return(0,_is_default_type_index_pattern.isDefaultTypeIndexPattern)(indexPattern)}};exports.defaultSearchStrategy=defaultSearchStrategy;function msearch(_x4){return _msearch.apply(this,arguments)}function _msearch(){_msearch=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref){var searchRequests,es,Promise,serializeFetchParams,config,allFetchParams,_ref5,serializedFetchParams,failedSearchRequests,msearchParams,searching;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:searchRequests=_ref.searchRequests,es=_ref.es,Promise=_ref.Promise,serializeFetchParams=_ref.serializeFetchParams,config=_ref.config;_context3.next=3;return getAllFetchParams(searchRequests,Promise);case 3:allFetchParams=_context3.sent;_context3.next=6;return serializeAllFetchParams(allFetchParams,searchRequests,serializeFetchParams);case 6:_ref5=_context3.sent;serializedFetchParams=_ref5.serializedFetchParams;failedSearchRequests=_ref5.failedSearchRequests;if(!(serializedFetchParams.trim()==="")){_context3.next=11;break}return _context3.abrupt("return",{failedSearchRequests:failedSearchRequests});case 11:msearchParams=_objectSpread({},(0,_get_search_params.getMSearchParams)(config),{body:serializedFetchParams});searching=es.msearch(msearchParams);return _context3.abrupt("return",{searching:new Promise(function(resolve,reject){searching.then(function(_ref6){var responses=_ref6.responses;resolve(responses)}).catch(function(error){var statusCode=error.statusCode,displayName=error.displayName,message=error.message,path=error.path;var searchError=new _search_error.SearchError({status:statusCode,title:displayName,message:message,path:path});reject(searchError)})}),abort:searching.abort,failedSearchRequests:failedSearchRequests});case 14:case"end":return _context3.stop()}}},_callee3)}));return _msearch.apply(this,arguments)}function _search(_ref2){var searchRequests=_ref2.searchRequests,es=_ref2.es,Promise=_ref2.Promise,config=_ref2.config,sessionId=_ref2.sessionId,esShardTimeout=_ref2.esShardTimeout;var failedSearchRequests=[];var abortController=new AbortController;var searchParams=(0,_get_search_params.getSearchParams)(config,sessionId,esShardTimeout);var promises=searchRequests.map(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(searchRequest){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",searchRequest.getFetchParams().then(function(fetchParams){var _searchRequest$fetchP=searchRequest.fetchParams=fetchParams,index=_searchRequest$fetchP.index,body=_searchRequest$fetchP.body;var promise=es.search(_objectSpread({index:index.title||index,body:body},searchParams));abortController.signal.addEventListener("abort",promise.abort);return promise},function(error){searchRequest.handleFailure(error);failedSearchRequests.push(searchRequest)}).catch(function(_ref4){var response=_ref4.response;return JSON.parse(response)}));case 1:case"end":return _context.stop()}}},_callee)}));return function(_x5){return _ref3.apply(this,arguments)}}());return{searching:Promise.all(promises),abort:function abort(){return abortController.abort()},failedSearchRequests:failedSearchRequests}}(0,_search_strategy_registry.addSearchStrategy)(defaultSearchStrategy)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NewVisModal",{enumerable:true,get:function get(){return _new_vis_modal.NewVisModal}});Object.defineProperty(exports,"showNewVisModal",{enumerable:true,get:function get(){return _show_new_vis.showNewVisModal}});var _new_vis_modal=__webpack_require__(460);var _show_new_vis=__webpack_require__(1922)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SearchSelection",{enumerable:true,get:function get(){return _search_selection.SearchSelection}});var _search_selection=__webpack_require__(1916)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchSelection=void 0;var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(0));var _saved_object_finder=__webpack_require__(372);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchSelection=function(_React$Component){_inherits(SearchSelection,_React$Component);function SearchSelection(){var _getPrototypeOf2;var _this;_classCallCheck(this,SearchSelection);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SearchSelection)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"fixedPageSize",8);return _this}_createClass(SearchSelection,[{key:"render",value:function render(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.newVisWizard.newVisTypeTitle",defaultMessage:"New {visTypeName}",values:{visTypeName:this.props.visType.title}})," ","/"," ",_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.newVisWizard.chooseSourceTitle",defaultMessage:"Choose a source"}))),_react2.default.createElement(_eui.EuiModalBody,null,_react2.default.createElement(_saved_object_finder.SavedObjectFinder,{key:"searchSavedObjectFinder",onChoose:this.props.onSearchSelected,showFilter:true,noItemsMessage:_i18n.i18n.translate("kbn.visualize.newVisWizard.searchSelection.notFoundLabel",{defaultMessage:"No matching indices or saved searches found."}),savedObjectMetaData:[{type:"search",getIconForSavedObject:function getIconForSavedObject(){return"search"},name:_i18n.i18n.translate("kbn.visualize.newVisWizard.searchSelection.savedObjectType.search",{defaultMessage:"Saved search"})},{type:"index-pattern",getIconForSavedObject:function getIconForSavedObject(){return"indexPatternApp"},name:_i18n.i18n.translate("kbn.visualize.newVisWizard.searchSelection.savedObjectType.indexPattern",{defaultMessage:"Index pattern"})}],fixedPageSize:this.fixedPageSize})))}}]);return SearchSelection}(_react2.default.Component);exports.SearchSelection=SearchSelection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TypeSelection",{enumerable:true,get:function get(){return _type_selection.TypeSelection}});var _type_selection=__webpack_require__(1918)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.TypeSelection=void 0;var _i18n=__webpack_require__(2);var _react=__webpack_require__(5);var _lodash=__webpack_require__(1);var _react2=_interopRequireDefault(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(7));var _eui=__webpack_require__(3);var _memoize=__webpack_require__(617);var _new_vis_help=__webpack_require__(1919);var _vis_help_text=__webpack_require__(1920);var _vis_type_icon=__webpack_require__(1921);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TypeSelection=function(_React$Component){_inherits(TypeSelection,_React$Component);function TypeSelection(){var _getPrototypeOf2;var _this;_classCallCheck(this,TypeSelection);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TypeSelection)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{highlightedType:null,query:""});_defineProperty(_assertThisInitialized(_this),"getFilteredVisTypes",(0,_memoize.memoizeLast)(_this.filteredVisTypes));_defineProperty(_assertThisInitialized(_this),"renderVisType",function(visType){var stage={};var highlightMsg;if(!("aliasUrl"in visType)&&visType.stage==="experimental"){stage={betaBadgeLabel:_i18n.i18n.translate("kbn.visualize.newVisWizard.experimentalTitle",{defaultMessage:"Experimental"}),betaBadgeTooltipContent:_i18n.i18n.translate("kbn.visualize.newVisWizard.experimentalTooltip",{defaultMessage:"This visualization might be changed or removed in a future release and is not subject to the support SLA."})};highlightMsg=_i18n.i18n.translate("kbn.visualize.newVisWizard.experimentalDescription",{defaultMessage:"This visualization is experimental. The design and implementation are less mature than stable visualizations and might be subject to change."})}else if("aliasUrl"in visType){var aliasDescription=_i18n.i18n.translate("kbn.visualize.newVisWizard.visTypeAliasDescription",{defaultMessage:"Opens a Kibana application that is outside of Visualize."});stage={betaBadgeLabel:_i18n.i18n.translate("kbn.visualize.newVisWizard.visTypeAliasTitle",{defaultMessage:"Kibana application"}),betaBadgeTooltipContent:aliasDescription,betaBadgeIconType:"popout"};highlightMsg=aliasDescription}var isDisabled=_this.state.query!==""&&!visType.highlighted;var onClick="aliasUrl"in visType?function(){window.location=_chrome.default.addBasePath(visType.aliasUrl)}:function(){return _this.props.onVisTypeSelected(visType)};var highlightedType={title:visType.title,name:visType.name,description:visType.description,highlightMsg:highlightMsg};return _react2.default.createElement(_eui.EuiKeyPadMenuItemButton,_extends({key:visType.name,label:_react2.default.createElement("span",{"data-test-subj":"visTypeTitle"},visType.title),onClick:onClick,onFocus:function onFocus(){return _this.setHighlightType(highlightedType)},onMouseEnter:function onMouseEnter(){return _this.setHighlightType(highlightedType)},onMouseLeave:function onMouseLeave(){return _this.setHighlightType(null)},onBlur:function onBlur(){return _this.setHighlightType(null)},className:"visNewVisDialog__type","data-test-subj":"visType-".concat(visType.name),"data-vis-stage":!("aliasUrl"in visType)?visType.stage:"alias",disabled:isDisabled,"aria-describedby":"visTypeDescription-".concat(visType.name),role:"menuitem"},stage),_react2.default.createElement(_vis_type_icon.VisTypeIcon,{icon:visType.icon,image:!("aliasUrl"in visType)?visType.image:undefined}))});_defineProperty(_assertThisInitialized(_this),"onQueryChange",function(ev){_this.setState({query:ev.target.value})});return _this}_createClass(TypeSelection,[{key:"render",value:function render(){var _this$state=this.state,query=_this$state.query,highlightedType=_this$state.highlightedType;var visTypes=this.getFilteredVisTypes(this.props.visTypesRegistry,this.props.visTypeAliases,query);return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.newVisWizard.title",defaultMessage:"New Visualization"}))),_react2.default.createElement("div",{className:"visNewVisDialog__body"},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xl"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{className:"visNewVisDialog__list",direction:"column",gutterSize:"none",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"visNewVisDialog__searchWrapper"},_react2.default.createElement(_eui.EuiFieldSearch,{placeholder:"Filter",value:query,onChange:this.onQueryChange,fullWidth:true,"data-test-subj":"filterVisType","aria-label":_i18n.i18n.translate("kbn.visualize.newVisWizard.filterVisTypeAriaLabel",{defaultMessage:"Filter for a visualization type"})})),_react2.default.createElement(_eui.EuiFlexItem,{grow:1,className:"visNewVisDialog__typesWrapper"},_react2.default.createElement(_eui.EuiScreenReaderOnly,null,_react2.default.createElement("span",{"aria-live":"polite"},query&&_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.newVisWizard.resultsFound",defaultMessage:"{resultCount} {resultCount, plural, one {type} other {types} } found",values:{resultCount:visTypes.filter(function(type){return type.highlighted}).length}}))),_react2.default.createElement(_eui.EuiKeyPadMenu,{className:"visNewVisDialog__types","data-test-subj":"visNewDialogTypes"},visTypes.map(this.renderVisType))))),_react2.default.createElement(_eui.EuiFlexItem,{className:"visNewVisDialog__description",grow:false},highlightedType?_react2.default.createElement(_vis_help_text.VisHelpText,highlightedType):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.newVisWizard.selectVisType",defaultMessage:"Select a visualization type"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_new_vis_help.NewVisHelp,null))))))}},{key:"filteredVisTypes",value:function filteredVisTypes(visTypes){var _this2=this;var visTypeAliases=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var query=arguments.length>2?arguments[2]:undefined;var types=visTypes.filter(function(type){if(!_this2.props.showExperimental&&type.stage==="experimental"){return false}if(type.hidden){return false}return true});var allTypes=[].concat(_toConsumableArray(types),_toConsumableArray(visTypeAliases));var entries;if(!query){entries=allTypes.map(function(type){return _objectSpread({},type,{highlighted:false})})}else{var q=query.toLowerCase();entries=allTypes.map(function(type){var matchesQuery=type.name.toLowerCase().includes(q)||type.title.toLowerCase().includes(q)||typeof type.description==="string"&&type.description.toLowerCase().includes(q);return _objectSpread({},type,{highlighted:matchesQuery})})}return(0,_lodash.sortByOrder)(entries,["highlighted","title"],["desc","asc"])}},{key:"setHighlightType",value:function setHighlightType(highlightedType){this.setState({highlightedType:highlightedType})}}]);return TypeSelection}(_react2.default.Component);exports.TypeSelection=TypeSelection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NewVisHelp=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NewVisHelp=function NewVisHelp(){return _react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.newVisWizard.helpText",defaultMessage:"Start creating your visualization by selecting a type for that visualization."})))};exports.NewVisHelp=NewVisHelp},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisHelpText=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var VisHelpText=function VisHelpText(_ref){var name=_ref.name,title=_ref.title,description=_ref.description,highlightMsg=_ref.highlightMsg;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,title)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("div",{id:"visTypeDescription-".concat(name)},_react.default.createElement(_eui.EuiText,null,highlightMsg&&_react.default.createElement("p",null,_react.default.createElement("em",null,highlightMsg)),_react.default.createElement("p",null,description))))};exports.VisHelpText=VisHelpText},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisTypeIcon=void 0;var _eui=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var VisTypeIcon=function VisTypeIcon(_ref){var icon=_ref.icon,image=_ref.image;return _react.default.createElement(_react.default.Fragment,null,image&&_react.default.createElement("img",{src:image,"aria-hidden":"true",role:"presentation",alt:"",className:"visNewVisDialog__typeImage"}),!image&&_react.default.createElement(_eui.EuiIcon,{type:icon||"empty",size:"l",color:"secondary","aria-hidden":"true"}))};exports.VisTypeIcon=VisTypeIcon},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showNewVisModal=showNewVisModal;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _i18n=__webpack_require__(11);var _new_vis_modal=__webpack_require__(460);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function showNewVisModal(visTypeRegistry){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$editorParams=_ref.editorParams,editorParams=_ref$editorParams===void 0?[]:_ref$editorParams;var container=document.createElement("div");var onClose=function onClose(){_reactDom.default.unmountComponentAtNode(container);document.body.removeChild(container)};document.body.appendChild(container);var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_new_vis_modal.NewVisModal,{isOpen:true,onClose:onClose,visTypesRegistry:visTypeRegistry,editorParams:editorParams}));_reactDom.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DisabledLabVisualization=DisabledLabVisualization;var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DisabledLabVisualization(_ref){var title=_ref.title;return _react2.default.createElement("div",{className:"visDisabledLabVisualization"},_react2.default.createElement("div",{className:"kuiVerticalRhythm visDisabledLabVisualization__icon kuiIcon fa-flask","aria-hidden":"true"}),_react2.default.createElement("div",{className:"kuiVerticalRhythm"},_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.disabledLabVisualizationTitle",defaultMessage:"{title} is a lab visualization.",values:{title:_react2.default.createElement("em",{className:"visDisabledLabVisualization__title"},title)}})),_react2.default.createElement("div",{className:"kuiVerticalRhythm"},_react2.default.createElement(_react.FormattedMessage,{id:"kbn.visualize.disabledLabVisualizationMessage",defaultMessage:"Please turn on lab-mode in the advanced settings to see lab visualizations."})))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndexPattern=getIndexPattern;var _chrome=_interopRequireDefault(__webpack_require__(7));var _index_patterns=__webpack_require__(77);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function getIndexPattern(_x){return _getIndexPattern.apply(this,arguments)}function _getIndexPattern(){_getIndexPattern=_asyncToGenerator(regeneratorRuntime.mark(function _callee(savedVis){var config,savedObjectsClient,defaultIndex,indexPatternObjects,_indexPatternObjects$,_indexPatternObjects$2,indexPattern,savedObject;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(savedVis.vis.type.name!=="metrics")){_context.next=2;break}return _context.abrupt("return",savedVis.vis.indexPattern);case 2:config=_chrome.default.getUiSettingsClient();savedObjectsClient=_chrome.default.getSavedObjectsClient();defaultIndex=config.get("defaultIndex");if(!savedVis.vis.params.index_pattern){_context.next=11;break}_context.next=8;return savedObjectsClient.find({type:"index-pattern",fields:["title","fields"],search:'"'.concat(savedVis.vis.params.index_pattern,'"'),searchFields:["title"]});case 8:indexPatternObjects=_context.sent;_indexPatternObjects$=indexPatternObjects.savedObjects.map(_index_patterns.getFromSavedObject),_indexPatternObjects$2=_slicedToArray(_indexPatternObjects$,1),indexPattern=_indexPatternObjects$2[0];return _context.abrupt("return",indexPattern);case 11:_context.next=13;return savedObjectsClient.get("index-pattern",defaultIndex);case 13:savedObject=_context.sent;return _context.abrupt("return",(0,_index_patterns.getFromSavedObject)(savedObject));case 15:case"end":return _context.stop()}}},_callee)}));return _getIndexPattern.apply(this,arguments)}},,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _chrome=_interopRequireDefault(__webpack_require__(7));var _routes=_interopRequireDefault(__webpack_require__(19));var _home_ng_wrapper=_interopRequireDefault(__webpack_require__(1946));var _feature_catalogue=__webpack_require__(47);var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _home_app=__webpack_require__(1947);var _persisted_log=__webpack_require__(68);var _i18n2=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/home",[]);app.directive("homeApp",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_home_app.HomeApp))});var homeTitle=_i18n2.i18n.translate("kbn.home.breadcrumbs.homeTitle",{defaultMessage:"Home"});function getRoute(){return{template:_home_ng_wrapper.default,controller:function controller($scope,Private){$scope.directories=Private(_feature_catalogue.FeatureCatalogueRegistryProvider).inTitleOrder;$scope.recentlyAccessed=_persisted_log.recentlyAccessed.get().map(function(item){item.link=_chrome.default.addBasePath(item.link);return item})},k7Breadcrumbs:function k7Breadcrumbs(){return[{text:homeTitle}]}}}_routes.default.when("/home",getRoute());_routes.default.when("/home/feature_directory",getRoute());_routes.default.when("/home/tutorial_directory/:tab?",getRoute());_routes.default.when("/home/tutorial/:id",getRoute())},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<home-app\n  directories="directories"\n  recently-accessed="recentlyAccessed"\n  data-test-subj="homeApp"\n/>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HomeApp=HomeApp;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _home=__webpack_require__(1948);var _feature_directory=__webpack_require__(1958);var _tutorial_directory=__webpack_require__(1959);var _tutorial=__webpack_require__(1964);var _reactRouterDom=__webpack_require__(2103);var _load_tutorials=__webpack_require__(763);var _replace_template_strings=__webpack_require__(1975);var _kibana_services=__webpack_require__(463);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HomeApp(_ref){var directories=_ref.directories;var isCloudEnabled=_chrome.default.getInjected("isCloudEnabled",false);var apmUiEnabled=_chrome.default.getInjected("apmUiEnabled",true);var mlEnabled=_chrome.default.getInjected("mlEnabled",false);var savedObjectsClient=_chrome.default.getSavedObjectsClient();var renderTutorialDirectory=function renderTutorialDirectory(props){return _react.default.createElement(_tutorial_directory.TutorialDirectory,{addBasePath:_chrome.default.addBasePath,openTab:props.match.params.tab,isCloudEnabled:isCloudEnabled})};var renderTutorial=function renderTutorial(props){return _react.default.createElement(_tutorial.Tutorial,{addBasePath:_chrome.default.addBasePath,isCloudEnabled:isCloudEnabled,getTutorial:_load_tutorials.getTutorial,replaceTemplateStrings:_replace_template_strings.replaceTemplateStrings,tutorialId:props.match.params.id,bulkCreate:savedObjectsClient.bulkCreate})};return _react.default.createElement(_reactRouterDom.HashRouter,null,_react.default.createElement(_reactRouterDom.Switch,null,_react.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial/:id",render:renderTutorial}),_react.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial_directory/:tab?",render:renderTutorialDirectory}),_react.default.createElement(_reactRouterDom.Route,{path:"/home/feature_directory"},_react.default.createElement(_feature_directory.FeatureDirectory,{addBasePath:_chrome.default.addBasePath,directories:directories})),_react.default.createElement(_reactRouterDom.Route,{path:"/home"},_react.default.createElement(_home.Home,{addBasePath:_chrome.default.addBasePath,directories:directories,apmUiEnabled:apmUiEnabled,mlEnabled:mlEnabled,find:savedObjectsClient.find,localStorage:localStorage,urlBasePath:_chrome.default.getBasePath(),shouldShowTelemetryOptIn:_kibana_services.shouldShowTelemetryOptIn,setOptIn:_kibana_services.telemetryOptInProvider.setOptIn,fetchTelemetry:_kibana_services.telemetryOptInProvider.fetchExample,getTelemetryBannerId:_kibana_services.telemetryOptInProvider.getBannerId}))))}HomeApp.propTypes={directories:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,title:_propTypes.default.string.isRequired,description:_propTypes.default.string.isRequired,icon:_propTypes.default.string.isRequired,path:_propTypes.default.string.isRequired,showOnHomePage:_propTypes.default.bool.isRequired,category:_propTypes.default.string.isRequired}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Home=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _synopsis=__webpack_require__(462);var _add_data=__webpack_require__(1949);var _react2=__webpack_require__(5);var _chrome=_interopRequireDefault(__webpack_require__(7));var _eui=__webpack_require__(3);var _welcome=__webpack_require__(1950);var _feature_catalogue=__webpack_require__(47);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var KEY_ENABLE_WELCOME="home:welcome:show";var Home=function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_defineProperty(_assertThisInitialized(_this),"fetchIsNewKibanaInstance",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setTimeout(function(){if(_this.state.isLoading){_this.setState({isWelcomeEnabled:false})}},500);_context.next=4;return _this.props.find({type:"index-pattern",fields:["title"],search:"*",search_fields:["title"],perPage:1});case 4:resp=_context.sent;_this.endLoading({isNewKibanaInstance:resp.total===0});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_this.endLoading();case 11:case"end":return _context.stop()}}},_callee,null,[[0,8]])})));_defineProperty(_assertThisInitialized(_this),"endLoading",function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(_this._isMounted){_this.setState(_objectSpread({},state,{isLoading:false}))}});_defineProperty(_assertThisInitialized(_this),"skipWelcome",function(){_this.props.localStorage.setItem(KEY_ENABLE_WELCOME,"false");_this._isMounted&&_this.setState({isWelcomeEnabled:false})});_defineProperty(_assertThisInitialized(_this),"renderDirectories",function(category){var _this$props=_this.props,addBasePath=_this$props.addBasePath,directories=_this$props.directories;return directories.filter(function(directory){return directory.showOnHomePage&&directory.category===category}).map(function(directory){return _react.default.createElement(_eui.EuiFlexItem,{className:"homHome__synopsisItem",key:directory.id},_react.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:addBasePath(directory.path)}))})});var isWelcomeEnabled=!(_chrome.default.getInjected("disableWelcomeScreen")||props.localStorage.getItem(KEY_ENABLE_WELCOME)==="false");_this.state={isLoading:isWelcomeEnabled,isNewKibanaInstance:false,isWelcomeEnabled:isWelcomeEnabled};return _this}_createClass(Home,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchIsNewKibanaInstance()}},{key:"renderNormal",value:function renderNormal(){var _this$props2=this.props,apmUiEnabled=_this$props2.apmUiEnabled,mlEnabled=_this$props2.mlEnabled;return _react.default.createElement(_eui.EuiPage,{restrictWidth:1200},_react.default.createElement(_eui.EuiPageBody,{className:"eui-displayBlock"},_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.welcomeHomePageHeader",defaultMessage:"Kibana home"}))),_react.default.createElement(_add_data.AddData,{apmUiEnabled:apmUiEnabled,mlEnabled:mlEnabled,isNewKibanaInstance:this.state.isNewKibanaInstance}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.directories.visualize.nameTitle",defaultMessage:"Visualize and Explore Data"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.DATA)))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.directories.manage.nameTitle",defaultMessage:"Manage and Administer the Elastic Stack"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.ADMIN))))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"eui-textCenter"},_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.directories.notFound.description",defaultMessage:"Didnt find what you were looking for?"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiButton,{href:"#/home/feature_directory"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.directories.notFound.viewFullButtonLabel",defaultMessage:"View full directory of Kibana plugins"}))))))}},{key:"renderLoading",value:function renderLoading(){return""}},{key:"renderWelcome",value:function renderWelcome(){return _react.default.createElement(_welcome.Welcome,{onSkip:this.skipWelcome,urlBasePath:this.props.urlBasePath,shouldShowTelemetryOptIn:this.props.shouldShowTelemetryOptIn,fetchTelemetry:this.props.fetchTelemetry,setOptIn:this.props.setOptIn,getTelemetryBannerId:this.props.getTelemetryBannerId})}},{key:"render",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,isWelcomeEnabled=_this$state.isWelcomeEnabled,isNewKibanaInstance=_this$state.isNewKibanaInstance;if(isWelcomeEnabled){if(isLoading){return this.renderLoading()}if(isNewKibanaInstance){return this.renderWelcome()}}return this.renderNormal()}}]);return Home}(_react.Component);exports.Home=Home;Home.propTypes={addBasePath:_propTypes.default.func.isRequired,fetchTelemetry:_propTypes.default.func.isRequired,getTelemetryBannerId:_propTypes.default.func.isRequired,setOptIn:_propTypes.default.func.isRequired,shouldShowTelemetryOptIn:_propTypes.default.bool.isRequired,directories:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,title:_propTypes.default.string.isRequired,description:_propTypes.default.string.isRequired,icon:_propTypes.default.string.isRequired,path:_propTypes.default.string.isRequired,showOnHomePage:_propTypes.default.bool.isRequired,category:_propTypes.default.string.isRequired})),apmUiEnabled:_propTypes.default.bool.isRequired,find:_propTypes.default.func.isRequired,localStorage:_propTypes.default.object.isRequired,urlBasePath:_propTypes.default.string.isRequired,mlEnabled:_propTypes.default.bool.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddData=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _classnames=_interopRequireDefault(__webpack_require__(26));var _react2=__webpack_require__(5);var _chrome=_interopRequireDefault(__webpack_require__(7));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var basePath=_chrome.default.getBasePath();var AddDataUi=function AddDataUi(_ref){var apmUiEnabled=_ref.apmUiEnabled,isNewKibanaInstance=_ref.isNewKibanaInstance,intl=_ref.intl,mlEnabled=_ref.mlEnabled;var renderCards=function renderCards(){var apmData={title:intl.formatMessage({id:"kbn.home.addData.apm.nameTitle",defaultMessage:"APM"}),description:intl.formatMessage({id:"kbn.home.addData.apm.nameDescription",defaultMessage:"APM automatically collects in-depth performance metrics and errors from inside your applications."}),ariaDescribedby:"aria-describedby.addAmpButtonLabel"};var loggingData={title:intl.formatMessage({id:"kbn.home.addData.logging.nameTitle",defaultMessage:"Logging"}),description:intl.formatMessage({id:"kbn.home.addData.logging.nameDescription",defaultMessage:"Ingest logs from popular data sources and easily visualize in preconfigured dashboards."}),ariaDescribedby:"aria-describedby.addLogDataButtonLabel"};var metricsData={title:intl.formatMessage({id:"kbn.home.addData.metrics.nameTitle",defaultMessage:"Metrics"}),description:intl.formatMessage({id:"kbn.home.addData.metrics.nameDescription",defaultMessage:"Collect metrics from the operating system and services running on your servers."}),ariaDescribedby:"aria-describedby.addMetricsButtonLabel"};var siemData={title:intl.formatMessage({id:"kbn.home.addData.siem.nameTitle",defaultMessage:"SIEM"}),description:intl.formatMessage({id:"kbn.home.addData.siem.nameDescription",defaultMessage:"Centralize security events for interactive investigation in ready-to-go visualizations."}),ariaDescribedby:"aria-describedby.addSiemButtonLabel"};var getApmCard=function getApmCard(){return _react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"logoAPM"}),title:apmData.title,description:_react.default.createElement("span",{id:apmData.ariaDescribedby},apmData.description),footer:_react.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial/apm","aria-describedby":apmData.ariaDescribedby},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.apm.addApmButtonLabel",defaultMessage:"Add APM"}))}))};return _react.default.createElement(_eui.EuiFlexGroup,{className:"homeAddData__flexGroup",wrap:apmUiEnabled,gutterSize:"l",justifyContent:"spaceAround",responsive:false},apmUiEnabled!==false&&getApmCard(),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"logoLogging"}),title:loggingData.title,description:_react.default.createElement("span",{id:loggingData.ariaDescribedby},loggingData.description),footer:_react.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/logging","aria-describedby":loggingData.ariaDescribedby},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.logging.addLogDataButtonLabel",defaultMessage:"Add log data"}))})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"logoMetrics"}),title:metricsData.title,description:_react.default.createElement("span",{id:metricsData.ariaDescribedby},metricsData.description),footer:_react.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/metrics","aria-describedby":metricsData.ariaDescribedby},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.metrics.addMetricsDataButtonLabel",defaultMessage:"Add metric data"}))})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiCard,{className:"homAddData__card",icon:_react.default.createElement(_eui.EuiIcon,{className:"homAddData__icon",type:"logoSecurity"}),title:siemData.title,description:_react.default.createElement("span",{id:siemData.ariaDescribedby},siemData.description),footer:_react.default.createElement(_eui.EuiButton,{className:"homAddData__button",href:"#/home/tutorial_directory/siem","aria-describedby":siemData.ariaDescribedby},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.siem.addSiemEventsButtonLabel",defaultMessage:"Add security events"}))})))};var footerItemClasses=(0,_classnames.default)("homAddData__footerItem",{"homAddData__footerItem--highlight":isNewKibanaInstance});return _react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.addDataToKibanaTitle",defaultMessage:"Add Data to Kibana"}))),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.addDataToKibanaDescription",defaultMessage:"Use these solutions to quickly turn your data into pre-built dashboards and monitoring systems."}))))),_react.default.createElement(_eui.EuiSpacer,null),renderCards(),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiFlexGrid,{columns:mlEnabled!==false?3:2},_react.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("strong",{style:{height:38}},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.sampleDataTitle",defaultMessage:"Add sample data"})),_react.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"#/home/tutorial_directory/sampleData"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.sampleDataLink",defaultMessage:"Load a data set and a Kibana dashboard"})))),mlEnabled!==false?_react.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("strong",{style:{height:38}},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.uploadFileTitle",defaultMessage:"Upload data from log file"})),_react.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"".concat(basePath,"/app/ml#/filedatavisualizer")},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.uploadFileLink",defaultMessage:"Import a CSV, NDJSON, or log file"})))):null,_react.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("strong",{style:{height:38}},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.yourDataTitle",defaultMessage:"Use Elasticsearch data"})),_react.default.createElement(_eui.EuiLink,{style:{display:"block",textAlign:"center"},href:"#/management/kibana/index_pattern"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.addData.yourDataLink",defaultMessage:"Connect to your Elasticsearch index"}))))))};AddDataUi.propTypes={apmUiEnabled:_propTypes.default.bool.isRequired,mlEnabled:_propTypes.default.bool.isRequired,isNewKibanaInstance:_propTypes.default.bool.isRequired};var AddData=(0,_react2.injectI18n)(AddDataUi);exports.AddData=AddData},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.Welcome=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _notify=__webpack_require__(9);var _react2=__webpack_require__(5);var _chrome=_interopRequireDefault(__webpack_require__(7));var _sample_data=__webpack_require__(1951);var _telemetry_opt_in=__webpack_require__(1952);var _kibana_services=__webpack_require__(463);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Welcome=function(_React$PureComponent){_inherits(Welcome,_React$PureComponent);function Welcome(){var _getPrototypeOf2;var _this;_classCallCheck(this,Welcome);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Welcome)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{step:0});_defineProperty(_assertThisInitialized(_this),"hideOnEsc",function(e){if(e.key==="Escape"){_this.props.onSkip()}});_defineProperty(_assertThisInitialized(_this),"onSampleDataDecline",function(){(0,_kibana_services.trackUiMetric)(_kibana_services.METRIC_TYPE.CLICK,"sampleDataDecline");_this.props.onSkip()});_defineProperty(_assertThisInitialized(_this),"onSampleDataConfirm",function(){(0,_kibana_services.trackUiMetric)(_kibana_services.METRIC_TYPE.CLICK,"sampleDataConfirm");_this.redirecToSampleData()});return _this}_createClass(Welcome,[{key:"redirecToSampleData",value:function redirecToSampleData(){var path=_chrome.default.addBasePath("#/home/tutorial_directory/sampleData");window.location.href=path}},{key:"handleTelemetrySelection",value:function(){var _handleTelemetrySelection=_asyncToGenerator(regeneratorRuntime.mark(function _callee(confirm){var metricName,bannerId;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:metricName="telemetryOptIn".concat(confirm?"Confirm":"Decline");(0,_kibana_services.trackUiMetric)(_kibana_services.METRIC_TYPE.CLICK,metricName);_context.next=4;return this.props.setOptIn(confirm);case 4:bannerId=this.props.getTelemetryBannerId();_notify.banners.remove(bannerId);this.setState(function(){return{step:1}});case 7:case"end":return _context.stop()}}},_callee,this)}));function handleTelemetrySelection(_x){return _handleTelemetrySelection.apply(this,arguments)}return handleTelemetrySelection}()},{key:"componentDidMount",value:function componentDidMount(){(0,_kibana_services.trackUiMetric)(_kibana_services.METRIC_TYPE.LOADED,"welcomeScreenMount");if(this.props.shouldShowTelemetryOptIn){(0,_kibana_services.trackUiMetric)(_kibana_services.METRIC_TYPE.COUNT,"welcomeScreenWithTelemetryOptIn")}document.addEventListener("keydown",this.hideOnEsc)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.hideOnEsc)}},{key:"render",value:function render(){var _this$props=this.props,urlBasePath=_this$props.urlBasePath,shouldShowTelemetryOptIn=_this$props.shouldShowTelemetryOptIn,fetchTelemetry=_this$props.fetchTelemetry;var step=this.state.step;return _react.default.createElement(_eui.EuiPortal,null,_react.default.createElement("div",{className:"homWelcome"},_react.default.createElement("header",{className:"homWelcome__header"},_react.default.createElement("div",{className:"homWelcome__content eui-textCenter"},_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement("span",{className:"homWelcome__logo"},_react.default.createElement(_eui.EuiIcon,{type:"logoKibana",size:"xxl"})),_react.default.createElement(_eui.EuiTitle,{size:"l",className:"homWelcome__title"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.welcomeTitle",defaultMessage:"Welcome to Kibana"}))),_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued",className:"homWelcome__subtitle"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.welcomeDescription",defaultMessage:"Your window into the Elastic Stack"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))),_react.default.createElement("div",{className:"homWelcome__content homWelcome-body"},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l"},_react.default.createElement(_eui.EuiFlexItem,null,shouldShowTelemetryOptIn&&step===0&&_react.default.createElement(_telemetry_opt_in.TelemetryOptInCard,{urlBasePath:urlBasePath,fetchTelemetry:fetchTelemetry,onConfirm:this.handleTelemetrySelection.bind(this,true),onDecline:this.handleTelemetrySelection.bind(this,false)}),(!shouldShowTelemetryOptIn||step===1)&&_react.default.createElement(_sample_data.SampleDataCard,{urlBasePath:urlBasePath,onConfirm:this.onSampleDataConfirm,onDecline:this.onSampleDataDecline}),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}))))))}}]);return Welcome}(_react.default.PureComponent);exports.Welcome=Welcome},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataCard=SampleDataCard;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SampleDataCard(_ref){var urlBasePath=_ref.urlBasePath,onDecline=_ref.onDecline,onConfirm=_ref.onConfirm;return _react.default.createElement(_eui.EuiCard,{image:"".concat(urlBasePath,"/plugins/kibana/assets/illo_dashboard.png"),textAlign:"left",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.letsStartTitle",defaultMessage:"Let's get started"}),description:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.letsStartDescription",defaultMessage:"We noticed that you don't have any data in your cluster.\nYou can try our sample data and dashboards or jump in with your own data."}),footer:_react.default.createElement("footer",null,_react.default.createElement(_eui.EuiButton,{fill:true,className:"homWelcome__footerAction",onClick:onConfirm},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tryButtonLabel",defaultMessage:"Try our sample data"})),_react.default.createElement(_eui.EuiButtonEmpty,{className:"homWelcome__footerAction",onClick:onDecline,"data-test-subj":"skipWelcomeScreen"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.exploreButtonLabel",defaultMessage:"Explore on my own"})))})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TelemetryOptInCard=void 0;var _telemetry_opt_in_card=__webpack_require__(1953);var TelemetryOptInCard=function TelemetryOptInCard(props){return(0,_telemetry_opt_in_card.renderTelemetryOptInCard)(props)};exports.TelemetryOptInCard=TelemetryOptInCard},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderTelemetryOptInCard=renderTelemetryOptInCard;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _opt_in_message=__webpack_require__(1954);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderTelemetryOptInCard(_ref){var urlBasePath=_ref.urlBasePath,fetchTelemetry=_ref.fetchTelemetry,onConfirm=_ref.onConfirm,onDecline=_ref.onDecline;return _react.default.createElement(_eui.EuiCard,{image:"".concat(urlBasePath,"/plugins/kibana/assets/illo_telemetry.png"),textAlign:"left",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.telemtery.optInCardTitle",defaultMessage:"Help us improve the Elastic Stack"}),description:_react.default.createElement(_opt_in_message.OptInMessage,{fetchTelemetry:fetchTelemetry}),footer:_react.default.createElement("footer",null,_react.default.createElement(_eui.EuiButton,{onClick:onConfirm,className:"homWelcome__footerAction","data-test-subj":"WelcomeScreenOptInConfirm",fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.telemtery.optInCardConfirmButtonLabel",defaultMessage:"Yes"})),_react.default.createElement(_eui.EuiButton,{className:"homWelcome__footerAction",onClick:onDecline,"data-test-subj":"WelcomeScreenOptInCancel",fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.telemtery.optInCardDeclineButtonLabel",defaultMessage:"No"})))})}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.OptInMessage=void 0;var React=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);var _opt_in_details_component=__webpack_require__(1955);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OptInMessage=function(_React$PureComponent){_inherits(OptInMessage,_React$PureComponent);function OptInMessage(){var _getPrototypeOf2;var _this;_classCallCheck(this,OptInMessage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(OptInMessage)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{showDetails:false,showExample:false});_defineProperty(_assertThisInitialized(_this),"toggleShowExample",function(){_this.setState(function(prevState){return{showExample:!prevState.showExample}})});return _this}_createClass(OptInMessage,[{key:"render",value:function render(){var _this2=this;var fetchTelemetry=this.props.fetchTelemetry;var _this$state=this.state,showDetails=_this$state.showDetails,showExample=_this$state.showExample;var getDetails=function getDetails(){return React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.optInMessage.detailsDescription",defaultMessage:"No information about the data you process or store will be sent. This feature will periodically send basic feature usage statistics. See an {exampleLink} or read our {telemetryPrivacyStatementLink}. You can disable this feature at any time.",values:{exampleLink:React.createElement(_eui.EuiLink,{onClick:_this2.toggleShowExample},React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.optInMessage.detailsExampleLinkText",defaultMessage:"example"})),telemetryPrivacyStatementLink:React.createElement(_eui.EuiLink,{href:"https://www.elastic.co/legal/telemetry-privacy-statement",target:"_blank"},React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.optInMessage.detailsTelemetryPrivacyStatementLinkText",defaultMessage:"telemetry privacy statement"}))}})};var getFlyoutDetails=function getFlyoutDetails(){return React.createElement(_opt_in_details_component.OptInExampleFlyout,{onClose:function onClose(){return _this2.setState({showExample:false})},fetchTelemetry:fetchTelemetry})};var getReadMore=function getReadMore(){return React.createElement(_eui.EuiLink,{onClick:function onClick(){return _this2.setState({showDetails:true})}},React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.optInMessage.readMoreLinkText",defaultMessage:"Read more"}))};return React.createElement(React.Fragment,null,React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.optInMessageDescription",defaultMessage:"Help us improve the Elastic Stack by providing usage statistics for basic features. We will not share this data outside of Elastic."})," ",!showDetails&&getReadMore(),showDetails&&getDetails(),showDetails&&showExample&&getFlyoutDetails())}}]);return OptInMessage}(React.PureComponent);exports.OptInMessage=OptInMessage},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.OptInExampleFlyout=void 0;var React=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OptInExampleFlyout=function(_React$PureComponent){_inherits(OptInExampleFlyout,_React$PureComponent);function OptInExampleFlyout(){var _getPrototypeOf2;var _this;_classCallCheck(this,OptInExampleFlyout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(OptInExampleFlyout)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{data:null,isLoading:true,hasPrivilegeToRead:false});return _this}_createClass(OptInExampleFlyout,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.fetchTelemetry().then(function(response){return _this2.setState({data:Array.isArray(response.data)?response.data:null,isLoading:false,hasPrivilegeToRead:true})}).catch(function(err){_this2.setState({isLoading:false,hasPrivilegeToRead:err.status!==403})})}},{key:"renderBody",value:function renderBody(_ref){var data=_ref.data,isLoading=_ref.isLoading,hasPrivilegeToRead=_ref.hasPrivilegeToRead;if(isLoading){return React.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},React.createElement(_eui.EuiFlexItem,{grow:false},React.createElement(_eui.EuiLoadingSpinner,{size:"xl"})))}if(!hasPrivilegeToRead){return React.createElement(_eui.EuiCallOut,{title:React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.callout.errorUnprivilegedUserTitle",defaultMessage:"Error displaying cluster statistics"}),color:"danger",iconType:"cross"},React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.callout.errorUnprivilegedUserDescription",defaultMessage:"You do not have access to see unencrypted cluster statistics."}))}if(data===null){return React.createElement(_eui.EuiCallOut,{title:React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.callout.errorLoadingClusterStatisticsTitle",defaultMessage:"Error loading cluster statistics"}),color:"danger",iconType:"cross"},React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.callout.errorLoadingClusterStatisticsDescription",defaultMessage:"An unexpected error occured while attempting to fetch the cluster statistics. This can occur because Elasticsearch failed, Kibana failed, or there is a network error. Check Kibana, then reload the page and try again."}))}return React.createElement(_eui.EuiCodeBlock,{language:"js"},JSON.stringify(data,null,2))}},{key:"render",value:function render(){return React.createElement(_eui.EuiPortal,null,React.createElement(_eui.EuiFlyout,{ownFocus:true,onClose:this.props.onClose,maxWidth:true},React.createElement(_eui.EuiFlyoutHeader,null,React.createElement(_eui.EuiTitle,null,React.createElement("h2",null,React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.callout.clusterStatisticsTitle",defaultMessage:"Cluster statistics"}))),React.createElement(_eui.EuiTextColor,{color:"subdued"},React.createElement(_eui.EuiText,null,React.createElement(_react2.FormattedMessage,{id:"kbn.home.telemetry.callout.clusterStatisticsDescription",defaultMessage:"This is an example of the basic cluster statistics that we'll collect. It includes the number of indices, shards, and nodes. It also includes high-level usage statistics, such as whether monitoring is turned on."})))),React.createElement(_eui.EuiFlyoutBody,null,this.renderBody(this.state))))}}]);return OptInExampleFlyout}(React.PureComponent);exports.OptInExampleFlyout=OptInExampleFlyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TelemetryOptInProvider=TelemetryOptInProvider;var _moment=_interopRequireDefault(__webpack_require__(14));var _ui_metric=__webpack_require__(1957);var _notify=__webpack_require__(9);var _new_platform=__webpack_require__(8);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function TelemetryOptInProvider($injector,chrome){var currentOptInStatus=_new_platform.npStart.core.injectedMetadata.getInjectedVar("telemetryOptedIn");var bannerId=null;(0,_ui_metric.setCanTrackUiMetrics)(currentOptInStatus);var provider={getBannerId:function getBannerId(){return bannerId},getOptIn:function getOptIn(){return currentOptInStatus},setBannerId:function setBannerId(id){bannerId=id},setOptIn:function(){var _setOptIn=_asyncToGenerator(regeneratorRuntime.mark(function _callee(enabled){var $http;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:(0,_ui_metric.setCanTrackUiMetrics)(enabled);$http=$injector.get("$http");_context.prev=2;_context.next=5;return $http.post(chrome.addBasePath("/api/telemetry/v2/optIn"),{enabled:enabled});case 5:currentOptInStatus=enabled;_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);_notify.toastNotifications.addError(_context.t0,{title:_i18n.i18n.translate("kbn.home.telemetry.optInErrorToastTitle",{defaultMessage:"Error"}),toastMessage:_i18n.i18n.translate("kbn.home.telemetry.optInErrorToastText",{defaultMessage:"An error occured while trying to set the usage statistics preference."})});return _context.abrupt("return",false);case 12:return _context.abrupt("return",true);case 13:case"end":return _context.stop()}}},_callee,null,[[2,8]])}));function setOptIn(_x){return _setOptIn.apply(this,arguments)}return setOptIn}(),fetchExample:function(){var _fetchExample=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var $http;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:$http=$injector.get("$http");return _context2.abrupt("return",$http.post(chrome.addBasePath("/api/telemetry/v2/clusters/_stats"),{unencrypted:true,timeRange:{min:(0,_moment.default)().subtract(20,"minutes").toISOString(),max:(0,_moment.default)().toISOString()}}));case 2:case"end":return _context2.stop()}}},_callee2)}));function fetchExample(){return _fetchExample.apply(this,arguments)}return fetchExample}()};return provider}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setCanTrackUiMetrics=setCanTrackUiMetrics;exports.getCanTrackUiMetrics=getCanTrackUiMetrics;var _canTrackUiMetrics=false;function setCanTrackUiMetrics(flag){_canTrackUiMetrics=flag}function getCanTrackUiMetrics(){return _canTrackUiMetrics}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureDirectory=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _synopsis=__webpack_require__(462);var _eui=__webpack_require__(3);var _feature_catalogue=__webpack_require__(47);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ALL_TAB_ID="all";var OTHERS_TAB_ID="others";var isOtherCategory=function isOtherCategory(directory){return directory.category!==_feature_catalogue.FeatureCatalogueCategory.DATA&&directory.category!==_feature_catalogue.FeatureCatalogueCategory.ADMIN};var FeatureDirectory=function(_React$Component){_inherits(FeatureDirectory,_React$Component);function FeatureDirectory(props){var _this;_classCallCheck(this,FeatureDirectory);_this=_possibleConstructorReturn(this,_getPrototypeOf(FeatureDirectory).call(this,props));_defineProperty(_assertThisInitialized(_this),"onSelectedTabChanged",function(id){_this.setState({selectedTabId:id})});_defineProperty(_assertThisInitialized(_this),"renderTabs",function(){return _this.tabs.map(function(tab,index){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})});_defineProperty(_assertThisInitialized(_this),"renderDirectories",function(){return _this.props.directories.filter(function(directory){if(_this.state.selectedTabId===ALL_TAB_ID){return true}if(_this.state.selectedTabId===OTHERS_TAB_ID){return isOtherCategory(directory)}return _this.state.selectedTabId===directory.category}).map(function(directory){return _react.default.createElement(_eui.EuiFlexItem,{key:directory.id},_react.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:_this.props.addBasePath(directory.path),wrapInPanel:true}))})});_this.tabs=[{id:ALL_TAB_ID,name:_i18n.i18n.translate("kbn.home.directory.tabs.allTitle",{defaultMessage:"All"})},{id:_feature_catalogue.FeatureCatalogueCategory.DATA,name:_i18n.i18n.translate("kbn.home.directory.tabs.dataTitle",{defaultMessage:"Data Exploration & Visualization"})},{id:_feature_catalogue.FeatureCatalogueCategory.ADMIN,name:_i18n.i18n.translate("kbn.home.directory.tabs.administrativeTitle",{defaultMessage:"Administrative"})}];if(props.directories.some(isOtherCategory)){_this.tabs.push({id:OTHERS_TAB_ID,name:_i18n.i18n.translate("kbn.home.directory.tabs.otherTitle",{defaultMessage:"Other"})})}_this.state={selectedTabId:ALL_TAB_ID};return _this}_createClass(FeatureDirectory,[{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPage,{restrictWidth:1200},_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.directory.directoryTitle",defaultMessage:"Directory"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTabs,{className:"homeDirectoryTabs"},this.renderTabs()),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderDirectories())))}}]);return FeatureDirectory}(_react.default.Component);exports.FeatureDirectory=FeatureDirectory;FeatureDirectory.propTypes={addBasePath:_propTypes.default.func.isRequired,directories:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,title:_propTypes.default.string.isRequired,description:_propTypes.default.string.isRequired,icon:_propTypes.default.string.isRequired,path:_propTypes.default.string.isRequired,showOnHomePage:_propTypes.default.bool.isRequired,category:_propTypes.default.string.isRequired}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TutorialDirectory=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _synopsis=__webpack_require__(462);var _sample_data_set_cards=__webpack_require__(1960);var _chrome=_interopRequireDefault(__webpack_require__(7));var _eui=__webpack_require__(3);var _load_tutorials=__webpack_require__(763);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ALL_TAB_ID="all";var SAMPLE_DATA_TAB_ID="sampleData";var homeTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.homeTitle",{defaultMessage:"Home"});var addDataTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.addDataTitle",{defaultMessage:"Add data"});var TutorialDirectoryUi=function(_React$Component){_inherits(TutorialDirectoryUi,_React$Component);function TutorialDirectoryUi(props){var _this;_classCallCheck(this,TutorialDirectoryUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(TutorialDirectoryUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"onSelectedTabChanged",function(id){_this.setState({selectedTabId:id})});_defineProperty(_assertThisInitialized(_this),"renderTabs",function(){return _this.tabs.map(function(tab,index){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})});_defineProperty(_assertThisInitialized(_this),"renderTabContent",function(){if(_this.state.selectedTabId===SAMPLE_DATA_TAB_ID){return _react.default.createElement(_sample_data_set_cards.SampleDataSetCards,{addBasePath:_this.props.addBasePath})}return _react.default.createElement(_eui.EuiFlexGrid,{columns:4},_this.state.tutorialCards.filter(function(tutorial){return _this.state.selectedTabId===ALL_TAB_ID||_this.state.selectedTabId===tutorial.category}).map(function(tutorial){return _react.default.createElement(_eui.EuiFlexItem,{key:tutorial.name},_react.default.createElement(_synopsis.Synopsis,{iconType:tutorial.icon,description:tutorial.description,title:tutorial.name,wrapInPanel:true,url:tutorial.url,onClick:tutorial.onClick,isBeta:tutorial.isBeta}))}))});_this.tabs=[{id:ALL_TAB_ID,name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.allTitle",defaultMessage:"All"})},{id:"logging",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.loggingTitle",defaultMessage:"Logging"})},{id:"metrics",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.metricsTitle",defaultMessage:"Metrics"})},{id:"siem",name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.siemTitle",defaultMessage:"SIEM"})},{id:SAMPLE_DATA_TAB_ID,name:_this.props.intl.formatMessage({id:"kbn.home.tutorial.tabs.sampleDataTitle",defaultMessage:"Sample data"})}];var openTab=ALL_TAB_ID;if(props.openTab&&_this.tabs.some(function(tab){return tab.id===props.openTab})){openTab=props.openTab}_this.state={selectedTabId:openTab,tutorialCards:[]};return _this}_createClass(TutorialDirectoryUi,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this2=this;var tutorialConfigs,tutorialCards;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this._isMounted=true;_chrome.default.breadcrumbs.set([{text:homeTitle,href:"#/home"},{text:addDataTitle}]);_context.next=4;return(0,_load_tutorials.getTutorials)();case 4:tutorialConfigs=_context.sent;if(this._isMounted){_context.next=7;break}return _context.abrupt("return");case 7:tutorialCards=tutorialConfigs.map(function(tutorialConfig){return{category:tutorialConfig.category,icon:tutorialConfig.euiIconType,name:tutorialConfig.name,description:tutorialConfig.shortDescription,url:_this2.props.addBasePath("#/home/tutorial/".concat(tutorialConfig.id)),elasticCloud:tutorialConfig.elasticCloud}});tutorialCards.push({name:this.props.intl.formatMessage({id:"kbn.home.tutorial.card.sampleDataTitle",defaultMessage:"Sample Data"}),description:this.props.intl.formatMessage({id:"kbn.home.tutorial.card.sampleDataDescription",defaultMessage:'Get started exploring Kibana with these "one click" data sets.'}),url:this.props.addBasePath("#/home/tutorial_directory/sampleData"),elasticCloud:true,onClick:this.onSelectedTabChanged.bind(null,SAMPLE_DATA_TAB_ID)});if(this.props.isCloudEnabled){tutorialCards=tutorialCards.filter(function(tutorial){return _lodash.default.has(tutorial,"elasticCloud")})}tutorialCards.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())});this.setState({tutorialCards:tutorialCards});case 12:case"end":return _context.stop()}}},_callee,this)}));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPage,{restrictWidth:1200},_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tutorial.addDataToKibanaTitle",defaultMessage:"Add Data to Kibana"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiTabs,null,this.renderTabs()),_react.default.createElement(_eui.EuiSpacer,null),this.renderTabContent()))}}]);return TutorialDirectoryUi}(_react.default.Component);TutorialDirectoryUi.propTypes={addBasePath:_propTypes.default.func.isRequired,openTab:_propTypes.default.string,isCloudEnabled:_propTypes.default.bool.isRequired};var TutorialDirectory=(0,_react2.injectI18n)(TutorialDirectoryUi);exports.TutorialDirectory=TutorialDirectory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCards=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _sample_data_set_card=__webpack_require__(1961);var _notify=__webpack_require__(9);var _sample_data_client=__webpack_require__(1963);var _i18n=__webpack_require__(2);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IS_DARK_THEME=_chrome.default.getUiSettingsClient().get("theme:darkMode");var SampleDataSetCards=function(_React$Component){_inherits(SampleDataSetCards,_React$Component);function SampleDataSetCards(props){var _this;_classCallCheck(this,SampleDataSetCards);_this=_possibleConstructorReturn(this,_getPrototypeOf(SampleDataSetCards).call(this,props));_defineProperty(_assertThisInitialized(_this),"loadSampleDataSets",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var sampleDataSets;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_sample_data_client.listSampleDataSets)();case 3:sampleDataSets=_context.sent;_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToLoadListErrorMessage",{defaultMessage:"Unable to load sample data sets list"}),text:"".concat(_context.t0.message)});sampleDataSets=[];case 10:if(_this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:_this.setState({sampleDataSets:sampleDataSets.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())}),processingStatus:{}});case 13:case"end":return _context.stop()}}},_callee,null,[[0,6]])})));_defineProperty(_assertThisInitialized(_this),"install",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id){var targetSampleDataSet;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:targetSampleDataSet=_this.state.sampleDataSets.find(function(sampleDataSet){return sampleDataSet.id===id});_this.setState(function(prevState){return{processingStatus:_objectSpread({},prevState.processingStatus,_defineProperty({},id,true))}});_context2.prev=2;_context2.next=5;return(0,_sample_data_client.installSampleDataSet)(id,targetSampleDataSet.defaultIndex);case 5:_context2.next=12;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](2);if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_objectSpread({},prevState.processingStatus,_defineProperty({},id,false))}})}_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToInstallErrorMessage",{defaultMessage:"Unable to install sample data set: {name}",values:{name:targetSampleDataSet.name}}),text:"".concat(_context2.t0.message)});return _context2.abrupt("return");case 12:if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_objectSpread({},prevState.processingStatus,_defineProperty({},id,false)),sampleDataSets:prevState.sampleDataSets.map(function(sampleDataSet){if(sampleDataSet.id===id){sampleDataSet.status=_sample_data_set_card.INSTALLED_STATUS}return sampleDataSet})}})}_notify.toastNotifications.addSuccess(_defineProperty({title:_i18n.i18n.translate("kbn.home.sampleDataSet.installedLabel",{defaultMessage:"{name} installed",values:{name:targetSampleDataSet.name}})},"data-test-subj","sampleDataSetInstallToast"));case 14:case"end":return _context2.stop()}}},_callee2,null,[[2,7]])}));return function(_x){return _ref2.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"uninstall",function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var targetSampleDataSet;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:targetSampleDataSet=_this.state.sampleDataSets.find(function(sampleDataSet){return sampleDataSet.id===id});_this.setState(function(prevState){return{processingStatus:_objectSpread({},prevState.processingStatus,_defineProperty({},id,true))}});_context3.prev=2;_context3.next=5;return(0,_sample_data_client.uninstallSampleDataSet)(id,targetSampleDataSet.defaultIndex);case 5:_context3.next=12;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](2);if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_objectSpread({},prevState.processingStatus,_defineProperty({},id,false))}})}_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.home.sampleDataSet.unableToUninstallErrorMessage",{defaultMessage:"Unable to uninstall sample data set: {name}",values:{name:targetSampleDataSet.name}}),text:"".concat(_context3.t0.message)});return _context3.abrupt("return");case 12:if(_this._isMounted){_this.setState(function(prevState){return{processingStatus:_objectSpread({},prevState.processingStatus,_defineProperty({},id,false)),sampleDataSets:prevState.sampleDataSets.map(function(sampleDataSet){if(sampleDataSet.id===id){sampleDataSet.status=_sample_data_set_card.UNINSTALLED_STATUS}return sampleDataSet})}})}_notify.toastNotifications.addSuccess(_defineProperty({title:_i18n.i18n.translate("kbn.home.sampleDataSet.uninstalledLabel",{defaultMessage:"{name} uninstalled",values:{name:targetSampleDataSet.name}})},"data-test-subj","sampleDataSetUninstallToast"));case 14:case"end":return _context3.stop()}}},_callee3,null,[[2,7]])}));return function(_x2){return _ref3.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"lightOrDarkImage",function(sampleDataSet){return IS_DARK_THEME&&sampleDataSet.darkPreviewImagePath?sampleDataSet.darkPreviewImagePath:sampleDataSet.previewImagePath});_this.state={sampleDataSets:[],processingStatus:{}};return _this}_createClass(SampleDataSetCards,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this._isMounted=true;this.loadSampleDataSets();case 2:case"end":return _context4.stop()}}},_callee4,this)}));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this2=this;return _react.default.createElement(_eui.EuiFlexGrid,{columns:3,className:"homSampleDataSetCards"},this.state.sampleDataSets.map(function(sampleDataSet){return _react.default.createElement(_eui.EuiFlexItem,{key:sampleDataSet.id},_react.default.createElement(_sample_data_set_card.SampleDataSetCard,{id:sampleDataSet.id,description:sampleDataSet.description,name:sampleDataSet.name,overviewDashboard:sampleDataSet.overviewDashboard,appLinks:sampleDataSet.appLinks,status:sampleDataSet.status,isProcessing:_lodash.default.get(_this2.state.processingStatus,sampleDataSet.id,false),statusMsg:sampleDataSet.statusMsg,previewUrl:_this2.props.addBasePath(_this2.lightOrDarkImage(sampleDataSet)),onInstall:_this2.install,onUninstall:_this2.uninstall}))}))}}]);return SampleDataSetCards}(_react.default.Component);exports.SampleDataSetCards=SampleDataSetCards;SampleDataSetCards.propTypes={addBasePath:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCard=exports.UNINSTALLED_STATUS=exports.INSTALLED_STATUS=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _sample_data_view_data_button=__webpack_require__(1962);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var INSTALLED_STATUS="installed";exports.INSTALLED_STATUS=INSTALLED_STATUS;var UNINSTALLED_STATUS="not_installed";exports.UNINSTALLED_STATUS=UNINSTALLED_STATUS;var SampleDataSetCard=function(_React$Component){_inherits(SampleDataSetCard,_React$Component);function SampleDataSetCard(){var _getPrototypeOf2;var _this;_classCallCheck(this,SampleDataSetCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SampleDataSetCard)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"isInstalled",function(){if(_this.props.status===INSTALLED_STATUS){return true}return false});_defineProperty(_assertThisInitialized(_this),"install",function(){_this.props.onInstall(_this.props.id)});_defineProperty(_assertThisInitialized(_this),"uninstall",function(){_this.props.onUninstall(_this.props.id)});_defineProperty(_assertThisInitialized(_this),"renderBtn",function(){switch(_this.props.status){case INSTALLED_STATUS:return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{isLoading:_this.props.isProcessing,onClick:_this.uninstall,color:"danger","data-test-subj":"removeSampleDataSet".concat(_this.props.id),flush:"left","aria-label":_this.props.isProcessing?_i18n.i18n.translate("kbn.home.sampleDataSetCard.removingButtonAriaLabel",{defaultMessage:"Removing {datasetName}",values:{datasetName:_this.props.name}}):_i18n.i18n.translate("kbn.home.sampleDataSetCard.removeButtonAriaLabel",{defaultMessage:"Remove {datasetName}",values:{datasetName:_this.props.name}})},_this.props.isProcessing?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.sampleDataSetCard.removingButtonLabel",defaultMessage:"Removing"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.sampleDataSetCard.removeButtonLabel",defaultMessage:"Remove"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_sample_data_view_data_button.SampleDataViewDataButton,{id:_this.props.id,name:_this.props.name,overviewDashboard:_this.props.overviewDashboard,appLinks:_this.props.appLinks})));case UNINSTALLED_STATUS:return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{isLoading:_this.props.isProcessing,onClick:_this.install,"data-test-subj":"addSampleDataSet".concat(_this.props.id),"aria-label":_this.props.isProcessing?_i18n.i18n.translate("kbn.home.sampleDataSetCard.addingButtonAriaLabel",{defaultMessage:"Adding {datasetName}",values:{datasetName:_this.props.name}}):_i18n.i18n.translate("kbn.home.sampleDataSetCard.addButtonAriaLabel",{defaultMessage:"Add {datasetName}",values:{datasetName:_this.props.name}})},_this.props.isProcessing?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.sampleDataSetCard.addingButtonLabel",defaultMessage:"Adding"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.sampleDataSetCard.addButtonLabel",defaultMessage:"Add data"}))));default:{return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{position:"top",content:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.sampleDataSetCard.default.unableToVerifyErrorMessage",defaultMessage:"Unable to verify dataset status, error: {statusMsg}",values:{statusMsg:_this.props.statusMsg}}))},_react.default.createElement(_eui.EuiButton,{isDisabled:true,"data-test-subj":"addSampleDataSet".concat(_this.props.id),"aria-label":_i18n.i18n.translate("kbn.home.sampleDataSetCard.default.addButtonAriaLabel",{defaultMessage:"Add {datasetName}",values:{datasetName:_this.props.name}})},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.sampleDataSetCard.default.addButtonLabel",defaultMessage:"Add data"})))))}}});return _this}_createClass(SampleDataSetCard,[{key:"render",value:function render(){return _react.default.createElement(_eui.EuiCard,{textAlign:"left",className:"homSampleDataSetCard",image:this.props.previewUrl,title:this.props.name,description:this.props.description,betaBadgeLabel:this.isInstalled()?"INSTALLED":null,footer:this.renderBtn(),"data-test-subj":"sampleDataSetCard".concat(this.props.id)})}}]);return SampleDataSetCard}(_react.default.Component);exports.SampleDataSetCard=SampleDataSetCard;SampleDataSetCard.propTypes={id:_propTypes.default.string.isRequired,description:_propTypes.default.string.isRequired,name:_propTypes.default.string.isRequired,overviewDashboard:_propTypes.default.string.isRequired,appLinks:_propTypes.default.arrayOf(_propTypes.default.shape({path:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired,icon:_propTypes.default.string.isRequired})).isRequired,status:_propTypes.default.oneOf([INSTALLED_STATUS,UNINSTALLED_STATUS,"unknown"]).isRequired,isProcessing:_propTypes.default.bool.isRequired,statusMsg:_propTypes.default.string,previewUrl:_propTypes.default.string.isRequired,onInstall:_propTypes.default.func.isRequired,onUninstall:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataViewDataButton=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SampleDataViewDataButton=function(_React$Component){_inherits(SampleDataViewDataButton,_React$Component);function SampleDataViewDataButton(){var _getPrototypeOf2;var _this;_classCallCheck(this,SampleDataViewDataButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SampleDataViewDataButton)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"togglePopoverVisibility",function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})});_defineProperty(_assertThisInitialized(_this),"closePopover",function(){_this.setState({isPopoverOpen:false})});return _this}_createClass(SampleDataViewDataButton,[{key:"render",value:function render(){var viewDataButtonLabel=_i18n.i18n.translate("kbn.home.sampleDataSetCard.viewDataButtonLabel",{defaultMessage:"View data"});var viewDataButtonAriaLabel=_i18n.i18n.translate("kbn.home.sampleDataSetCard.viewDataButtonAriaLabel",{defaultMessage:"View {datasetName}",values:{datasetName:this.props.name}});var dashboardPath=_chrome.default.addBasePath("/app/kibana#/dashboard/".concat(this.props.overviewDashboard));if(this.props.appLinks.length===0){return _react.default.createElement(_eui.EuiButton,{href:dashboardPath,"data-test-subj":"launchSampleDataSet".concat(this.props.id),"aria-label":viewDataButtonAriaLabel},viewDataButtonLabel)}var additionalItems=this.props.appLinks.map(function(_ref){var path=_ref.path,label=_ref.label,icon=_ref.icon;return{name:label,icon:_react.default.createElement(_eui.EuiIcon,{type:icon,size:"m"}),href:_chrome.default.addBasePath(path)}});var panels=[{id:0,items:[{name:_i18n.i18n.translate("kbn.home.sampleDataSetCard.dashboardLinkLabel",{defaultMessage:"Dashboard"}),icon:_react.default.createElement(_eui.EuiIcon,{type:"dashboardApp",size:"m"}),href:dashboardPath}].concat(_toConsumableArray(additionalItems))}];var popoverButton=_react.default.createElement(_eui.EuiButton,{"aria-label":viewDataButtonAriaLabel,onClick:this.togglePopoverVisibility,iconType:"arrowDown",iconSide:"right"},viewDataButtonLabel);return _react.default.createElement(_eui.EuiPopover,{id:"sampleDataLinks".concat(this.props.id),button:popoverButton,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downCenter"},_react.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels}))}}]);return SampleDataViewDataButton}(_react.default.Component);exports.SampleDataViewDataButton=SampleDataViewDataButton;SampleDataViewDataButton.propTypes={id:_propTypes.default.string.isRequired,name:_propTypes.default.string.isRequired,overviewDashboard:_propTypes.default.string.isRequired,appLinks:_propTypes.default.arrayOf(_propTypes.default.shape({path:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired,icon:_propTypes.default.string.isRequired})).isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.listSampleDataSets=listSampleDataSets;exports.installSampleDataSet=installSampleDataSet;exports.uninstallSampleDataSet=uninstallSampleDataSet;var _kfetch=__webpack_require__(39);var _chrome=_interopRequireDefault(__webpack_require__(7));var _kibana_services=__webpack_require__(463);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var sampleDataUrl="/api/sample_data";function clearIndexPatternsCache(){_kibana_services.indexPatternService.clearCache()}function listSampleDataSets(){return _listSampleDataSets.apply(this,arguments)}function _listSampleDataSets(){_listSampleDataSets=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_kfetch.kfetch)({method:"GET",pathname:sampleDataUrl});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return _listSampleDataSets.apply(this,arguments)}function installSampleDataSet(_x,_x2){return _installSampleDataSet.apply(this,arguments)}function _installSampleDataSet(){_installSampleDataSet=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id,sampleDataDefaultIndex){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_kfetch.kfetch)({method:"POST",pathname:"".concat(sampleDataUrl,"/").concat(id)});case 2:if(_chrome.default.getUiSettingsClient().isDefault("defaultIndex")){_chrome.default.getUiSettingsClient().set("defaultIndex",sampleDataDefaultIndex)}clearIndexPatternsCache();case 4:case"end":return _context2.stop()}}},_callee2)}));return _installSampleDataSet.apply(this,arguments)}function uninstallSampleDataSet(_x3,_x4){return _uninstallSampleDataSet.apply(this,arguments)}function _uninstallSampleDataSet(){_uninstallSampleDataSet=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id,sampleDataDefaultIndex){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_kfetch.kfetch)({method:"DELETE",pathname:"".concat(sampleDataUrl,"/").concat(id)});case 2:if(!_chrome.default.getUiSettingsClient().isDefault("defaultIndex")&&_chrome.default.getUiSettingsClient().get("defaultIndex")===sampleDataDefaultIndex){_chrome.default.getUiSettingsClient().set("defaultIndex",null)}clearIndexPatternsCache();case 4:case"end":return _context3.stop()}}},_callee3)}));return _uninstallSampleDataSet.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Tutorial=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _footer=__webpack_require__(1965);var _introduction=__webpack_require__(1966);var _instruction_set=__webpack_require__(1967);var _saved_objects_installer=__webpack_require__(1973);var _eui=__webpack_require__(3);var StatusCheckStates=_interopRequireWildcard(__webpack_require__(764));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var INSTRUCTIONS_TYPE={ELASTIC_CLOUD:"elasticCloud",ON_PREM:"onPrem",ON_PREM_ELASTIC_CLOUD:"onPremElasticCloud"};var homeTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.homeTitle",{defaultMessage:"Home"});var addDataTitle=_i18n.i18n.translate("kbn.home.breadcrumbs.addDataTitle",{defaultMessage:"Add data"});var TutorialUi=function(_React$Component){_inherits(TutorialUi,_React$Component);function TutorialUi(props){var _this;_classCallCheck(this,TutorialUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(TutorialUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"getInstructions",function(){if(!_this.state.tutorial){return{instructionSets:[]}}switch(_this.state.visibleInstructions){case INSTRUCTIONS_TYPE.ELASTIC_CLOUD:return _this.state.tutorial.elasticCloud;case INSTRUCTIONS_TYPE.ON_PREM:return _this.state.tutorial.onPrem;case INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD:return _this.state.tutorial.onPremElasticCloud;default:throw new Error(_this.props.intl.formatMessage({id:"kbn.home.tutorial.unhandledInstructionTypeErrorDescription",defaultMessage:"Unhandled instruction type {visibleInstructions}"},{visibleInstructions:_this.state.visibleInstructions}))}});_defineProperty(_assertThisInitialized(_this),"getInstructionSets",function(){return _this.getInstructions().instructionSets});_defineProperty(_assertThisInitialized(_this),"initInstructionsState",function(){var instructions=_this.getInstructions();var paramValues={};if(instructions.params){instructions.params.forEach(function(param){paramValues[param.id]=param.defaultValue})}var statusCheckStates=new Array(instructions.instructionSets.length).fill(StatusCheckStates.NOT_CHECKED);_this.setState({paramValues:paramValues,statusCheckStates:statusCheckStates})});_defineProperty(_assertThisInitialized(_this),"setVisibleInstructions",function(instructionsType){_this.setState({visibleInstructions:instructionsType},_this.initInstructionsState)});_defineProperty(_assertThisInitialized(_this),"setParameter",function(paramId,newValue){_this.setState(function(previousState){var paramValues=_lodash.default.cloneDeep(previousState.paramValues);paramValues[paramId]=newValue;return{paramValues:paramValues}})});_defineProperty(_assertThisInitialized(_this),"checkInstructionSetStatus",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(instructionSetIndex){var instructionSet,esHitsCheckConfig,statusCheckState;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:instructionSet=_this.getInstructionSets()[instructionSetIndex];esHitsCheckConfig=_lodash.default.get(instructionSet,"statusCheck.esHitsCheck");if(!esHitsCheckConfig){_context.next=7;break}_context.next=5;return _this.fetchEsHitsStatus(esHitsCheckConfig);case 5:statusCheckState=_context.sent;_this.setState(function(prevState){return{statusCheckStates:_objectSpread({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,statusCheckState))}});case 7:case"end":return _context.stop()}}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"fetchEsHitsStatus",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(esHitsCheckConfig){var searchHeader,searchBody,response,results,numHits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:searchHeader=JSON.stringify({index:esHitsCheckConfig.index});searchBody=JSON.stringify({query:esHitsCheckConfig.query,size:1});_context2.next=4;return fetch(_this.props.addBasePath("/elasticsearch/_msearch"),{method:"post",body:"".concat(searchHeader,"\n").concat(searchBody,"\n"),headers:{accept:"application/json","content-type":"application/x-ndjson","kbn-xsrf":"kibana"},credentials:"same-origin"});case 4:response=_context2.sent;if(!(response.status>300)){_context2.next=7;break}return _context2.abrupt("return",StatusCheckStates.ERROR);case 7:_context2.next=9;return response.json();case 9:results=_context2.sent;numHits=_lodash.default.get(results,"responses.[0].hits.hits.length",0);return _context2.abrupt("return",numHits===0?StatusCheckStates.NO_DATA:StatusCheckStates.HAS_DATA);case 12:case"end":return _context2.stop()}}},_callee2)}));return function(_x2){return _ref2.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"renderInstructionSetsToggle",function(){if(!_this.props.isCloudEnabled&&_this.state.tutorial.onPremElasticCloud){var selfManagedLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.selfManagedButtonLabel",defaultMessage:"Self managed"});var cloudLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.elasticCloudButtonLabel",defaultMessage:"Elastic Cloud"});var radioButtons=[{id:INSTRUCTIONS_TYPE.ON_PREM,label:selfManagedLabel},{id:INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD,label:cloudLabel}];return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonGroup,{options:radioButtons,idSelected:_this.state.visibleInstructions,onChange:_this.setVisibleInstructions,color:"primary"})))}});_defineProperty(_assertThisInitialized(_this),"onStatusCheck",function(instructionSetIndex){_this.setState(function(prevState){return{statusCheckStates:_objectSpread({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,StatusCheckStates.FETCHING))}},_this.checkInstructionSetStatus.bind(null,instructionSetIndex))});_defineProperty(_assertThisInitialized(_this),"renderInstructionSets",function(instructions){var offset=1;return instructions.instructionSets.map(function(instructionSet,index){var currentOffset=offset;offset+=instructionSet.instructionVariants[0].instructions.length;return _react.default.createElement(_instruction_set.InstructionSet,{title:instructionSet.title,instructionVariants:instructionSet.instructionVariants,statusCheckConfig:instructionSet.statusCheck,statusCheckState:_this.state.statusCheckStates[index],onStatusCheck:function onStatusCheck(){_this.onStatusCheck(index)},offset:currentOffset,params:instructions.params,paramValues:_this.state.paramValues,setParameter:_this.setParameter,replaceTemplateStrings:_this.props.replaceTemplateStrings,key:index})})});_defineProperty(_assertThisInitialized(_this),"renderSavedObjectsInstaller",function(){if(!_this.state.tutorial.savedObjects){return}return _react.default.createElement(_saved_objects_installer.SavedObjectsInstaller,{bulkCreate:_this.props.bulkCreate,savedObjects:_this.state.tutorial.savedObjects,installMsg:_this.state.tutorial.savedObjectsInstallMsg})});_defineProperty(_assertThisInitialized(_this),"renderFooter",function(){var label;var url;if(_lodash.default.has(_this.state,"tutorial.artifacts.application")){label=_this.state.tutorial.artifacts.application.label;url=_this.props.addBasePath(_this.state.tutorial.artifacts.application.path)}else if(_lodash.default.has(_this.state,"tutorial.artifacts.dashboards")){var overviewDashboard=_this.state.tutorial.artifacts.dashboards.find(function(dashboard){return dashboard.isOverview});if(overviewDashboard){label=overviewDashboard.linkLabel;url=_this.props.addBasePath("/app/kibana#/dashboard/".concat(overviewDashboard.id))}}if(url&&label){return _react.default.createElement(_footer.Footer,{label:label,url:url})}});_this.state={notFound:false,paramValues:{},statusCheckStates:[],tutorial:null};if(props.isCloudEnabled){_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ELASTIC_CLOUD}else{_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ON_PREM}return _this}_createClass(TutorialUi,[{key:"componentWillMount",value:function componentWillMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.getTutorial(this.props.tutorialId);case 2:tutorial=_context3.sent;if(this._isMounted){_context3.next=5;break}return _context3.abrupt("return");case 5:if(tutorial){this.setState({tutorial:tutorial},this.initInstructionsState)}else{this.setState({notFound:true})}_chrome.default.breadcrumbs.set([{text:homeTitle,href:"#/home"},{text:addDataTitle,href:"#/home/tutorial_directory"},{text:tutorial?tutorial.name:this.props.tutorialId}]);case 7:case"end":return _context3.stop()}}},_callee3,this)}));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var content;if(this.state.notFound){content=_react.default.createElement("div",{className:"homTutorial__notFoundPanel"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tutorial.noTutorialLabel",defaultMessage:"Unable to find tutorial {tutorialId}",values:{tutorialId:this.props.tutorialId}}))))}if(this.state.tutorial){var previewUrl;if(this.state.tutorial.previewImagePath){previewUrl=this.props.addBasePath(this.state.tutorial.previewImagePath)}var exportedFieldsUrl;if(_lodash.default.has(this.state,"tutorial.artifacts.exportedFields")){exportedFieldsUrl=this.props.replaceTemplateStrings(this.state.tutorial.artifacts.exportedFields.documentationUrl)}var instructions=this.getInstructions();content=_react.default.createElement("div",null,_react.default.createElement(_introduction.Introduction,{title:this.state.tutorial.name,description:this.props.replaceTemplateStrings(this.state.tutorial.longDescription),previewUrl:previewUrl,exportedFieldsUrl:exportedFieldsUrl,iconType:this.state.tutorial.euiIconType,isBeta:this.state.tutorial.isBeta}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement("div",{className:"eui-textCenter"},this.renderInstructionSetsToggle()),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderInstructionSets(instructions),this.renderSavedObjectsInstaller(),this.renderFooter()))}return _react.default.createElement(_eui.EuiPage,{restrictWidth:1200},_react.default.createElement(_eui.EuiPageBody,null,content))}}]);return TutorialUi}(_react.default.Component);TutorialUi.propTypes={addBasePath:_propTypes.default.func.isRequired,isCloudEnabled:_propTypes.default.bool.isRequired,getTutorial:_propTypes.default.func.isRequired,replaceTemplateStrings:_propTypes.default.func.isRequired,tutorialId:_propTypes.default.string.isRequired,bulkCreate:_propTypes.default.func.isRequired};var Tutorial=(0,_react2.injectI18n)(TutorialUi);exports.Tutorial=Tutorial},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Footer=Footer;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Footer(_ref){var url=_ref.url,label=_ref.label;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.exploreYourDataDescription",defaultMessage:"When all steps are complete, you're ready to explore your data."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,href:url},label))))}Footer.propTypes={url:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Introduction=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _content=__webpack_require__(464);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IntroductionUI(_ref){var description=_ref.description,previewUrl=_ref.previewUrl,title=_ref.title,exportedFieldsUrl=_ref.exportedFieldsUrl,iconType=_ref.iconType,isBeta=_ref.isBeta,intl=_ref.intl;var img;if(previewUrl){img=_react.default.createElement(_eui.EuiImage,{size:"l",hasShadow:true,allowFullScreen:true,fullScreenIconColor:"dark",alt:intl.formatMessage({id:"kbn.home.tutorial.introduction.imageAltDescription",defaultMessage:"screenshot of primary dashboard."}),url:previewUrl})}var exportedFields;if(exportedFieldsUrl){exportedFields=_react.default.createElement("div",null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiButton,{href:exportedFieldsUrl,target:"_blank",rel:"noopener noreferrer"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tutorial.introduction.viewButtonLabel",defaultMessage:"View exported fields"})))}var icon;if(iconType){icon=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl"}))}var betaBadge;if(isBeta){betaBadge=_react.default.createElement(_eui.EuiBetaBadge,{label:intl.formatMessage({id:"kbn.home.tutorial.introduction.betaLabel",defaultMessage:"Beta"})})}return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},icon,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,title," ",betaBadge)))),_react.default.createElement(_content.Content,{text:description}),exportedFields),_react.default.createElement(_eui.EuiFlexItem,{grow:false},img))}IntroductionUI.propTypes={description:_propTypes.default.string.isRequired,title:_propTypes.default.string.isRequired,previewUrl:_propTypes.default.string,exportedFieldsUrl:_propTypes.default.string,iconType:_propTypes.default.string,isBeta:_propTypes.default.bool};IntroductionUI.defaultProps={isBeta:false};var Introduction=(0,_react2.injectI18n)(IntroductionUI);exports.Introduction=Introduction},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstructionSet=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _instruction=__webpack_require__(1968);var _parameter_form=__webpack_require__(1969);var _content=__webpack_require__(464);var _instruction_variant=__webpack_require__(1972);var _eui=__webpack_require__(3);var StatusCheckStates=_interopRequireWildcard(__webpack_require__(764));var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var InstructionSetUi=function(_React$Component){_inherits(InstructionSetUi,_React$Component);function InstructionSetUi(props){var _this;_classCallCheck(this,InstructionSetUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(InstructionSetUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"handleToggleVisibility",function(){_this.setState(function(prevState){return{isParamFormVisible:!prevState.isParamFormVisible}})});_defineProperty(_assertThisInitialized(_this),"onSelectedTabChanged",function(id){_this.setState({selectedTabId:id})});_defineProperty(_assertThisInitialized(_this),"renderTabs",function(){return _this.tabs.map(function(tab,index){return _react.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})});_defineProperty(_assertThisInitialized(_this),"renderInstructions",function(){var instructionVariant=_this.props.instructionVariants.find(function(variant){return variant.id===_this.state.selectedTabId});if(!instructionVariant){return}var steps=instructionVariant.instructions.map(function(instruction,index){var step=_react.default.createElement(_instruction.Instruction,{commands:instruction.commands,paramValues:_this.props.paramValues,textPre:instruction.textPre,textPost:instruction.textPost,replaceTemplateStrings:_this.props.replaceTemplateStrings});return{title:instruction.title,children:step,key:index}});if(_this.props.statusCheckConfig){steps.push(_this.renderStatusCheck())}return _react.default.createElement(_eui.EuiSteps,{steps:steps,firstStepNumber:_this.props.offset})});_defineProperty(_assertThisInitialized(_this),"renderHeader",function(){var paramsVisibilityToggle;if(_this.props.params){var ariaLabel=_this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.toggleAriaLabel",defaultMessage:"toggle command parameters visibility"});paramsVisibilityToggle=_react.default.createElement(_eui.EuiButtonEmpty,{iconType:_this.state.isParamFormVisible?"arrowDown":"arrowRight","aria-label":ariaLabel,onClick:_this.handleToggleVisibility},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tutorial.instructionSet.customizeLabel",defaultMessage:"Customize your code snippets"}))}return _react.default.createElement(_eui.EuiFlexGroup,{responsive:false,wrap:true,justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_this.props.title))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},paramsVisibilityToggle))});_this.tabs=props.instructionVariants.map(function(variant){return{id:variant.id,name:(0,_instruction_variant.getDisplayText)(variant.id)}});_this.state={isParamFormVisible:false};if(_this.tabs.length>0){_this.state.selectedTabId=_this.tabs[0].id}return _this}_createClass(InstructionSetUi,[{key:"renderStatusCheckMessage",value:function renderStatusCheckMessage(){var message;var color;switch(this.props.statusCheckState){case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return null;case StatusCheckStates.HAS_DATA:message=this.props.statusCheckConfig.success?this.props.statusCheckConfig.success:this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.successLabel",defaultMessage:"Success"});color="success";break;case StatusCheckStates.ERROR:case StatusCheckStates.NO_DATA:message=this.props.statusCheckConfig.error?this.props.statusCheckConfig.error:this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.noDataLabel",defaultMessage:"No data found"});color="warning";break}return _react.default.createElement(_eui.EuiCallOut,{title:message,color:color})}},{key:"getStepStatus",value:function getStepStatus(statusCheckState){switch(statusCheckState){case undefined:case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return"incomplete";case StatusCheckStates.HAS_DATA:return"complete";case StatusCheckStates.NO_DATA:return"warning";case StatusCheckStates.ERROR:return"danger";default:throw new Error(this.props.intl.formatMessage({id:"kbn.home.tutorial.unexpectedStatusCheckStateErrorDescription",defaultMessage:"Unexpected status check state {statusCheckState}"},{statusCheckState:statusCheckState}))}}},{key:"renderStatusCheck",value:function renderStatusCheck(){var _this$props=this.props,statusCheckState=_this$props.statusCheckState,statusCheckConfig=_this$props.statusCheckConfig,onStatusCheck=_this$props.onStatusCheck;var checkStatusStep=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_content.Content,{text:statusCheckConfig.text})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{onClick:onStatusCheck,isLoading:statusCheckState===StatusCheckStates.FETCHING},statusCheckConfig.btnLabel||_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tutorial.instructionSet.checkStatusButtonLabel",defaultMessage:"Check status"})))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderStatusCheckMessage());return{title:statusCheckConfig.title||this.props.intl.formatMessage({id:"kbn.home.tutorial.instructionSet.statusCheckTitle",defaultMessage:"Status Check"}),status:this.getStepStatus(statusCheckState),children:checkStatusStep,key:"checkStatusStep"}}},{key:"render",value:function render(){var paramsForm;if(this.props.params&&this.state.isParamFormVisible){paramsForm=_react.default.createElement(_parameter_form.ParameterForm,{params:this.props.params,paramValues:this.props.paramValues,setParameter:this.props.setParameter})}return _react.default.createElement("div",null,this.renderHeader(),paramsForm,_react.default.createElement(_eui.EuiTabs,null,this.renderTabs()),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderInstructions())}}]);return InstructionSetUi}(_react.default.Component);var instructionShape=_propTypes.default.shape({title:_propTypes.default.string,textPre:_propTypes.default.string,commands:_propTypes.default.arrayOf(_propTypes.default.string),textPost:_propTypes.default.string});var instructionVariantShape=_propTypes.default.shape({id:_propTypes.default.string.isRequired,instructions:_propTypes.default.arrayOf(instructionShape).isRequired});var statusCheckConfigShape=_propTypes.default.shape({success:_propTypes.default.string,error:_propTypes.default.string,title:_propTypes.default.string,text:_propTypes.default.string,btnLabel:_propTypes.default.string});InstructionSetUi.propTypes={title:_propTypes.default.string.isRequired,instructionVariants:_propTypes.default.arrayOf(instructionVariantShape).isRequired,statusCheckConfig:statusCheckConfigShape,statusCheckState:_propTypes.default.oneOf([StatusCheckStates.FETCHING,StatusCheckStates.NOT_CHECKED,StatusCheckStates.HAS_DATA,StatusCheckStates.NO_DATA,StatusCheckStates.ERROR]),onStatusCheck:_propTypes.default.func.isRequired,offset:_propTypes.default.number.isRequired,params:_propTypes.default.array,paramValues:_propTypes.default.object.isRequired,setParameter:_propTypes.default.func,replaceTemplateStrings:_propTypes.default.func.isRequired};var InstructionSet=(0,_react2.injectI18n)(InstructionSetUi);exports.InstructionSet=InstructionSet},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Instruction=Instruction;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _content=__webpack_require__(464);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Instruction(_ref){var commands=_ref.commands,paramValues=_ref.paramValues,textPost=_ref.textPost,textPre=_ref.textPre,replaceTemplateStrings=_ref.replaceTemplateStrings;var pre;if(textPre){pre=_react.default.createElement(_content.Content,{text:replaceTemplateStrings(textPre)})}var post;if(textPost){post=_react.default.createElement("div",null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_content.Content,{text:replaceTemplateStrings(textPost)}))}var copyButton;var commandBlock;if(commands){var cmdText=commands.map(function(cmd){return replaceTemplateStrings(cmd,paramValues)}).join("\n");copyButton=_react.default.createElement(_eui.EuiCopy,{textToCopy:cmdText},function(copy){return _react.default.createElement(_eui.EuiButton,{size:"s",onClick:copy},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.home.tutorial.instruction.copyButtonLabel",defaultMessage:"Copy snippet"}))});commandBlock=_react.default.createElement("div",null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiCodeBlock,{language:"sh"},cmdText))}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},pre),_react.default.createElement(_eui.EuiFlexItem,{className:"homTutorial__instruction",grow:false},copyButton)),commandBlock,post,_react.default.createElement(_eui.EuiSpacer,null))}Instruction.propTypes={commands:_propTypes.default.array,paramValues:_propTypes.default.object.isRequired,textPost:_propTypes.default.string,textPre:_propTypes.default.string,replaceTemplateStrings:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ParameterForm=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _number_parameter=__webpack_require__(1970);var _string_parameter=__webpack_require__(1971);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ParameterForm=function(_React$Component){_inherits(ParameterForm,_React$Component);function ParameterForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,ParameterForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ParameterForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"renderInputs",function(){return _this.props.params.map(function(param){switch(param.type){case"number":return _react.default.createElement(_number_parameter.NumberParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});case"string":return _react.default.createElement(_string_parameter.StringParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});default:throw new Error("Unhandled parameter type ".concat(param.type))}})});return _this}_createClass(ParameterForm,[{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPanel,null,this.renderInputs())}}]);return ParameterForm}(_react.default.Component);exports.ParameterForm=ParameterForm;var paramsShape=_propTypes.default.shape({id:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired,type:_propTypes.default.string.isRequired});ParameterForm.propTypes={params:_propTypes.default.arrayOf(paramsShape).isRequired,paramValues:_propTypes.default.object.isRequired,setParameter:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberParameter=NumberParameter;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NumberParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,parseFloat(evt.target.value))};return _react.default.createElement("div",{className:"visEditorSidebar__formRow"},_react.default.createElement("label",{className:"visEditorSidebar__formLabel",htmlFor:id},label),_react.default.createElement("div",{className:"visEditorSidebar__formControl kuiFieldGroupSection--wide"},_react.default.createElement("input",{className:"kuiTextInput",type:"number",value:value,onChange:handleChange,id:id})))}NumberParameter.propTypes={id:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired,value:_propTypes.default.number.isRequired,setParameter:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringParameter=StringParameter;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StringParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,evt.target.value)};return _react.default.createElement("div",{className:"visEditorSidebar__formRow"},_react.default.createElement("label",{className:"visEditorSidebar__formLabel"},label),_react.default.createElement("div",{className:"visEditorSidebar__formControl kuiFieldGroupSection--wide"},_react.default.createElement("input",{className:"kuiTextInput",type:"text",value:value,onChange:handleChange})))}StringParameter.propTypes={id:_propTypes.default.string.isRequired,label:_propTypes.default.string.isRequired,value:_propTypes.default.string.isRequired,setParameter:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";var _DISPLAY_MAP;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getDisplayText=getDisplayText;exports.INSTRUCTION_VARIANT=void 0;var INSTRUCTION_VARIANT={ESC:"esc",OSX:"osx",DEB:"deb",RPM:"rpm",DOCKER:"docker",WINDOWS:"windows",NODE:"node",DJANGO:"django",FLASK:"flask",RAILS:"rails",RACK:"rack",JS:"js",GO:"go",JAVA:"java",DOTNET:"dotnet",LINUX:"linux"};exports.INSTRUCTION_VARIANT=INSTRUCTION_VARIANT;var DISPLAY_MAP=(_DISPLAY_MAP={},_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.ESC,"Elastic Cloud"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.OSX,"macOS"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DEB,"DEB"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RPM,"RPM"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOCKER,"Docker"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.WINDOWS,"Windows"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.NODE,"Node.js"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DJANGO,"Django"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.FLASK,"Flask"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RAILS,"Ruby on Rails"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RACK,"Rack"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JS,"RUM (JS)"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.GO,"Go"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JAVA,"Java"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOTNET,".NET"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.LINUX,"Linux"),_DISPLAY_MAP);function getDisplayText(id){if(id in DISPLAY_MAP){return DISPLAY_MAP[id]}return id}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsInstaller=void 0;var _react=__webpack_require__(5);var _react2=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsInstallerUi=function(_React$Component){_inherits(SavedObjectsInstallerUi,_React$Component);function SavedObjectsInstallerUi(){var _getPrototypeOf2;var _this;_classCallCheck(this,SavedObjectsInstallerUi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SavedObjectsInstallerUi)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"DEFAULT_BUTTON_LABEL",_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.defaultButtonLabel",defaultMessage:"Load Kibana objects"}));_defineProperty(_assertThisInitialized(_this),"state",{isInstalling:false,isInstalled:false,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});_defineProperty(_assertThisInitialized(_this),"installSavedObjects",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp,errors,overwriteErrors,hasErrors,statusMsg;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isInstalling:true});_context.prev=1;_context.next=4;return _this.props.bulkCreate(_this.props.savedObjects,{overwrite:_this.state.overwrite});case 4:resp=_context.sent;_context.next=13;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);if(_this._isMounted){_context.next=11;break}return _context.abrupt("return");case 11:_this.setState({isInstalling:false,installStatusMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.requestFailedErrorMessage",defaultMessage:"Request failed, Error: {message}"},{message:_context.t0.message}),isInstalled:false,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});return _context.abrupt("return");case 13:if(_this._isMounted){_context.next=15;break}return _context.abrupt("return");case 15:errors=resp.savedObjects.filter(function(savedObject){return Boolean(savedObject.error)});overwriteErrors=errors.filter(function(savedObject){return savedObject.error.statusCode===409});if(!(overwriteErrors.length>0)){_context.next=20;break}_this.setState({isInstalling:false,installStatusMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.installStatusLabel",defaultMessage:"{overwriteErrorsLength} of {savedObjectsLength} objects already exist. Click 'Confirm overwrite' to import and overwrite existing objects. Any changes to the objects will be lost."},{overwriteErrorsLength:overwriteErrors.length,savedObjectsLength:_this.props.savedObjects.length}),isInstalled:false,overwrite:true,buttonLabel:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.confirmButtonLabel",defaultMessage:"Confirm overwrite"})});return _context.abrupt("return");case 20:hasErrors=errors.length>0;statusMsg=hasErrors?_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.unableToAddErrorMessage",defaultMessage:"Unable to add {errorsLength} of {savedObjectsLength} kibana objects, Error: {errorMessage}"},{errorsLength:errors.length,savedObjectsLength:_this.props.savedObjects.length,errorMessage:errors[0].error.message}):_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.addedLabel",defaultMessage:"{savedObjectsLength} saved objects successfully added"},{savedObjectsLength:_this.props.savedObjects.length});_this.setState({isInstalling:false,installStatusMsg:statusMsg,isInstalled:!hasErrors,overwrite:false,buttonLabel:_this.DEFAULT_BUTTON_LABEL});case 23:case"end":return _context.stop()}}},_callee,null,[[1,7]])})));_defineProperty(_assertThisInitialized(_this),"renderInstallStep",function(){var installMsg=_this.props.installMsg?_this.props.installMsg:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.installLabel",defaultMessage:"Imports index pattern, visualizations and pre-defined dashboards."});var installStep=_react2.default.createElement(_react2.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,installMsg))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:_this.installSavedObjects,isLoading:_this.state.isInstalling,"data-test-subj":"loadSavedObjects"},_this.state.buttonLabel))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_this.renderInstallMessage());return{title:_this.props.intl.formatMessage({id:"kbn.home.tutorial.savedObject.loadTitle",defaultMessage:"Load Kibana objects"}),status:_this.state.isInstalled?"complete":"incomplete",children:installStep,key:"installStep"}});return _this}_createClass(SavedObjectsInstallerUi,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"renderInstallMessage",value:function renderInstallMessage(){if(!this.state.installStatusMsg){return}return _react2.default.createElement(_eui.EuiCallOut,{title:this.state.installStatusMsg,color:this.state.isInstalled?"success":"warning","data-test-subj":this.state.isInstalled?"loadSavedObjects_success":"loadSavedObjects_failed"})}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiSteps,{steps:[this.renderInstallStep()]})}}]);return SavedObjectsInstallerUi}(_react2.default.Component);var savedObjectShape=_propTypes.default.shape({id:_propTypes.default.string.isRequired,type:_propTypes.default.string.isRequired,attributes:_propTypes.default.object.isRequired});SavedObjectsInstallerUi.propTypes={bulkCreate:_propTypes.default.func.isRequired,savedObjects:_propTypes.default.arrayOf(savedObjectShape).isRequired,installMsg:_propTypes.default.string};var SavedObjectsInstaller=(0,_react.injectI18n)(SavedObjectsInstallerUi);exports.SavedObjectsInstaller=SavedObjectsInstaller},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceTemplateStrings=replaceTemplateStrings;var _mustache=__webpack_require__(2170);var _chrome=_interopRequireDefault(__webpack_require__(7));var _metadata=__webpack_require__(513);var _documentation_links=__webpack_require__(116);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TEMPLATE_TAGS=["{","}"];var mustacheWriter=new _mustache.Writer;mustacheWriter.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null){return value}};function replaceTemplateStrings(text){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var variables={curlyOpen:"{",curlyClose:"}",config:{cloud:{id:_chrome.default.getInjected("cloudId")},docs:{base_url:_documentation_links.ELASTIC_WEBSITE_URL,beats:{filebeat:_documentation_links.documentationLinks.filebeat.base,metricbeat:_documentation_links.documentationLinks.metricbeat.base,heartbeat:_documentation_links.documentationLinks.heartbeat.base,functionbeat:_documentation_links.documentationLinks.functionbeat.base,winlogbeat:_documentation_links.documentationLinks.winlogbeat.base,auditbeat:_documentation_links.documentationLinks.auditbeat.base},logstash:_documentation_links.documentationLinks.logstash.base,version:_documentation_links.DOC_LINK_VERSION},kibana:{version:_metadata.metadata.version}},params:params};mustacheWriter.parse(text,TEMPLATE_TAGS);return mustacheWriter.render(text,variables)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(725)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(718);var _i18n=__webpack_require__(2);__webpack_require__(1978);__webpack_require__(765);__webpack_require__(1984);__webpack_require__(1993);__webpack_require__(745);var _feature_catalogue=__webpack_require__(47);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"discover",title:_i18n.i18n.translate("kbn.discover.discoverTitle",{defaultMessage:"Discover"}),description:_i18n.i18n.translate("kbn.discover.discoverDescription",{defaultMessage:"Interactively explore your data by querying and filtering raw documents."}),icon:"discoverApp",path:"/app/kibana#/discover",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(81);var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _no_results=__webpack_require__(1979);var _uninitialized=__webpack_require__(1980);var _unsupported_index_pattern=__webpack_require__(1981);__webpack_require__(1982);var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverNoResults",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_no_results.DiscoverNoResults))});app.directive("discoverUninitialized",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_uninitialized.DiscoverUninitialized))});app.directive("discoverUnsupportedIndexPattern",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_unsupported_index_pattern.DiscoverUnsupportedIndexPattern),["unsupportedType"])})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverNoResults=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DiscoverNoResults=function(_Component){_inherits(DiscoverNoResults,_Component);function DiscoverNoResults(){_classCallCheck(this,DiscoverNoResults);return _possibleConstructorReturn(this,_getPrototypeOf(DiscoverNoResults).apply(this,arguments))}_createClass(DiscoverNoResults,[{key:"render",value:function render(){var _this$props=this.props,shardFailures=_this$props.shardFailures,timeFieldName=_this$props.timeFieldName,queryLanguage=_this$props.queryLanguage,getDocLink=_this$props.getDocLink;var shardFailuresMessage;if(shardFailures&&shardFailures.length){var failures=shardFailures.map(function(failure,index){return _react.default.createElement("div",{key:"".concat(failure.index).concat(failure.shard).concat(failure.reason)},_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.indexFailureShardText",defaultMessage:"{index}, shard {failureShard}",values:{index:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.indexFailureIndexText",defaultMessage:"Index {failureIndex}",values:{failureIndex:"&lsquo;".concat(failure.index,"&rsquo;")}})),failureShard:"&lsquo;".concat(failure.shard,"&rsquo;")}})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},JSON.stringify(failure.reason)),index<shardFailures.length-1?_react.default.createElement(_eui.EuiSpacer,{size:"l"}):undefined)});shardFailuresMessage=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.addressShardFailuresTitle",defaultMessage:"Address shard failures"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.shardFailuresDescription",defaultMessage:"The following shard failures occurred:"})),failures))}var timeFieldMessage;if(timeFieldName){timeFieldMessage=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",{"data-test-subj":"discoverNoResultsTimefilter"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.expandYourTimeRangeTitle",defaultMessage:"Expand your time range"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.queryMayNotMatchTitle",defaultMessage:"One or more of the indices youre looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try changing the time range to one which contains data."}))))}var luceneQueryMessage;if(queryLanguage==="lucene"){var searchExamples=[{description:_react.default.createElement(_eui.EuiCode,null,"200"),title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.anyField200StatusCodeExampleTitle",defaultMessage:"Find requests that contain the number 200, in any field"})))},{description:_react.default.createElement(_eui.EuiCode,null,"status:200"),title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.statusField200StatusCodeExampleTitle",defaultMessage:"Find 200 in the status field"})))},{description:_react.default.createElement(_eui.EuiCode,null,"status:[400 TO 499]"),title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.400to499StatusCodeExampleTitle",defaultMessage:"Find all status codes between 400-499"})))},{description:_react.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND extension:PHP"),title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.400to499StatusCodeWithPhpExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php"})))},{description:_react.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:_react.default.createElement(_eui.EuiText,null,_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.400to499StatusCodeWithPhpOrHtmlExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php or html"})))}];luceneQueryMessage=_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.refineYourQueryTitle",defaultMessage:"Refine your query"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.howTosearchForWebServerLogsDescription",defaultMessage:"The search bar at the top uses Elasticsearchs support for Lucene {queryStringSyntaxLink}. Here are some examples of how you can search for web server logs that have been parsed into a few fields.",values:{queryStringSyntaxLink:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:getDocLink("query.luceneQuerySyntax")},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.queryStringSyntaxLinkText",defaultMessage:"Query String syntax"}))}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column",listItems:searchExamples}),_react.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"dscNoResults"},_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.searchExamples.noResultsMatchSearchCriteriaTitle",defaultMessage:"No results match your search criteria"}),color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),shardFailuresMessage,timeFieldMessage,luceneQueryMessage)))}}]);return DiscoverNoResults}(_react.Component);exports.DiscoverNoResults=DiscoverNoResults;_defineProperty(DiscoverNoResults,"propTypes",{shardFailures:_propTypes.default.array,timeFieldName:_propTypes.default.string,queryLanguage:_propTypes.default.string,getDocLink:_propTypes.default.func.isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverUninitialized=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DiscoverUninitialized=function DiscoverUninitialized(_ref){var onRefresh=_ref.onRefresh;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"discoverApp",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.uninitializedTitle",defaultMessage:"Start searching"})),body:_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.uninitializedText",defaultMessage:"Write a query, add some filters, or simply hit Refresh to retrieve results for the current query."})),actions:_react.default.createElement(_eui.EuiButton,{color:"primary",fill:true,onClick:onRefresh},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.uninitializedRefreshButtonText",defaultMessage:"Refresh data"}))}))))};exports.DiscoverUninitialized=DiscoverUninitialized},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverUnsupportedIndexPattern=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var DiscoverUnsupportedIndexPattern=function DiscoverUnsupportedIndexPattern(_ref){var unsupportedType=_ref.unsupportedType;var message=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.noResults.requiredPluginIsNotInstalledOrDisabledTitle",defaultMessage:"Index patterns based on {unsupportedType} indices require the {unsupportedType} plugin from X-Pack, which is not installed or disabled",values:{unsupportedType:unsupportedType}});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"dscNoResults"},_react.default.createElement(_eui.EuiCallOut,{title:message,color:"danger",iconType:"alert"}))))};exports.DiscoverUnsupportedIndexPattern=DiscoverUnsupportedIndexPattern},function(module,exports,__webpack_require__){"use strict";var _vislib=_interopRequireDefault(__webpack_require__(423));var _modules=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/discover").directive("discoverTimechart",function(Private){var vislib=Private(_vislib.default);return{restrict:"E",scope:{data:"="},link:function link($scope,elem){var init=function init(){var myChart=new vislib.Chart(elem[0],{addLegend:false});$scope.$watch("data",function(data){if(data!=null){myChart.render(data)}})};init()}}})},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _jquery=_interopRequireDefault(__webpack_require__(12));var _modules=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("collapsibleSidebar",function(){var listOfWidthClasses=_lodash.default.times(11,function(i){return"col-md-"+i});return{restrict:"C",link:function link($scope,$elem){var isCollapsed=false;var $collapser=(0,_jquery.default)('<button\n          data-test-subj="collapseSideBarButton"\n          type="button"\n          aria-expanded="true"\n          aria-label="Toggle sidebar"\n          class="kuiCollapseButton kbnCollapsibleSidebar__collapseButton"\n        ></button>');if($elem.attr("id")){$collapser.attr("aria-controls",$elem.attr("id"))}var $icon=(0,_jquery.default)('<span class="kuiIcon fa-chevron-circle-left"></span>');$collapser.append($icon);var $siblings=$elem.siblings();var siblingsClass=listOfWidthClasses.reduce(function(prev,className){if(prev)return prev;return $siblings.hasClass(className)&&className},false);var hasSingleSibling=$siblings.length===1&&siblingsClass;$collapser.on("click",function(){if(isCollapsed){isCollapsed=false;$elem.removeClass("closed");$icon.addClass("fa-chevron-circle-left");$icon.removeClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","true")}else{isCollapsed=true;$elem.addClass("closed");$icon.removeClass("fa-chevron-circle-left");$icon.addClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","false")}if(hasSingleSibling){$siblings.toggleClass(siblingsClass+" col-md-12")}if($scope.toggleSidebar)$scope.toggleSidebar()});$collapser.appendTo($elem)}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(447);var _i18n=__webpack_require__(2);__webpack_require__(766);__webpack_require__(1985);__webpack_require__(1989);var _lodash=_interopRequireDefault(__webpack_require__(1));var _jquery=_interopRequireDefault(__webpack_require__(12));var _risonNode=_interopRequireDefault(__webpack_require__(67));var _field_calculator=__webpack_require__(1991);var _index_patterns=__webpack_require__(77);var _modules=__webpack_require__(6);var _field_chooser=_interopRequireDefault(__webpack_require__(1992));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var app=_modules.uiModules.get("apps/discover");app.directive("discFieldChooser",function($location,config,$route){return{restrict:"E",scope:{columns:"=",hits:"=",fieldCounts:"=",state:"=",indexPattern:"=",indexPatternList:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"="},template:_field_chooser.default,link:function link($scope){$scope.$parent.$watch("showFilter",function(){$scope.toggleFieldFilterButtonAriaLabel=$scope.$parent.showFilter?_i18n.i18n.translate("kbn.discover.fieldChooser.toggleFieldFilterButtonHideAriaLabel",{defaultMessage:"Hide field settings"}):_i18n.i18n.translate("kbn.discover.fieldChooser.toggleFieldFilterButtonShowAriaLabel",{defaultMessage:"Show field settings"})});$scope.selectedIndexPattern=$scope.indexPatternList.find(function(pattern){return pattern.id===$scope.indexPattern.id});$scope.indexPatternList=_lodash.default.sortBy($scope.indexPatternList,function(o){return o.get("title")});$scope.setIndexPattern=function(pattern){$scope.state.index=pattern.id;$scope.state.save()};$scope.$watch("state.index",function(id,previousId){if(previousId==null||previousId===id)return;$route.reload()});var filter=$scope.filter={props:["type","aggregatable","searchable","missing","name"],defaults:{missing:true,type:"any"},boolOpts:[{label:"any",value:undefined},{label:"yes",value:true},{label:"no",value:false}],toggleVal:function toggleVal(name,def){if(filter.vals[name]!==def)filter.vals[name]=def;else filter.vals[name]=undefined},reset:function reset(){filter.vals=_lodash.default.clone(filter.defaults)},isFieldSelected:function isFieldSelected(field){return field.display},isFieldFiltered:function isFieldFiltered(field){var matchFilter=filter.vals.type==="any"||field.type===filter.vals.type;var isAggregatable=filter.vals.aggregatable==null||field.aggregatable===filter.vals.aggregatable;var isSearchable=filter.vals.searchable==null||field.searchable===filter.vals.searchable;var scriptedOrMissing=!filter.vals.missing||field.scripted||field.rowCount>0;var matchName=!filter.vals.name||field.name.indexOf(filter.vals.name)!==-1;return!field.display&&matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName},popularity:function popularity(field){return field.count>0},getActive:function getActive(){return _lodash.default.some(filter.props,function(prop){return filter.vals[prop]!==filter.defaults[prop]})}};filter.reset();$scope.$watchCollection("filter.vals",function(){filter.active=filter.getActive()});$scope.$watchMulti(["[]fieldCounts","[]columns","[]hits"],function(cur,prev){var newHits=cur[2]!==prev[2];var fields=$scope.fields;var columns=$scope.columns||[];var fieldCounts=$scope.fieldCounts;if(!fields||newHits){$scope.fields=fields=getFields()}if(!fields)return;_lodash.default.chain(fields).each(function(field){field.displayOrder=_lodash.default.indexOf(columns,field.name)+1;field.display=!!field.displayOrder;field.rowCount=fieldCounts[field.name]}).sortBy(function(field){return(field.count||0)*-1}).groupBy(function(field){if(field.display)return"selected";return field.count>0?"popular":"unpopular"}).tap(function(groups){groups.selected=_lodash.default.sortBy(groups.selected||[],"displayOrder");groups.popular=groups.popular||[];groups.unpopular=groups.unpopular||[];var extras=groups.popular.splice(config.get("fields:popularLimit"));groups.unpopular=extras.concat(groups.unpopular)}).each(function(group,name){$scope[name+"Fields"]=_lodash.default.sortBy(group,name==="selected"?"display":"name")}).commit();$scope.fieldTypes=_lodash.default.union(["any"],_lodash.default.pluck(fields,"type"))});$scope.increaseFieldCounter=function(fieldName){$scope.indexPattern.popularizeField(fieldName,1)};function getVisualizeUrl(field){if(!$scope.state){return""}var agg={};var isGeoPoint=field.type==="geo_point";var type=isGeoPoint?"tile_map":"histogram";if(field.type==="date"&&$scope.indexPattern.timeFieldName===field.name){agg={type:"date_histogram",schema:"segment",params:{field:field.name,interval:"auto"}}}else if(isGeoPoint){agg={type:"geohash_grid",schema:"segment",params:{field:field.name,precision:3}}}else{agg={type:"terms",schema:"segment",params:{field:field.name,size:parseInt(config.get("discover:aggs:terms:size"),10),orderBy:"2"}}}return"#/visualize/create?"+_jquery.default.param(_lodash.default.assign(_lodash.default.clone($location.search()),{indexPattern:$scope.state.index,type:type,_a:_risonNode.default.encode({filters:$scope.state.filters||[],query:$scope.state.query||undefined,vis:{type:type,aggs:[{schema:"metric",type:"count",id:"2"},agg]}})}))}$scope.computeDetails=function(field,recompute){if(_lodash.default.isUndefined(field.details)||recompute){field.details=_objectSpread({visualizeUrl:field.visualizable?getVisualizeUrl(field):null},_field_calculator.fieldCalculator.getFieldValueCounts({hits:$scope.hits,field:field,count:5,grouped:false}));_lodash.default.each(field.details.buckets,function(bucket){bucket.display=field.format.convert(bucket.value)});$scope.increaseFieldCounter(field,1)}else{delete field.details}};function getFields(){var prevFields=$scope.fields;var indexPattern=$scope.indexPattern;var hits=$scope.hits;var fieldCounts=$scope.fieldCounts;if(!indexPattern||!hits||!fieldCounts)return;var fieldSpecs=indexPattern.fields.slice(0);var fieldNamesInDocs=_lodash.default.keys(fieldCounts);var fieldNamesInIndexPattern=_lodash.default.keys(indexPattern.fields.byName);_lodash.default.difference(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(function(unknownFieldName){fieldSpecs.push({name:unknownFieldName,type:"unknown"})});var fields=new _index_patterns.FieldList(indexPattern,fieldSpecs);if(prevFields){fields.forEach(function(field){field.details=_lodash.default.get(prevFields,["byName",field.name,"details"])})}return fields}}}})},function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(12));var _i18n=__webpack_require__(2);var _discover_field=_interopRequireDefault(__webpack_require__(1986));var _lodash=_interopRequireDefault(__webpack_require__(1));__webpack_require__(447);__webpack_require__(766);__webpack_require__(1987);var _string=_interopRequireDefault(__webpack_require__(1988));var _capabilities=__webpack_require__(37);var _modules=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discoverField",function($compile){return{restrict:"E",template:_discover_field.default,replace:true,scope:{field:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"=",onShowDetails:"="},link:function link($scope,$elem){var detailsElem;var detailScope;var init=function init(){if($scope.field.details){$scope.toggleDetails($scope.field,true)}$scope.addRemoveButtonLabel=$scope.field.display?_i18n.i18n.translate("kbn.discover.fieldChooser.discoverField.removeButtonLabel",{defaultMessage:"remove"}):_i18n.i18n.translate("kbn.discover.fieldChooser.discoverField.addButtonLabel",{defaultMessage:"add"})};var getWarnings=function getWarnings(field){var warnings=[];if(field.scripted){warnings.push(_i18n.i18n.translate("kbn.discover.fieldChooser.discoverField.scriptedFieldsTakeLongExecuteDescription",{defaultMessage:"Scripted fields can take a long time to execute."}))}if(warnings.length>1){warnings=warnings.map(function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning})}return warnings};$scope.canVisualize=_capabilities.capabilities.get().visualize.show;$scope.toggleDisplay=function(field){if(field.display){$scope.onRemoveField(field.name)}else{$scope.onAddField(field.name)}if(field.details){$scope.toggleDetails(field)}};$scope.onClickToggleDetails=function onClickToggleDetails($event,field){if($event.currentTarget!==$event.target){$event.preventDefault()}$scope.toggleDetails(field)};$scope.toggleDetails=function(field,recompute){if(_lodash.default.isUndefined(field.details)||recompute){$scope.onShowDetails(field,recompute);detailScope=$scope.$new();detailScope.warnings=getWarnings(field);detailScope.getBucketAriaLabel=function(bucket){return _i18n.i18n.translate("kbn.discover.fieldChooser.discoverField.bucketAriaLabel",{defaultMessage:"Value: {value}",values:{value:bucket.display===""?_i18n.i18n.translate("kbn.discover.fieldChooser.discoverField.emptyStringText",{defaultMessage:"Empty string"}):bucket.display}})};detailsElem=(0,_jquery.default)(_string.default);$compile(detailsElem)(detailScope);$elem.append(detailsElem).addClass("active");$elem.find(".dscSidebarItem").addClass("dscSidebarItem--active")}else{delete field.details;detailScope.$destroy();detailsElem.remove();$elem.removeClass("active");$elem.find(".dscSidebarItem").removeClass("dscSidebarItem--active")}};init()}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<li\n  class="sidebar-item"\n  attr-field="{{::field.name}}"\n>\n  <div\n    data-test-subj="field-{{::field.name}}"\n    ng-click="onClickToggleDetails($event, field)"\n    kbn-accessible-click\n    class="sidebar-item-title dscSidebarItem"\n  >\n    <div class="dscField dscSidebarItem__label">\n      <field-name\n        field="field"\n      ></field-name>\n    </div>\n\n    <button\n      ng-if="field.name !== \'_source\'"\n      ng-click="toggleDisplay(field)"\n      ng-class="::field.display ? \'kuiButton--danger\' : \'kuiButton--primary\'"\n      ng-bind="::addRemoveButtonLabel"\n      class="dscSidebarItem__action kuiButton kuiButton--small"\n      data-test-subj="fieldToggle-{{::field.name}}"\n    ></button>\n  </div>\n</li>\n'},function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(11);var _modules=__webpack_require__(6);var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("discover/field_chooser");function StringFieldProgressBar(props){return _react.default.createElement(_eui.EuiToolTip,{anchorClassName:"dscProgressBarTooltip__anchor",content:props.count,delay:"regular",position:"right"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiProgress,{value:props.percent,max:100,color:"secondary","aria-labelledby":"CanvasAssetManagerLabel",size:"l"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{size:"xs"},props.percent,"%"))))}_module.directive("stringFieldProgressBar",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(StringFieldProgressBar))})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="dscFieldDetails">\n  <div class="kuiVerticalRhythmSmall">\n    <p class="euiText euiText--extraSmall euiTextColor--subdued" ng-show="!field.details.error">\n      <span\n        i18n-id="kbn.discover.fieldChooser.detailViews.topValuesInRecordsDescription"\n        i18n-default-message="Top 5 values in"\n      ></span>\n      <span ng-if="!field.details.error">\n        <a\n          class="kuiLink"\n          kbn-accessible-click\n          ng-show="!field.indexPattern.metaFields.includes(field.name) && !field.scripted"\n          ng-click="onAddFilter(\'_exists_\', field.name, \'+\')">\n          {{::field.details.exists}}\n        </a>\n        <span\n          ng-show="field.indexPattern.metaFields.includes(field.name) || field.scripted">\n          {{::field.details.exists}}\n        </span>\n        / {{::field.details.total}}\n        <span\n          i18n-id="kbn.discover.fieldChooser.detailViews.recordsText"\n          i18n-default-message="records"\n        ></span>\n      </span>\n    </p>\n\n    <div class="clearfix"></div>\n\n    <div ng-if="field.details.error" class="euiText euiText--extraSmall euiTextColor--subdued">{{field.details.error}}</div>\n\n    <div ng-if="!field.details.error">\n      <div ng-repeat="bucket in ::field.details.buckets" class="dscFieldDetailsItem">\n        <div class="dscFieldDetailsItem__title">\n          \x3c!-- Field value --\x3e\n          <div\n            css-truncate\n            css-truncate-expandable="true"\n            class="dscFieldDetails__value"\n            aria-label="{{::getBucketAriaLabel(bucket)}}"\n          >\n            {{::bucket.display}}\n            <em\n              ng-show="bucket.display === \'\'"\n              i18n-id="kbn.discover.fieldChooser.detailViews.emptyStringText"\n              i18n-default-message="Empty string"\n            ></em>\n          </div>\n\n          \x3c!-- Add/remove filter buttons --\x3e\n          <div\n            class="dscFieldDetailsItem__buttonGroup"\n            ng-show="field.filterable"\n          >\n            <button\n              class="dscFieldDetailsItem__button"\n              ng-click="onAddFilter(field, bucket.value, \'+\')"\n              aria-label="{{::\'kbn.discover.fieldChooser.detailViews.filterValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter for this value\'} }}"\n              data-test-subj="plus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-plus dscFieldDetails__filter"\n              ></span>\n            </button>\n\n            <button\n              class="dscFieldDetailsItem__button"\n              ng-click="onAddFilter(field, bucket.value, \'-\')"\n              aria-label="{{::\'kbn.discover.fieldChooser.detailViews.filterOutValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter out this value\'} }}"\n              data-test-subj="minus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-minus dscFieldDetails__filter"\n              ></span>\n            </button>\n          </div>\n        </div>\n        <string-field-progress-bar\n          percent="{{bucket.percent}}"\n          count="{{::bucket.count}}"        \n        ></string-field-progress-bar>\n      </div>\n    </div>\n  </div>\n\n  <a\n    ng-href="{{field.details.visualizeUrl}}"\n    ng-show="field.visualizable && canVisualize"\n    class="kuiButton kuiButton--secondary kuiButton--small kuiVerticalRhythmSmall"\n    data-test-subj="fieldVisualize-{{::field.name}}"\n  >\n    <span\n      i18n-id="kbn.discover.fieldChooser.detailViews.visualizeLinkText"\n      i18n-default-message="Visualize"\n    ></span>\n    <span class="discover-field-vis-warning" ng-show="warnings.length" tooltip="{{warnings.join(\' \')}}">\n    ( <span\n      i18n-id="kbn.discover.fieldChooser.detailViews.warningsText"\n      i18n-default-message="{warningsLength, plural, one {# warning} other {# warnings}}"\n      i18n-values="{ warningsLength: warnings.length }"\n    ></span> <i aria-hidden="true" class="fa fa-warning"></i> )\n    </span>\n  </a>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(12);__webpack_require__(17);__webpack_require__(498);__webpack_require__(2208);var _modules=__webpack_require__(6);_modules.uiModules.get("kibana",["ui.select","ngSanitize"])},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(1866)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fieldCalculator=void 0;var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFieldValues(hits,field){var name=field.name;var flattenHit=field.indexPattern.flattenHit;return _lodash.default.map(hits,function(hit){return flattenHit(hit)[name]})}function getFieldValueCounts(params){params=_lodash.default.defaults(params,{count:5,grouped:false});if(params.field.type==="geo_point"||params.field.type==="geo_shape"||params.field.type==="attachment"){return{error:_i18n.i18n.translate("kbn.discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForGeoFieldsErrorMessage",{defaultMessage:"Analysis is not available for geo fields."})}}var allValues=getFieldValues(params.hits,params.field);var counts;var missing=_countMissing(allValues);try{var groups=_groupValues(allValues,params);counts=_lodash.default.map(_lodash.default.sortBy(groups,"count").reverse().slice(0,params.count),function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}});if(params.hits.length-missing===0){return{error:_i18n.i18n.translate("kbn.discover.fieldChooser.fieldCalculator.fieldIsNotPresentInDocumentsErrorMessage",{defaultMessage:"This field is present in your Elasticsearch mapping but not in the {hitsLength} documents shown in the doc table. You may still be able to visualize or search on it.",values:{hitsLength:params.hits.length}})}}return{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-_lodash.default.without(array,undefined,null).length}function _groupValues(allValues,params){var groups={};var k;allValues.forEach(function(value){if(_lodash.default.isObject(value)&&!Array.isArray(value)){throw new Error(_i18n.i18n.translate("kbn.discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForObjectFieldsErrorMessage",{defaultMessage:"Analysis is not available for object fields."}))}if(Array.isArray(value)&&!params.grouped){k=value}else{k=value==null?undefined:[value]}_lodash.default.each(k,function(key){if(groups.hasOwnProperty(key)){groups[key].count++}else{groups[key]={value:params.grouped?value:key,count:1}}})});return groups}var fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts};exports.fieldCalculator=fieldCalculator},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<section class="sidebar-list" aria-label="{{::\'kbn.discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel\' | i18n: {defaultMessage: \'Index and fields\'} }}">\n  <div ng-show="indexPatternList.length > 1">\n    <ui-select\n      class="index-pattern-selection"\n      ng-model="selectedIndexPattern"\n      on-select="setIndexPattern($item)"\n    >\n      <ui-select-match>\n        <span\n          class="uiSelectMatch--ellipsis"\n          tooltip="{{$select.selected.get(\'title\')}}"\n          tooltip-append-to-body="true"\n        >\n          {{$select.selected.get(\'title\')}}\n        </span>\n      </ui-select-match>\n      <ui-select-choices repeat="pattern in indexPatternList | filter:$select.search">\n        <div ng-bind-html="pattern.get(\'title\') | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div ng-hide="indexPatternList.length > 1">\n    <div class="index-pattern">\n      <h2\n        class="index-pattern-label"\n        id="index_pattern_id"\n        tabindex="0"\n        css-truncate>\n\n        {{ indexPattern.title }}</h2>\n    </div>\n  </div>\n\n  <div class="dscSidebar__listHeader sidebar-list-header" ng-if="fields.length">\n    <h3\n      class="euiFlexItem euiTitle euiTitle--xxsmall"\n      id="selected_fields"\n      tabindex="0"\n      i18n-id="kbn.discover.fieldChooser.filter.selectedFieldsTitle"\n      i18n-default-message="Selected fields"\n    ></h3>\n  </div>\n  <ul class="list-unstyled dscFieldList--selected" >\n    <discover-field\n      ng-repeat="field in fields.raw|filter:{display:true}"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <div class="sidebar-list-header sidebar-item euiFlexGroup euiFlexGroup--gutterMedium" ng-if="fields.length">\n    <h3\n      class="euiFlexItem euiTitle euiTitle--xxsmall"\n      id="available_fields"\n      tabindex="0"\n      i18n-id="kbn.discover.fieldChooser.filter.availableFieldsTitle"\n      i18n-default-message="Available fields"\n    ></h3>\n\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        ng-click="$parent.showFields = !$parent.showFields"\n        aria-hidden="true"\n        class="kuiButton kuiButton--small visible-xs visible-sm pull-right dscFieldChooser__toggle"\n      >\n        <span\n          aria-hidden="true"\n          class="kuiIcon"\n          ng-class="{ \'fa-chevron-right\': !$parent.showFields, \'fa-chevron-down\': $parent.showFields }"\n        ></span>\n      </button>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        type="button"\n        ng-class="{ \'kuiButton--basic\': !filter.active, \'kuiButton--primary\': filter.active, \'hidden-xs\': !$parent.showFields, \'hidden-sm\': !$parent.showFields }"\n        class="kuiButton kuiButton--small pull-right discover-field-filter-toggle"\n        ng-click="$parent.showFilter = !$parent.showFilter"\n        aria-label="{{toggleFieldFilterButtonAriaLabel}}"\n        aria-expanded="{{!!$parent.showFilter}}"\n        aria-controls="discoverFieldFilter"\n        data-test-subj="toggleFieldFilterButton"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-gear"></span>\n      </button>\n    </div>\n  </div>\n\n  <div class="sidebar-item dscFieldDetails" ng-show="showFilter" id="discoverFieldFilter" data-test-subj="discoverFieldFilter">\n    <form role="form">\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterAggregatable"\n          i18n-id="kbn.discover.fieldChooser.filter.aggregatableLabel"\n          i18n-default-message="Aggregatable"\n        ></label>\n        <select\n          id="discoverFieldChooserFilterAggregatable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.aggregatable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterSearchable"\n          i18n-id="kbn.discover.fieldChooser.filter.searchableLabel"\n          i18n-default-message="Searchable"\n        ></label>\n        <select\n          id="discoverFieldChooserFilterSearchable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.searchable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterType"\n          i18n-id="kbn.discover.fieldChooser.filter.typeLabel"\n          i18n-default-message="Type"\n        ></label>\n        <select\n          id="discoverFieldChooserFilterType"\n          ng-options="field as field for field in fieldTypes"\n          ng-model="filter.vals.type"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label\n          for="discoverFieldChooserFilterFieldName"\n          i18n-id="kbn.discover.fieldChooser.filter.fieldNameLabel"\n          i18n-default-message="Field name"\n        ></label>\n        <input\n          id="discoverFieldChooserFilterFieldName"\n          type="text"\n          class="form-control"\n          ng-model="filter.vals.name"\n        >\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserHideMissingFields">\n          <input id="discoverFieldChooserHideMissingFields" type="checkbox" ng-model="filter.vals.missing">\n          <span\n            i18n-id="kbn.discover.fieldChooser.filter.hideMissingFieldsLabel"\n            i18n-default-message="Hide missing fields"\n          ></span>\n        </label>\n      </div>\n      <button\n        ng-click="filter.reset()"\n        ng-disabled="!filter.active"\n        class="kuiButton kuiButton--danger kuiButton--fullWidth"\n        i18n-id="kbn.discover.fieldChooser.filter.resetFiltersButtonLabel"\n        i18n-default-message="Reset filters"\n      ></button>\n    </form>\n  </div>\n\n  <ul\n    ng-show="(popularFields | filter:filter.isFieldFiltered).length > 0"\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields }"\n    class="list-unstyled sidebar-well dscFieldList--popular">\n    <li class="sidebar-item sidebar-list-header">\n      <h6\n        i18n-id="kbn.discover.fieldChooser.filter.popularTitle"\n        i18n-default-message="Popular"\n      ></h6>\n    </li>\n    <discover-field\n      ng-repeat="field in popularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <ul\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields  }"\n    class="list-unstyled dscFieldList--unpopular">\n    <discover-field\n      ng-repeat="field in unpopularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n</section>\n'},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);var _react=_interopRequireDefault(__webpack_require__(0));var _angular=_interopRequireDefault(__webpack_require__(17));var _rxjs=__webpack_require__(16);var _moment=_interopRequireDefault(__webpack_require__(14));var _chrome=_interopRequireDefault(__webpack_require__(7));var _datemath=_interopRequireDefault(__webpack_require__(55));__webpack_require__(744);var _get_sort=__webpack_require__(749);var columnActions=_interopRequireWildcard(__webpack_require__(748));var filterActions=_interopRequireWildcard(__webpack_require__(1994));__webpack_require__(461);__webpack_require__(767);__webpack_require__(1995);__webpack_require__(77);__webpack_require__(341);var _timefilter=__webpack_require__(22);var _courier=__webpack_require__(129);var _notify=__webpack_require__(9);var _vis=__webpack_require__(408);var _query_filter=__webpack_require__(51);var _vislib=__webpack_require__(352);var _doc_title=__webpack_require__(111);var _interval_options=__webpack_require__(594);var _state_monitor_factory=__webpack_require__(465);var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _index=_interopRequireDefault(__webpack_require__(1996));var _state=__webpack_require__(392);var _migrate_legacy_query=__webpack_require__(126);var _subscribe_with_scope=__webpack_require__(96);var _filter_manager=__webpack_require__(458);var _saved_objects=__webpack_require__(36);var _visualize_loader=__webpack_require__(362);var _persisted_log=__webpack_require__(68);var _documentation_links=__webpack_require__(60);__webpack_require__(1997);var _get_painless_error=__webpack_require__(1999);var _share=__webpack_require__(466);var _state_hashing=__webpack_require__(114);var _inspector=__webpack_require__(641);var _adapters=__webpack_require__(115);var _courier_inspector_utils=__webpack_require__(351);var _show_open_search_panel=__webpack_require__(2005);var _tabify=__webpack_require__(2007);var _show_saved_object_save_modal=__webpack_require__(467);var _saved_object_save_modal=__webpack_require__(468);var _breadcrumbs=__webpack_require__(469);var _build_pipeline=__webpack_require__(430);__webpack_require__(379);var _legacy=__webpack_require__(71);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var savedQueryService=_legacy.setup.search.services.savedQueryService;var fetchStatuses={UNINITIALIZED:"uninitialized",LOADING:"loading",COMPLETE:"complete"};var app=_modules.uiModules.get("apps/discover",["kibana/courier","kibana/url","kibana/index_patterns"]);_routes.default.defaults(/^\/discover(\/|$)/,{requireDefaultIndex:true,requireUICapability:"discover.show",k7Breadcrumbs:function k7Breadcrumbs($route,$injector){return $injector.invoke($route.current.params.id?_breadcrumbs.getSavedSearchBreadcrumbs:_breadcrumbs.getRootBreadcrumbs)},badge:function badge(uiCapabilities){if(uiCapabilities.discover.save){return undefined}return{text:_i18n.i18n.translate("kbn.discover.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("kbn.discover.badge.readOnly.tooltip",{defaultMessage:"Unable to save searches"}),iconType:"glasses"}}}).when("/discover/:id?",{template:_index.default,reloadOnSearch:false,resolve:{ip:function ip(Promise,indexPatterns,config,Private){var State=Private(_state.StateProvider);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(_ref){var savedObjects=_ref.savedObjects;var state=new State("_a",{});var specified=!!state.index;var exists=_lodash.default.findIndex(savedObjects,function(o){return o.id===state.index})>-1;var id=exists?state.index:config.get("defaultIndex");state.destroy();return Promise.props({list:savedObjects,loaded:indexPatterns.get(id),stateVal:state.index,stateValFound:specified&&exists})})},savedSearch:function savedSearch(redirectWhenMissing,savedSearches,$route){var savedSearchId=$route.current.params.id;return savedSearches.get(savedSearchId).then(function(savedSearch){if(savedSearchId){_persisted_log.recentlyAccessed.add(savedSearch.getFullPath(),savedSearch.title,savedSearchId)}return savedSearch}).catch(redirectWhenMissing({search:"/discover","index-pattern":"/management/kibana/objects/savedSearches/"+$route.current.params.id}))}}});app.directive("discoverApp",function(){return{restrict:"E",controllerAs:"discoverApp",controller:discoverController}});function discoverController($element,$route,$scope,$timeout,$window,AppState,Private,Promise,config,courier,kbnUrl,localStorage,uiCapabilities){var _this=this;var visualizeLoader=Private(_visualize_loader.VisualizeLoaderProvider);var visualizeHandler;var Vis=Private(_vis.VisProvider);var responseHandler=(0,_vislib.vislibSeriesResponseHandlerProvider)().handler;var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var filterGen=(0,_filter_manager.getFilterGenerator)(queryFilter);var inspectorAdapters={requests:new _adapters.RequestAdapter};var subscriptions=new _rxjs.Subscription;_timefilter.timefilter.disableTimeRangeSelector();_timefilter.timefilter.disableAutoRefreshSelector();$scope.getDocLink=_documentation_links.getDocLink;$scope.intervalOptions=_interval_options.intervalOptions;$scope.showInterval=false;$scope.minimumVisibleRows=50;$scope.fetchStatus=fetchStatuses.UNINITIALIZED;$scope.refreshInterval=_timefilter.timefilter.getRefreshInterval();$scope.savedQuery=$route.current.locals.savedQuery;$scope.showSaveQuery=uiCapabilities.discover.saveQuery;$scope.$watch(function(){return uiCapabilities.discover.saveQuery},function(newCapability){$scope.showSaveQuery=newCapability});$scope.intervalEnabled=function(interval){return interval.val!=="custom"};var savedSearch=$route.current.locals.savedSearch;$scope.$on("$destroy",function(){savedSearch.destroy();subscriptions.unsubscribe()});var $appStatus=$scope.appStatus=this.appStatus={dirty:!savedSearch.id};var getTopNavLinks=function getTopNavLinks(){var newSearch={id:"new",label:_i18n.i18n.translate("kbn.discover.localMenu.localMenu.newSearchTitle",{defaultMessage:"New"}),description:_i18n.i18n.translate("kbn.discover.localMenu.newSearchDescription",{defaultMessage:"New Search"}),run:function run(){$scope.$evalAsync(function(){kbnUrl.change("/discover")})},testId:"discoverNewButton"};var saveSearch={id:"save",label:_i18n.i18n.translate("kbn.discover.localMenu.saveTitle",{defaultMessage:"Save"}),description:_i18n.i18n.translate("kbn.discover.localMenu.saveSearchDescription",{defaultMessage:"Save Search"}),testId:"discoverSaveButton",run:function(){var _run=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onSave,saveModal;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref2){var newTitle=_ref2.newTitle,newCopyOnSave=_ref2.newCopyOnSave,isTitleDuplicateConfirmed=_ref2.isTitleDuplicateConfirmed,onTitleDuplicate=_ref2.onTitleDuplicate;var currentTitle=savedSearch.title;savedSearch.title=newTitle;savedSearch.copyOnSave=newCopyOnSave;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return saveDataSource(saveOptions).then(function(_ref3){var id=_ref3.id,error=_ref3.error;if(!id||error){savedSearch.title=currentTitle}return{id:id,error:error}})};saveModal=_react.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedSearch.title,showCopyOnSave:savedSearch.id?true:false,objectType:"search",description:_i18n.i18n.translate("kbn.discover.localMenu.saveSaveSearchDescription",{defaultMessage:"Save your Discover search so you can use it in visualizations and dashboards"})});(0,_show_saved_object_save_modal.showSaveModal)(saveModal);case 3:case"end":return _context.stop()}}},_callee)}));function run(){return _run.apply(this,arguments)}return run}()};var openSearch={id:"open",label:_i18n.i18n.translate("kbn.discover.localMenu.openTitle",{defaultMessage:"Open"}),description:_i18n.i18n.translate("kbn.discover.localMenu.openSavedSearchDescription",{defaultMessage:"Open Saved Search"}),testId:"discoverOpenButton",run:function run(){(0,_show_open_search_panel.showOpenSearchPanel)({makeUrl:function makeUrl(searchId){return kbnUrl.eval("#/discover/{{id}}",{id:searchId})}})}};var shareSearch={id:"share",label:_i18n.i18n.translate("kbn.discover.localMenu.shareTitle",{defaultMessage:"Share"}),description:_i18n.i18n.translate("kbn.discover.localMenu.shareSearchDescription",{defaultMessage:"Share Search"}),testId:"shareTopNavButton",run:function(){var _run2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(anchorElement){var sharingData;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getSharingData();case 2:sharingData=_context2.sent;(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:false,allowShortUrl:uiCapabilities.discover.createShortUrl,getUnhashableStates:getUnhashableStates,objectId:savedSearch.id,objectType:"search",shareContextMenuExtensions:shareContextMenuExtensions,sharingData:_objectSpread({},sharingData,{title:savedSearch.title}),isDirty:$appStatus.dirty});case 4:case"end":return _context2.stop()}}},_callee2)}));function run(_x){return _run2.apply(this,arguments)}return run}()};var inspectSearch={id:"inspect",label:_i18n.i18n.translate("kbn.discover.localMenu.inspectTitle",{defaultMessage:"Inspect"}),description:_i18n.i18n.translate("kbn.discover.localMenu.openInspectorForSearchDescription",{defaultMessage:"Open Inspector for search"}),testId:"openInspectorButton",run:function run(){_inspector.Inspector.open(inspectorAdapters,{title:savedSearch.title})}};return[newSearch].concat(_toConsumableArray(uiCapabilities.discover.save?[saveSearch]:[]),[openSearch,shareSearch,inspectSearch])};$scope.topNavMenu=getTopNavLinks();$scope.searchSource=savedSearch.searchSource;$scope.indexPattern=resolveIndexPatternLoading();$scope.searchSource.setField("index",$scope.indexPattern).setField("highlightAll",true).setField("version",true);$scope.searchSource.setPreferredSearchStrategyId("default");var timeRangeSearchSource=savedSearch.searchSource.create();if((0,_courier.isDefaultTypeIndexPattern)($scope.indexPattern)){timeRangeSearchSource.setField("filter",function(){return _timefilter.timefilter.createFilter($scope.indexPattern)})}$scope.searchSource.setParent(timeRangeSearchSource);var pageTitleSuffix=savedSearch.id&&savedSearch.title?": ".concat(savedSearch.title):"";_doc_title.docTitle.change("Discover".concat(pageTitleSuffix));var discoverBreadcrumbsTitle=_i18n.i18n.translate("kbn.discover.discoverBreadcrumbTitle",{defaultMessage:"Discover"});if(savedSearch.id&&savedSearch.title){_chrome.default.breadcrumbs.set([{text:discoverBreadcrumbsTitle,href:"#/discover"},{text:savedSearch.title}])}else{_chrome.default.breadcrumbs.set([{text:discoverBreadcrumbsTitle}])}var stateMonitor;var $state=$scope.state=new AppState(getStateDefaults());$scope.filters=queryFilter.getFilters();$scope.screenTitle=savedSearch.title;$scope.onFiltersUpdated=function(filters){queryFilter.setFilters(filters)};$scope.applyFilters=function(filters){queryFilter.addFiltersAndChangeTimeFilter(filters);$scope.state.$newFilters=[]};$scope.$watch("state.$newFilters",function(){var filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(filters.length===1){$scope.applyFilters(filters)}});var getFieldCounts=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!($scope.fetchStatus===fetchStatuses.COMPLETE)){_context3.next=2;break}return _context3.abrupt("return",$scope.fieldCounts);case 2:_context3.next=4;return new Promise(function(resolve){var unwatch=$scope.$watch("fetchStatus",function(newValue){if(newValue===fetchStatuses.COMPLETE){unwatch();resolve($scope.fieldCounts)}})});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}}},_callee3)}));return function getFieldCounts(){return _ref4.apply(this,arguments)}}();var getSharingDataFields=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var selectedFields,fieldCounts,timeFieldName,hideTimeColumn,fields;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:selectedFields=$state.columns;if(!(selectedFields.length===1&&selectedFields[0]==="_source")){_context4.next=6;break}_context4.next=4;return getFieldCounts();case 4:fieldCounts=_context4.sent;return _context4.abrupt("return",{searchFields:null,selectFields:_lodash.default.keys(fieldCounts).sort()});case 6:timeFieldName=$scope.indexPattern.timeFieldName;hideTimeColumn=config.get("doc_table:hideTimeColumn");fields=timeFieldName&&!hideTimeColumn?[timeFieldName].concat(_toConsumableArray(selectedFields)):selectedFields;return _context4.abrupt("return",{searchFields:fields,selectFields:fields});case 10:case"end":return _context4.stop()}}},_callee4)}));return function getSharingDataFields(){return _ref5.apply(this,arguments)}}();this.getSharingData=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var searchSource,_ref7,searchFields,selectFields,body;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:searchSource=$scope.searchSource.createCopy();_context5.next=3;return getSharingDataFields();case 3:_ref7=_context5.sent;searchFields=_ref7.searchFields;selectFields=_ref7.selectFields;searchSource.setField("fields",searchFields);searchSource.setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern));searchSource.setField("highlight",null);searchSource.setField("highlightAll",null);searchSource.setField("aggs",null);searchSource.setField("size",null);_context5.next=14;return searchSource.getSearchRequestBody();case 14:body=_context5.sent;return _context5.abrupt("return",{searchRequest:{index:searchSource.getField("index").title,body:body},fields:selectFields,metaFields:$scope.indexPattern.metaFields,conflictedTypesFields:$scope.indexPattern.fields.filter(function(f){return f.type==="conflict"}).map(function(f){return f.name}),indexPatternId:searchSource.getField("index").id});case 16:case"end":return _context5.stop()}}},_callee5)}));$scope.uiState=$state.makeStateful("uiState");function getStateDefaults(){return{query:$scope.savedQuery&&$scope.savedQuery.attributes.query||$scope.searchSource.getField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},sort:_get_sort.getSort.array(savedSearch.sort,$scope.indexPattern,config.get("discover:sort:defaultOrder")),columns:savedSearch.columns.length>0?savedSearch.columns:config.get("defaultColumns").slice(),index:$scope.indexPattern.id,interval:"auto",filters:$scope.savedQuery&&$scope.savedQuery.attributes.filters||_lodash.default.cloneDeep($scope.searchSource.getOwnField("filter"))}}$state.index=$scope.indexPattern.id;$state.sort=_get_sort.getSort.array($state.sort,$scope.indexPattern);$scope.getBucketIntervalToolTipText=function(){return _i18n.i18n.translate("kbn.discover.bucketIntervalTooltip",{defaultMessage:"This interval creates {bucketsDescription} to show in the selected time range, so it has been scaled to {bucketIntervalDescription}",values:{bucketsDescription:$scope.bucketInterval.scale>1?_i18n.i18n.translate("kbn.discover.bucketIntervalTooltip.tooLargeBucketsText",{defaultMessage:"buckets that are too large"}):_i18n.i18n.translate("kbn.discover.bucketIntervalTooltip.tooManyBucketsText",{defaultMessage:"too many buckets"}),bucketIntervalDescription:$scope.bucketInterval.description}})};$scope.$watchCollection("state.columns",function(){$state.save()});$scope.opts={sampleSize:config.get("discover:sampleSize"),timefield:(0,_courier.isDefaultTypeIndexPattern)($scope.indexPattern)&&$scope.indexPattern.timeFieldName,savedSearch:savedSearch,indexPatternList:$route.current.locals.ip.list};var shouldSearchOnPageLoad=function shouldSearchOnPageLoad(){return config.get("discover:searchOnPageLoad")||savedSearch.id!==undefined||_lodash.default.get($scope,"refreshInterval.pause")===false};var init=_lodash.default.once(function(){stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,getStateDefaults());stateMonitor.onChange(function(status){$appStatus.dirty=status.dirty||!savedSearch.id});$scope.$on("$destroy",function(){return stateMonitor.destroy()});$scope.updateDataSource().then(function(){subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getAutoRefreshFetch$(),{next:$scope.fetch}));subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getRefreshIntervalUpdate$(),{next:$scope.updateRefreshInterval}));subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getTimeUpdate$(),{next:$scope.updateTime}));subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getFetch$(),{next:$scope.fetch}));$scope.$watchCollection("state.sort",function(sort){if(!sort)return;var currentSort=_get_sort.getSort.array($scope.searchSource.getField("sort"),$scope.indexPattern);if(!_angular.default.equals(sort,currentSort))$scope.fetch()});subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,queryFilter.getUpdates$(),{next:function next(){$scope.filters=queryFilter.getFilters();$scope.updateDataSource().then(function(){$state.save()})}}));subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,queryFilter.getUpdates$(),{next:$scope.fetch}));$scope.$listen($state,"fetch_with_changes",function(diff){if(diff.indexOf("query")>=0)$scope.fetch()});$scope.$watch("opts.timefield",function(timefield){$scope.enableTimeRangeSelector=!!timefield});$scope.$watch("state.interval",function(newInterval,oldInterval){if(newInterval!==oldInterval){$scope.fetch()}});$scope.$watch("vis.aggs",function(){if(!$scope.opts.timefield)return;var buckets=$scope.vis.getAggConfig().bySchemaGroup.buckets;if(buckets&&buckets.length===1){$scope.bucketInterval=buckets[0].buckets.getInterval()}});$scope.$watch("state.query",function(newQuery,oldQuery){if(!_lodash.default.isEqual(newQuery,oldQuery)){var query=(0,_migrate_legacy_query.migrateLegacyQuery)(newQuery);$scope.updateQueryAndFetch({query:query})}});$scope.$watchMulti(["rows","fetchStatus"],function updateResultState(){var prev={};var status={UNINITIALIZED:"uninitialized",LOADING:"loading",READY:"ready",NO_RESULTS:"none"};function pick(rows,oldRows,fetchStatus){if(rows==null&&oldRows==null&&shouldSearchOnPageLoad()){return status.LOADING}if(fetchStatus===fetchStatuses.UNINITIALIZED){return status.UNINITIALIZED}var rowsEmpty=_lodash.default.isEmpty(rows);if(rowsEmpty&&fetchStatus===fetchStatuses.LOADING)return status.LOADING;else if(!rowsEmpty)return status.READY;else return status.NO_RESULTS}return function(){var current={rows:$scope.rows,fetchStatus:$scope.fetchStatus};$scope.resultState=pick(current.rows,prev.rows,current.fetchStatus,prev.fetchStatus);prev=current}}());if($scope.opts.timefield){setupVisualization();$scope.updateTime()}init.complete=true;$state.replace();if(shouldSearchOnPageLoad()){$scope.fetch()}})});function saveDataSource(_x2){return _saveDataSource.apply(this,arguments)}function _saveDataSource(){_saveDataSource=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(saveOptions){var id;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return $scope.updateDataSource();case 2:savedSearch.columns=$scope.state.columns;savedSearch.sort=$scope.state.sort;_context6.prev=4;_context6.next=7;return savedSearch.save(saveOptions);case 7:id=_context6.sent;$scope.$evalAsync(function(){stateMonitor.setInitialState($state.toJSON());if(id){_notify.toastNotifications.addSuccess({title:_i18n.i18n.translate("kbn.discover.notifications.savedSearchTitle",{defaultMessage:"Search '{savedSearchTitle}' was saved",values:{savedSearchTitle:savedSearch.title}}),"data-test-subj":"saveSearchSuccess"});if(savedSearch.id!==$route.current.params.id){kbnUrl.change("/discover/{{id}}",{id:savedSearch.id})}else{$state.setDefaults(getStateDefaults());_doc_title.docTitle.change(savedSearch.lastSavedTitle)}}});return _context6.abrupt("return",{id:id});case 12:_context6.prev=12;_context6.t0=_context6["catch"](4);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.discover.notifications.notSavedSearchTitle",{defaultMessage:"Search '{savedSearchTitle}' was not saved.",values:{savedSearchTitle:savedSearch.title}}),text:_context6.t0.message});return _context6.abrupt("return",{error:_context6.t0});case 16:case"end":return _context6.stop()}}},_callee6,null,[[4,12]])}));return _saveDataSource.apply(this,arguments)}$scope.opts.fetch=$scope.fetch=function(){if(!init.complete)return;$scope.fetchError=undefined;$scope.updateTime();$scope.searchSource.cancelQueued();$scope.updateDataSource().then(setupVisualization).then(function(){$state.save();$scope.fetchStatus=fetchStatuses.LOADING;logInspectorRequest();return $scope.searchSource.fetch()}).then(onResults).catch(function(error){if(error instanceof Error&&error.name==="AbortError")return;var fetchError=(0,_get_painless_error.getPainlessError)(error);if(fetchError){$scope.fetchError=fetchError}else{_notify.toastNotifications.addError(error,{title:_i18n.i18n.translate("kbn.discover.errorLoadingData",{defaultMessage:"Error loading data"})})}})};$scope.updateQueryAndFetch=function(_ref8){var query=_ref8.query,dateRange=_ref8.dateRange;_timefilter.timefilter.setTime(dateRange);$state.query=query;$scope.fetch()};function onResults(resp){logInspectorResponse(resp);if($scope.opts.timefield){var tabifiedData=(0,_tabify.tabifyAggResponse)($scope.vis.aggs,resp);$scope.searchSource.rawResponse=resp;Promise.resolve((0,_build_pipeline.buildVislibDimensions)($scope.vis,{timeRange:$scope.timeRange,searchSource:$scope.searchSource})).then(function(resp){return responseHandler(tabifiedData,resp)}).then(function(resp){visualizeHandler.render({as:"visualization",value:{visType:$scope.vis.type.name,visData:resp,visConfig:$scope.vis.params,params:{}}})})}$scope.hits=resp.hits.total;$scope.rows=resp.hits.hits;var counts=$scope.fieldCounts=$scope.fieldCounts||{};$scope.rows.forEach(function(hit){var fields=Object.keys($scope.indexPattern.flattenHit(hit));fields.forEach(function(fieldName){counts[fieldName]=(counts[fieldName]||0)+1})});$scope.fetchStatus=fetchStatuses.COMPLETE}var inspectorRequest;function logInspectorRequest(){inspectorAdapters.requests.reset();var title=_i18n.i18n.translate("kbn.discover.inspectorRequestDataTitle",{defaultMessage:"Data"});var description=_i18n.i18n.translate("kbn.discover.inspectorRequestDescription",{defaultMessage:"This request queries Elasticsearch to fetch the data for the search."});inspectorRequest=inspectorAdapters.requests.start(title,{description:description});inspectorRequest.stats((0,_courier_inspector_utils.getRequestInspectorStats)($scope.searchSource));$scope.searchSource.getSearchRequestBody().then(function(body){inspectorRequest.json(body)})}function logInspectorResponse(resp){inspectorRequest.stats((0,_courier_inspector_utils.getResponseInspectorStats)($scope.searchSource,resp)).ok({json:resp})}$scope.updateTime=function(){$scope.timeRange={from:_datemath.default.parse(_timefilter.timefilter.getTime().from),to:_datemath.default.parse(_timefilter.timefilter.getTime().to,{roundUp:true})};$scope.time=_timefilter.timefilter.getTime()};$scope.toMoment=function(datetime){return(0,_moment.default)(datetime).format(config.get("dateFormat"))};$scope.updateRefreshInterval=function(){var newInterval=_timefilter.timefilter.getRefreshInterval();var shouldFetch=_lodash.default.get($scope,"refreshInterval.pause")===true&&newInterval.pause===false;$scope.refreshInterval=newInterval;if(shouldFetch){$scope.fetch()}};$scope.onRefreshChange=function(_ref9){var isPaused=_ref9.isPaused,refreshInterval=_ref9.refreshInterval;_timefilter.timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:$scope.refreshInterval.value})};$scope.resetQuery=function(){kbnUrl.change("/discover/{{id}}",{id:$route.current.params.id})};$scope.newQuery=function(){kbnUrl.change("/discover")};$scope.updateDataSource=Promise.method(function updateDataSource(){$scope.searchSource.setField("size",$scope.opts.sampleSize).setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern)).setField("query",!$state.query?null:$state.query).setField("filter",queryFilter.getFilters())});$scope.setSortOrder=function setSortOrder(sortPair){$scope.state.sort=sortPair};$scope.filterQuery=function(field,values,operation){$scope.indexPattern.popularizeField(field,1);filterActions.addFilter(field,values,operation,$scope.indexPattern.id,$scope.state,filterGen)};$scope.addColumn=function addColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.addColumn($scope.state.columns,columnName)};$scope.removeColumn=function removeColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.removeColumn($scope.state.columns,columnName)};$scope.moveColumn=function moveColumn(columnName,newIndex){columnActions.moveColumn($scope.state.columns,columnName,newIndex)};$scope.scrollToTop=function(){$window.scrollTo(0,0)};$scope.scrollToBottom=function(){$timeout(function(){$element.find("#discoverBottomMarker").focus()},0)};$scope.showAllRows=function(){$scope.minimumVisibleRows=$scope.hits};$scope.onQuerySaved=function(savedQuery){$scope.savedQuery=savedQuery};$scope.onSavedQueryUpdated=function(savedQuery){$scope.savedQuery=_objectSpread({},savedQuery)};$scope.onClearSavedQuery=function(){delete $scope.savedQuery;delete $state.savedQuery;$state.query={query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")};queryFilter.removeAll();$state.save();$scope.fetch()};var updateStateFromSavedQuery=function updateStateFromSavedQuery(savedQuery){$state.query=savedQuery.attributes.query;queryFilter.setFilters(savedQuery.attributes.filters||[]);if(savedQuery.attributes.timefilter){_timefilter.timefilter.setTime({from:savedQuery.attributes.timefilter.from,to:savedQuery.attributes.timefilter.to});if(savedQuery.attributes.timefilter.refreshInterval){_timefilter.timefilter.setRefreshInterval(savedQuery.attributes.timefilter.refreshInterval)}}$scope.fetch()};$scope.$watch("savedQuery",function(newSavedQuery,oldSavedQuery){if(!newSavedQuery)return;$state.savedQuery=newSavedQuery.id;$state.save();if(newSavedQuery.id===(oldSavedQuery&&oldSavedQuery.id)){updateStateFromSavedQuery(newSavedQuery)}});$scope.$watch("state.savedQuery",function(newSavedQueryId){if(!newSavedQueryId){$scope.savedQuery=undefined;return}savedQueryService.getSavedQuery(newSavedQueryId).then(function(savedQuery){$scope.$evalAsync(function(){$scope.savedQuery=savedQuery;updateStateFromSavedQuery(savedQuery)})})});function setupVisualization(){return _setupVisualization.apply(this,arguments)}function _setupVisualization(){_setupVisualization=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){var visStateAggs,visState,visSavedObject;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if($scope.opts.timefield){_context8.next=2;break}return _context8.abrupt("return");case 2:visStateAggs=[{type:"count",schema:"metric"},{type:"date_histogram",schema:"segment",params:{field:$scope.opts.timefield,interval:$state.interval,timeRange:_timefilter.timefilter.getTime()}}];if(!$scope.vis){_context8.next=8;break}visState=$scope.vis.getEnabledState();visState.aggs=visStateAggs;$scope.vis.setState(visState);return _context8.abrupt("return");case 8:visSavedObject={indexPattern:$scope.indexPattern.id,visState:{type:"histogram",title:savedSearch.title,params:{addLegend:false,addTimeMarker:true},aggs:visStateAggs}};$scope.vis=new Vis($scope.searchSource.getField("index"),visSavedObject.visState);visSavedObject.vis=$scope.vis;$scope.searchSource.onRequestStart(function(searchSource,searchRequest){return $scope.vis.getAggConfig().onSearchRequestStart(searchSource,searchRequest)});$scope.searchSource.setField("aggs",function(){return $scope.vis.getAggConfig().toDsl()});$timeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var visEl;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:visEl=$element.find("#discoverHistogram")[0];_context7.next=3;return visualizeLoader.embedVisualizationWithSavedObject(visEl,visSavedObject,{autoFetch:false});case 3:visualizeHandler=_context7.sent;case 4:case"end":return _context7.stop()}}},_callee7)})));case 14:case"end":return _context8.stop()}}},_callee8)}));return _setupVisualization.apply(this,arguments)}function resolveIndexPatternLoading(){var _$route$current$local=$route.current.locals.ip,loadedIndexPattern=_$route$current$local.loaded,stateVal=_$route$current$local.stateVal,stateValFound=_$route$current$local.stateValFound;var ownIndexPattern=$scope.searchSource.getOwnField("index");if(ownIndexPattern&&!stateVal){return ownIndexPattern}if(stateVal&&!stateValFound){var warningTitle=_i18n.i18n.translate("kbn.discover.valueIsNotConfiguredIndexPatternIDWarningTitle",{defaultMessage:"{stateVal} is not a configured index pattern ID",values:{stateVal:'"'.concat(stateVal,'"')}});if(ownIndexPattern){_notify.toastNotifications.addWarning({title:warningTitle,text:_i18n.i18n.translate("kbn.discover.showingSavedIndexPatternWarningDescription",{defaultMessage:'Showing the saved index pattern: "{ownIndexPatternTitle}" ({ownIndexPatternId})',values:{ownIndexPatternTitle:ownIndexPattern.title,ownIndexPatternId:ownIndexPattern.id}})});return ownIndexPattern}_notify.toastNotifications.addWarning({title:warningTitle,text:_i18n.i18n.translate("kbn.discover.showingDefaultIndexPatternWarningDescription",{defaultMessage:'Showing the default index pattern: "{loadedIndexPatternTitle}" ({loadedIndexPatternId})',values:{loadedIndexPatternTitle:loadedIndexPattern.title,loadedIndexPatternId:loadedIndexPattern.id}})})}return loadedIndexPattern}$scope.isUnsupportedIndexPattern=!(0,_courier.isDefaultTypeIndexPattern)($route.current.locals.ip.loaded)&&!(0,_courier.hasSearchStategyForIndexPattern)($route.current.locals.ip.loaded);if($scope.isUnsupportedIndexPattern){$scope.unsupportedIndexPatternType=$route.current.locals.ip.loaded.type;return}init()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addFilter=addFilter;function addFilter(field){var values=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var operation=arguments.length>2?arguments[2]:undefined;var index=arguments.length>3?arguments[3]:undefined;var state=arguments.length>4?arguments[4]:undefined;var filterGen=arguments.length>5?arguments[5]:undefined;if(!Array.isArray(values)){values=[values]}filterGen.add(field,values,operation,index)}},function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(12));var _lodash=_interopRequireDefault(__webpack_require__(1));var _modules=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SCROLLER_HEIGHT=20;_modules.uiModules.get("kibana").directive("fixedScroll",function(debounce){return{restrict:"A",link:function link($scope,$el){var $window=(0,_jquery.default)(window);var $scroller=(0,_jquery.default)('<div class="fixed-scroll-scroller">').height(SCROLLER_HEIGHT);var unlisten=_lodash.default.noop;function listen(){if(unlisten!==_lodash.default.noop){throw new Error("fixedScroll listeners were not cleaned up properly before re-listening!")}var blockTo;function bind($from,$to){function handler(){if(blockTo===$to)return blockTo=null;$to.scrollLeft((blockTo=$from).scrollLeft())}$from.on("scroll",handler);return function(){$from.off("scroll",handler)}}unlisten=_lodash.default.flow(bind($el,$scroller),bind($scroller,$el),function(){unlisten=_lodash.default.noop})}function cleanUp(){unlisten();$scroller.detach();$el.css("padding-bottom",0)}function setup(){cleanUp();var containerWidth=$el.width();var contentWidth=$el.prop("scrollWidth");var containerHorizOverflow=contentWidth-containerWidth;var elTop=$el.offset().top-$window.scrollTop();var elBottom=elTop+$el.height();var windowVertOverflow=elBottom-$window.height();var requireScroller=containerHorizOverflow>0&&windowVertOverflow>0;if(!requireScroller)return;$el.css("padding-bottom",SCROLLER_HEIGHT);$scroller.width(containerWidth).html((0,_jquery.default)("<div>").css({width:contentWidth,height:SCROLLER_HEIGHT})).insertAfter($el);listen()}var width;var scrollWidth;function checkWidth(){var newScrollWidth=$el.prop("scrollWidth");var newWidth=$el.width();if(scrollWidth!==newScrollWidth||width!==newWidth){$scope.$apply(setup);scrollWidth=newScrollWidth;width=newWidth}}var debouncedCheckWidth=debounce(checkWidth,100,{invokeApply:false});$scope.$watch(debouncedCheckWidth);$scope.$on("$destroy",function(){cleanUp();debouncedCheckWidth.cancel();$scroller=$window=null})}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<discover-app class="app-container">\n  \x3c!-- Local nav. --\x3e\n\n  <kbn-top-nav\n    app-name="\'discover\'"\n    config="topNavMenu"\n    show-search-bar="true"\n    show-date-picker="enableTimeRangeSelector"\n    show-save-query="showSaveQuery"\n    query="state.query"\n    saved-query="savedQuery"\n    screen-title="screenTitle"\n    on-query-submit="updateQueryAndFetch"\n    index-patterns="[indexPattern]"\n    filters="filters"\n    on-filters-updated="onFiltersUpdated"\n    date-range-from="time.from"\n    date-range-to="time.to"\n    is-refresh-paused="refreshInterval.pause"\n    refresh-interval="refreshInterval.value"\n    on-refresh-change="onRefreshChange"\n    on-saved="onQuerySaved"\n    on-saved-query-updated="onSavedQueryUpdated"\n    on-clear-saved-query="onClearSavedQuery"\n  >\n  </kbn-top-nav>\n\n  <main class="container-fluid">\n    <div class="row">\n      <div class="col-md-2 sidebar-container collapsible-sidebar" id="discover-sidebar">\n        <disc-field-chooser\n          class="dscFieldChooser"\n          columns="state.columns"\n          hits="rows"\n          field-counts="fieldCounts"\n          index-pattern="searchSource.getField(\'index\')"\n          index-pattern-list="opts.indexPatternList"\n          state="state"\n          on-add-field="addColumn"\n          on-add-filter="filterQuery"\n          on-remove-field="removeColumn"\n        >\n        </disc-field-chooser>\n      </div>\n\n      <div class="dscWrapper col-md-10">\n        <discover-unsupported-index-pattern\n          ng-if="isUnsupportedIndexPattern"\n          unsupported-type="unsupportedIndexPatternType"\n        ></discover-unsupported-index-pattern>\n\n        <discover-no-results\n          ng-show="resultState === \'none\'"\n          shard-failures="failures"\n          time-field-name="opts.timefield"\n          query-language="state.query.language"\n          get-doc-link="getDocLink"\n        ></discover-no-results>\n\n        <discover-uninitialized\n          ng-show="resultState === \'uninitialized\'"\n          on-refresh="fetch"\n        ></discover-uninitialized>\n\n        \x3c!-- loading --\x3e\n        <div ng-show="resultState === \'loading\'">\n          <discover-fetch-error\n            ng-show="fetchError"\n            fetch-error="fetchError"\n          ></discover-fetch-error>\n\n          <div ng-hide="fetchError" class="dscOverlay">\n            <h2\n              i18n-id="kbn.discover.searchingTitle"\n              i18n-default-message="Searching"\n              class="euiTitle euiTitle--small"\n            ></h2>\n            <div class="euiSpacer euiSpacer--m"></div>\n            <div\n              class="euiLoadingSpinner euiLoadingSpinner--large"\n              data-test-subj="loadingSpinner"\n            ></div>\n          </div>\n        </div>\n\n        <div class="dscWrapper__content" ng-show="resultState === \'ready\'">\n          \x3c!-- result --\x3e\n          <div class="dscResults">\n            <button\n              class="kuiButton kuiButton--basic kuiButton--iconText dscSkipButton"\n              ng-click="showAllRows(); scrollToBottom()"\n            >\n              <span class="kuiButton__inner">\n                <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-chevron-down"></span>\n                <span\n                  i18n-id="kbn.discover.skipToBottomButtonLabel"\n                  i18n-default-message="Skip to bottom"\n                ></span>\n              </span>\n            </button>\n\n            <div class="dscResultCount">\n              <strong data-test-subj="discoverQueryHits">{{(hits || 0) | number:0}}</strong>\n              <span\n                class="dscResultHits"\n                i18n-id="kbn.discover.hitsPluralTitle"\n                i18n-default-message="{hits, plural, one {hit} other {hits}}"\n                i18n-values="{ hits }"\n              ></span>\n              <button\n                ng-if="opts.savedSearch.id"\n                class="kuiLink"\n                type="button"\n                id="reload_saved_search"\n                ng-click="resetQuery()"\n              >\n                {{::\'kbn.discover.reloadSavedSearchButton\' | i18n: {defaultMessage: \'Reset search\'} }}\n              </button>\n            </div>\n\n            <section\n              aria-label="{{::\'kbn.discover.histogramOfFoundDocumentsAriaLabel\' | i18n: {defaultMessage: \'Histogram of found documents\'} }}"\n              class="dscTimechart"\n              ng-if="opts.timefield"\n            >\n              <header class="dscTimechart__header">\n                <div class="small">\n                  <label\n                    for="dscResultsIntervalSelector"\n                    tooltip="{{::\'kbn.discover.howToChangeTheTimeTooltip\' | i18n: {defaultMessage: \'To change the time, click the calendar icon in the navigation bar\'} }}"\n                  >\n                    {{toMoment(timeRange.from)}} - {{toMoment(timeRange.to)}}\n                  </label>\n\n                  &mdash;\n\n                  <span class="form-inline">\n                    <select\n                      id="dscResultsIntervalSelector"\n                      class="dscResults__interval form-control"\n                      ng-model="state.interval"\n                      ng-options="interval.val as interval.display for interval in intervalOptions | filter: intervalEnabled"\n                      ng-blur="toggleInterval()"\n                      data-test-subj="discoverIntervalSelect"\n                    >\n                    </select>\n                    <span ng-if="bucketInterval.scaled">\n                      <icon-tip\n                        content="getBucketIntervalToolTipText()"\n                        position="\'top\'"\n                      ></icon-tip>\n                      <span\n                        i18n-id="kbn.discover.scaledToDescription"\n                        i18n-default-message="Scaled to {bucketIntervalDescription}"\n                        i18n-values="{\n                          bucketIntervalDescription: bucketInterval.description\n                        }"\n                      ></span>\n                    </span>\n                  </span>\n                </div>\n\n              </header>\n\n              <div id="discoverHistogram"\n                ng-show="vis && rows.length !== 0"\n                style="display: flex; height: 200px"\n              >\n              </div>\n            </section>\n\n            <section\n              class="dscTable"\n              fixed-scroll\n              aria-label="{{::\'kbn.discover.documentsAriaLabel\' | i18n: {defaultMessage: \'Documents\'} }}"\n            >\n              <doc-table\n                hits="rows"\n                index-pattern="indexPattern"\n                sorting="state.sort"\n                columns="state.columns"\n                infinite-scroll="true"\n                filter="filterQuery"\n                filters="state.filters"\n                data-shared-item\n                data-title="{{opts.savedSearch.lastSavedTitle}}"\n                data-description="{{opts.savedSearch.description}}"\n                minimum-visible-rows="minimumVisibleRows"\n                render-complete\n                on-add-column="addColumn"\n                on-change-sort-order="setSortOrder"\n                on-move-column="moveColumn"\n                on-remove-column="removeColumn"\n              ></doc-table>\n\n              <a tabindex="0" id="discoverBottomMarker"></a>\n\n              <div\n                ng-if="rows.length == opts.sampleSize"\n                class="dscTable__footer"\n              >\n                <span\n                  i18n-id="kbn.discover.howToSeeOtherMatchingDocumentsDescription"\n                  i18n-default-message="These are the first {sampleSize} documents matching\n                  your search, refine your search to see others. "\n                  i18n-values="{\n                    sampleSize: opts.sampleSize,\n                  }"\n                ></span>\n                <a\n                  kbn-accessible-click\n                  ng-click="scrollToTop()"\n                  i18n-id="kbn.discover.backToTopLinkText"\n                  i18n-default-message="Back to top."\n                ></a>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</discover-app>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1998)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(81);var _react=_interopRequireWildcard(__webpack_require__(0));var _modules=__webpack_require__(6);var _i18n=__webpack_require__(11);var _react2=__webpack_require__(5);var _new_platform=__webpack_require__(8);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var DiscoverFetchError=function DiscoverFetchError(_ref){var fetchError=_ref.fetchError;if(!fetchError){return null}var body;if(fetchError.lang==="painless"){var managementUrl=_new_platform.npStart.core.chrome.navLinks.get("kibana:management").url;var url="".concat(managementUrl,"/kibana/index_patterns");body=_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.fetchError.howToAddressErrorDescription",defaultMessage:"You can address this error by editing the {fetchErrorScript} field in {managementLink}, under the {scriptedFields} tab.",values:{fetchErrorScript:"'".concat(fetchError.script,"'"),scriptedFields:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.fetchError.scriptedFieldsText",defaultMessage:"Scripted fields"}),managementLink:_react.default.createElement("a",{href:url},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.fetchError.managmentLinkText",defaultMessage:"Management > Index Patterns"}))}}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center","data-test-subj":"discoverFetchError"},_react.default.createElement(_eui.EuiFlexItem,{grow:false,className:"discoverFetchError"},_react.default.createElement(_eui.EuiCallOut,{title:fetchError.message,color:"danger",iconType:"cross"},body,_react.default.createElement(_eui.EuiCodeBlock,null,fetchError.error)))),_react.default.createElement(_eui.EuiSpacer,{size:"xl"}))};var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverFetchError",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(DiscoverFetchError))})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPainlessError=getPainlessError;var _i18n=__webpack_require__(2);var _lodash=__webpack_require__(1);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function getPainlessError(error){var rootCause=(0,_lodash.get)(error,"resp.error.root_cause");if(!rootCause){return}var _rootCause=_slicedToArray(rootCause,1),_rootCause$=_rootCause[0],lang=_rootCause$.lang,script=_rootCause$.script;if(lang!=="painless"){return}return{lang:lang,script:script,message:_i18n.i18n.translate("kbn.discover.painlessError.painlessScriptedFieldErrorMessage",{defaultMessage:"Error with Painless scripted field '{script}'.",values:{script:script}}),error:error.message}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showShareContextMenu=showShareContextMenu;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _eui=__webpack_require__(3);var _i18n=__webpack_require__(11);var _share_context_menu=__webpack_require__(2001);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;var container=document.createElement("div");var onClose=function onClose(){_reactDom.default.unmountComponentAtNode(container);isOpen=false};function showShareContextMenu(_ref){var anchorElement=_ref.anchorElement,allowEmbed=_ref.allowEmbed,allowShortUrl=_ref.allowShortUrl,getUnhashableStates=_ref.getUnhashableStates,objectId=_ref.objectId,objectType=_ref.objectType,shareContextMenuExtensions=_ref.shareContextMenuExtensions,sharingData=_ref.sharingData,isDirty=_ref.isDirty;if(isOpen){onClose();return}isOpen=true;document.body.appendChild(container);var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiWrappingPopover,{id:"sharePopover",button:anchorElement,isOpen:true,closePopover:onClose,panelPaddingSize:"none",withTitle:true,anchorPosition:"downLeft"},_react.default.createElement(_share_context_menu.ShareContextMenu,{allowEmbed:allowEmbed,allowShortUrl:allowShortUrl,getUnhashableStates:getUnhashableStates,objectId:objectId,objectType:objectType,shareContextMenuExtensions:shareContextMenuExtensions,sharingData:sharingData,isDirty:isDirty,onClose:onClose})));_reactDom.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.ShareContextMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);var _url_panel_content=__webpack_require__(2002);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ShareContextMenuUI=function(_Component){_inherits(ShareContextMenuUI,_Component);function ShareContextMenuUI(){var _getPrototypeOf2;var _this;_classCallCheck(this,ShareContextMenuUI);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ShareContextMenuUI)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"getPanels",function(){var panels=[];var menuItems=[];var intl=_this.props.intl;var permalinkPanel={id:panels.length+1,title:intl.formatMessage({id:"common.ui.share.contextMenu.permalinkPanelTitle",defaultMessage:"Permalink"}),content:_react.default.createElement(_url_panel_content.UrlPanelContent,{allowShortUrl:_this.props.allowShortUrl,objectId:_this.props.objectId,objectType:_this.props.objectType,getUnhashableStates:_this.props.getUnhashableStates})};menuItems.push({name:intl.formatMessage({id:"common.ui.share.contextMenu.permalinksLabel",defaultMessage:"Permalinks"}),icon:"link",panel:permalinkPanel.id,sortOrder:0});panels.push(permalinkPanel);if(_this.props.allowEmbed){var embedPanel={id:panels.length+1,title:intl.formatMessage({id:"common.ui.share.contextMenu.embedCodePanelTitle",defaultMessage:"Embed Code"}),content:_react.default.createElement(_url_panel_content.UrlPanelContent,{allowShortUrl:_this.props.allowShortUrl,isEmbedded:true,objectId:_this.props.objectId,objectType:_this.props.objectType,getUnhashableStates:_this.props.getUnhashableStates})};panels.push(embedPanel);menuItems.push({name:intl.formatMessage({id:"common.ui.share.contextMenu.embedCodeLabel",defaultMessage:"Embed code"}),icon:"console",panel:embedPanel.id,sortOrder:0})}if(_this.props.shareContextMenuExtensions){var _this$props=_this.props,objectType=_this$props.objectType,objectId=_this$props.objectId,getUnhashableStates=_this$props.getUnhashableStates,sharingData=_this$props.sharingData,isDirty=_this$props.isDirty,onClose=_this$props.onClose;_this.props.shareContextMenuExtensions.forEach(function(provider){provider.getShareActions({objectType:objectType,objectId:objectId,getUnhashableStates:getUnhashableStates,sharingData:sharingData,isDirty:isDirty,onClose:onClose}).forEach(function(_ref){var shareMenuItem=_ref.shareMenuItem,panel=_ref.panel;var panelId=panels.length+1;panels.push(_objectSpread({},panel,{id:panelId}));menuItems.push(_objectSpread({},shareMenuItem,{panel:panelId}))})})}if(menuItems.length>1){var topLevelMenuPanel={id:panels.length+1,title:intl.formatMessage({id:"common.ui.share.contextMenuTitle",defaultMessage:"Share this {objectType}"},{objectType:_this.props.objectType}),items:menuItems.sort(function(a,b){var aSortOrder=a.sortOrder||0;var bSortOrder=b.sortOrder||0;if(aSortOrder>bSortOrder){return 1}if(aSortOrder<bSortOrder){return-1}if(a.name.toLowerCase().localeCompare(b.name.toLowerCase())>0){return 1}return-1}).map(function(menuItem){menuItem["data-test-subj"]="sharePanel-".concat(menuItem.name.replace(" ",""));delete menuItem.sortOrder;return menuItem})};panels.push(topLevelMenuPanel)}var lastPanelIndex=panels.length-1;var initialPanelId=panels[lastPanelIndex].id;return{panels:panels,initialPanelId:initialPanelId}});return _this}_createClass(ShareContextMenuUI,[{key:"render",value:function render(){var _this$getPanels=this.getPanels(),panels=_this$getPanels.panels,initialPanelId=_this$getPanels.initialPanelId;return _react.default.createElement(_eui.EuiContextMenu,{initialPanelId:initialPanelId,panels:panels,"data-test-subj":"shareContextMenu"})}}]);return ShareContextMenuUI}(_react.Component);var ShareContextMenu=(0,_react2.injectI18n)(ShareContextMenuUI);exports.ShareContextMenu=ShareContextMenu},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.UrlPanelContent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _url=__webpack_require__(38);var _react2=__webpack_require__(5);var _state_hashing=__webpack_require__(114);var _url_shortener=__webpack_require__(2003);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FixedEuiIconTip=_eui.EuiIconTip;var ExportUrlAsType;(function(ExportUrlAsType){ExportUrlAsType["EXPORT_URL_AS_SAVED_OBJECT"]="savedObject";ExportUrlAsType["EXPORT_URL_AS_SNAPSHOT"]="snapshot"})(ExportUrlAsType||(ExportUrlAsType={}));var UrlPanelContentUI=function(_Component){_inherits(UrlPanelContentUI,_Component);function UrlPanelContentUI(props){var _this;_classCallCheck(this,UrlPanelContentUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(UrlPanelContentUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"mounted",void 0);_defineProperty(_assertThisInitialized(_this),"shortUrlCache",void 0);_defineProperty(_assertThisInitialized(_this),"isNotSaved",function(){return _this.props.objectId===undefined||_this.props.objectId===""});_defineProperty(_assertThisInitialized(_this),"resetUrl",function(){if(_this.mounted){_this.shortUrlCache=undefined;_this.setState({useShortUrl:false},_this.setUrl)}});_defineProperty(_assertThisInitialized(_this),"getSavedObjectUrl",function(){if(_this.isNotSaved()){return}var url=window.location.href;var unhashedUrl=(0,_state_hashing.unhashUrl)(url,_this.props.getUnhashableStates());var parsedUrl=(0,_url.parse)(unhashedUrl);if(!parsedUrl||!parsedUrl.hash){return}var parsedAppUrl=(0,_url.parse)(parsedUrl.hash.slice(1),true);return(0,_url.format)({protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.host,pathname:parsedUrl.pathname,hash:(0,_url.format)({pathname:parsedAppUrl.pathname,query:{_g:parsedAppUrl.query._g}})})});_defineProperty(_assertThisInitialized(_this),"getSnapshotUrl",function(){var url=window.location.href;return(0,_state_hashing.unhashUrl)(url,_this.props.getUnhashableStates())});_defineProperty(_assertThisInitialized(_this),"makeUrlEmbeddable",function(url){var embedQueryParam="?embed=true";var urlHasQueryString=url.indexOf("?")!==-1;if(urlHasQueryString){return url.replace("?","".concat(embedQueryParam,"&"))}return"".concat(url).concat(embedQueryParam)});_defineProperty(_assertThisInitialized(_this),"makeIframeTag",function(url){if(!url){return}var embeddableUrl=_this.makeUrlEmbeddable(url);return'<iframe src="'.concat(embeddableUrl,'" height="600" width="800"></iframe>')});_defineProperty(_assertThisInitialized(_this),"setUrl",function(){var url;if(_this.state.exportUrlAs===ExportUrlAsType.EXPORT_URL_AS_SAVED_OBJECT){url=_this.getSavedObjectUrl()}else if(_this.state.useShortUrl){url=_this.shortUrlCache}else{url=_this.getSnapshotUrl()}if(_this.props.isEmbedded){url=_this.makeIframeTag(url)}_this.setState({url:url})});_defineProperty(_assertThisInitialized(_this),"handleExportUrlAs",function(optionId){_this.setState({exportUrlAs:optionId},_this.setUrl)});_defineProperty(_assertThisInitialized(_this),"handleShortUrlChange",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(evt){var isChecked,shortUrl;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:isChecked=evt.target.checked;if(!(!isChecked||_this.shortUrlCache!==undefined)){_context.next=4;break}_this.setState({useShortUrl:isChecked},_this.setUrl);return _context.abrupt("return");case 4:_this.setState({isCreatingShortUrl:true,shortUrlErrorMsg:undefined});_context.prev=5;_context.next=8;return(0,_url_shortener.shortenUrl)(_this.getSnapshotUrl());case 8:shortUrl=_context.sent;if(_this.mounted){_this.shortUrlCache=shortUrl;_this.setState({isCreatingShortUrl:false,useShortUrl:isChecked},_this.setUrl)}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](5);if(_this.mounted){_this.shortUrlCache=undefined;_this.setState({useShortUrl:false,isCreatingShortUrl:false,shortUrlErrorMsg:_this.props.intl.formatMessage({id:"common.ui.share.urlPanel.unableCreateShortUrlErrorMessage",defaultMessage:"Unable to create short URL. Error: {errorMessage}"},{errorMessage:_context.t0.message})},_this.setUrl)}case 15:case"end":return _context.stop()}}},_callee,null,[[5,12]])}));return function(_x){return _ref.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"renderExportUrlAsOptions",function(){return[_defineProperty({id:ExportUrlAsType.EXPORT_URL_AS_SNAPSHOT,label:_this.renderWithIconTip(_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.snapshotLabel",defaultMessage:"Snapshot"}),_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.snapshotDescription",defaultMessage:"Snapshot URLs encode the current state of the {objectType} in the URL itself. Edits to the saved {objectType} won't be visible via this URL.",values:{objectType:_this.props.objectType}}))},"data-test-subj","exportAsSnapshot"),_defineProperty({id:ExportUrlAsType.EXPORT_URL_AS_SAVED_OBJECT,disabled:_this.isNotSaved(),label:_this.renderWithIconTip(_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.savedObjectLabel",defaultMessage:"Saved object"}),_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.savedObjectDescription",defaultMessage:"You can share this URL with people to let them load the most recent saved version of this {objectType}.",values:{objectType:_this.props.objectType}}))},"data-test-subj","exportAsSavedObject")]});_defineProperty(_assertThisInitialized(_this),"renderWithIconTip",function(child,tipContent){return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",responsive:false},_react.default.createElement(_eui.EuiFlexItem,null,child),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(FixedEuiIconTip,{content:tipContent,position:"bottom"})))});_defineProperty(_assertThisInitialized(_this),"renderExportAsRadioGroup",function(){var generateLinkAsHelp=_this.isNotSaved()?_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.canNotShareAsSavedObjectHelpText",defaultMessage:"Can't share as saved object until the {objectType} has been saved.",values:{objectType:_this.props.objectType}}):undefined;return _react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.generateLinkAsLabel",defaultMessage:"Generate the link as"}),helpText:generateLinkAsHelp},_react.default.createElement(_eui.EuiRadioGroup,{options:_this.renderExportUrlAsOptions(),idSelected:_this.state.exportUrlAs,onChange:_this.handleExportUrlAs}))});_defineProperty(_assertThisInitialized(_this),"renderShortUrlSwitch",function(){if(_this.state.exportUrlAs===ExportUrlAsType.EXPORT_URL_AS_SAVED_OBJECT||!_this.props.allowShortUrl){return}var shortUrlLabel=_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.shortUrlLabel",defaultMessage:"Short URL"});var switchLabel=_this.state.isCreatingShortUrl?_react.default.createElement("span",null,_react.default.createElement(_eui.EuiLoadingSpinner,{size:"s"})," ",shortUrlLabel):shortUrlLabel;var switchComponent=_react.default.createElement(_eui.EuiSwitch,{label:switchLabel,checked:_this.state.useShortUrl,onChange:_this.handleShortUrlChange,"data-test-subj":"useShortUrl"});var tipContent=_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.shortUrlHelpText",defaultMessage:"We recommend sharing shortened snapshot URLs for maximum compatibility. Internet Explorer has URL length restrictions, and some wiki and markup parsers don't do well with the full-length version of the snapshot URL, but the short URL should work great."});return _react.default.createElement(_eui.EuiFormRow,{helpText:_this.state.shortUrlErrorMsg,"data-test-subj":"createShortUrl"},_this.renderWithIconTip(switchComponent,tipContent))});_this.shortUrlCache=undefined;_this.state={exportUrlAs:ExportUrlAsType.EXPORT_URL_AS_SNAPSHOT,useShortUrl:false,isCreatingShortUrl:false,url:""};return _this}_createClass(UrlPanelContentUI,[{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("hashchange",this.resetUrl);this.mounted=false}},{key:"componentDidMount",value:function componentDidMount(){this.mounted=true;this.setUrl();window.addEventListener("hashchange",this.resetUrl,false)}},{key:"render",value:function render(){var _this2=this;return _react.default.createElement(_eui.EuiForm,{className:"kbnShareContextMenu__finalPanel","data-test-subj":"shareUrlForm"},this.renderExportAsRadioGroup(),this.renderShortUrlSwitch(),_react.default.createElement(_eui.EuiCopy,{textToCopy:this.state.url||"",anchorClassName:"kbnShareContextMenu__copyAnchor"},function(copy){return _react.default.createElement(_eui.EuiButton,{fill:true,onClick:copy,disabled:_this2.state.isCreatingShortUrl||_this2.state.url==="","data-share-url":_this2.state.url,"data-test-subj":"copyShareUrlButton",size:"s"},_this2.props.isEmbedded?_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.copyIframeCodeButtonLabel",defaultMessage:"Copy iFrame code"}):_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.share.urlPanel.copyLinkButtonLabel",defaultMessage:"Copy link"}))}))}}]);return UrlPanelContentUI}(_react.Component);var UrlPanelContent=(0,_react2.injectI18n)(UrlPanelContentUI);exports.UrlPanelContent=UrlPanelContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.shortenUrl=shortenUrl;var _kfetch=__webpack_require__(39);var _url=_interopRequireDefault(__webpack_require__(38));var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function shortenUrl(_x){return _shortenUrl.apply(this,arguments)}function _shortenUrl(){_shortenUrl=_asyncToGenerator(regeneratorRuntime.mark(function _callee(absoluteUrl){var basePath,parsedUrl,path,hash,relativeUrl,body,resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:basePath=_chrome.default.getBasePath();parsedUrl=_url.default.parse(absoluteUrl);if(!(!parsedUrl||!parsedUrl.path)){_context.next=4;break}return _context.abrupt("return");case 4:path=parsedUrl.path.replace(basePath,"");hash=parsedUrl.hash?parsedUrl.hash:"";relativeUrl=path+hash;body=JSON.stringify({url:relativeUrl});_context.next=10;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/shorten_url",body:body});case 10:resp=_context.sent;return _context.abrupt("return",_url.default.format({protocol:parsedUrl.protocol,host:parsedUrl.host,pathname:"".concat(basePath,"/goto/").concat(resp.urlId)}));case 12:case"end":return _context.stop()}}},_callee)}));return _shortenUrl.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShareContextMenuExtensionsRegistryProvider=void 0;var _registry=__webpack_require__(44);var ShareContextMenuExtensionsRegistryProvider=(0,_registry.uiRegistry)({name:"shareContextMenuExtensions",index:["id"]});exports.ShareContextMenuExtensionsRegistryProvider=ShareContextMenuExtensionsRegistryProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showOpenSearchPanel=showOpenSearchPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _open_search_panel=__webpack_require__(2006);var _i18n=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;function showOpenSearchPanel(_ref){var makeUrl=_ref.makeUrl;if(isOpen){return}isOpen=true;var container=document.createElement("div");var onClose=function onClose(){_reactDom.default.unmountComponentAtNode(container);document.body.removeChild(container);isOpen=false};document.body.appendChild(container);var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_open_search_panel.OpenSearchPanel,{onClose:onClose,makeUrl:makeUrl}));_reactDom.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OpenSearchPanel=OpenSearchPanel;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _saved_object_finder=__webpack_require__(372);var _risonNode=_interopRequireDefault(__webpack_require__(67));var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SEARCH_OBJECT_TYPE="search";function OpenSearchPanel(props){return _react.default.createElement(_eui.EuiFlyout,{ownFocus:true,onClose:props.onClose,"data-test-subj":"loadSearchForm"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.topNav.openSearchPanel.openSearchTitle",defaultMessage:"Open search"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_saved_object_finder.SavedObjectFinder,{noItemsMessage:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.topNav.openSearchPanel.noSearchesFoundDescription",defaultMessage:"No matching searches found."}),savedObjectMetaData:[{type:SEARCH_OBJECT_TYPE,getIconForSavedObject:function getIconForSavedObject(){return"search"},name:_i18n.i18n.translate("kbn.discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"})}],onChoose:function onChoose(id){window.location.assign(props.makeUrl(id));props.onClose()}})),_react.default.createElement(_eui.EuiFlyoutFooter,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:props.onClose,href:"#/management/kibana/objects?_a=".concat(_risonNode.default.encode({tab:SEARCH_OBJECT_TYPE}))},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.discover.topNav.openSearchPanel.manageSearchesButtonLabel",defaultMessage:"Manage searches"}))))))}OpenSearchPanel.propTypes={onClose:_propTypes.default.func.isRequired,makeUrl:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"tabifyAggResponse",{enumerable:true,get:function get(){return _tabify.tabifyAggResponse}});var _tabify=__webpack_require__(418)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2009);var _i18n=__webpack_require__(2);__webpack_require__(719);__webpack_require__(449);var _routes=_interopRequireDefault(__webpack_require__(19));__webpack_require__(379);var _visualize_listing=_interopRequireDefault(__webpack_require__(2014));var _visualize_listing2=__webpack_require__(2015);var _visualize_constants=__webpack_require__(92);var _feature_catalogue=__webpack_require__(47);var _breadcrumbs=__webpack_require__(768);__webpack_require__(24);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.defaults(/visualize/,{requireDefaultIndex:true,requireUICapability:"visualize.show",badge:function badge(uiCapabilities){if(uiCapabilities.visualize.save){return undefined}return{text:_i18n.i18n.translate("kbn.visualize.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("kbn.visualize.badge.readOnly.tooltip",{defaultMessage:"Unable to save visualizations"}),iconType:"glasses"}}}).when(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,{template:_visualize_listing.default,k7Breadcrumbs:_breadcrumbs.getLandingBreadcrumbs,controller:_visualize_listing2.VisualizeListingController,controllerAs:"listingController",resolve:{createNewVis:function createNewVis(){return false}}}).when(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,{template:_visualize_listing.default,k7Breadcrumbs:_breadcrumbs.getWizardStep1Breadcrumbs,controller:_visualize_listing2.VisualizeListingController,controllerAs:"listingController",resolve:{createNewVis:function createNewVis(){return true}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"visualize",title:"Visualize",description:_i18n.i18n.translate("kbn.visualize.visualizeDescription",{defaultMessage:"Create visualizations and aggregate data stores in your Elasticsearch indices."}),icon:"visualizeApp",path:"/app/kibana#".concat(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH),showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _rxjs=__webpack_require__(16);var _i18n=__webpack_require__(2);__webpack_require__(449);__webpack_require__(2010);__webpack_require__(713);__webpack_require__(767);__webpack_require__(765);var _capabilities=__webpack_require__(37);var _chrome=_interopRequireDefault(__webpack_require__(7));var _react=_interopRequireDefault(__webpack_require__(0));var _angular=_interopRequireDefault(__webpack_require__(17));var _react2=__webpack_require__(5);var _notify=__webpack_require__(9);var _vis_types=__webpack_require__(49);var _doc_title=__webpack_require__(111);var _query_filter=__webpack_require__(51);var _state_monitor_factory=__webpack_require__(465);var _lib=__webpack_require__(2011);var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _editor=_interopRequireDefault(__webpack_require__(2013));var _dashboard_constants=__webpack_require__(376);var _visualize_constants=__webpack_require__(92);var _kibana_parsed_url=__webpack_require__(536);var _absolute_to_parsed_url=__webpack_require__(535);var _migrate_legacy_query=__webpack_require__(126);var _subscribe_with_scope=__webpack_require__(96);var _persisted_log=__webpack_require__(68);var _timefilter=__webpack_require__(22);var _loader=__webpack_require__(459);var _share=__webpack_require__(466);var _state_hashing=__webpack_require__(114);var _show_saved_object_save_modal=__webpack_require__(467);var _saved_object_save_modal=__webpack_require__(468);var _breadcrumbs=__webpack_require__(768);var _new_platform=__webpack_require__(8);var _legacy=__webpack_require__(71);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var savedQueryService=_legacy.setup.search.services.savedQueryService;_routes.default.when(_visualize_constants.VisualizeConstants.CREATE_PATH,{template:_editor.default,k7Breadcrumbs:_breadcrumbs.getCreateBreadcrumbs,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route,Private){var visTypes=Private(_vis_types.VisTypesRegistryProvider);var visType=_lodash.default.find(visTypes,{name:$route.current.params.type});var shouldHaveIndex=visType.requiresSearch&&visType.options.showIndexSelection;var hasIndex=$route.current.params.indexPattern||$route.current.params.savedSearchId;if(shouldHaveIndex&&!hasIndex){throw new Error(_i18n.i18n.translate("kbn.visualize.createVisualization.noIndexPatternOrSavedSearchIdErrorMessage",{defaultMessage:"You must provide either an indexPattern or a savedSearchId"}))}return savedVisualizations.get($route.current.params).catch(redirectWhenMissing({"*":"/visualize"}))}}}).when("".concat(_visualize_constants.VisualizeConstants.EDIT_PATH,"/:id"),{template:_editor.default,k7Breadcrumbs:_breadcrumbs.getEditBreadcrumbs,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route){return savedVisualizations.get($route.current.params.id).then(function(savedVis){_persisted_log.recentlyAccessed.add(savedVis.getFullPath(),savedVis.title,savedVis.id);return savedVis}).catch(redirectWhenMissing({visualization:"/visualize",search:"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern-field":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id}))}}});_modules.uiModules.get("app/visualize",["kibana/url"]).directive("visualizeApp",function(){return{restrict:"E",controllerAs:"visualizeApp",controller:VisEditor}});function VisEditor($scope,$element,$route,AppState,$window,$injector,indexPatterns,kbnUrl,redirectWhenMissing,Private,Promise,config,kbnBaseUrl,localStorage,courier){var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var savedVis=$route.current.locals.savedVis;var vis=savedVis.vis,searchSource=savedVis.searchSource;$scope.vis=vis;var $appStatus=this.appStatus={dirty:!savedVis.id};$scope.topNavMenu=[].concat(_toConsumableArray(_capabilities.capabilities.get().visualize.save?[{id:"save",label:_i18n.i18n.translate("kbn.topNavMenu.saveVisualizationButtonLabel",{defaultMessage:"save"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualizationButtonAriaLabel",{defaultMessage:"Save Visualization"}),testId:"visualizeSaveButton",disableButton:function disableButton(){return Boolean(vis.dirty)},tooltip:function tooltip(){if(vis.dirty){return _i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualizationDisabledButtonTooltip",{defaultMessage:"Apply or Discard your changes before saving"})}},run:function(){var _run=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var onSave,confirmButtonLabel,saveModal;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onSave=function onSave(_ref){var newTitle=_ref.newTitle,newCopyOnSave=_ref.newCopyOnSave,isTitleDuplicateConfirmed=_ref.isTitleDuplicateConfirmed,onTitleDuplicate=_ref.onTitleDuplicate;var currentTitle=savedVis.title;savedVis.title=newTitle;savedVis.copyOnSave=newCopyOnSave;var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return doSave(saveOptions).then(function(_ref2){var id=_ref2.id,error=_ref2.error;if(!id||error){savedVis.title=currentTitle}return{id:id,error:error}})};confirmButtonLabel=$scope.isAddToDashMode()?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.saveDialog.saveAndAddToDashboardButtonLabel",defaultMessage:"Save and add to dashboard"}):null;saveModal=_react.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:onSave,onClose:function onClose(){},title:savedVis.title,showCopyOnSave:savedVis.id?true:false,objectType:"visualization",confirmButtonLabel:confirmButtonLabel});(0,_show_saved_object_save_modal.showSaveModal)(saveModal);case 4:case"end":return _context.stop()}}},_callee)}));function run(){return _run.apply(this,arguments)}return run}()}]:[]),[{id:"share",label:_i18n.i18n.translate("kbn.topNavMenu.shareVisualizationButtonLabel",{defaultMessage:"share"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.shareVisualizationButtonAriaLabel",{defaultMessage:"Share Visualization"}),testId:"shareTopNavButton",run:function run(anchorElement){var hasUnappliedChanges=vis.dirty;var hasUnsavedChanges=$appStatus.dirty;(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:true,allowShortUrl:_capabilities.capabilities.get().visualize.createShortUrl,getUnhashableStates:getUnhashableStates,objectId:savedVis.id,objectType:"visualization",shareContextMenuExtensions:shareContextMenuExtensions,sharingData:{title:savedVis.title},isDirty:hasUnappliedChanges||hasUnsavedChanges})}},{id:"inspector",label:_i18n.i18n.translate("kbn.topNavMenu.openInspectorButtonLabel",{defaultMessage:"inspect"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.openInspectorButtonAriaLabel",{defaultMessage:"Open Inspector for visualization"}),testId:"openInspectorButton",disableButton:function disableButton(){return!vis.hasInspector||!vis.hasInspector()},run:function run(){var inspectorSession=vis.openInspector();var removeWatch=$scope.$on("$destroy",function(){return inspectorSession.close()});inspectorSession.onClose.finally(removeWatch)},tooltip:function tooltip(){if(!vis.hasInspector||!vis.hasInspector()){return _i18n.i18n.translate("kbn.visualize.topNavMenu.openInspectorDisabledButtonTooltip",{defaultMessage:"This visualization doesn't support any inspectors."})}}},{id:"refresh",label:_i18n.i18n.translate("kbn.topNavMenu.refreshButtonLabel",{defaultMessage:"refresh"}),description:_i18n.i18n.translate("kbn.visualize.topNavMenu.refreshButtonAriaLabel",{defaultMessage:"Refresh"}),run:function run(){vis.forceReload()},testId:"visualizeRefreshButton"}]);var stateMonitor;if(savedVis.id){_doc_title.docTitle.change(savedVis.title)}var savedVisState=vis.getState();var stateDefaults={uiState:savedVis.uiStateJSON?JSON.parse(savedVis.uiStateJSON):{},linked:!!savedVis.savedSearchId,query:searchSource.getOwnField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},filters:searchSource.getOwnField("filter")||[],vis:savedVisState};var $state=function initState(){var appState=new AppState(stateDefaults);(0,_lib.migrateAppState)(appState);if(!_angular.default.equals(appState.vis,savedVisState)){Promise.try(function(){vis.setState(appState.vis)}).catch(redirectWhenMissing({"index-pattern-field":"/visualize"}))}return appState}();$scope.filters=queryFilter.getFilters();$scope.onFiltersUpdated=function(filters){queryFilter.setFilters(filters)};$scope.onCancelApplyFilters=function(){$scope.state.$newFilters=[]};$scope.onApplyFilters=function(filters){queryFilter.addFiltersAndChangeTimeFilter(filters);$scope.state.$newFilters=[]};$scope.$watch("state.$newFilters",function(){var filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(filters.length===1){$scope.onApplyFilters(filters)}});$scope.showSaveQuery=_capabilities.capabilities.get().visualize.saveQuery;$scope.$watch(function(){return _capabilities.capabilities.get().visualize.saveQuery},function(newCapability){$scope.showSaveQuery=newCapability});function init(){$scope.savedVis=savedVis;if(vis.indexPattern){$scope.indexPattern=vis.indexPattern}else{indexPatterns.getDefault().then(function(defaultIndexPattern){$scope.indexPattern=defaultIndexPattern})}$scope.searchSource=searchSource;$scope.state=$state;$scope.refreshInterval=_timefilter.timefilter.getRefreshInterval();$scope.uiState=$state.makeStateful("uiState");$scope.appStatus=$appStatus;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.isAddToDashMode=function(){return addToDashMode};$scope.showFilterBar=function(){return vis.type.options.showFilterBar};$scope.showQueryInput=function(){return vis.type.requiresSearch&&vis.type.options.showQueryBar};$scope.showQueryBarTimePicker=function(){return vis.type.options.showTimePicker};$scope.timeRange=_timefilter.timefilter.getTime();$scope.opts=_lodash.default.pick($scope,"savedVis","isAddToDashMode");stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,stateDefaults);stateMonitor.ignoreProps(["vis.listeners"]).onChange(function(status){$appStatus.dirty=status.dirty||!savedVis.id});$scope.$watch("state.query",function(newQuery){var query=(0,_migrate_legacy_query.migrateLegacyQuery)(newQuery);$scope.updateQueryAndFetch({query:query})});$state.replace();var updateTimeRange=function updateTimeRange(){$scope.timeRange=_timefilter.timefilter.getTime();if($scope._handler){$scope._handler.update({timeRange:$scope.timeRange})}};var subscriptions=new _rxjs.Subscription;subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getRefreshIntervalUpdate$(),{next:function next(){$scope.refreshInterval=_timefilter.timefilter.getRefreshInterval()}}));subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getTimeUpdate$(),{next:updateTimeRange}));$scope.fetch=function(){$state.save();savedVis.searchSource.setField("query",$state.query);savedVis.searchSource.setField("filter",$state.filters);$scope.vis.forceReload()};subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,queryFilter.getUpdates$(),{next:function next(){$scope.filters=queryFilter.getFilters();$scope.globalFilters=queryFilter.getGlobalFilters()}}));subscriptions.add((0,_subscribe_with_scope.subscribeWithScope)($scope,queryFilter.getFetches$(),{next:$scope.fetch}));$scope.$on("$destroy",function(){if($scope._handler){$scope._handler.destroy()}savedVis.destroy();stateMonitor.destroy();subscriptions.unsubscribe()});if(!$scope.chrome.getVisible()){(0,_loader.getVisualizeLoader)().then(function(loader){$scope._handler=loader.embedVisualizationWithSavedObject($element.find(".visualize")[0],savedVis,{timeRange:$scope.timeRange,uiState:$scope.uiState,appState:$state,listenOnChange:false})})}}$scope.updateQueryAndFetch=function(_ref3){var query=_ref3.query,dateRange=_ref3.dateRange;var isUpdate=query&&!_lodash.default.isEqual(query,$state.query)||dateRange&&!_lodash.default.isEqual(dateRange,$scope.timeRange);$state.query=query;_timefilter.timefilter.setTime(dateRange);if(!isUpdate)$scope.fetch()};$scope.onRefreshChange=function(_ref4){var isPaused=_ref4.isPaused,refreshInterval=_ref4.refreshInterval;_timefilter.timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:$scope.refreshInterval.value})};$scope.onQuerySaved=function(savedQuery){$scope.savedQuery=savedQuery};$scope.onSavedQueryUpdated=function(savedQuery){$scope.savedQuery=_objectSpread({},savedQuery)};$scope.onClearSavedQuery=function(){delete $scope.savedQuery;delete $state.savedQuery;$state.query={query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")};queryFilter.removeAll();$state.save();$scope.fetch()};var updateStateFromSavedQuery=function updateStateFromSavedQuery(savedQuery){$state.query=savedQuery.attributes.query;queryFilter.setFilters(savedQuery.attributes.filters||[]);if(savedQuery.attributes.timefilter){_timefilter.timefilter.setTime({from:savedQuery.attributes.timefilter.from,to:savedQuery.attributes.timefilter.to});if(savedQuery.attributes.timefilter.refreshInterval){_timefilter.timefilter.setRefreshInterval(savedQuery.attributes.timefilter.refreshInterval)}}$scope.fetch()};$scope.$watch("savedQuery",function(newSavedQuery,oldSavedQuery){if(!newSavedQuery)return;$state.savedQuery=newSavedQuery.id;$state.save();if(newSavedQuery.id===(oldSavedQuery&&oldSavedQuery.id)){updateStateFromSavedQuery(newSavedQuery)}});$scope.$watch("state.savedQuery",function(newSavedQueryId){if(!newSavedQueryId){$scope.savedQuery=undefined;return}savedQueryService.getSavedQuery(newSavedQueryId).then(function(savedQuery){$scope.$evalAsync(function(){$scope.savedQuery=savedQuery;updateStateFromSavedQuery(savedQuery)})})});function doSave(saveOptions){$state.vis.title=savedVis.title;$state.vis.type=savedVis.type||$state.vis.type;savedVis.visState=$state.vis;savedVis.uiStateJSON=_angular.default.toJson($scope.uiState.getChanges());return savedVis.save(saveOptions).then(function(id){$scope.$evalAsync(function(){stateMonitor.setInitialState($state.toJSON());if(id){_notify.toastNotifications.addSuccess({title:_i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualization.successNotificationText",{defaultMessage:"Saved '{visTitle}'",values:{visTitle:savedVis.title}}),"data-test-subj":"saveVisualizationSuccess"});if($scope.isAddToDashMode()){var savedVisualizationParsedUrl=new _kibana_parsed_url.KibanaParsedUrl({basePath:_chrome.default.getBasePath(),appId:kbnBaseUrl.slice("/app/".length),appPath:kbnUrl.eval("".concat(_visualize_constants.VisualizeConstants.EDIT_PATH,"/{{id}}"),{id:savedVis.id})});$window.history.pushState({},"",savedVisualizationParsedUrl.getRootRelativePath());_chrome.default.trackSubUrlForApp("kibana:visualize",savedVisualizationParsedUrl);var lastDashboardAbsoluteUrl=_new_platform.npStart.core.chrome.navLinks.get("kibana:dashboard").url;var dashboardParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(lastDashboardAbsoluteUrl,_chrome.default.getBasePath());dashboardParsedUrl.addQueryParameter(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM,savedVis.id);kbnUrl.change(dashboardParsedUrl.appPath)}else if(savedVis.id===$route.current.params.id){_doc_title.docTitle.change(savedVis.lastSavedTitle);_chrome.default.breadcrumbs.set($injector.invoke(_breadcrumbs.getEditBreadcrumbs))}else{kbnUrl.change("".concat(_visualize_constants.VisualizeConstants.EDIT_PATH,"/{{id}}"),{id:savedVis.id})}}});return{id:id}},function(error){console.error(error);_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.visualize.topNavMenu.saveVisualization.failureNotificationText",{defaultMessage:"Error on saving '{visTitle}'",values:{visTitle:savedVis.title}}),text:error.message,"data-test-subj":"saveVisualizationError"});return{error:error}})}$scope.unlink=function(){if(!$state.linked)return;$state.linked=false;var searchSourceParent=searchSource.getParent();var searchSourceGrandparent=searchSourceParent.getParent();delete savedVis.savedSearchId;delete vis.savedSearchId;searchSourceParent.setField("filter",_lodash.default.union(searchSource.getOwnField("filter"),searchSourceParent.getOwnField("filter")));$state.query=searchSourceParent.getField("query");$state.filters=searchSourceParent.getField("filter");searchSource.setField("index",searchSourceParent.getField("index"));searchSource.setParent(searchSourceGrandparent);_notify.toastNotifications.addSuccess(_i18n.i18n.translate("kbn.visualize.linkedToSearch.unlinkSuccessNotificationText",{defaultMessage:"Unlinked from saved search '{searchTitle}'",values:{searchTitle:savedVis.savedSearch.title}}));$scope.fetch()};$scope.getAdditionalMessage=function(){return'<i class="kuiIcon fa-flask"></i>'+_i18n.i18n.translate("kbn.visualize.experimentalVisInfoText",{defaultMessage:"This visualization is marked as experimental."})+" "+vis.type.feedbackMessage};init()}},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(6);__webpack_require__(498);var _vis_editor_types=__webpack_require__(715);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualizationEditor",function(Private,$timeout,getAppState){var editorTypes=Private(_vis_editor_types.VisEditorTypesRegistryProvider);return{restrict:"E",scope:{savedObj:"=",uiState:"=?",timeRange:"=",filters:"="},link:function link($scope,element){var editorType=$scope.savedObj.vis.type.editor;var Editor=typeof editorType==="function"?editorType:editorTypes.find(function(editor){return editor.key===editorType});var editor=new Editor(element[0],$scope.savedObj);$scope.renderFunction=function(){editor.render({uiState:$scope.uiState,timeRange:$scope.timeRange,filters:$scope.filters,appState:getAppState()})};$scope.$on("render",function(event){event.preventDefault();$timeout(function(){$scope.renderFunction()})});$scope.$on("$destroy",function(){editor.destroy()});$scope.$watchGroup(["timeRange","filters"],(0,_lodash.debounce)(function(){$scope.renderFunction()},100))}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"migrateAppState",{enumerable:true,get:function get(){return _migrate_app_state.migrateAppState}});var _migrate_app_state=__webpack_require__(2012)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.migrateAppState=migrateAppState;var _lodash=__webpack_require__(1);function migrateAppState(appState){if(appState.vis.type!=="table"){return}var visAggs=(0,_lodash.get)(appState,"vis.aggs",[]);var splitCount=0;var migratedAggs=visAggs.map(function(agg){if(agg.schema!=="split"){return agg}splitCount++;if(splitCount===1){return agg}agg.schema="bucket";agg.params=(0,_lodash.omit)(agg.params,["row"]);return agg});if(splitCount<=1){return}appState.vis.aggs=migratedAggs;appState.save()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<visualize-app class="app-container visEditor visEditor--{{ vis.type.name }}">\n  \x3c!-- Linked search. --\x3e\n  <div\n      ng-show="chrome.getVisible()"\n      ng-if="vis.type.requiresSearch && state.linked"\n      class="fullWidth visEditor__linkedMessage"\n    >\n    <div class="kuiVerticalRhythmSmall">\n      {{ ::\'kbn.visualize.linkedToSearchInfoText\' | i18n: { defaultMessage: \'Linked to Saved Search\' } }}\n      <a\n        href="#/discover/{{savedVis.savedSearch.id}}"\n      >\n        {{ savedVis.savedSearch.title }}\n      </a>\n      &nbsp;\n      <a\n        data-test-subj="unlinkSavedSearch"\n        href=""\n        ng-dblclick="unlink()"\n        tooltip="{{ ::\'kbn.visualize.linkedToSearch.unlinkButtonTooltip\' | i18n: { defaultMessage: \'Double click to unlink from Saved Search\' } }}"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-chain-broken"></span>\n      </a>\n    </div>\n  </div>\n\n  \x3c!--\n    Local nav.\n    Most visualizations have all search bar components enabled\n    Some visualizations have fewer options but all visualizations have a search bar\n    which is why show-search-baris set to "true".\n    All visualizaions also have least a timepicker \\ autorefresh component, which is why\n    show-query-bar is set to "true".\n  --\x3e\n  <kbn-top-nav\n    app-name="\'visualize\'"\n    config="topNavMenu"\n    show-search-bar="true"\n    show-query-bar="true"\n    show-query-input="showQueryInput()"\n    show-filter-bar="showFilterBar() && chrome.getVisible()"\n    show-date-picker="showQueryBarTimePicker()"\n    show-auto-refresh-only="!showQueryBarTimePicker()"\n    query="state.query"\n    saved-query="savedQuery"\n    screen-title="state.vis.title"\n    on-query-submit="updateQueryAndFetch"\n    index-patterns="[indexPattern]"\n    filters="filters"\n    on-filters-updated="onFiltersUpdated"\n    date-range-from="timeRange.from"\n    date-range-to="timeRange.to"\n    is-refresh-paused="refreshInterval.pause"\n    refresh-interval="refreshInterval.value"\n    on-refresh-change="onRefreshChange"\n    show-save-query="showSaveQuery"\n    on-saved="onQuerySaved"\n    on-saved-query-updated="onSavedQueryUpdated"\n    on-clear-saved-query="onClearSavedQuery"\n  >\n  </kbn-top-nav>\n\n  \x3c!--\n    The top nav is hidden in embed mode but the filter bar must still be present so\n    we show the filter bar on its own here if the chrome is not visible.\n  --\x3e\n  <filter-bar\n    ng-if="vis.type.options.showFilterBar && !chrome.getVisible()"\n    class-name="\'globalFilterGroup__filterBar\'"\n    filters="filters"\n    on-filters-updated="onFiltersUpdated"\n    index-patterns="[indexPattern]"\n  ></filter-bar>\n\n  <apply-filters-popover\n    key="applyFiltersKey"\n    filters="state.$newFilters"\n    on-cancel="onCancelApplyFilters"\n    on-submit="onApplyFilters"\n  ></apply-filters-popover>\n\n  <div\n    class="euiCallOut euiCallOut--primary euiCallOut--small hide-for-sharing"\n    ng-if="vis.type.shouldMarkAsExperimentalInUI()"\n    data-test-subj="experimentalVisInfo"\n  >\n    <div class="euiText">\n      <p ng-bind-html="getAdditionalMessage()"></p>\n    </div>\n  </div>\n\n  <div class="visualize" ng-if="!chrome.getVisible()"/>\n\n  <visualization-editor\n    ng-if="chrome.getVisible()"\n    saved-obj="savedVis"\n    ui-state="uiState"\n    time-range="timeRange"\n    filters="globalFilters"\n    class="visEditor__content"\n  />\n\n</visualize-app>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n     data-test-subj="visualizeLandingPage"\n>\n  <visualize-listing-table\n    find-items="listingController.fetchItems"\n    delete-items="listingController.deleteSelectedItems"\n    create-item="listingController.createNewVis"\n    get-view-url="listingController.getViewUrl"\n    edit-item="listingController.editItem"\n    listing-limit="listingController.listingLimit"\n  ></visualize-listing-table>\n\n  <new-vis-modal\n    is-open="listingController.showNewVisModal"\n    on-close="listingController.closeNewVisModal"\n    vis-types-registry="listingController.visTypeRegistry"\n    vis-type-aliases="listingController.visTypeAliases"\n  ></new-vis-modal>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingController=VisualizeListingController;var _saved_object_registry=__webpack_require__(69);__webpack_require__(769);var _modules=__webpack_require__(6);var _timefilter=__webpack_require__(22);var _vis_types=__webpack_require__(49);var _chrome=_interopRequireDefault(__webpack_require__(7));var _i18n=__webpack_require__(11);var _notify=__webpack_require__(9);var _saved_objects=__webpack_require__(36);var _visualize_listing_table=__webpack_require__(2016);var _new_vis_modal=__webpack_require__(460);var _visualize_constants=__webpack_require__(92);var _visualizations=__webpack_require__(30);var _i18n2=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("app/visualize",["ngRoute","react"]);app.directive("visualizeListingTable",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_visualize_listing_table.VisualizeListingTable))});app.directive("newVisModal",function(reactDirective){return reactDirective((0,_i18n.wrapInI18nContext)(_new_vis_modal.NewVisModal))});function VisualizeListingController($injector,createNewVis){var _this=this;var Private=$injector.get("Private");var config=$injector.get("config");var kbnUrl=$injector.get("kbnUrl");var savedObjectClient=Private(_saved_objects.SavedObjectsClientProvider);this.visTypeRegistry=Private(_vis_types.VisTypesRegistryProvider);this.visTypeAliases=_visualizations.visualizations.types.visTypeAliasRegistry.get();_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();this.showNewVisModal=false;this.createNewVis=function(){_this.showNewVisModal=true};this.editItem=function(_ref){var editUrl=_ref.editUrl;window.location=_chrome.default.addBasePath(editUrl)};this.getViewUrl=function(_ref2){var editUrl=_ref2.editUrl;return _chrome.default.addBasePath(editUrl)};this.closeNewVisModal=function(){_this.showNewVisModal=false;if(createNewVis){kbnUrl.changePath(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH)}};if(createNewVis){this.createNewVis()}var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;var visualizationService=services.visualizations;this.fetchItems=function(filter){var isLabsEnabled=config.get("visualize:enableLabs");return visualizationService.findListItems(filter,config.get("savedObjects:listingLimit")).then(function(result){_this.totalItems=result.total;return{total:result.total,hits:result.hits.filter(function(result){return isLabsEnabled||result.type.stage!=="experimental"})}})};this.deleteSelectedItems=function deleteSelectedItems(selectedItems){return Promise.all(selectedItems.map(function(item){return savedObjectClient.delete(item.savedObjectType,item.id)})).then(function(){_chrome.default.untrackNavLinksForDeletedSavedObjects(selectedItems.map(function(item){return item.id}))}).catch(function(error){_notify.toastNotifications.addError(error,{title:_i18n2.i18n.translate("kbn.visualize.visualizeListingDeleteErrorTitle",{defaultMessage:"Error deleting visualization"})})})};_chrome.default.breadcrumbs.set([{text:_i18n2.i18n.translate("kbn.visualize.visualizeListingBreadcrumbsTitle",{defaultMessage:"Visualize"})}]);this.listingLimit=config.get("savedObjects:listingLimit")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);var _capabilities=__webpack_require__(37);var _table_list_view=__webpack_require__(770);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var VisualizeListingTableUi=function(_Component){_inherits(VisualizeListingTableUi,_Component);function VisualizeListingTableUi(props){_classCallCheck(this,VisualizeListingTableUi);return _possibleConstructorReturn(this,_getPrototypeOf(VisualizeListingTableUi).call(this,props))}_createClass(VisualizeListingTableUi,[{key:"render",value:function render(){var intl=this.props.intl;return _react.default.createElement(_table_list_view.TableListView,{createItem:this.props.createItem,findItems:this.props.findItems,deleteItems:_capabilities.capabilities.get().visualize.delete?this.props.deleteItems:null,editItem:_capabilities.capabilities.get().visualize.save?this.props.editItem:null,tableColumns:this.getTableColumns(),listingLimit:this.props.listingLimit,initialFilter:"",noItemsFragment:this.getNoItemsMessage(),entityName:intl.formatMessage({id:"kbn.visualize.listing.table.entityName",defaultMessage:"visualization"}),entityNamePlural:intl.formatMessage({id:"kbn.visualize.listing.table.entityNamePlural",defaultMessage:"visualizations"}),tableListTitle:intl.formatMessage({id:"kbn.visualize.listing.table.listTitle",defaultMessage:"Visualizations"})})}},{key:"getTableColumns",value:function getTableColumns(){var _this=this;var intl=this.props.intl;var tableColumns=[{field:"title",name:intl.formatMessage({id:"kbn.visualize.listing.table.titleColumnName",defaultMessage:"Title"}),sortable:true,render:function render(field,record){return _react.default.createElement(_eui.EuiLink,{href:_this.props.getViewUrl(record),"data-test-subj":"visListingTitleLink-".concat(record.title.split(" ").join("-"))},field)}},{field:"typeTitle",name:intl.formatMessage({id:"kbn.visualize.listing.table.typeColumnName",defaultMessage:"Type"}),sortable:true,render:function render(field,record){return _react.default.createElement("span",null,_this.renderItemTypeIcon(record),record.typeTitle,_this.getExperimentalBadge(record))}}];return tableColumns}},{key:"getNoItemsMessage",value:function getNoItemsMessage(){if(this.props.hideWriteControls){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"visualizeApp",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.noItemsMessage",defaultMessage:"Looks like you don't have any visualizations."}))}))}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"visualizeApp",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.createNew.title",defaultMessage:"Create your first visualization"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.createNew.description",defaultMessage:"You can create different visualizations, based on your data."}))),actions:_react.default.createElement(_eui.EuiButton,{onClick:this.props.createItem,fill:true,iconType:"plusInCircle","data-test-subj":"createVisualizationPromptButton"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.visualize.listing.createNew.createButtonLabel",defaultMessage:"Create new visualization"}))}))}},{key:"renderItemTypeIcon",value:function renderItemTypeIcon(item){var icon;if(item.image){icon=_react.default.createElement("img",{className:"visListingTable__typeImage","aria-hidden":"true",alt:"",src:item.image})}else{icon=_react.default.createElement(_eui.EuiIcon,{className:"visListingTable__typeIcon","aria-hidden":"true",type:item.icon||"empty",size:"m"})}return icon}},{key:"getExperimentalBadge",value:function getExperimentalBadge(item){return item.isExperimental&&_react.default.createElement(_eui.EuiBetaBadge,{className:"visListingTable__experimentalIcon",label:"E",title:_i18n.i18n.translate("kbn.visualize.listing.experimentalTitle",{defaultMessage:"Experimental"}),tooltipContent:_i18n.i18n.translate("kbn.visualize.listing.experimentalTooltip",{defaultMessage:"This visualization might be changed or removed in a future release and is not subject to the support SLA."})})}}]);return VisualizeListingTableUi}(_react.Component);VisualizeListingTableUi.propTypes={deleteItems:_propTypes.default.func.isRequired,findItems:_propTypes.default.func.isRequired,createItem:_propTypes.default.func.isRequired,getViewUrl:_propTypes.default.func.isRequired,editItem:_propTypes.default.func.isRequired,listingLimit:_propTypes.default.number.isRequired};var VisualizeListingTable=(0,_react2.injectI18n)(VisualizeListingTableUi);exports.VisualizeListingTable=VisualizeListingTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableListView=exports.EMPTY_FILTER=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);var _lodash=_interopRequireDefault(__webpack_require__(1));var _notify=__webpack_require__(9);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMPTY_FILTER="";exports.EMPTY_FILTER=EMPTY_FILTER;var PAGE_SIZE_OPTIONS=[10,20,50];var TableListViewUi=function(_React$Component){_inherits(TableListViewUi,_React$Component);function TableListViewUi(props){var _this;_classCallCheck(this,TableListViewUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(TableListViewUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"debouncedFetch",_lodash.default.debounce(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(filter){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.findItems(filter);case 2:response=_context.sent;if(_this._isMounted){_context.next=5;break}return _context.abrupt("return");case 5:if(filter===_this.state.filter){_this.setState({hasInitialFetchReturned:true,isFetchingItems:false,items:!filter?_lodash.default.sortBy(response.hits,"title"):response.hits,totalItems:response.total,showLimitError:response.total>_this.props.listingLimit})}case 6:case"end":return _context.stop()}}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}(),300));_defineProperty(_assertThisInitialized(_this),"fetchItems",function(){_this.setState({isFetchingItems:true},_this.debouncedFetch.bind(null,_this.state.filter))});_defineProperty(_assertThisInitialized(_this),"deleteSelectedItems",_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var itemsById;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!_this.state.isDeletingItems){_context2.next=2;break}return _context2.abrupt("return");case 2:_this.setState({isDeletingItems:true});_context2.prev=3;itemsById=_lodash.default.indexBy(_this.state.items,"id");_context2.next=7;return _this.props.deleteItems(_this.state.selectedIds.map(function(id){return itemsById[id]}));case 7:_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](3);_notify.toastNotifications.addDanger({title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.unableToDeleteDangerMessage",defaultMessage:"Unable to delete {entityName}(s)",values:{entityName:_this.props.entityName}}),text:"".concat(_context2.t0)});case 12:_this.fetchItems();_this.setState({isDeletingItems:false,selectedIds:[]});_this.closeDeleteModal();case 15:case"end":return _context2.stop()}}},_callee2,null,[[3,9]])})));_defineProperty(_assertThisInitialized(_this),"closeDeleteModal",function(){_this.setState({showDeleteModal:false})});_defineProperty(_assertThisInitialized(_this),"openDeleteModal",function(){_this.setState({showDeleteModal:true})});_this.state={items:[],totalItems:0,hasInitialFetchReturned:false,isFetchingItems:false,isDeletingItems:false,showDeleteModal:false,showLimitError:false,filter:_this.props.initialFilter,selectedIds:[],page:0,perPage:20};return _this}_createClass(TableListViewUi,[{key:"componentWillMount",value:function componentWillMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false;this.debouncedFetch.cancel()}},{key:"componentDidMount",value:function componentDidMount(){this.fetchItems()}},{key:"setFilter",value:function setFilter(filter){this.setState({filter:filter.queryText},this.fetchItems)}},{key:"hasNoItems",value:function hasNoItems(){if(!this.state.isFetchingItems&&this.state.items.length===0&&!this.state.filter){return true}return false}},{key:"renderConfirmDeleteModal",value:function renderConfirmDeleteModal(){var deleteButton=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.deleteSelectedItemsConfirmModal.confirmButtonLabel",defaultMessage:"Delete"});if(this.state.isDeletingItems){deleteButton=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.deleteSelectedItemsConfirmModal.confirmButtonLabelDeleting",defaultMessage:"Deleting"})}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.deleteSelectedConfirmModal.title",defaultMessage:"Delete {itemCount} selected {entityName}?",values:{itemCount:this.state.selectedIds.length,entityName:this.state.selectedIds.length===1?this.props.entityName:this.props.entityNamePlural}}),buttonColor:"danger",onCancel:this.closeDeleteModal,onConfirm:this.deleteSelectedItems,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.deleteSelectedItemsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:deleteButton,defaultFocusedButton:"cancel"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.deleteConfirmModalDescription",defaultMessage:"You can't recover deleted {entityNamePlural}.",values:{entityNamePlural:this.props.entityNamePlural}}))))}},{key:"renderListingLimitWarning",value:function renderListingLimitWarning(){if(this.state.showLimitError){return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.listingLimitExceededTitle",defaultMessage:"Listing limit exceeded"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.listingLimitExceededDescription",defaultMessage:"You have {totalItems} {entityNamePlural}, but your {listingLimitText} setting prevents the table below from displaying more than {listingLimitValue}. You can change this setting under {advancedSettingsLink}.",values:{entityNamePlural:this.props.entityNamePlural,totalItems:this.state.totalItems,listingLimitValue:this.props.listingLimit,listingLimitText:_react.default.createElement("strong",null,"listingLimit"),advancedSettingsLink:_react.default.createElement(_eui.EuiLink,{href:"#/management/kibana/settings"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.listingLimitExceeded.advancedSettingsLinkText",defaultMessage:"Advanced Settings"}))}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}}},{key:"renderNoItemsMessage",value:function renderNoItemsMessage(){if(this.props.noItemsFragment){return this.props.noItemsFragment}else{return _react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.noAvailableItemsMessage",defaultMessage:"No {entityNamePlural} available.",values:{entityNamePlural:this.props.entityNamePlural}})}}},{key:"renderToolsLeft",value:function renderToolsLeft(){var _this2=this;var selection=this.state.selectedIds;if(selection.length===0){return}var onClick=function onClick(){_this2.openDeleteModal()};return _react.default.createElement(_eui.EuiButton,{color:"danger",iconType:"trash",onClick:onClick,"data-test-subj":"deleteSelectedItems"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.deleteButtonMessage",defaultMessage:"Delete {itemCount} {entityName}",values:{itemCount:selection.length,entityName:selection.length===1?this.props.entityName:this.props.entityNamePlural}}))}},{key:"renderTable",value:function renderTable(){var _this3=this;var pagination={pageIndex:this.state.page,pageSize:this.state.perPage,totalItemCount:this.state.items.length,pageSizeOptions:PAGE_SIZE_OPTIONS};var selection=this.props.deleteItems?{onSelectionChange:function onSelectionChange(selection){_this3.setState({selectedIds:selection.map(function(item){return item.id})})}}:null;var actions=[{name:_i18n.i18n.translate("kbn.table_list_view.listing.table.editActionName",{defaultMessage:"Edit"}),description:_i18n.i18n.translate("kbn.table_list_view.listing.table.editActionDescription",{defaultMessage:"Edit"}),icon:"pencil",type:"icon",onClick:this.props.editItem}];var search={onChange:this.setFilter.bind(this),toolsLeft:this.renderToolsLeft(),defaultQuery:this.state.filter,box:{incremental:true}};var columns=this.props.tableColumns.slice();if(this.props.editItem){columns.push({name:_i18n.i18n.translate("kbn.table_list_view.listing.table.actionTitle",{defaultMessage:"Actions"}),width:"100px",actions:actions})}var noItemsMessage=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.noMatchedItemsMessage",defaultMessage:"No {entityNamePlural} matched your search.",values:{entityNamePlural:this.props.entityNamePlural}});return _react.default.createElement(_eui.EuiInMemoryTable,{itemId:"id",items:this.state.items,columns:columns,pagination:pagination,loading:this.state.isFetchingItems,message:noItemsMessage,selection:selection,search:search,sorting:true,"data-test-subj":"itemsInMemTable"})}},{key:"renderListingOrEmptyState",value:function renderListingOrEmptyState(){if(this.hasNoItems()){return this.renderNoItemsMessage()}return this.renderListing()}},{key:"renderListing",value:function renderListing(){var createButton;if(this.props.createItem){createButton=_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{onClick:this.props.createItem,"data-test-subj":"newItemButton",iconType:"plusInCircle",fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.table_list_view.listing.createNewItemButtonLabel",defaultMessage:"Create new {entityName}",values:{entityName:this.props.entityName}})))}return _react.default.createElement("div",null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd","data-test-subj":"top-nav"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h1",null,this.props.tableListTitle))),createButton),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderListingLimitWarning(),this.renderTable())}},{key:"renderPageContent",value:function renderPageContent(){if(!this.state.hasInitialFetchReturned){return}return _react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},this.renderListingOrEmptyState())}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPage,{"data-test-subj":this.props.entityName+"LandingPage",className:"itemListing__page",restrictWidth:true},_react.default.createElement(_eui.EuiPageBody,null,this.renderPageContent()))}}]);return TableListViewUi}(_react.default.Component);TableListViewUi.propTypes={tableColumns:_propTypes.default.array.isRequired,noItemsFragment:_propTypes.default.object,findItems:_propTypes.default.func.isRequired,deleteItems:_propTypes.default.func,createItem:_propTypes.default.func,editItem:_propTypes.default.func,listingLimit:_propTypes.default.number,initialFilter:_propTypes.default.string,entityName:_propTypes.default.string.isRequired,entityNamePlural:_propTypes.default.string.isRequired,tableListTitle:_propTypes.default.string.isRequired};TableListViewUi.defaultProps={initialFilter:EMPTY_FILTER};var TableListView=(0,_react2.injectI18n)(TableListViewUi);exports.TableListView=TableListView},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2019);var _i18n=__webpack_require__(2);__webpack_require__(717);__webpack_require__(2036);var _routes=_interopRequireDefault(__webpack_require__(19));var _chrome=_interopRequireDefault(__webpack_require__(7));var _i18n2=__webpack_require__(11);var _notify=__webpack_require__(9);var _dashboard_app2=_interopRequireDefault(__webpack_require__(2037));var _dashboard_listing_ng_wrapper=_interopRequireDefault(__webpack_require__(2038));var _dashboard_constants=__webpack_require__(376);var _errors=__webpack_require__(25);var _feature_catalogue=__webpack_require__(47);var _saved_objects=__webpack_require__(36);var _persisted_log=__webpack_require__(68);var _saved_object_registry=__webpack_require__(69);var _dashboard_listing=__webpack_require__(2039);var _modules=__webpack_require__(6);__webpack_require__(379);__webpack_require__(24);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("app/dashboard",["ngRoute","react"]);app.directive("dashboardListing",function(reactDirective){return reactDirective((0,_i18n2.wrapInI18nContext)(_dashboard_listing.DashboardListing))});function createNewDashboardCtrl($scope){$scope.visitVisualizeAppLinkText=_i18n.i18n.translate("kbn.dashboard.visitVisualizeAppLinkText",{defaultMessage:"visit the Visualize app"})}_routes.default.defaults(/dashboard/,{requireDefaultIndex:true,requireUICapability:"dashboard.show",badge:function badge(uiCapabilities){if(uiCapabilities.dashboard.showWriteControls){return undefined}return{text:_i18n.i18n.translate("kbn.dashboard.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("kbn.dashboard.badge.readOnly.tooltip",{defaultMessage:"Unable to save dashboards"}),iconType:"glasses"}}}).when(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH,{template:_dashboard_listing_ng_wrapper.default,controller:function controller($injector,$location,$scope,Private,config){var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;var kbnUrl=$injector.get("kbnUrl");var dashboardConfig=$injector.get("dashboardConfig");$scope.listingLimit=config.get("savedObjects:listingLimit");$scope.create=function(){kbnUrl.redirect(_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL)};$scope.find=function(search){return services.dashboards.find(search,$scope.listingLimit)};$scope.editItem=function(_ref){var id=_ref.id;kbnUrl.redirect("".concat((0,_dashboard_constants.createDashboardEditUrl)(id),"?_a=(viewMode:edit)"))};$scope.getViewUrl=function(_ref2){var id=_ref2.id;return _chrome.default.addBasePath("#".concat((0,_dashboard_constants.createDashboardEditUrl)(id)))};$scope.delete=function(dashboards){return services.dashboards.delete(dashboards.map(function(d){return d.id}))};$scope.hideWriteControls=dashboardConfig.getHideWriteControls();$scope.initialFilter=$location.search().filter||_dashboard_listing.EMPTY_FILTER;_chrome.default.breadcrumbs.set([{text:_i18n.i18n.translate("kbn.dashboard.dashboardBreadcrumbsTitle",{defaultMessage:"Dashboards"})}])},resolve:{dash:function dash($route,Private,redirectWhenMissing,kbnUrl){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var title=$route.current.params.title;if(title){return savedObjectsClient.find({search:'"'.concat(title,'"'),search_fields:"title",type:"dashboard"}).then(function(results){var matchingDashboards=results.savedObjects.filter(function(dashboard){return dashboard.attributes.title.toLowerCase()===title.toLowerCase()});if(matchingDashboards.length===1){kbnUrl.redirect((0,_dashboard_constants.createDashboardEditUrl)(matchingDashboards[0].id))}else{kbnUrl.redirect("".concat(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH,'?filter="').concat(title,'"'))}throw _routes.default.WAIT_FOR_URL_CHANGE_TOKEN}).catch(redirectWhenMissing({dashboard:_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}))}}}}).when(_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL,{template:_dashboard_app2.default,controller:createNewDashboardCtrl,requireUICapability:"dashboard.createNew",resolve:{dash:function dash(savedDashboards,redirectWhenMissing){return savedDashboards.get().catch(redirectWhenMissing({dashboard:_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}))}}}).when((0,_dashboard_constants.createDashboardEditUrl)(":id"),{template:_dashboard_app2.default,controller:createNewDashboardCtrl,resolve:{dash:function dash(savedDashboards,$route,redirectWhenMissing,kbnUrl,AppState){var id=$route.current.params.id;return savedDashboards.get(id).then(function(savedDashboard){_persisted_log.recentlyAccessed.add(savedDashboard.getFullPath(),savedDashboard.title,id);return savedDashboard}).catch(function(error){if(error instanceof _errors.InvalidJSONProperty){_notify.toastNotifications.addDanger(error.message);kbnUrl.redirect(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH);return}if(error instanceof _errors.SavedObjectNotFound&&id==="create"){kbnUrl.redirect(_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL,{},new AppState);_notify.toastNotifications.addWarning(_i18n.i18n.translate("kbn.dashboard.urlWasRemovedInSixZeroWarningMessage",{defaultMessage:'The url "dashboard/create" was removed in 6.0. Please update your bookmarks.'}))}else{throw error}}).catch(redirectWhenMissing({dashboard:_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}))}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"dashboard",title:_i18n.i18n.translate("kbn.dashboard.featureCatalogue.dashboardTitle",{defaultMessage:"Dashboard"}),description:_i18n.i18n.translate("kbn.dashboard.featureCatalogue.dashboardDescription",{defaultMessage:"Display and share a collection of visualizations and saved searches."}),icon:"dashboardApp",path:"/app/kibana#".concat(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH),showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _dashboard_app_controller=__webpack_require__(2020);var app=_modules.uiModules.get("app/dashboard",["elasticsearch","ngRoute","react","kibana/courier","kibana/config"]);app.directive("dashboardApp",function($injector){var AppState=$injector.get("AppState");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var config=$injector.get("config");var courier=$injector.get("courier");var Private=$injector.get("Private");var indexPatterns=$injector.get("indexPatterns");return{restrict:"E",controllerAs:"dashboardApp",controller:function controller($scope,$route,$routeParams,getAppState,dashboardConfig,localStorage){return new _dashboard_app_controller.DashboardAppController({$route:$route,$scope:$scope,$routeParams:$routeParams,getAppState:getAppState,dashboardConfig:dashboardConfig,localStorage:localStorage,Private:Private,kbnUrl:kbnUrl,AppStateClass:AppState,indexPatterns:indexPatterns,config:config,confirmModal:confirmModal,courier:courier})}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DashboardAppController=void 0;var _lodash=_interopRequireWildcard(__webpack_require__(1));var _i18n=__webpack_require__(2);var _react=_interopRequireDefault(__webpack_require__(0));var _angular=_interopRequireDefault(__webpack_require__(17));var _chrome=_interopRequireDefault(__webpack_require__(7));var _subscribe_with_scope=__webpack_require__(96);var _notify=__webpack_require__(9);var _confirm_modal=__webpack_require__(759);var _query_filter=__webpack_require__(51);var _doc_title=__webpack_require__(727);var _show_saved_object_save_modal=__webpack_require__(467);var _share=__webpack_require__(466);var _migrate_legacy_query=__webpack_require__(126);var _timefilter=__webpack_require__(22);var _get_unhashable_states_provider=__webpack_require__(529);var _capabilities=__webpack_require__(37);var _rxjs=__webpack_require__(16);var _new_platform=__webpack_require__(8);var _saved_object_finder=__webpack_require__(372);var _setup=__webpack_require__(2021);var _public=__webpack_require__(681);var _public2=__webpack_require__(40);var _legacy=__webpack_require__(374);var _show_options_popover=__webpack_require__(2022);var _save_modal=__webpack_require__(2024);var _show_clone_modal=__webpack_require__(2025);var _lib=__webpack_require__(771);var _dashboard_state_manager=__webpack_require__(2032);var _dashboard_constants=__webpack_require__(376);var _get_top_nav_config=__webpack_require__(2033);var _top_nav_ids=__webpack_require__(775);var _dashboard_strings=__webpack_require__(2034);var _embeddable=__webpack_require__(2035);var _embeddable_saved_object_converters=__webpack_require__(774);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var savedQueryService=_setup.data.search.services.savedQueryService;var DashboardAppController=function DashboardAppController(_ref){var _this=this;var $scope=_ref.$scope,$route=_ref.$route,$routeParams=_ref.$routeParams,getAppState=_ref.getAppState,dashboardConfig=_ref.dashboardConfig,localStorage=_ref.localStorage,Private=_ref.Private,kbnUrl=_ref.kbnUrl,AppStateClass=_ref.AppStateClass,indexPatterns=_ref.indexPatterns,config=_ref.config,confirmModal=_ref.confirmModal,courier=_ref.courier;_classCallCheck(this,DashboardAppController);_defineProperty(this,"appStatus",void 0);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var getUnhashableStates=Private(_get_unhashable_states_provider.getUnhashableStatesProvider);var shareContextMenuExtensions=Private(_share.ShareContextMenuExtensionsRegistryProvider);var lastReloadRequestTime=0;var dash=$scope.dash=$route.current.locals.dash;if(dash.id){_doc_title.docTitle.change(dash.title)}var dashboardStateManager=new _dashboard_state_manager.DashboardStateManager({savedDashboard:dash,AppStateClass:AppStateClass,hideWriteControls:dashboardConfig.getHideWriteControls()});$scope.appState=dashboardStateManager.getAppState();if(dashboardStateManager.getIsTimeSavedWithDashboard()&&!getAppState.previouslyStored()){dashboardStateManager.syncTimefilterWithDashboard(_timefilter.timefilter)}$scope.showSaveQuery=_capabilities.capabilities.get().dashboard.saveQuery;var updateIndexPatterns=function updateIndexPatterns(container){if(!container||(0,_public2.isErrorEmbeddable)(container)){return}var panelIndexPatterns=[];Object.values(container.getChildIds()).forEach(function(id){var _panelIndexPatterns;var embeddable=container.getChild(id);if((0,_public2.isErrorEmbeddable)(embeddable))return;var embeddableIndexPatterns=embeddable.getOutput().indexPatterns;if(!embeddableIndexPatterns)return;(_panelIndexPatterns=panelIndexPatterns).push.apply(_panelIndexPatterns,_toConsumableArray(embeddableIndexPatterns))});panelIndexPatterns=(0,_lodash.uniq)(panelIndexPatterns,"id");if(panelIndexPatterns&&panelIndexPatterns.length>0){$scope.$evalAsync(function(){$scope.indexPatterns=panelIndexPatterns})}else{indexPatterns.getDefault().then(function(defaultIndexPattern){$scope.$evalAsync(function(){$scope.indexPatterns=[defaultIndexPattern]})})}};var getDashboardInput=function getDashboardInput(){var embeddablesMap={};dashboardStateManager.getPanels().forEach(function(panel){embeddablesMap[panel.panelIndex]=(0,_embeddable_saved_object_converters.convertSavedDashboardPanelToPanelState)(panel,dashboardStateManager.getUseMargins())});var expandedPanelId;if(dashboardContainer&&!(0,_public2.isErrorEmbeddable)(dashboardContainer)){expandedPanelId=dashboardContainer.getInput().expandedPanelId}return{id:dashboardStateManager.savedDashboard.id||"",filters:queryFilter.getFilters(),hidePanelTitles:dashboardStateManager.getHidePanelTitles(),query:$scope.model.query,timeRange:_objectSpread({},_lodash.default.cloneDeep(_timefilter.timefilter.getTime())),refreshConfig:_timefilter.timefilter.getRefreshInterval(),viewMode:dashboardStateManager.getViewMode(),panels:embeddablesMap,isFullScreenMode:dashboardStateManager.getFullScreenMode(),useMargins:dashboardStateManager.getUseMargins(),lastReloadRequestTime:lastReloadRequestTime,title:dashboardStateManager.getTitle(),description:dashboardStateManager.getDescription(),expandedPanelId:expandedPanelId}};var updateState=function updateState(){$scope.model={query:dashboardStateManager.getQuery(),filters:queryFilter.getFilters(),timeRestore:dashboardStateManager.getTimeRestore(),title:dashboardStateManager.getTitle(),description:dashboardStateManager.getDescription(),timeRange:_timefilter.timefilter.getTime(),refreshInterval:_timefilter.timefilter.getRefreshInterval()};$scope.panels=dashboardStateManager.getPanels();$scope.screenTitle=dashboardStateManager.getTitle()};updateState();var dashboardContainer;var inputSubscription;var outputSubscription;var dashboardDom=document.getElementById("dashboardViewport");var dashboardFactory=_legacy.start.getEmbeddableFactory(_public.DASHBOARD_CONTAINER_TYPE);dashboardFactory.create(getDashboardInput()).then(function(container){if(!(0,_public2.isErrorEmbeddable)(container)){dashboardContainer=container;updateIndexPatterns(dashboardContainer);outputSubscription=dashboardContainer.getOutput$().subscribe(function(){updateIndexPatterns(dashboardContainer)});inputSubscription=dashboardContainer.getInput$().subscribe(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var dirty;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dirty=false;if(_lodash.default.isEqual(container.getInput().filters,queryFilter.getFilters())){_context.next=6;break}_context.next=4;return queryFilter.addFilters(_lodash.default.cloneDeep(container.getInput().filters));case 4:dashboardStateManager.applyFilters($scope.model.query,container.getInput().filters);dirty=true;case 6:$scope.$evalAsync(function(){dashboardStateManager.handleDashboardContainerChanges(container);if(dirty){updateState()}});case 7:case"end":return _context.stop()}}},_callee)})));dashboardStateManager.registerChangeListener(function(){refreshDashboardContainer()});if($routeParams[_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM]){container.addSavedObjectEmbeddable(_embeddable.VISUALIZE_EMBEDDABLE_TYPE,$routeParams[_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM]);kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);kbnUrl.removeParam(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM)}}if(dashboardDom){container.render(dashboardDom)}});this.appStatus={dirty:!dash.id};dashboardStateManager.registerChangeListener(function(status){_this.appStatus.dirty=status.dirty||!dash.id;updateState()});dashboardStateManager.applyFilters(dashboardStateManager.getQuery()||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},queryFilter.getFilters());_timefilter.timefilter.disableTimeRangeSelector();_timefilter.timefilter.disableAutoRefreshSelector();var landingPageUrl=function landingPageUrl(){return"#".concat(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH)};var getDashTitle=function getDashTitle(){return(0,_dashboard_strings.getDashboardTitle)(dashboardStateManager.getTitle(),dashboardStateManager.getViewMode(),dashboardStateManager.getIsDirty(_timefilter.timefilter))};var updateBreadcrumbs=function updateBreadcrumbs(){_chrome.default.breadcrumbs.set([{text:_i18n.i18n.translate("kbn.dashboard.dashboardAppBreadcrumbsTitle",{defaultMessage:"Dashboard"}),href:landingPageUrl()},{text:getDashTitle()}])};updateBreadcrumbs();dashboardStateManager.registerChangeListener(updateBreadcrumbs);$scope.getShouldShowEditHelp=function(){return!dashboardStateManager.getPanels().length&&dashboardStateManager.getIsEditMode()&&!dashboardConfig.getHideWriteControls()};$scope.getShouldShowViewHelp=function(){return!dashboardStateManager.getPanels().length&&dashboardStateManager.getIsViewMode()&&!dashboardConfig.getHideWriteControls()};var getChangesFromAppStateForContainerState=function getChangesFromAppStateForContainerState(){var appStateDashboardInput=getDashboardInput();if(!dashboardContainer||(0,_public2.isErrorEmbeddable)(dashboardContainer)){return appStateDashboardInput}var containerInput=dashboardContainer.getInput();var differences={};Object.keys(containerInput).forEach(function(key){var containerValue=containerInput[key];var appStateValue=appStateDashboardInput[key];if(!_lodash.default.isEqual(containerValue,appStateValue)){differences[key]=appStateValue}});return Object.values(differences).length===0?undefined:differences};var refreshDashboardContainer=function refreshDashboardContainer(){var changes=getChangesFromAppStateForContainerState();if(changes&&dashboardContainer){dashboardContainer.updateInput(changes)}};$scope.updateQueryAndFetch=function(_ref3){var query=_ref3.query,dateRange=_ref3.dateRange;if(dateRange){_timefilter.timefilter.setTime(dateRange)}var oldQuery=$scope.model.query;if(_lodash.default.isEqual(oldQuery,query)){lastReloadRequestTime=(new Date).getTime();refreshDashboardContainer()}else{$scope.model.query=query;dashboardStateManager.applyFilters($scope.model.query,$scope.model.filters)}};$scope.onRefreshChange=function(_ref4){var isPaused=_ref4.isPaused,refreshInterval=_ref4.refreshInterval;_timefilter.timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:$scope.model.refreshInterval.value})};$scope.onFiltersUpdated=function(filters){queryFilter.setFilters(filters)};$scope.onCancelApplyFilters=function(){$scope.appState.$newFilters=[]};$scope.onApplyFilters=function(filters){queryFilter.addFiltersAndChangeTimeFilter(filters);$scope.appState.$newFilters=[]};$scope.onQuerySaved=function(savedQuery){$scope.savedQuery=savedQuery};$scope.onSavedQueryUpdated=function(savedQuery){$scope.savedQuery=_objectSpread({},savedQuery)};$scope.onClearSavedQuery=function(){delete $scope.savedQuery;dashboardStateManager.setSavedQueryId(undefined);queryFilter.removeAll();dashboardStateManager.applyFilters({query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},[])};var updateStateFromSavedQuery=function updateStateFromSavedQuery(savedQuery){queryFilter.setFilters(savedQuery.attributes.filters||[]);dashboardStateManager.applyFilters(savedQuery.attributes.query,savedQuery.attributes.filters||[]);if(savedQuery.attributes.timefilter){_timefilter.timefilter.setTime({from:savedQuery.attributes.timefilter.from,to:savedQuery.attributes.timefilter.to});if(savedQuery.attributes.timefilter.refreshInterval){_timefilter.timefilter.setRefreshInterval(savedQuery.attributes.timefilter.refreshInterval)}}};$scope.$watch("savedQuery",function(newSavedQuery,oldSavedQuery){if(!newSavedQuery)return;dashboardStateManager.setSavedQueryId(newSavedQuery.id);if(newSavedQuery.id===(oldSavedQuery&&oldSavedQuery.id)){updateStateFromSavedQuery(newSavedQuery)}});$scope.$watch(function(){return dashboardStateManager.getSavedQueryId()},function(newSavedQueryId){if(!newSavedQueryId){$scope.savedQuery=undefined;return}savedQueryService.getSavedQuery(newSavedQueryId).then(function(savedQuery){$scope.$evalAsync(function(){$scope.savedQuery=savedQuery;updateStateFromSavedQuery(savedQuery)})})});$scope.$watch("appState.$newFilters",function(){var filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(filters.length===1){$scope.onApplyFilters(filters)}});$scope.indexPatterns=[];$scope.$watch("model.query",function(newQuery){var query=(0,_migrate_legacy_query.migrateLegacyQuery)(newQuery);$scope.updateQueryAndFetch({query:query})});$scope.$watch(function(){return _capabilities.capabilities.get().dashboard.saveQuery},function(newCapability){$scope.showSaveQuery=newCapability});$scope.timefilterSubscriptions$=new _rxjs.Subscription;$scope.timefilterSubscriptions$.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getRefreshIntervalUpdate$(),{next:function next(){updateState();refreshDashboardContainer()}}));$scope.timefilterSubscriptions$.add((0,_subscribe_with_scope.subscribeWithScope)($scope,_timefilter.timefilter.getTimeUpdate$(),{next:function next(){updateState();refreshDashboardContainer()}}));function updateViewMode(newMode){$scope.topNavMenu=(0,_get_top_nav_config.getTopNavConfig)(newMode,navActions,dashboardConfig.getHideWriteControls());dashboardStateManager.switchViewMode(newMode)}var onChangeViewMode=function onChangeViewMode(newMode){var isPageRefresh=newMode===dashboardStateManager.getViewMode();var isLeavingEditMode=!isPageRefresh&&newMode===_public2.ViewMode.VIEW;var willLoseChanges=isLeavingEditMode&&dashboardStateManager.getIsDirty(_timefilter.timefilter);if(!willLoseChanges){updateViewMode(newMode);return}function revertChangesAndExitEditMode(){dashboardStateManager.resetState();kbnUrl.change(dash.id?(0,_dashboard_constants.createDashboardEditUrl)(dash.id):_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL);updateViewMode(_public2.ViewMode.VIEW);if(dashboardStateManager.getIsTimeSavedWithDashboard()){dashboardStateManager.syncTimefilterWithDashboard(_timefilter.timefilter)}}confirmModal(_i18n.i18n.translate("kbn.dashboard.changeViewModeConfirmModal.discardChangesDescription",{defaultMessage:"Once you discard your changes, there's no getting them back."}),{onConfirm:revertChangesAndExitEditMode,onCancel:_lodash.default.noop,confirmButtonText:_i18n.i18n.translate("kbn.dashboard.changeViewModeConfirmModal.confirmButtonLabel",{defaultMessage:"Discard changes"}),cancelButtonText:_i18n.i18n.translate("kbn.dashboard.changeViewModeConfirmModal.cancelButtonLabel",{defaultMessage:"Continue editing"}),defaultFocusedButton:_confirm_modal.ConfirmationButtonTypes.CANCEL,title:_i18n.i18n.translate("kbn.dashboard.changeViewModeConfirmModal.discardChangesTitle",{defaultMessage:"Discard changes to dashboard?"})})};function save(saveOptions){return(0,_lib.saveDashboard)(_angular.default.toJson,_timefilter.timefilter,dashboardStateManager,saveOptions).then(function(id){if(id){_notify.toastNotifications.addSuccess({title:_i18n.i18n.translate("kbn.dashboard.dashboardWasSavedSuccessMessage",{defaultMessage:"Dashboard '{dashTitle}' was saved",values:{dashTitle:dash.title}}),"data-test-subj":"saveDashboardSuccess"});if(dash.id!==$routeParams.id){kbnUrl.change((0,_dashboard_constants.createDashboardEditUrl)(dash.id))}else{_doc_title.docTitle.change(dash.lastSavedTitle);updateViewMode(_public2.ViewMode.VIEW)}}return{id:id}}).catch(function(error){_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.dashboard.dashboardWasNotSavedDangerMessage",{defaultMessage:"Dashboard '{dashTitle}' was not saved. Error: {errorMessage}",values:{dashTitle:dash.title,errorMessage:error.message}}),"data-test-subj":"saveDashboardFailure"});return{error:error}})}$scope.showFilterBar=function(){return $scope.model.filters.length>0||!dashboardStateManager.getFullScreenMode()};$scope.showAddPanel=function(){dashboardStateManager.setFullScreenMode(false);navActions[_top_nav_ids.TopNavIds.ADD]()};$scope.enterEditMode=function(){dashboardStateManager.setFullScreenMode(false);navActions[_top_nav_ids.TopNavIds.ENTER_EDIT_MODE]()};var navActions={};navActions[_top_nav_ids.TopNavIds.FULL_SCREEN]=function(){return dashboardStateManager.setFullScreenMode(true)};navActions[_top_nav_ids.TopNavIds.EXIT_EDIT_MODE]=function(){return onChangeViewMode(_public2.ViewMode.VIEW)};navActions[_top_nav_ids.TopNavIds.ENTER_EDIT_MODE]=function(){return onChangeViewMode(_public2.ViewMode.EDIT)};navActions[_top_nav_ids.TopNavIds.SAVE]=function(){var currentTitle=dashboardStateManager.getTitle();var currentDescription=dashboardStateManager.getDescription();var currentTimeRestore=dashboardStateManager.getTimeRestore();var onSave=function onSave(_ref5){var newTitle=_ref5.newTitle,newDescription=_ref5.newDescription,newCopyOnSave=_ref5.newCopyOnSave,newTimeRestore=_ref5.newTimeRestore,isTitleDuplicateConfirmed=_ref5.isTitleDuplicateConfirmed,onTitleDuplicate=_ref5.onTitleDuplicate;dashboardStateManager.setTitle(newTitle);dashboardStateManager.setDescription(newDescription);dashboardStateManager.savedDashboard.copyOnSave=newCopyOnSave;dashboardStateManager.setTimeRestore(newTimeRestore);var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return save(saveOptions).then(function(response){if(!response.id){dashboardStateManager.setTitle(currentTitle);dashboardStateManager.setDescription(currentDescription);dashboardStateManager.setTimeRestore(currentTimeRestore)}return response})};var dashboardSaveModal=_react.default.createElement(_save_modal.DashboardSaveModal,{onSave:onSave,onClose:function onClose(){},title:currentTitle,description:currentDescription,timeRestore:currentTimeRestore,showCopyOnSave:dash.id?true:false});(0,_show_saved_object_save_modal.showSaveModal)(dashboardSaveModal)};navActions[_top_nav_ids.TopNavIds.CLONE]=function(){var currentTitle=dashboardStateManager.getTitle();var onClone=function onClone(newTitle,isTitleDuplicateConfirmed,onTitleDuplicate){dashboardStateManager.savedDashboard.copyOnSave=true;dashboardStateManager.setTitle(newTitle);var saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};return save(saveOptions).then(function(response){if(response.error){dashboardStateManager.setTitle(currentTitle)}return response})};(0,_show_clone_modal.showCloneModal)(onClone,currentTitle)};navActions[_top_nav_ids.TopNavIds.ADD]=function(){if(dashboardContainer&&!(0,_public2.isErrorEmbeddable)(dashboardContainer)){(0,_public2.openAddPanelFlyout)({embeddable:dashboardContainer,getAllFactories:_legacy.start.getEmbeddableFactories,getFactory:_legacy.start.getEmbeddableFactory,notifications:_new_platform.npStart.core.notifications,overlays:_new_platform.npStart.core.overlays,SavedObjectFinder:_saved_object_finder.SavedObjectFinder})}};navActions[_top_nav_ids.TopNavIds.OPTIONS]=function(anchorElement){(0,_show_options_popover.showOptionsPopover)({anchorElement:anchorElement,useMargins:dashboardStateManager.getUseMargins(),onUseMarginsChange:function onUseMarginsChange(isChecked){dashboardStateManager.setUseMargins(isChecked)},hidePanelTitles:dashboardStateManager.getHidePanelTitles(),onHidePanelTitlesChange:function onHidePanelTitlesChange(isChecked){dashboardStateManager.setHidePanelTitles(isChecked)}})};navActions[_top_nav_ids.TopNavIds.SHARE]=function(anchorElement){(0,_share.showShareContextMenu)({anchorElement:anchorElement,allowEmbed:true,allowShortUrl:!dashboardConfig.getHideWriteControls(),getUnhashableStates:getUnhashableStates,objectId:dash.id,objectType:"dashboard",shareContextMenuExtensions:shareContextMenuExtensions.raw,sharingData:{title:dash.title},isDirty:dashboardStateManager.getIsDirty()})};updateViewMode(dashboardStateManager.getViewMode());var updateSubscription=queryFilter.getUpdates$().subscribe({next:function next(){$scope.model.filters=queryFilter.getFilters();dashboardStateManager.applyFilters($scope.model.query,$scope.model.filters);if(dashboardContainer){dashboardContainer.updateInput({filters:$scope.model.filters})}}});$scope.$on("$destroy",function(){updateSubscription.unsubscribe();$scope.timefilterSubscriptions$.unsubscribe();dashboardStateManager.destroy();if(inputSubscription){inputSubscription.unsubscribe()}if(outputSubscription){outputSubscription.unsubscribe()}if(dashboardContainer){dashboardContainer.destroy()}})};exports.DashboardAppController=DashboardAppController},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.data=void 0;var _legacy=__webpack_require__(71);var data=_legacy.setup;exports.data=data},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showOptionsPopover=showOptionsPopover;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _i18n=__webpack_require__(11);var _eui=__webpack_require__(3);var _options=__webpack_require__(2023);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isOpen=false;var container=document.createElement("div");var onClose=function onClose(){_reactDom.default.unmountComponentAtNode(container);isOpen=false};function showOptionsPopover(_ref){var anchorElement=_ref.anchorElement,useMargins=_ref.useMargins,onUseMarginsChange=_ref.onUseMarginsChange,hidePanelTitles=_ref.hidePanelTitles,onHidePanelTitlesChange=_ref.onHidePanelTitlesChange;if(isOpen){onClose();return}isOpen=true;document.body.appendChild(container);var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiWrappingPopover,{id:"popover",button:anchorElement,isOpen:true,closePopover:onClose},_react.default.createElement(_options.OptionsMenu,{useMargins:useMargins,onUseMarginsChange:onUseMarginsChange,hidePanelTitles:hidePanelTitles,onHidePanelTitlesChange:onHidePanelTitlesChange})));_reactDom.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.OptionsMenu=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OptionsMenuUi=function(_Component){_inherits(OptionsMenuUi,_Component);function OptionsMenuUi(props){var _this;_classCallCheck(this,OptionsMenuUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(OptionsMenuUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{useMargins:_this.props.useMargins,hidePanelTitles:_this.props.hidePanelTitles});_defineProperty(_assertThisInitialized(_this),"handleUseMarginsChange",function(evt){var isChecked=evt.target.checked;_this.props.onUseMarginsChange(isChecked);_this.setState({useMargins:isChecked})});_defineProperty(_assertThisInitialized(_this),"handleHidePanelTitlesChange",function(evt){var isChecked=!evt.target.checked;_this.props.onHidePanelTitlesChange(isChecked);_this.setState({hidePanelTitles:isChecked})});return _this}_createClass(OptionsMenuUi,[{key:"render",value:function render(){return _react.default.createElement(_eui.EuiForm,{"data-test-subj":"dashboardOptionsMenu"},_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{label:this.props.intl.formatMessage({id:"kbn.dashboard.topNav.options.useMarginsBetweenPanelsSwitchLabel",defaultMessage:"Use margins between panels"}),checked:this.state.useMargins,onChange:this.handleUseMarginsChange,"data-test-subj":"dashboardMarginsCheckbox"})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{label:this.props.intl.formatMessage({id:"kbn.dashboard.topNav.options.hideAllPanelTitlesSwitchLabel",defaultMessage:"Show panel titles"}),checked:!this.state.hidePanelTitles,onChange:this.handleHidePanelTitlesChange,"data-test-subj":"dashboardPanelTitlesCheckbox"})))}}]);return OptionsMenuUi}(_react.Component);var OptionsMenu=(0,_react2.injectI18n)(OptionsMenuUi);exports.OptionsMenu=OptionsMenu},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DashboardSaveModal=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);var _saved_object_save_modal=__webpack_require__(468);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DashboardSaveModalUi=function(_React$Component){_inherits(DashboardSaveModalUi,_React$Component);function DashboardSaveModalUi(props){var _this;_classCallCheck(this,DashboardSaveModalUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(DashboardSaveModalUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{description:_this.props.description,timeRestore:_this.props.timeRestore});_defineProperty(_assertThisInitialized(_this),"saveDashboard",function(_ref){var newTitle=_ref.newTitle,newCopyOnSave=_ref.newCopyOnSave,isTitleDuplicateConfirmed=_ref.isTitleDuplicateConfirmed,onTitleDuplicate=_ref.onTitleDuplicate;_this.props.onSave({newTitle:newTitle,newDescription:_this.state.description,newCopyOnSave:newCopyOnSave,newTimeRestore:_this.state.timeRestore,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate})});_defineProperty(_assertThisInitialized(_this),"onDescriptionChange",function(event){_this.setState({description:event.target.value})});_defineProperty(_assertThisInitialized(_this),"onTimeRestoreChange",function(event){_this.setState({timeRestore:event.target.checked})});return _this}_createClass(DashboardSaveModalUi,[{key:"renderDashboardSaveOptions",value:function renderDashboardSaveOptions(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.saveModal.descriptionFormRowLabel",defaultMessage:"Description"})},_react.default.createElement(_eui.EuiTextArea,{"data-test-subj":"dashboardDescription",value:this.state.description,onChange:this.onDescriptionChange})),_react.default.createElement(_eui.EuiFormRow,{helpText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.saveModal.storeTimeWithDashboardFormRowHelpText",defaultMessage:"This changes the time filter to the currently selected time each time this dashboard is loaded."})},_react.default.createElement(_eui.EuiSwitch,{"data-test-subj":"storeTimeWithDashboard",checked:this.state.timeRestore,onChange:this.onTimeRestoreChange,label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.saveModal.storeTimeWithDashboardFormRowLabel",defaultMessage:"Store time with dashboard"})})))}},{key:"render",value:function render(){return _react.default.createElement(_saved_object_save_modal.SavedObjectSaveModal,{onSave:this.saveDashboard,onClose:this.props.onClose,title:this.props.title,showCopyOnSave:this.props.showCopyOnSave,objectType:"dashboard",options:this.renderDashboardSaveOptions()})}}]);return DashboardSaveModalUi}(_react.default.Component);var DashboardSaveModal=(0,_react2.injectI18n)(DashboardSaveModalUi);exports.DashboardSaveModal=DashboardSaveModal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showCloneModal=showCloneModal;var _i18n=__webpack_require__(11);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(13));var _i18n2=__webpack_require__(2);var _clone_modal=__webpack_require__(2026);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function showCloneModal(onClone,title){var container=document.createElement("div");var closeModal=function closeModal(){_reactDom.default.unmountComponentAtNode(container);document.body.removeChild(container)};var onCloneConfirmed=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(newTitle,isTitleDuplicateConfirmed,onTitleDuplicate){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onClone(newTitle,isTitleDuplicateConfirmed,onTitleDuplicate).then(function(response){if(response.error||response.id){closeModal()}});case 1:case"end":return _context.stop()}}},_callee)}));return function onCloneConfirmed(_x,_x2,_x3){return _ref.apply(this,arguments)}}();document.body.appendChild(container);var element=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_clone_modal.DashboardCloneModal,{onClone:onCloneConfirmed,onClose:closeModal,title:_i18n2.i18n.translate("kbn.dashboard.topNav.showCloneModal.dashboardCopyTitle",{defaultMessage:"{title} Copy",values:{title:title}})}));_reactDom.default.render(element,container)}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.DashboardCloneModal=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DashboardCloneModalUi=function(_React$Component){_inherits(DashboardCloneModalUi,_React$Component);function DashboardCloneModalUi(props){var _this;_classCallCheck(this,DashboardCloneModalUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(DashboardCloneModalUi).call(this,props));_defineProperty(_assertThisInitialized(_this),"isMounted",false);_defineProperty(_assertThisInitialized(_this),"onTitleDuplicate",function(){_this.setState({isTitleDuplicateConfirmed:true,hasTitleDuplicate:true})});_defineProperty(_assertThisInitialized(_this),"cloneDashboard",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.next=3;return _this.props.onClone(_this.state.newDashboardName,_this.state.isTitleDuplicateConfirmed,_this.onTitleDuplicate);case 3:if(_this.isMounted){_this.setState({isLoading:false})}case 4:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"onInputChange",function(event){_this.setState({newDashboardName:event.target.value,isTitleDuplicateConfirmed:false,hasTitleDuplicate:false})});_defineProperty(_assertThisInitialized(_this),"renderDuplicateTitleCallout",function(){if(!_this.state.hasTitleDuplicate){return}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{size:"s",title:_this.props.intl.formatMessage({id:"kbn.dashboard.topNav.cloneModal.dashboardExistsTitle",defaultMessage:"A dashboard with the title {newDashboardName} already exists."},{newDashboardName:"'".concat(_this.state.newDashboardName,"'")}),color:"warning","data-test-subj":"titleDupicateWarnMsg"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.cloneModal.dashboardExistsDescription",defaultMessage:"Click {confirmClone} to clone the dashboard with the duplicate title.",values:{confirmClone:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.cloneModal.confirmCloneDescription",defaultMessage:"Confirm Clone"}))}}))))});_this.state={newDashboardName:props.title,isTitleDuplicateConfirmed:false,hasTitleDuplicate:false,isLoading:false};return _this}_createClass(DashboardCloneModalUi,[{key:"componentDidMount",value:function componentDidMount(){this.isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.isMounted=false}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiModal,{"data-test-subj":"dashboardCloneModal",className:"dshCloneModal",onClose:this.props.onClose},_react.default.createElement(_eui.EuiModalHeader,null,_react.default.createElement(_eui.EuiModalHeaderTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.cloneModal.cloneDashboardModalHeaderTitle",defaultMessage:"Clone dashboard"}))),_react.default.createElement(_eui.EuiModalBody,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.cloneModal.enterNewNameForDashboardDescription",defaultMessage:"Please enter a new name for your dashboard."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFieldText,{autoFocus:true,"data-test-subj":"clonedDashboardTitle",value:this.state.newDashboardName,onChange:this.onInputChange,isInvalid:this.state.hasTitleDuplicate}),this.renderDuplicateTitleCallout()),_react.default.createElement(_eui.EuiModalFooter,null,_react.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"cloneCancelButton",onClick:this.props.onClose},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.cloneModal.cancelButtonLabel",defaultMessage:"Cancel"})),_react.default.createElement(_eui.EuiButton,{fill:true,"data-test-subj":"cloneConfirmButton",onClick:this.cloneDashboard,isLoading:this.state.isLoading},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.topNav.cloneModal.confirmButtonLabel",defaultMessage:"Confirm Clone"})))))}}]);return DashboardCloneModalUi}(_react.default.Component);var DashboardCloneModal=(0,_react2.injectI18n)(DashboardCloneModalUi);exports.DashboardCloneModal=DashboardCloneModal},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.saveDashboard=saveDashboard;var _update_saved_dashboard=__webpack_require__(2028);function saveDashboard(toJson,timeFilter,dashboardStateManager,saveOptions){dashboardStateManager.saveState();var savedDashboard=dashboardStateManager.savedDashboard;var appState=dashboardStateManager.appState;(0,_update_saved_dashboard.updateSavedDashboard)(savedDashboard,appState,timeFilter,toJson);return savedDashboard.save(saveOptions).then(function(id){dashboardStateManager.lastSavedDashboardFilters=dashboardStateManager.getFilterState();dashboardStateManager.resetState();return id})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateSavedDashboard=updateSavedDashboard;var _lodash=_interopRequireDefault(__webpack_require__(1));var _filter_utils=__webpack_require__(772);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function updateSavedDashboard(savedDashboard,appState,timeFilter,toJson){savedDashboard.title=appState.title;savedDashboard.description=appState.description;savedDashboard.timeRestore=appState.timeRestore;savedDashboard.panelsJSON=toJson(appState.panels);savedDashboard.optionsJSON=toJson(appState.options);savedDashboard.timeFrom=savedDashboard.timeRestore?_filter_utils.FilterUtils.convertTimeToUTCString(timeFilter.getTime().from):undefined;savedDashboard.timeTo=savedDashboard.timeRestore?_filter_utils.FilterUtils.convertTimeToUTCString(timeFilter.getTime().to):undefined;var timeRestoreObj=_lodash.default.pick(timeFilter.getRefreshInterval(),["display","pause","section","value"]);savedDashboard.refreshInterval=savedDashboard.timeRestore?timeRestoreObj:undefined}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAppStateDefaults=getAppStateDefaults;var _public=__webpack_require__(40);function getAppStateDefaults(savedDashboard,hideWriteControls){return{fullScreenMode:false,title:savedDashboard.title,description:savedDashboard.description||"",timeRestore:savedDashboard.timeRestore,panels:savedDashboard.panelsJSON?JSON.parse(savedDashboard.panelsJSON):[],options:savedDashboard.optionsJSON?JSON.parse(savedDashboard.optionsJSON):{},query:savedDashboard.getQuery(),filters:savedDashboard.getFilters(),viewMode:savedDashboard.id||hideWriteControls?_public.ViewMode.VIEW:_public.ViewMode.EDIT}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.migrateAppState=migrateAppState;var _semver=_interopRequireDefault(__webpack_require__(789));var _chrome=_interopRequireDefault(__webpack_require__(7));var _i18n=__webpack_require__(2);var _public=__webpack_require__(762);var _migrate_to_730_panels=__webpack_require__(2031);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function migrateAppState(appState){if(!appState.panels){throw new Error(_i18n.i18n.translate("kbn.dashboard.panel.invalidData",{defaultMessage:"Invalid data in url"}))}var panelNeedsMigration=appState.panels.some(function(panel){if(panel.version===undefined)return true;var version=panel.version;(0,_public.createUiStatsReporter)("DashboardPanelVersionInUrl")(_public.METRIC_TYPE.LOADED,"".concat(version));return _semver.default.satisfies(version,"<7.3")});if(panelNeedsMigration){appState.panels=(0,_migrate_to_730_panels.migratePanelsTo730)(appState.panels,_chrome.default.getKibanaVersion(),appState.useMargins,appState.uiState);delete appState.uiState;appState.save()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.migratePanelsTo730=migratePanelsTo730;var _i18n=__webpack_require__(2);var _semver=_interopRequireDefault(__webpack_require__(789));var _uuid=_interopRequireDefault(__webpack_require__(31));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var PANEL_HEIGHT_SCALE_FACTOR=5;var PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS=4;var PANEL_WIDTH_SCALE_FACTOR=4;function isPre61Panel(panel){return panel.row!==undefined}function is61Panel(panel){return _semver.default.satisfies(panel.version,"6.1.x")}function is62Panel(panel){return _semver.default.satisfies(panel.version,"6.2.x")}function is63Panel(panel){return _semver.default.satisfies(panel.version,"6.3.x")}function is640To720Panel(panel){return _semver.default.satisfies(panel.version,">6.3")&&_semver.default.satisfies(panel.version,"<7.3")}function migratePre61PanelToLatest(panel,version,useMargins,uiState){if(panel.col===undefined||panel.row===undefined){throw new Error(_i18n.i18n.translate("kbn.dashboard.panel.unableToMigratePanelDataForSixOneZeroErrorMessage",{defaultMessage:'Unable to migrate panel data for "6.1.0" backwards compatibility, panel does not contain expected col and/or row fields'}))}var embeddableConfig=uiState?uiState["P-".concat(panel.panelIndex)]||{}:{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}var heightScaleFactor=useMargins?PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS:PANEL_HEIGHT_SCALE_FACTOR;var DASHBOARD_GRID_COLUMN_COUNT=48;var DEFAULT_PANEL_WIDTH=DASHBOARD_GRID_COLUMN_COUNT/2;var DEFAULT_PANEL_HEIGHT=15;var columns=panel.columns,sort=panel.sort,row=panel.row,col=panel.col,sizeX=panel.size_x,sizeY=panel.size_y,rest=_objectWithoutProperties(panel,["columns","sort","row","col","size_x","size_y"]);var panelIndex=panel.panelIndex?panel.panelIndex.toString():_uuid.default.v4();return _objectSpread({},rest,{version:version,panelIndex:panelIndex,gridData:{x:(col-1)*PANEL_WIDTH_SCALE_FACTOR,y:(row-1)*heightScaleFactor,w:sizeX?sizeX*PANEL_WIDTH_SCALE_FACTOR:DEFAULT_PANEL_WIDTH,h:sizeY?sizeY*heightScaleFactor:DEFAULT_PANEL_HEIGHT,i:panelIndex},embeddableConfig:embeddableConfig})}function migrate610PanelToLatest(panel,version,useMargins,uiState){["w","x","h","y"].forEach(function(key){if(panel.gridData[key]===undefined){throw new Error(_i18n.i18n.translate("kbn.dashboard.panel.unableToMigratePanelDataForSixThreeZeroErrorMessage",{defaultMessage:'Unable to migrate panel data for "6.3.0" backwards compatibility, panel does not contain expected field: {key}',values:{key:key}}))}});var embeddableConfig=uiState?uiState["P-".concat(panel.panelIndex)]||{}:{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}var heightScaleFactor=useMargins?PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS:PANEL_HEIGHT_SCALE_FACTOR;var columns=panel.columns,sort=panel.sort,rest=_objectWithoutProperties(panel,["columns","sort"]);var panelIndex=panel.panelIndex?panel.panelIndex.toString():_uuid.default.v4();return _objectSpread({},rest,{version:version,panelIndex:panelIndex,gridData:{w:panel.gridData.w*PANEL_WIDTH_SCALE_FACTOR,h:panel.gridData.h*heightScaleFactor,x:panel.gridData.x*PANEL_WIDTH_SCALE_FACTOR,y:panel.gridData.y*heightScaleFactor,i:panel.gridData.i},embeddableConfig:embeddableConfig})}function migrate620PanelToLatest(panel,version,useMargins){var embeddableConfig=panel.embeddableConfig||{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}var heightScaleFactor=useMargins?PANEL_HEIGHT_SCALE_FACTOR_WITH_MARGINS:PANEL_HEIGHT_SCALE_FACTOR;var columns=panel.columns,sort=panel.sort,rest=_objectWithoutProperties(panel,["columns","sort"]);var panelIndex=panel.panelIndex?panel.panelIndex.toString():_uuid.default.v4();return _objectSpread({},rest,{version:version,panelIndex:panelIndex,gridData:{w:panel.gridData.w*PANEL_WIDTH_SCALE_FACTOR,h:panel.gridData.h*heightScaleFactor,x:panel.gridData.x*PANEL_WIDTH_SCALE_FACTOR,y:panel.gridData.y*heightScaleFactor,i:panel.gridData.i},embeddableConfig:embeddableConfig})}function migrate630PanelToLatest(panel,version){var embeddableConfig=panel.embeddableConfig||{};if(panel.columns||panel.sort){embeddableConfig.columns=panel.columns;embeddableConfig.sort=panel.sort}var columns=panel.columns,sort=panel.sort,rest=_objectWithoutProperties(panel,["columns","sort"]);var panelIndex=panel.panelIndex?panel.panelIndex.toString():_uuid.default.v4();return _objectSpread({},rest,{version:version,panelIndex:panelIndex,embeddableConfig:embeddableConfig})}function migrate640To720PanelsToLatest(panel,version){var panelIndex=panel.panelIndex?panel.panelIndex.toString():_uuid.default.v4();return _objectSpread({},panel,{version:version,panelIndex:panelIndex})}function migratePanelsTo730(panels,version,useMargins,uiState){return panels.map(function(panel){if(isPre61Panel(panel)){return migratePre61PanelToLatest(panel,version,useMargins,uiState)}if(is61Panel(panel)){return migrate610PanelToLatest(panel,version,useMargins,uiState)}if(is62Panel(panel)){return migrate620PanelToLatest(panel,version,useMargins)}if(is63Panel(panel)){return migrate630PanelToLatest(panel,version)}if(is640To720Panel(panel)){return migrate640To720PanelsToLatest(panel,version)}return panel})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DashboardStateManager=void 0;var _i18n=__webpack_require__(2);var _lodash=_interopRequireDefault(__webpack_require__(1));var _state_monitor_factory=__webpack_require__(465);var _migrate_legacy_query=__webpack_require__(126);var _public=__webpack_require__(40);var _lib=__webpack_require__(771);var _embeddable_saved_object_converters=__webpack_require__(774);var _filter_utils=__webpack_require__(772);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DashboardStateManager=function(){function DashboardStateManager(_ref){var _this=this;var savedDashboard=_ref.savedDashboard,AppStateClass=_ref.AppStateClass,hideWriteControls=_ref.hideWriteControls;_classCallCheck(this,DashboardStateManager);_defineProperty(this,"savedDashboard",void 0);_defineProperty(this,"appState",void 0);_defineProperty(this,"lastSavedDashboardFilters",void 0);_defineProperty(this,"stateDefaults",void 0);_defineProperty(this,"hideWriteControls",void 0);_defineProperty(this,"isDirty",void 0);_defineProperty(this,"changeListeners",void 0);_defineProperty(this,"stateMonitor",void 0);this.savedDashboard=savedDashboard;this.hideWriteControls=hideWriteControls;this.stateDefaults=(0,_lib.getAppStateDefaults)(this.savedDashboard,this.hideWriteControls);this.appState=new AppStateClass(this.stateDefaults);(0,_lib.migrateAppState)(this.appState);this.isDirty=false;this.lastSavedDashboardFilters=this.getFilterState();this.stateMonitor=_state_monitor_factory.stateMonitorFactory.create(this.appState,this.stateDefaults);this.stateMonitor.ignoreProps("viewMode");this.stateMonitor.ignoreProps("filters");this.stateMonitor.ignoreProps("query");this.stateMonitor.onChange(function(status){_this.isDirty=status.dirty});this.changeListeners=[];this.stateMonitor.onChange(function(status){_this.changeListeners.forEach(function(listener){return listener(status)})})}_createClass(DashboardStateManager,[{key:"registerChangeListener",value:function registerChangeListener(callback){this.changeListeners.push(callback)}},{key:"handleDashboardContainerChanges",value:function handleDashboardContainerChanges(dashboardContainer){var dirty=false;var savedDashboardPanelMap={};var input=dashboardContainer.getInput();this.getPanels().forEach(function(savedDashboardPanel){if(input.panels[savedDashboardPanel.panelIndex]!==undefined){savedDashboardPanelMap[savedDashboardPanel.panelIndex]=savedDashboardPanel}else{dirty=true}});var convertedPanelStateMap={};Object.values(input.panels).forEach(function(panelState){if(savedDashboardPanelMap[panelState.explicitInput.id]===undefined){dirty=true}convertedPanelStateMap[panelState.explicitInput.id]=(0,_embeddable_saved_object_converters.convertPanelStateToSavedDashboardPanel)(panelState);if(!_lodash.default.isEqual(convertedPanelStateMap[panelState.explicitInput.id],savedDashboardPanelMap[panelState.explicitInput.id])){dirty=true}});if(dirty){this.appState.panels=Object.values(convertedPanelStateMap)}if(input.isFullScreenMode!==this.getFullScreenMode()){this.setFullScreenMode(input.isFullScreenMode)}if(!_lodash.default.isEqual(input.query,this.getQuery())){this.setQuery(input.query)}this.changeListeners.forEach(function(listener){return listener({dirty:dirty})});this.saveState()}},{key:"getFullScreenMode",value:function getFullScreenMode(){return this.appState.fullScreenMode}},{key:"setFullScreenMode",value:function setFullScreenMode(fullScreenMode){this.appState.fullScreenMode=fullScreenMode;this.saveState()}},{key:"resetState",value:function resetState(){this.savedDashboard.title=this.savedDashboard.lastSavedTitle;this.stateDefaults=(0,_lib.getAppStateDefaults)(this.savedDashboard,this.hideWriteControls);this.stateDefaults.query=this.lastSavedDashboardFilters.query;this.stateDefaults.filters=_toConsumableArray(this.getLastSavedFilterBars());this.isDirty=false;this.appState.setDefaults(this.stateDefaults);this.appState.reset();this.stateMonitor.setInitialState(this.appState.toJSON())}},{key:"getFilterState",value:function getFilterState(){return{timeTo:this.savedDashboard.timeTo,timeFrom:this.savedDashboard.timeFrom,filterBars:this.savedDashboard.getFilters(),query:this.savedDashboard.getQuery()}}},{key:"getTitle",value:function getTitle(){return this.appState.title}},{key:"getDescription",value:function getDescription(){return this.appState.description}},{key:"setDescription",value:function setDescription(description){this.appState.description=description;this.saveState()}},{key:"setTitle",value:function setTitle(title){this.appState.title=title;this.savedDashboard.title=title;this.saveState()}},{key:"getAppState",value:function getAppState(){return this.appState}},{key:"getQuery",value:function getQuery(){return(0,_migrate_legacy_query.migrateLegacyQuery)(this.appState.query)}},{key:"getSavedQueryId",value:function getSavedQueryId(){return this.appState.savedQuery}},{key:"setSavedQueryId",value:function setSavedQueryId(id){this.appState.savedQuery=id;this.saveState()}},{key:"getUseMargins",value:function getUseMargins(){return this.appState.options.useMargins===undefined?false:this.appState.options.useMargins}},{key:"setUseMargins",value:function setUseMargins(useMargins){this.appState.options.useMargins=useMargins;this.saveState()}},{key:"getHidePanelTitles",value:function getHidePanelTitles(){return this.appState.options.hidePanelTitles}},{key:"setHidePanelTitles",value:function setHidePanelTitles(hidePanelTitles){this.appState.options.hidePanelTitles=hidePanelTitles;this.saveState()}},{key:"getTimeRestore",value:function getTimeRestore(){return this.appState.timeRestore}},{key:"setTimeRestore",value:function setTimeRestore(timeRestore){this.appState.timeRestore=timeRestore;this.saveState()}},{key:"getIsTimeSavedWithDashboard",value:function getIsTimeSavedWithDashboard(){return this.savedDashboard.timeRestore}},{key:"getLastSavedFilterBars",value:function getLastSavedFilterBars(){return this.lastSavedDashboardFilters.filterBars}},{key:"getLastSavedQuery",value:function getLastSavedQuery(){return this.lastSavedDashboardFilters.query}},{key:"getQueryChanged",value:function getQueryChanged(){var currentQuery=this.appState.query;var lastSavedQuery=this.getLastSavedQuery();var query=(0,_migrate_legacy_query.migrateLegacyQuery)(currentQuery);var isLegacyStringQuery=_lodash.default.isString(lastSavedQuery)&&_lodash.default.isPlainObject(currentQuery)&&_lodash.default.has(currentQuery,"query");if(isLegacyStringQuery){return lastSavedQuery!==query.query}return!_lodash.default.isEqual(currentQuery,lastSavedQuery)}},{key:"getFilterBarChanged",value:function getFilterBarChanged(){return!_lodash.default.isEqual(_filter_utils.FilterUtils.cleanFiltersForComparison(this.appState.filters),_filter_utils.FilterUtils.cleanFiltersForComparison(this.getLastSavedFilterBars()))}},{key:"getTimeChanged",value:function getTimeChanged(timeFilter){return!_filter_utils.FilterUtils.areTimesEqual(this.lastSavedDashboardFilters.timeFrom,timeFilter.getTime().from)||!_filter_utils.FilterUtils.areTimesEqual(this.lastSavedDashboardFilters.timeTo,timeFilter.getTime().to)}},{key:"getViewMode",value:function getViewMode(){return this.hideWriteControls?_public.ViewMode.VIEW:this.appState.viewMode}},{key:"getIsViewMode",value:function getIsViewMode(){return this.getViewMode()===_public.ViewMode.VIEW}},{key:"getIsEditMode",value:function getIsEditMode(){return this.getViewMode()===_public.ViewMode.EDIT}},{key:"getIsDirty",value:function getIsDirty(timeFilter){var hasTimeFilterChanged=timeFilter?this.getFiltersChanged(timeFilter):false;return this.getIsEditMode()&&(this.isDirty||hasTimeFilterChanged)}},{key:"getPanels",value:function getPanels(){return this.appState.panels}},{key:"updatePanel",value:function updatePanel(panelIndex,panelAttributes){var foundPanel=this.getPanels().find(function(panel){return panel.panelIndex===panelIndex});Object.assign(foundPanel,panelAttributes);this.saveState();return foundPanel}},{key:"getChangedFilterTypes",value:function getChangedFilterTypes(timeFilter){var changedFilters=[];if(this.getFilterBarChanged()){changedFilters.push("filter")}if(this.getQueryChanged()){changedFilters.push("query")}if(this.savedDashboard.timeRestore&&this.getTimeChanged(timeFilter)){changedFilters.push("time range")}return changedFilters}},{key:"getFiltersChanged",value:function getFiltersChanged(timeFilter){return this.getChangedFilterTypes(timeFilter).length>0}},{key:"syncTimefilterWithDashboard",value:function syncTimefilterWithDashboard(timeFilter){if(!this.getIsTimeSavedWithDashboard()){throw new Error(_i18n.i18n.translate("kbn.dashboard.stateManager.timeNotSavedWithDashboardErrorMessage",{defaultMessage:"The time is not saved with this dashboard so should not be synced."}))}if(this.savedDashboard.timeFrom&&this.savedDashboard.timeTo){timeFilter.setTime({from:this.savedDashboard.timeFrom,to:this.savedDashboard.timeTo})}if(this.savedDashboard.refreshInterval){timeFilter.setRefreshInterval(this.savedDashboard.refreshInterval)}}},{key:"saveState",value:function saveState(){this.appState.save()}},{key:"setQuery",value:function setQuery(query){this.appState.query=query;this.saveState()}},{key:"applyFilters",value:function applyFilters(query,filters){this.appState.query=query;this.savedDashboard.searchSource.setField("query",query);this.savedDashboard.searchSource.setField("filter",filters);this.saveState()}},{key:"switchViewMode",value:function switchViewMode(newMode){this.appState.viewMode=newMode;this.saveState()}},{key:"destroy",value:function destroy(){if(this.stateMonitor){this.stateMonitor.destroy()}this.savedDashboard.destroy()}}]);return DashboardStateManager}();exports.DashboardStateManager=DashboardStateManager},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTopNavConfig=getTopNavConfig;var _i18n=__webpack_require__(2);var _public=__webpack_require__(40);var _top_nav_ids=__webpack_require__(775);function getTopNavConfig(dashboardMode,actions,hideWriteControls){switch(dashboardMode){case _public.ViewMode.VIEW:return hideWriteControls?[getFullScreenConfig(actions[_top_nav_ids.TopNavIds.FULL_SCREEN]),getShareConfig(actions[_top_nav_ids.TopNavIds.SHARE])]:[getFullScreenConfig(actions[_top_nav_ids.TopNavIds.FULL_SCREEN]),getShareConfig(actions[_top_nav_ids.TopNavIds.SHARE]),getCloneConfig(actions[_top_nav_ids.TopNavIds.CLONE]),getEditConfig(actions[_top_nav_ids.TopNavIds.ENTER_EDIT_MODE])];case _public.ViewMode.EDIT:return[getSaveConfig(actions[_top_nav_ids.TopNavIds.SAVE]),getViewConfig(actions[_top_nav_ids.TopNavIds.EXIT_EDIT_MODE]),getAddConfig(actions[_top_nav_ids.TopNavIds.ADD]),getOptionsConfig(actions[_top_nav_ids.TopNavIds.OPTIONS]),getShareConfig(actions[_top_nav_ids.TopNavIds.SHARE])];default:return[]}}function getFullScreenConfig(action){return{id:"full-screen",label:_i18n.i18n.translate("kbn.dashboard.topNave.fullScreenButtonAriaLabel",{defaultMessage:"full screen"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.fullScreenConfigDescription",{defaultMessage:"Full Screen Mode"}),testId:"dashboardFullScreenMode",run:action}}function getEditConfig(action){return{id:"edit",label:_i18n.i18n.translate("kbn.dashboard.topNave.editButtonAriaLabel",{defaultMessage:"edit"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.editConfigDescription",{defaultMessage:"Switch to edit mode"}),testId:"dashboardEditMode",className:"eui-hideFor--s eui-hideFor--xs",run:action}}function getSaveConfig(action){return{id:"save",label:_i18n.i18n.translate("kbn.dashboard.topNave.saveButtonAriaLabel",{defaultMessage:"save"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.saveConfigDescription",{defaultMessage:"Save your dashboard"}),testId:"dashboardSaveMenuItem",run:action}}function getViewConfig(action){return{id:"cancel",label:_i18n.i18n.translate("kbn.dashboard.topNave.cancelButtonAriaLabel",{defaultMessage:"cancel"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.viewConfigDescription",{defaultMessage:"Cancel editing and switch to view-only mode"}),testId:"dashboardViewOnlyMode",run:action}}function getCloneConfig(action){return{id:"clone",label:_i18n.i18n.translate("kbn.dashboard.topNave.cloneButtonAriaLabel",{defaultMessage:"clone"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.cloneConfigDescription",{defaultMessage:"Create a copy of your dashboard"}),testId:"dashboardClone",run:action}}function getAddConfig(action){return{id:"add",label:_i18n.i18n.translate("kbn.dashboard.topNave.addButtonAriaLabel",{defaultMessage:"add"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.addConfigDescription",{defaultMessage:"Add a panel to the dashboard"}),testId:"dashboardAddPanelButton",run:action}}function getShareConfig(action){return{id:"share",label:_i18n.i18n.translate("kbn.dashboard.topNave.shareButtonAriaLabel",{defaultMessage:"share"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.shareConfigDescription",{defaultMessage:"Share Dashboard"}),testId:"shareTopNavButton",run:action}}function getOptionsConfig(action){return{id:"options",label:_i18n.i18n.translate("kbn.dashboard.topNave.optionsButtonAriaLabel",{defaultMessage:"options"}),description:_i18n.i18n.translate("kbn.dashboard.topNave.optionsConfigDescription",{defaultMessage:"Options"}),testId:"dashboardOptionsButton",run:action}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDashboardTitle=getDashboardTitle;var _i18n=__webpack_require__(2);var _public=__webpack_require__(40);function getDashboardTitle(title,viewMode,isDirty){var isEditMode=viewMode===_public.ViewMode.EDIT;var displayTitle;if(isEditMode&&isDirty){displayTitle=_i18n.i18n.translate("kbn.dashboard.strings.dashboardUnsavedEditTitle",{defaultMessage:"Editing {title} (unsaved)",values:{title:title}})}else if(isEditMode){displayTitle=_i18n.i18n.translate("kbn.dashboard.strings.dashboardEditTitle",{defaultMessage:"Editing {title}",values:{title:title}})}else{displayTitle=title}return displayTitle}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"DisabledLabEmbeddable",{enumerable:true,get:function get(){return _disabled_lab_embeddable.DisabledLabEmbeddable}});Object.defineProperty(exports,"VisualizeEmbeddable",{enumerable:true,get:function get(){return _visualize_embeddable.VisualizeEmbeddable}});Object.defineProperty(exports,"VisualizeInput",{enumerable:true,get:function get(){return _visualize_embeddable.VisualizeInput}});Object.defineProperty(exports,"VISUALIZE_EMBEDDABLE_TYPE",{enumerable:true,get:function get(){return _constants.VISUALIZE_EMBEDDABLE_TYPE}});var _disabled_lab_embeddable=__webpack_require__(755);var _visualize_embeddable=__webpack_require__(756);var _constants=__webpack_require__(380)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _capabilities=__webpack_require__(37);_modules.uiModules.get("kibana").provider("dashboardConfig",function(){var hideWriteControls=!_capabilities.capabilities.get().dashboard.showWriteControls;return{turnHideWriteControlsOn:function turnHideWriteControlsOn(){hideWriteControls=true},$get:function $get(){return{getHideWriteControls:function getHideWriteControls(){return hideWriteControls}}}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<dashboard-app\n  class="app-container dshAppContainer"\n  ng-class="{\'dshAppContainer--withMargins\': model.useMargins}"\n>\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav\n    ng-show="chrome.getVisible()"\n    app-name="\'dashboard\'"\n    config="topNavMenu"\n\n    show-search-bar="chrome.getVisible()"\n    show-filter-bar="showFilterBar()"\n    show-save-query="showSaveQuery"\n\n    filters="model.filters"\n    query="model.query"\n    saved-query="savedQuery"\n    screen-title="screenTitle"\n    on-query-submit="updateQueryAndFetch"\n    index-patterns="indexPatterns"\n    filters="model.filters"\n    on-filters-updated="onFiltersUpdated"\n    date-range-from="model.timeRange.from"\n    date-range-to="model.timeRange.to"\n    is-refresh-paused="model.refreshInterval.pause"\n    refresh-interval="model.refreshInterval.value"\n    on-saved="onQuerySaved"\n    on-saved-query-updated="onSavedQueryUpdated"\n    on-clear-saved-query="onClearSavedQuery"\n    on-refresh-change="onRefreshChange">\n  </kbn-top-nav>\n\n  \x3c!--\n  The top nav is hidden in embed mode but the filter bar must still be present so\n  we show the filter bar on its own here if the chrome is not visible.\n--\x3e\n  <filter-bar\n    ng-if="showFilterBar() && !chrome.getVisible()"\n    class-name="\'globalFilterGroup__filterBar\'"\n    filters="model.filters"\n    on-filters-updated="onFiltersUpdated"\n    index-patterns="indexPatterns"\n  ></filter-bar>\n\n  <apply-filters-popover\n    filters="appState.$newFilters"\n    on-cancel="onCancelApplyFilters"\n    on-submit="onApplyFilters"\n  ></apply-filters-popover>\n\n  <div ng-show="getShouldShowEditHelp() || getShouldShowViewHelp()" class="dshStartScreen">\n    <div class="euiPanel euiPanel--paddingLarge euiPageContent euiPageContent--horizontalCenter">\n      <icon type="\'dashboardApp\'" size="\'xxl\'" color="\'subdued\'"></icon>\n\n      <br><br>\n\n      <div ng-show="getShouldShowEditHelp()" class="euiText">\n        <h2\n          i18n-id="kbn.dashboard.fillDashboardTitle"\n          i18n-default-message="This dashboard is empty. Let&rsquo;s fill it up!"\n        >\n        </h2>\n\n        <p>\n          <span\n            i18n-id="kbn.dashboard.addVisualizationDescription1"\n            i18n-default-message="Click the "\n            i18n-context="Part of composite label kbn.dashboard.addVisualizationDescription1 + kbn.dashboard.addVisualizationLinkText + kbn.dashboard.addVisualizationDescription2"\n          ></span>\n          <a\n            kbn-accessible-click\n            class="euiLink"\n            ng-click="showAddPanel()"\n            aria-label="{{::\'kbn.dashboard.addVisualizationLinkAriaLabel\' | i18n: { defaultMessage: \'Add visualization\' } }}"\n            data-test-subj="emptyDashboardAddPanelButton"\n            i18n-id="kbn.dashboard.addVisualizationLinkText"\n            i18n-default-message="Add"\n          ></a>\n          <span\n            i18n-id="kbn.dashboard.addVisualizationDescription2"\n            i18n-default-message=" button in the menu bar above to add a visualization to the dashboard."\n          ></span>\n        </p>\n        <p\n          i18n-id="kbn.dashboard.addVisualizationDescription3"\n          i18n-default-message="If you haven\'t set up any visualizations yet, {visitVisualizeAppLink} to create your first visualization."\n          i18n-values="{\n            html_visitVisualizeAppLink: \'<a class=\\\'euiLink\\\' href=\\\'#/visualize\\\'>\' + visitVisualizeAppLinkText + \'</a>\'\n          }"\n        ></p>\n      </div>\n\n      <div ng-show="getShouldShowViewHelp()" class="euiText">\n        <h2\n          i18n-id="kbn.dashboard.fillDashboardTitle"\n          i18n-default-message="This dashboard is empty. Let&rsquo;s fill it up!"\n        >\n        </h2>\n\n        <p>\n          <span\n            i18n-id="kbn.dashboard.howToStartWorkingOnNewDashboardDescription1"\n            i18n-default-message="Click the "\n            i18n-context="Part of composite label kbn.dashboard.howToStartWorkingOnNewDashboardDescription1 + kbn.dashboard.howToStartWorkingOnNewDashboardEditLinkText + kbn.dashboard.howToStartWorkingOnNewDashboardDescription2"\n          ></span>\n          <a\n            kbn-accessible-click\n            class="euiLink"\n            ng-click="enterEditMode()"\n            i18n-id="kbn.dashboard.howToStartWorkingOnNewDashboardEditLinkText"\n            i18n-default-message="Edit"\n          ></a>\n          <span\n            i18n-id="kbn.dashboard.howToStartWorkingOnNewDashboardDescription2"\n            i18n-default-message=" button in the menu bar above to start working on your new dashboard."\n          ></span>\n        </p>\n      </div>\n\n    </div>\n  </div>\n\n  <div id="dashboardViewport"></div>\n\n</dashboard-app>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<dashboard-listing\n  create-item="create"\n  get-view-url="getViewUrl"\n  edit-item="editItem"\n  find-items="find"\n  delete-items="delete"\n  listing-limit="listingLimit"\n  hide-write-controls="hideWriteControls"\n  initial-filter="initialFilter"\n/>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DashboardListing=exports.EMPTY_FILTER=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react2=__webpack_require__(5);var _i18n=__webpack_require__(2);var _eui=__webpack_require__(3);var _table_list_view=__webpack_require__(770);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var EMPTY_FILTER="";exports.EMPTY_FILTER=EMPTY_FILTER;var DashboardListingUi=function(_React$Component){_inherits(DashboardListingUi,_React$Component);function DashboardListingUi(props){_classCallCheck(this,DashboardListingUi);return _possibleConstructorReturn(this,_getPrototypeOf(DashboardListingUi).call(this,props))}_createClass(DashboardListingUi,[{key:"render",value:function render(){return _react.default.createElement(_table_list_view.TableListView,{createItem:this.props.hideWriteControls?null:this.props.createItem,findItems:this.props.findItems,deleteItems:this.props.hideWriteControls?null:this.props.deleteItems,editItem:this.props.hideWriteControls?null:this.props.editItem,tableColumns:this.getTableColumns(),listingLimit:this.props.listingLimit,initialFilter:this.props.initialFilter,noItemsFragment:this.getNoItemsMessage(),entityName:_i18n.i18n.translate("kbn.dashboard.listing.table.entityName",{defaultMessage:"dashboard"}),entityNamePlural:_i18n.i18n.translate("kbn.dashboard.listing.table.entityNamePlural",{defaultMessage:"dashboards"}),tableListTitle:_i18n.i18n.translate("kbn.dashboard.listing.dashboardsTitle",{defaultMessage:"Dashboards"})})}},{key:"getNoItemsMessage",value:function getNoItemsMessage(){if(this.props.hideWriteControls){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"visualizeApp",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.listing.noItemsMessage",defaultMessage:"Looks like you don't have any dashboards."}))}))}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiEmptyPrompt,{iconType:"dashboardApp",title:_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.listing.createNewDashboard.title",defaultMessage:"Create your first dashboard"})),body:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.listing.createNewDashboard.combineDataViewFromKibanaAppDescription",defaultMessage:"You can combine data views from any Kibana app into one dashboard and see everything in one place."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.listing.createNewDashboard.newToKibanaDescription",defaultMessage:"New to Kibana? {sampleDataInstallLink} to take a test drive.",values:{sampleDataInstallLink:_react.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory/sampleData"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.listing.createNewDashboard.sampleDataInstallLinkText",defaultMessage:"Install some sample data"}))}}))),actions:_react.default.createElement(_eui.EuiButton,{onClick:this.props.createItem,fill:true,iconType:"plusInCircle","data-test-subj":"createDashboardPromptButton"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.dashboard.listing.createNewDashboard.createButtonLabel",defaultMessage:"Create new dashboard"}))}))}},{key:"getTableColumns",value:function getTableColumns(){var _this=this;var tableColumns=[{field:"title",name:_i18n.i18n.translate("kbn.dashboard.listing.table.titleColumnName",{defaultMessage:"Title"}),sortable:true,render:function render(field,record){return _react.default.createElement(_eui.EuiLink,{href:_this.props.getViewUrl(record),"data-test-subj":"dashboardListingTitleLink-".concat(record.title.split(" ").join("-"))},field)}},{field:"description",name:_i18n.i18n.translate("kbn.dashboard.listing.table.descriptionColumnName",{defaultMessage:"Description"}),dataType:"string",sortable:true}];return tableColumns}}]);return DashboardListingUi}(_react.default.Component);DashboardListingUi.propTypes={createItem:_propTypes.default.func.isRequired,findItems:_propTypes.default.func.isRequired,deleteItems:_propTypes.default.func.isRequired,editItem:_propTypes.default.func.isRequired,getViewUrl:_propTypes.default.func.isRequired,listingLimit:_propTypes.default.number.isRequired,hideWriteControls:_propTypes.default.bool.isRequired,initialFilter:_propTypes.default.string};DashboardListingUi.defaultProps={initialFilter:EMPTY_FILTER};var DashboardListing=(0,_react2.injectI18n)(DashboardListingUi);exports.DashboardListing=DashboardListing},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateLandingPage=updateLandingPage;exports.updateSidebar=updateSidebar;exports.destroyReact=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(2);var _reactDom=__webpack_require__(13);var _react2=__webpack_require__(5);__webpack_require__(2041);var _routes=_interopRequireDefault(__webpack_require__(19));var _i18n2=__webpack_require__(11);var _modules=__webpack_require__(6);var _app=_interopRequireDefault(__webpack_require__(2205));var _landing=_interopRequireDefault(__webpack_require__(2206));var _capabilities=__webpack_require__(37);var _management=__webpack_require__(95);var _feature_catalogue=__webpack_require__(47);var _timefilter=__webpack_require__(22);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SIDENAV_ID="management-sidenav";var LANDING_ID="management-landing";_routes.default.when("/management",{template:_landing.default,k7Breadcrumbs:function k7Breadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB]}});_routes.default.when("/management/:section",{redirectTo:"/management"});__webpack_require__(2207)({whenMissingRedirectTo:function whenMissingRedirectTo(){var canManageIndexPatterns=_capabilities.capabilities.get().management.kibana.index_patterns;return canManageIndexPatterns?"/management/kibana/index_pattern":"/home"}});function updateLandingPage(version){var node=document.getElementById(LANDING_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement("div",null,_react.default.createElement("div",{className:"eui-textCenter"},_react.default.createElement(_eui.EuiIcon,{type:"managementApp",size:"xxl"}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.landing.header",defaultMessage:"Kibana {version} management",values:{version:version}}))),_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.landing.subhead",defaultMessage:"Manage your indices, index patterns, saved objects, Kibana settings, and more."}))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s",textAlign:"center"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.landing.text",defaultMessage:"A full list of tools can be found in the left menu"})))))),node)}function updateSidebar(items,id){var node=document.getElementById(SIDENAV_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_management.SidebarNav,{sections:items,selectedId:id,className:"mgtSideNav"})),node)}var destroyReact=function destroyReact(id){var node=document.getElementById(id);node&&(0,_reactDom.unmountComponentAtNode)(node)};exports.destroyReact=destroyReact;_modules.uiModules.get("apps/management").directive("kbnManagementApp",function($location){return{restrict:"E",template:_app.default,transclude:true,scope:{sectionName:"@section",omitPages:"@omitBreadcrumbPages",pageTitle:"="},link:function link($scope){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.sections=_management.management.visibleItems;$scope.section=_management.management.getSection($scope.sectionName)||_management.management;if($scope.section){$scope.section.items.forEach(function(item){item.active="#".concat($location.path()).indexOf(item.url)>-1})}updateSidebar($scope.sections,$scope.section.id);$scope.$on("$destroy",function(){return destroyReact(SIDENAV_ID)});_management.management.addListener(function(){return updateSidebar(_management.management.visibleItems,$scope.section.id)});updateLandingPage($scope.$root.chrome.getKibanaVersion());$scope.$on("$destroy",function(){return destroyReact(LANDING_ID)})}}});_modules.uiModules.get("apps/management").directive("kbnManagementLanding",function(kbnVersion){return{restrict:"E",link:function link($scope){$scope.sections=_management.management.visibleItems;$scope.kbnVersion=kbnVersion}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"management",title:_i18n.i18n.translate("kbn.management.managementLabel",{defaultMessage:"Management"}),description:_i18n.i18n.translate("kbn.management.managementDescription",{defaultMessage:"Your center console for managing the Elastic Stack."}),icon:"managementApp",path:"/app/kibana#/management",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2042);__webpack_require__(2071);__webpack_require__(2104)},function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95);var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _capabilities=__webpack_require__(37);var _i18n=__webpack_require__(11);var _index=_interopRequireDefault(__webpack_require__(2059));var _feature_catalogue=__webpack_require__(47);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _advanced_settings=__webpack_require__(2060);var _i18n2=__webpack_require__(2);var _breadcrumbs=__webpack_require__(2070);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID="reactAdvancedSettings";function updateAdvancedSettings($scope,config,query){$scope.$$postDigest(function(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_advanced_settings.AdvancedSettings,{config:config,query:query,enableSaving:_capabilities.capabilities.get().advancedSettings.save})),node)})}function destroyAdvancedSettings(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes.default.when("/management/kibana/settings/:setting?",{template:_index.default,k7Breadcrumbs:_breadcrumbs.getBreadcrumbs,requireUICapability:"management.kibana.settings",badge:function badge(uiCapabilities){if(uiCapabilities.advancedSettings.save){return undefined}return{text:_i18n2.i18n.translate("kbn.management.advancedSettings.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n2.i18n.translate("kbn.management.advancedSettings.badge.readOnly.tooltip",{defaultMessage:"Unable to save advanced settings"}),iconType:"glasses"}}});_modules.uiModules.get("apps/management").directive("kbnManagementAdvanced",function(config,$route){return{restrict:"E",link:function link($scope){config.watchAll(function(){updateAdvancedSettings($scope,config,$route.current.params.setting||"")},$scope);$scope.$on("$destroy",function(){destroyAdvancedSettings()});$route.updateParams({setting:null})}}});_management.management.getSection("kibana").register("settings",{display:_i18n2.i18n.translate("kbn.management.settings.sectionLabel",{defaultMessage:"Advanced Settings"}),order:20,url:"#/management/kibana/settings"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"advanced_settings",title:_i18n2.i18n.translate("kbn.management.settings.advancedSettingsLabel",{defaultMessage:"Advanced Settings"}),description:_i18n2.i18n.translate("kbn.management.settings.advancedSettingsDescription",{defaultMessage:"Directly edit settings that control behavior in Kibana."}),icon:"advancedSettingsApp",path:"/app/kibana#/management/kibana/settings",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PageTitle",{enumerable:true,get:function get(){return _page_title.PageTitle}});var _page_title=__webpack_require__(2044)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageTitle=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PageTitle=function PageTitle(){return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("h1",{"data-test-subj":"managementSettingsTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.pageTitle",defaultMessage:"Settings"})))};exports.PageTitle=PageTitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PageSubtitle",{enumerable:true,get:function get(){return _page_subtitle.PageSubtitle}});var _page_subtitle=__webpack_require__(2046)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageSubtitle=void 0;var PageSubtitle=function PageSubtitle(){return null};exports.PageSubtitle=PageSubtitle},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PageFooter",{enumerable:true,get:function get(){return _page_footer.PageFooter}});var _page_footer=__webpack_require__(2048)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageFooter=void 0;var PageFooter=function PageFooter(){return null};exports.PageFooter=PageFooter},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isDefaultValue=isDefaultValue;function isDefaultValue(setting){return setting.isCustom||setting.value===undefined||setting.value===""||String(setting.value)===String(setting.defVal)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toEditableConfig=toEditableConfig;var _get_val_type=__webpack_require__(2052);var _get_aria_name=__webpack_require__(778);var _default_category=__webpack_require__(779);function toEditableConfig(_ref){var def=_ref.def,name=_ref.name,value=_ref.value,isCustom=_ref.isCustom,isOverridden=_ref.isOverridden;if(!def){def={}}var conf={name:name,displayName:def.name||name,ariaName:def.name||(0,_get_aria_name.getAriaName)(name),value:value,category:def.category&&def.category.length?def.category:[_default_category.DEFAULT_CATEGORY],isCustom:isCustom,isOverridden:isOverridden,readonly:!!def.readonly,defVal:def.value,type:(0,_get_val_type.getValType)(def,value),description:def.description,options:def.options,optionLabels:def.optionLabels,requiresPageReload:!!def.requiresPageReload};return conf}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getValType=getValType;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function getValType(def,value){if(def.type){return def.type}if(Array.isArray(value)||Array.isArray(def.value)){return"array"}return def.value!=null?_typeof(def.value):_typeof(value)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCategoryName=getCategoryName;var _string_utils=__webpack_require__(557);var _i18n=__webpack_require__(2);var names={general:_i18n.i18n.translate("kbn.management.settings.categoryNames.generalLabel",{defaultMessage:"General"}),timelion:_i18n.i18n.translate("kbn.management.settings.categoryNames.timelionLabel",{defaultMessage:"Timelion"}),notifications:_i18n.i18n.translate("kbn.management.settings.categoryNames.notificationsLabel",{defaultMessage:"Notifications"}),visualizations:_i18n.i18n.translate("kbn.management.settings.categoryNames.visualizationsLabel",{defaultMessage:"Visualizations"}),discover:_i18n.i18n.translate("kbn.management.settings.categoryNames.discoverLabel",{defaultMessage:"Discover"}),dashboard:_i18n.i18n.translate("kbn.management.settings.categoryNames.dashboardLabel",{defaultMessage:"Dashboard"}),reporting:_i18n.i18n.translate("kbn.management.settings.categoryNames.reportingLabel",{defaultMessage:"Reporting"}),search:_i18n.i18n.translate("kbn.management.settings.categoryNames.searchLabel",{defaultMessage:"Search"}),siem:_i18n.i18n.translate("kbn.management.settings.categoryNames.siemLabel",{defaultMessage:"SIEM"})};function getCategoryName(category){return category?names[category]||_string_utils.StringUtils.upperFirst(category):""}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.management=void 0;var _section=__webpack_require__(2055);var _i18n=__webpack_require__(2);var management=new _section.ManagementSection("management",{display:_i18n.i18n.translate("common.ui.management.displayName",{defaultMessage:"Management"})});exports.management=management;management.register("data",{display:_i18n.i18n.translate("common.ui.management.connectDataDisplayName",{defaultMessage:"Connect Data"}),order:0});management.register("elasticsearch",{display:"Elasticsearch",order:20,icon:"logoElasticsearch"});management.register("kibana",{display:"Kibana",order:30,icon:"logoKibana"});management.register("logstash",{display:"Logstash",order:30,icon:"logoLogstash"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManagementSection=void 0;var _lodash=__webpack_require__(1);var _indexed_array=__webpack_require__(59);var _capabilities=__webpack_require__(37);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var listeners=[];var ManagementSection=function(){function ManagementSection(id){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,ManagementSection);this.display=id;this.id=id;this.items=new _indexed_array.IndexedArray({index:["id"],order:["order"]});this.visible=true;this.disabled=false;this.tooltip="";this.icon="";this.url="";(0,_lodash.assign)(this,options)}_createClass(ManagementSection,[{key:"addListener",value:function addListener(fn){listeners.push(fn)}},{key:"register",value:function register(id){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var item=new ManagementSection(id,(0,_lodash.assign)(options,{parent:this}));if(this.hasItem(id)){throw new Error("'".concat(id,"' is already registered"))}this.items.push(item);listeners.forEach(function(fn){return fn()});return item}},{key:"deregister",value:function deregister(id){var _this=this;this.items.remove(function(item){return item.id===id});listeners.forEach(function(fn){return fn(_this.items)})}},{key:"hasItem",value:function hasItem(id){return this.items.byId.hasOwnProperty(id)}},{key:"getSection",value:function getSection(id){if(!id){return}var sectionPath=id.split("/");return sectionPath.reduce(function(currentSection,nextSection){if(!currentSection){return}return currentSection.items.byId[nextSection]},this)}},{key:"hide",value:function hide(){this.visible=false}},{key:"show",value:function show(){this.visible=true}},{key:"disable",value:function disable(){this.disabled=true}},{key:"enable",value:function enable(){this.disabled=false}},{key:"visibleItems",get:function get(){var _this2=this;return this.items.inOrder.filter(function(item){var capabilityManagementSection=_capabilities.capabilities.get().management[_this2.id];var itemCapability=capabilityManagementSection?capabilityManagementSection[item.id]:null;return item.visible&&itemCapability!==false})}}]);return ManagementSection}();exports.ManagementSection=ManagementSection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SidebarNav",{enumerable:true,get:function get(){return _sidebar_nav.SidebarNav}});var _sidebar_nav=__webpack_require__(2057)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SidebarNav=exports.sideNavItems=void 0;var _eui=__webpack_require__(3);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var sectionVisible=function sectionVisible(section){return!section.disabled&&section.visible};var sectionToNav=function sectionToNav(selectedId){return function(_ref){var display=_ref.display,id=_ref.id,url=_ref.url,icon=_ref.icon;return{id:id,name:display,icon:icon?_react2.default.createElement(_eui.EuiIcon,{type:icon}):null,isSelected:selectedId===id,href:url,"data-test-subj":id}}};var sideNavItems=function sideNavItems(sections,selectedId){return sections.filter(sectionVisible).filter(function(section){return section.visibleItems.filter(sectionVisible).length}).map(function(section){return _objectSpread({items:section.visibleItems.filter(sectionVisible).map(sectionToNav(selectedId))},sectionToNav(selectedId)(section))})};exports.sideNavItems=sideNavItems;var SidebarNav=function(_React$Component){_inherits(SidebarNav,_React$Component);function SidebarNav(props){var _this;_classCallCheck(this,SidebarNav);_this=_possibleConstructorReturn(this,_getPrototypeOf(SidebarNav).call(this,props));_defineProperty(_assertThisInitialized(_this),"toggleOpenOnMobile",function(){_this.setState({isSideNavOpenOnMobile:!_this.state.isSideNavOpenOnMobile})});_this.state={isSideNavOpenOnMobile:false};return _this}_createClass(SidebarNav,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiSideNav,{mobileTitle:this.renderMobileTitle(),isOpenOnMobile:this.state.isSideNavOpenOnMobile,toggleOpenOnMobile:this.toggleOpenOnMobile,items:sideNavItems(this.props.sections,this.props.selectedId),className:"mgtSideBarNav"})}},{key:"renderMobileTitle",value:function renderMobileTitle(){return _react2.default.createElement(_react.FormattedMessage,{id:"common.ui.management.nav.menu",defaultMessage:"Management menu"})}}]);return SidebarNav}(_react2.default.Component);exports.SidebarNav=SidebarNav},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MANAGEMENT_BREADCRUMB=void 0;var _i18n=__webpack_require__(2);var MANAGEMENT_BREADCRUMB=Object.freeze({text:_i18n.i18n.translate("common.ui.management.breadcrumb",{defaultMessage:"Management"}),href:"#/management"});exports.MANAGEMENT_BREADCRUMB=MANAGEMENT_BREADCRUMB},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/settings">\n  <kbn-management-advanced>\n    <div id="reactAdvancedSettings"></div>\n  </kbn-management-advanced>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettings=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _call_outs=__webpack_require__(2061);var _search=__webpack_require__(2063);var _form=__webpack_require__(2065);var _advanced_settings_voice_announcement=__webpack_require__(2068);var _lib=__webpack_require__(381);var _default_component_registry=__webpack_require__(776);var _component_registry=__webpack_require__(470);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AdvancedSettings=function(_Component){_inherits(AdvancedSettings,_Component);function AdvancedSettings(props){var _this;_classCallCheck(this,AdvancedSettings);_this=_possibleConstructorReturn(this,_getPrototypeOf(AdvancedSettings).call(this,props));_defineProperty(_assertThisInitialized(_this),"saveConfig",function(name,value){return _this.props.config.set(name,value)});_defineProperty(_assertThisInitialized(_this),"clearConfig",function(name){return _this.props.config.remove(name)});_defineProperty(_assertThisInitialized(_this),"onQueryChange",function(_ref){var query=_ref.query;_this.setState({query:query,filteredSettings:_this.mapSettings(_eui.Query.execute(query,_this.settings))})});_defineProperty(_assertThisInitialized(_this),"clearQuery",function(){_this.setState({query:_eui.Query.parse(""),footerQueryMatched:false,filteredSettings:_this.groupedSettings})});_defineProperty(_assertThisInitialized(_this),"onFooterQueryMatchChange",function(matched){_this.setState({footerQueryMatched:matched})});var _this$props=_this.props,config=_this$props.config,_query=_this$props.query;var parsedQuery=_eui.Query.parse(_query?'ariaName:"'.concat((0,_lib.getAriaName)(_query),'"'):"");_this.init(config);_this.state={query:parsedQuery,footerQueryMatched:false,filteredSettings:_this.mapSettings(_eui.Query.execute(parsedQuery,_this.settings))};(0,_default_component_registry.registerDefaultComponents)();return _this}_createClass(AdvancedSettings,[{key:"init",value:function init(config){var _this2=this;this.settings=this.mapConfig(config);this.groupedSettings=this.mapSettings(this.settings);this.categories=Object.keys(this.groupedSettings).sort(function(a,b){if(a===_lib.DEFAULT_CATEGORY)return-1;if(b===_lib.DEFAULT_CATEGORY)return 1;if(a>b)return 1;return a===b?0:-1});this.categoryCounts=Object.keys(this.groupedSettings).reduce(function(counts,category){counts[category]=_this2.groupedSettings[category].length;return counts},{})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var config=nextProps.config;var query=this.state.query;this.init(config);this.setState({filteredSettings:this.mapSettings(_eui.Query.execute(query,this.settings))})}},{key:"mapConfig",value:function mapConfig(config){var all=config.getAll();return Object.entries(all).map(function(setting){return(0,_lib.toEditableConfig)({def:setting[1],name:setting[0],value:setting[1].userValue,isCustom:config.isCustom(setting[0]),isOverridden:config.isOverridden(setting[0])})}).filter(function(c){return!c.readonly}).sort(_eui.Comparators.property("name",_eui.Comparators.default("asc")))}},{key:"mapSettings",value:function mapSettings(settings){return settings.reduce(function(groupedSettings,setting){var category=setting.category[0];(groupedSettings[category]=groupedSettings[category]||[]).push(setting);return groupedSettings},{})}},{key:"render",value:function render(){var _this$state=this.state,filteredSettings=_this$state.filteredSettings,query=_this$state.query,footerQueryMatched=_this$state.footerQueryMatched;var PageTitle=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_TITLE_COMPONENT);var PageSubtitle=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_SUBTITLE_COMPONENT);var PageFooter=(0,_component_registry.getSettingsComponent)(_default_component_registry.PAGE_FOOTER_COMPONENT);return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(PageTitle,null)),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_search.Search,{query:query,categories:this.categories,onQueryChange:this.onQueryChange}))),_react.default.createElement(PageSubtitle,null),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_call_outs.CallOuts,null),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_advanced_settings_voice_announcement.AdvancedSettingsVoiceAnnouncement,{queryText:query.text,settings:filteredSettings}),_react.default.createElement(_form.Form,{settings:filteredSettings,categories:this.categories,categoryCounts:this.categoryCounts,clearQuery:this.clearQuery,save:this.saveConfig,clear:this.clearConfig,showNoResultsMessage:!footerQueryMatched,enableSaving:this.props.enableSaving}),_react.default.createElement(PageFooter,{query:query,onQueryMatchChange:this.onFooterQueryMatchChange,enableSaving:this.props.enableSaving}))}}]);return AdvancedSettings}(_react.Component);exports.AdvancedSettings=AdvancedSettings;_defineProperty(AdvancedSettings,"propTypes",{config:_propTypes.default.object.isRequired,query:_propTypes.default.string,enableSaving:_propTypes.default.bool.isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}});var _call_outs=__webpack_require__(2062)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CallOuts=function CallOuts(){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.callOutCautionTitle",defaultMessage:"Caution: You can break stuff here"}),color:"warning",iconType:"bolt"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.callOutCautionDescription",defaultMessage:"Be careful in here, these settings are for very advanced users only. Tweaks you make here can break large portions of Kibana. Some of these settings may be undocumented, unsupported or experimental. If a field has a default value, blanking the field will reset it to its default which may be unacceptable given other configuration directives. Deleting a custom setting will permanently remove it from Kibana's config."}))))};exports.CallOuts=CallOuts},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Search",{enumerable:true,get:function get(){return _search.Search}});var _search=__webpack_require__(2064)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Search=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);var _lib=__webpack_require__(381);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchUI=function(_PureComponent){_inherits(SearchUI,_PureComponent);function SearchUI(props){var _this;_classCallCheck(this,SearchUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{isSearchTextValid:true,parseErrorMessage:null});_defineProperty(_assertThisInitialized(_this),"onChange",function(_ref){var query=_ref.query,error=_ref.error;if(error){_this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}_this.setState({isSearchTextValid:true,parseErrorMessage:null});_this.props.onQueryChange({query:query})});var categories=props.categories;_this.categories=categories.map(function(category){return{value:category,name:(0,_lib.getCategoryName)(category)}});return _this}_createClass(SearchUI,[{key:"render",value:function render(){var _this$props=this.props,query=_this$props.query,intl=_this$props.intl;var box={incremental:true,"data-test-subj":"settingsSearchBar","aria-label":intl.formatMessage({id:"kbn.management.settings.searchBarAriaLabel",defaultMessage:"Search advanced settings"})};var filters=[{type:"field_value_selection",field:"category",name:intl.formatMessage({id:"kbn.management.settings.categorySearchLabel",defaultMessage:"Category"}),multiSelect:"or",options:this.categories}];var queryParseError;if(!this.state.isSearchTextValid){var parseErrorMsg=intl.formatMessage({id:"kbn.management.settings.searchBar.unableToParseQueryErrorMessage",defaultMessage:"Unable to parse query"});queryParseError=_react.default.createElement(_eui.EuiFormErrorText,null,"".concat(parseErrorMsg,". ").concat(this.state.parseErrorMessage))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSearchBar,{box:box,filters:filters,onChange:this.onChange,query:query}),queryParseError)}}]);return SearchUI}(_react.PureComponent);_defineProperty(SearchUI,"propTypes",{categories:_propTypes.default.array.isRequired,query:_propTypes.default.object.isRequired,onQueryChange:_propTypes.default.func.isRequired});var Search=(0,_react2.injectI18n)(SearchUI);exports.Search=Search},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Form",{enumerable:true,get:function get(){return _form.Form}});var _form=__webpack_require__(2066)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Form=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _lib=__webpack_require__(381);var _field=__webpack_require__(2067);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FormUI=function(_PureComponent){_inherits(FormUI,_PureComponent);function FormUI(){_classCallCheck(this,FormUI);return _possibleConstructorReturn(this,_getPrototypeOf(FormUI).apply(this,arguments))}_createClass(FormUI,[{key:"renderClearQueryLink",value:function renderClearQueryLink(totalSettings,currentSettings){var clearQuery=this.props.clearQuery;if(totalSettings!==currentSettings){return _react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("em",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.form.searchResultText",defaultMessage:"Search terms are hiding {settingsCount} settings {clearSearch}",values:{settingsCount:totalSettings-currentSettings,clearSearch:_react.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react.default.createElement("em",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.form.clearSearchResultText",defaultMessage:"(clear search)"})))}})))}return null}},{key:"renderCategory",value:function renderCategory(category,settings,totalSettings){var _this=this;return _react.default.createElement(_react.Fragment,{key:category},_react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("h2",null,(0,_lib.getCategoryName)(category))),this.renderClearQueryLink(totalSettings,settings.length))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),settings.map(function(setting){return _react.default.createElement(_field.Field,{key:setting.name,setting:setting,save:_this.props.save,clear:_this.props.clear,enableSaving:_this.props.enableSaving})}))),_react.default.createElement(_eui.EuiSpacer,{size:"l"}))}},{key:"maybeRenderNoSettings",value:function maybeRenderNoSettings(clearQuery){if(this.props.showNoResultsMessage){return _react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.form.noSearchResultText",defaultMessage:"No settings found {clearSearch}",values:{clearSearch:_react.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.settings.form.clearNoSearchResultText",defaultMessage:"(clear search)"}))}}))}return null}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,settings=_this$props.settings,categories=_this$props.categories,categoryCounts=_this$props.categoryCounts,clearQuery=_this$props.clearQuery;var currentCategories=[];categories.forEach(function(category){if(settings[category]&&settings[category].length){currentCategories.push(category)}});return _react.default.createElement(_react.Fragment,null,currentCategories.length?currentCategories.map(function(category){return _this2.renderCategory(category,settings[category],categoryCounts[category])}):this.maybeRenderNoSettings(clearQuery))}}]);return FormUI}(_react.PureComponent);_defineProperty(FormUI,"propTypes",{settings:_propTypes.default.object.isRequired,categories:_propTypes.default.array.isRequired,categoryCounts:_propTypes.default.object.isRequired,clearQuery:_propTypes.default.func.isRequired,save:_propTypes.default.func.isRequired,clear:_propTypes.default.func.isRequired,showNoResultsMessage:_propTypes.default.bool.isRequired,enableSaving:_propTypes.default.bool.isRequired});var Form=(0,_react2.injectI18n)(FormUI);exports.Form=Form},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _field.Field}});var _field=__webpack_require__(777)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AdvancedSettingsVoiceAnnouncement",{enumerable:true,get:function get(){return _advanced_settings_voice_announcement.AdvancedSettingsVoiceAnnouncement}});var _advanced_settings_voice_announcement=__webpack_require__(2069)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettingsVoiceAnnouncement=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);var _eui=__webpack_require__(3);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AdvancedSettingsVoiceAnnouncement=function(_Component){_inherits(AdvancedSettingsVoiceAnnouncement,_Component);function AdvancedSettingsVoiceAnnouncement(){var _getPrototypeOf2;var _this;_classCallCheck(this,AdvancedSettingsVoiceAnnouncement);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AdvancedSettingsVoiceAnnouncement)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"shouldComponentUpdate",function(nextProps){return nextProps.queryText!==_this.props.queryText});return _this}_createClass(AdvancedSettingsVoiceAnnouncement,[{key:"render",value:function render(){var _ref;var filteredSections=Object.values(this.props.settings).map(function(setting){return setting.map(function(option){return option.ariaName})});var filteredOptions=(_ref=[]).concat.apply(_ref,_toConsumableArray(filteredSections));return _react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("div",{role:"region","aria-live":"polite"},_react.default.createElement(_eui.EuiDelayRender,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.settings.advancedSettings.voiceAnnouncement.searchResultScreenReaderMessage",defaultMessage:"You searched for {query}. There {optionLenght, plural, one {is # option} other {are # options}} in {sectionLenght, plural, one {# section} other {# sections}}",values:{query:this.props.queryText,sectionLenght:filteredSections.length,optionLenght:filteredOptions.length}}))))}}]);return AdvancedSettingsVoiceAnnouncement}(_react.Component);exports.AdvancedSettingsVoiceAnnouncement=AdvancedSettingsVoiceAnnouncement},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBreadcrumbs=getBreadcrumbs;var _management=__webpack_require__(95);var _i18n=__webpack_require__(2);function getBreadcrumbs(){return[_management.MANAGEMENT_BREADCRUMB,{text:_i18n.i18n.translate("kbn.management.settings.breadcrumb",{defaultMessage:"Advanced settings"})}]}},function(module,exports,__webpack_require__){"use strict";var _i18n=__webpack_require__(2);var _management=__webpack_require__(95);__webpack_require__(2072);__webpack_require__(2076);__webpack_require__(2279);var _modules=__webpack_require__(6);var _feature_catalogue=__webpack_require__(47);_modules.uiModules.get("apps/management");_management.management.getSection("kibana").register("objects",{display:_i18n.i18n.translate("kbn.management.objects.savedObjectsSectionLabel",{defaultMessage:"Saved Objects"}),order:10,url:"#/management/kibana/objects"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"saved_objects",title:_i18n.i18n.translate("kbn.management.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"}),description:_i18n.i18n.translate("kbn.management.objects.savedObjectsDescription",{defaultMessage:"Import, export, and manage your saved searches, visualizations, and dashboards."}),icon:"savedObjectsApp",path:"/app/kibana#/management/kibana/objects",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);var _angular=_interopRequireDefault(__webpack_require__(17));__webpack_require__(2278);var _risonNode=_interopRequireDefault(__webpack_require__(67));var _saved_object_registry=__webpack_require__(91);var _view=_interopRequireDefault(__webpack_require__(2074));var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _notify=__webpack_require__(9);__webpack_require__(672);var _utils=__webpack_require__(339);var _saved_objects=__webpack_require__(36);var _numeric=__webpack_require__(2075);var _in_app_url=__webpack_require__(780);var _breadcrumbs=__webpack_require__(781);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var location="SavedObject view";_routes.default.when("/management/kibana/objects/:service/:id",{template:_view.default,k7Breadcrumbs:_breadcrumbs.getViewBreadcrumbs,requireUICapability:"management.kibana.objects"});_modules.uiModules.get("apps/management",["monospaced.elastic"]).directive("kbnManagementObjectsView",function(kbnIndex,confirmModal){return{restrict:"E",controller:function controller($scope,$injector,$routeParams,$location,$window,$rootScope,Private,uiCapabilities){var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service);var service=$injector.get(serviceObj.service);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var createField=function createField(memo,val,key,collection,parents){if(Array.isArray(parents)){parents.push(key)}else{parents=[key]}var field={type:"text",name:parents.join("."),value:val};if(_lodash.default.isString(field.value)){try{field.value=_angular.default.toJson(JSON.parse(field.value),true);field.type="json"}catch(err){field.value=field.value}}else if((0,_numeric.isNumeric)(field.value)){field.type="number"}else if(Array.isArray(field.value)){field.type="array";field.value=_angular.default.toJson(field.value,true)}else if(_lodash.default.isBoolean(field.value)){field.type="boolean";field.value=field.value}else if(_lodash.default.isPlainObject(field.value)){return _lodash.default.reduce(field.value,_lodash.default.partialRight(createField,parents),memo)}memo.push(field);parents.pop();return memo};var readObjectClass=function readObjectClass(fields,Class){var fieldMap=_lodash.default.indexBy(fields,"name");_lodash.default.forOwn(Class.mapping,function(esType,name){if(fieldMap[name])return;fields.push({name:name,type:function(){switch((0,_utils.castEsToKbnFieldTypeName)(esType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}}()})});if(Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]){fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})}if(!fieldMap.references){fields.push({name:"references",type:"array",value:"[]"})}};var _uiCapabilities$saved=uiCapabilities.savedObjectsManagement,canEdit=_uiCapabilities$saved.edit,canDelete=_uiCapabilities$saved.delete;$scope.canEdit=canEdit;$scope.canDelete=canDelete;$scope.canViewInApp=(0,_in_app_url.canViewInApp)(uiCapabilities,service.type);$scope.notFound=$routeParams.notFound;$scope.title=service.type;savedObjectsClient.get(service.type,$routeParams.id).then(function(obj){$scope.obj=obj;$scope.link=service.urlFor(obj.id);var fields=_lodash.default.reduce(obj.attributes,createField,[]);createField(fields,obj.references,"references");if(service.Class)readObjectClass(fields,service.Class);var nameSortedFields=_lodash.default.sortBy(fields,"name");$scope.fields=_lodash.default.sortBy(nameSortedFields,function(field){var orderIndex=service.Class.fieldOrder?service.Class.fieldOrder.indexOf(field.name):-1;return orderIndex>-1?orderIndex:Infinity})}).catch(function(error){return(0,_notify.fatalError)(error,location)});var loadedEditors=[];$scope.aceInvalidEditors=[];$scope.aceLoaded=function(editor){if(_lodash.default.contains(loadedEditors,editor))return;loadedEditors.push(editor);editor.$blockScrolling=Infinity;var session=editor.getSession();var fieldName=editor.container.id;session.setTabSize(2);session.setUseSoftTabs(true);session.on("changeAnnotation",function(){var annotations=session.getAnnotations();if(_lodash.default.some(annotations,{type:"error"})){if(!_lodash.default.contains($scope.aceInvalidEditors,fieldName)){$scope.aceInvalidEditors.push(fieldName)}}else{$scope.aceInvalidEditors=_lodash.default.without($scope.aceInvalidEditors,fieldName)}if(!$rootScope.$$phase)$scope.$apply()})};$scope.cancel=function(){$window.history.back();return false};$scope.delete=function(){function doDelete(){savedObjectsClient.delete(service.type,$routeParams.id).then(function(){return redirectHandler("deleted")}).catch(function(error){return(0,_notify.fatalError)(error,location)})}var confirmModalOptions={onConfirm:doDelete,confirmButtonText:_i18n.i18n.translate("kbn.management.objects.confirmModalOptions.deleteButtonLabel",{defaultMessage:"Delete"}),title:_i18n.i18n.translate("kbn.management.objects.confirmModalOptions.modalTitle",{defaultMessage:"Delete saved Kibana object?"})};confirmModal(_i18n.i18n.translate("kbn.management.objects.confirmModalOptions.modalDescription",{defaultMessage:"You can't recover deleted objects"}),confirmModalOptions)};$scope.submit=function(){var source=_lodash.default.cloneDeep($scope.obj.attributes);_lodash.default.each($scope.fields,function(field){var value=field.value;if(field.type==="number"){value=Number(field.value)}if(field.type==="array"){value=JSON.parse(field.value)}_lodash.default.set(source,field.name,value)});var references=source.references,attributes=_objectWithoutProperties(source,["references"]);savedObjectsClient.update(service.type,$routeParams.id,attributes,{references:references}).then(function(){return redirectHandler("updated")}).catch(function(error){return(0,_notify.fatalError)(error,location)})};function redirectHandler(action){$location.path("/management/kibana/objects").search({_a:_risonNode.default.encode({tab:serviceObj.title})});_notify.toastNotifications.addSuccess("".concat(_lodash.default.capitalize(action)," '").concat($scope.obj.attributes.title,"' ").concat($scope.title.toLowerCase()," object"))}}}})},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/objects" class="kuiView" data-test-subj="savedObjectsEdit">\n  <kbn-management-objects-view class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header --\x3e\n    <div class="kuiViewContentItem kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        <h1\n          class="kuiTitle"\n          i18n-id="kbn.management.objects.view.editItemTitle"\n          i18n-default-message="Edit {title}"\n          i18n-values="{ title }"\n          ng-if="canEdit"\n        ></h1>\n\n        <h1\n          class="kuiTitle"\n          i18n-id="kbn.management.objects.view.viewItemTitle"\n          i18n-default-message="View {title}"\n          i18n-values="{ title }"\n          ng-if="!canEdit"\n        ></h1>\n      </div>\n\n      <div class="kuiBarSection">\n        <a\n          class="kuiButton kuiButton--basic kuiButton--iconText"\n          href="{{ link }}"\n          ng-if="canViewInApp"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-eye"></span>\n            <span\n              i18n-id="kbn.management.objects.view.viewItemButtonLabel"\n              i18n-default-message="View {title}"\n              i18n-values="{ title }"\n            ></span>\n          </span>\n        </a>\n\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="delete()"\n          ng-if="canDelete"\n          data-test-subj="savedObjectEditDelete"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash-o"></span>\n            <span\n              i18n-id="kbn.management.objects.view.deleteItemButtonLabel"\n              i18n-default-message="Delete {title}"\n              i18n-values="{ title }"\n              ></span>\n          </span>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-if="notFound"\n    >\n      <div class="kuiInfoPanel kuiInfoPanel--error">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.management.objects.view.savedObjectProblemErrorMessage"\n            i18n-default-message="There is a problem with this saved object"\n            ></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'search\'"\n            i18n-id="kbn.management.objects.view.savedSearchDoesNotExistErrorMessage"\n            i18n-default-message="The saved search associated with this object no longer exists."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern\'"\n            i18n-id="kbn.management.objects.view.indexPatternDoesNotExistErrorMessage"\n            i18n-default-message="The index pattern associated with this object no longer exists."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern-field\'"\n            i18n-id="kbn.management.objects.view.fieldDoesNotExistErrorMessage"\n            i18n-default-message="A field associated with this object no longer exists in the index pattern."\n          ></div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.management.objects.view.howToFixErrorDescription"\n            i18n-default-message="If you know what this error means, go ahead and fix it &mdash; otherwise click the delete button above."\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Intro --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiInfoPanel kuiInfoPanel--warning" ng-if="canEdit">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.management.objects.view.howToModifyObjectTitle"\n            i18n-default-message="Proceed with caution!"\n          ></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.management.objects.view.howToModifyObjectDescription"\n            i18n-default-message=" Modifying objects is for advanced users only. Object properties are not validated and invalid objects could cause errors, data loss, or worse. Unless someone with intimate knowledge of the code told you to be in here, you probably shouldn&rsquo;t be."\n          >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Form --\x3e\n      <form\n        role="form"\n        name="objectForm"\n        ng-submit="submit()"\n        data-test-subj="savedObjectEditForm"\n      >\n        <div class="kuiFormSection" ng-repeat="field in fields">\n          <label for="{{ field.name }}" class="kuiFormLabel">\n            {{ field.name }}\n          </label>\n\n          <input\n            id="{{ field.name }}"\n            ng-if="field.type === \'number\'"\n            class="kuiTextInput"\n            type="number"\n            ng-model="field.value"\n            ng-disabled="{{ !canEdit }}"\n          >\n\n          <textarea\n            id="{{ field.name }}"\n            ng-if="field.type === \'text\'"\n            class="kuiTextArea"\n            rows="1"\n            msd-elastic=" "\n            ng-model="field.value"\n            ng-disabled="{{ !canEdit }}"\n          ></textarea>\n\n          <input\n            ng-if="field.type === \'boolean\'"\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="field.value"\n            ng-checked="field.value"\n            ng-disabled="{{ !canEdit }}"\n          >\n\n          <div\n            ng-if="field.type === \'json\' || field.type === \'array\'"\n            kbn-ui-ace-keyboard-mod\n            ng-attr-readonly="{{ canEdit ? undefined : true }}"\n            ui-ace="{ onLoad: aceLoaded, mode: \'json\' }"\n            id="{{field.name}}"\n            ng-model="field.value"\n            class="form-control"\n          ></div>\n        </div>\n      </form>\n\n      \x3c!-- Actions --\x3e\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--primary"\n          aria-label="{{ \'kbn.management.objects.view.saveButtonAriaLabel\' | i18n: { defaultMessage: \'Save { title } Object\', values: { title } } }}"\n          ng-click="submit()"\n          ng-disabled="objectForm.$invalid || aceInvalidEditors.length !==0"\n          i18n-id="kbn.management.objects.view.saveButtonLabel"\n          i18n-default-message="Save { title } Object"\n          i18n-values="{ title }"\n          ng-if="canEdit"\n          data-test-subj="savedObjectEditSave"\n        ></button>\n\n        <button\n          class="kuiButton kuiButton--basic"\n          aria-label="{{ \'kbn.management.objects.view.cancelButtonAriaLabel\' | i18n: { defaultMessage: \'Cancel\'} }}"\n          ng-click="cancel()"\n          i18n-id="kbn.management.objects.view.cancelButtonLabel"\n          i18n-default-message="Cancel"\n        ></button>\n      </div>\n    </div>\n  </kbn-management-objects-view>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isNumeric=isNumeric;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isNumeric(v){return!_lodash.default.isNaN(v)&&(typeof v==="number"||!Array.isArray(v)&&!_lodash.default.isNaN(parseFloat(v)))}},function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(91);var _objects=_interopRequireDefault(__webpack_require__(2077));var _routes=_interopRequireDefault(__webpack_require__(19));var _chrome=_interopRequireDefault(__webpack_require__(7));var _saved_objects=__webpack_require__(36);var _modules=__webpack_require__(6);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _objects_table=__webpack_require__(2078);var _i18n=__webpack_require__(11);var _lodash=__webpack_require__(1);var _new_platform=__webpack_require__(8);var _breadcrumbs=__webpack_require__(781);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_OBJECTS_TABLE_DOM_ELEMENT_ID="reactSavedObjectsTable";function updateObjectsTable($scope,$injector){var Private=$injector.get("Private");var indexPatterns=$injector.get("indexPatterns");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");var confirmModalPromise=$injector.get("confirmModalPromise");var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var services=_saved_object_registry.savedObjectManagementRegistry.all().map(function(obj){return $injector.get(obj.service)});var uiCapabilites=_new_platform.npStart.core.application.capabilities;$scope.$$postDigest(function(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_objects_table.ObjectsTable,{savedObjectsClient:savedObjectsClient,confirmModalPromise:confirmModalPromise,services:services,indexPatterns:indexPatterns,$http:$http,perPageConfig:config.get("savedObjects:perPage"),basePath:_chrome.default.getBasePath(),newIndexPatternUrl:kbnUrl.eval("#/management/kibana/index_pattern"),uiCapabilities:uiCapabilites,goInspectObject:function goInspectObject(object){if(object.meta.editUrl){kbnUrl.change(object.meta.editUrl);$scope.$apply()}},canGoInApp:function canGoInApp(object){var inAppUrl=object.meta.inAppUrl;return inAppUrl&&(0,_lodash.get)(uiCapabilites,inAppUrl.uiCapabilitiesPath)}})),node)})}function destroyObjectsTable(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes.default.when("/management/kibana/objects",{template:_objects.default,k7Breadcrumbs:_breadcrumbs.getIndexBreadcrumbs,requireUICapability:"management.kibana.objects"}).when("/management/kibana/objects/:service",{redirectTo:"/management/kibana/objects"});_modules.uiModules.get("apps/management").directive("kbnManagementObjects",function(){return{restrict:"E",controllerAs:"managementObjectsController",controller:function controller($scope,$injector){updateObjectsTable($scope,$injector);$scope.$on("$destroy",destroyObjectsTable)}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/objects">\n  <kbn-management-objects>\n    <div id="reactSavedObjectsTable"></div>\n  </kbn-management-objects>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ObjectsTable",{enumerable:true,get:function get(){return _objects_table.ObjectsTable}});var _objects_table=__webpack_require__(782)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(2080)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Header=function Header(_ref){var onExportAll=_ref.onExportAll,onImport=_ref.onImport,onRefresh=_ref.onRefresh,filteredCount=_ref.filteredCount;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.savedObjectsTitle",defaultMessage:"Saved Objects"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"m",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.exportButtonLabel",defaultMessage:"Export {filteredCount, plural, one{# object} other {# objects}}",values:{filteredCount:filteredCount}}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.importButtonLabel",defaultMessage:"Import"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"refresh",onClick:onRefresh},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.header.refreshButtonLabel",defaultMessage:"Refresh"})))))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.howToDeleteSavedObjectsDescription",defaultMessage:"From here you can delete saved objects, such as saved searches. You can also edit the raw data of saved objects. Typically objects are only modified via their associated application, which is probably what you should use instead of this screen."})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.Header=Header;Header.propTypes={onExportAll:_propTypes.default.func.isRequired,onImport:_propTypes.default.func.isRequired,onRefresh:_propTypes.default.func.isRequired,filteredCount:_propTypes.default.number.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Flyout",{enumerable:true,get:function get(){return _flyout.Flyout}});var _flyout=__webpack_require__(2082)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Flyout=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _lodash=__webpack_require__(1);var _eui=__webpack_require__(3);var _lib=__webpack_require__(382);var _process_import_response=__webpack_require__(471);var _resolve_saved_objects=__webpack_require__(783);var _objects_table=__webpack_require__(782);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FlyoutUI=function(_Component){_inherits(FlyoutUI,_Component);function FlyoutUI(props){var _this;_classCallCheck(this,FlyoutUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(FlyoutUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"fetchIndexPatterns",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPatterns;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPatterns.getFields(["id","title"]);case 2:indexPatterns=_context.sent;_this.setState({indexPatterns:indexPatterns});case 4:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"changeOverwriteAll",function(){_this.setState(function(state){return{isOverwriteAllChecked:!state.isOverwriteAllChecked}})});_defineProperty(_assertThisInitialized(_this),"setImportFile",function(_ref2){var _ref3=_slicedToArray(_ref2,1),file=_ref3[0];if(!file){_this.setState({file:undefined,isLegacyFile:false});return}_this.setState({file:file,isLegacyFile:/\.json$/i.test(file.name)||file.type==="application/json"})});_defineProperty(_assertThisInitialized(_this),"import",_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var intl,_this$state,file,isOverwriteAllChecked,response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:intl=_this.props.intl;_this$state=_this.state,file=_this$state.file,isOverwriteAllChecked=_this$state.isOverwriteAllChecked;_this.setState({status:"loading",error:undefined});_context2.prev=3;_context2.next=6;return(0,_lib.importFile)(file,isOverwriteAllChecked);case 6:response=_context2.sent;_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](3);_this.setState({status:"error",error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.importFileErrorMessage",defaultMessage:"The file could not be processed."})});return _context2.abrupt("return");case 13:_this.setState((0,_process_import_response.processImportResponse)(response),function(){if(_this.state.unmatchedReferences.length===0){_this.resolveImportErrors()}});case 14:case"end":return _context2.stop()}}},_callee2,null,[[3,9]])})));_defineProperty(_assertThisInitialized(_this),"getConflictResolutions",function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(objects){var resolutions,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_loop,_iterator,_step;return regeneratorRuntime.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:resolutions={};_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context4.prev=4;_loop=regeneratorRuntime.mark(function _loop(){var _step$value,type,id,title,overwrite;return regeneratorRuntime.wrap(function _loop$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_step$value=_step.value,type=_step$value.type,id=_step$value.id,title=_step$value.title;_context3.next=3;return new Promise(function(resolve){_this.setState({conflictingRecord:{id:id,type:type,title:title,done:resolve}})});case 3:overwrite=_context3.sent;resolutions["".concat(type,":").concat(id)]=overwrite;_this.setState({conflictingRecord:undefined});case 6:case"end":return _context3.stop()}}},_loop)});_iterator=objects[Symbol.iterator]();case 7:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context4.next=12;break}return _context4.delegateYield(_loop(),"t0",9);case 9:_iteratorNormalCompletion=true;_context4.next=7;break;case 12:_context4.next=18;break;case 14:_context4.prev=14;_context4.t1=_context4["catch"](4);_didIteratorError=true;_iteratorError=_context4.t1;case 18:_context4.prev=18;_context4.prev=19;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 21:_context4.prev=21;if(!_didIteratorError){_context4.next=24;break}throw _iteratorError;case 24:return _context4.finish(21);case 25:return _context4.finish(18);case 26:return _context4.abrupt("return",resolutions);case 27:case"end":return _context4.stop()}}},_callee3,null,[[4,14,18,26],[19,,21,25]])}));return function(_x){return _ref5.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"resolveImportErrors",_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var intl,updatedState;return regeneratorRuntime.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:intl=_this.props.intl;_this.setState({error:undefined,status:"loading",loadingMessage:undefined});_context5.prev=2;_context5.next=5;return(0,_lib.resolveImportErrors)({state:_this.state,getConflictResolutions:_this.getConflictResolutions});case 5:updatedState=_context5.sent;_this.setState(updatedState);_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5["catch"](2);_this.setState({status:"error",error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.resolveImportErrorsFileErrorMessage",defaultMessage:"The file could not be processed."})});case 12:case"end":return _context5.stop()}}},_callee4,null,[[2,9]])})));_defineProperty(_assertThisInitialized(_this),"legacyImport",_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var _this$props,services,indexPatterns,intl,confirmModalPromise,_this$state2,file,isOverwriteAllChecked,contents,_ref8,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,importedObjectCount,failedImports,byId,unmatchedReferences;return regeneratorRuntime.wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this$props=_this.props,services=_this$props.services,indexPatterns=_this$props.indexPatterns,intl=_this$props.intl,confirmModalPromise=_this$props.confirmModalPromise;_this$state2=_this.state,file=_this$state2.file,isOverwriteAllChecked=_this$state2.isOverwriteAllChecked;_this.setState({status:"loading",error:undefined});(0,_lib.logLegacyImport)();_context6.prev=4;_context6.next=7;return(0,_lib.importLegacyFile)(file);case 7:contents=_context6.sent;_context6.next=14;break;case 10:_context6.prev=10;_context6.t0=_context6["catch"](4);_this.setState({status:"error",error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.importLegacyFileErrorMessage",defaultMessage:"The file could not be processed."})});return _context6.abrupt("return");case 14:if(Array.isArray(contents)){_context6.next=17;break}_this.setState({status:"error",error:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.invalidFormatOfImportedFileErrorMessage",defaultMessage:"Saved objects file format is invalid and cannot be imported."})});return _context6.abrupt("return");case 17:contents=contents.filter(function(content){return _objects_table.POSSIBLE_TYPES.includes(content._type)}).map(function(doc){return _objectSpread({},doc,{_migrationVersion:doc._migrationVersion||{}})});_context6.next=20;return(0,_resolve_saved_objects.resolveSavedObjects)(contents,isOverwriteAllChecked,services,indexPatterns,confirmModalPromise);case 20:_ref8=_context6.sent;conflictedIndexPatterns=_ref8.conflictedIndexPatterns;conflictedSavedObjectsLinkedToSavedSearches=_ref8.conflictedSavedObjectsLinkedToSavedSearches;conflictedSearchDocs=_ref8.conflictedSearchDocs;importedObjectCount=_ref8.importedObjectCount;failedImports=_ref8.failedImports;byId={};conflictedIndexPatterns.map(function(_ref9){var doc=_ref9.doc,obj=_ref9.obj;return{doc:doc,obj:obj._serialize()}}).forEach(function(_ref10){var doc=_ref10.doc,obj=_ref10.obj;return obj.references.forEach(function(ref){byId[ref.id]=byId[ref.id]!=null?byId[ref.id].concat({doc:doc,obj:obj}):[{doc:doc,obj:obj}]})});unmatchedReferences=Object.entries(byId).reduce(function(accum,_ref11){var _ref12=_slicedToArray(_ref11,2),existingIndexPatternId=_ref12[0],list=_ref12[1];accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:undefined,list:list.map(function(_ref13){var doc=_ref13.doc;return{id:existingIndexPatternId,type:doc._type,title:doc._source.title}})});return accum},[]);_this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,unmatchedReferences:unmatchedReferences,importCount:importedObjectCount,status:unmatchedReferences.length===0?"success":"idle"});case 30:case"end":return _context6.stop()}}},_callee5,null,[[4,10]])})));_defineProperty(_assertThisInitialized(_this),"confirmLegacyImport",_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var _this$state3,conflictedIndexPatterns,isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,failedImports,_this$props2,services,indexPatterns,intl,importCount,resolutions;return regeneratorRuntime.wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this$state3=_this.state,conflictedIndexPatterns=_this$state3.conflictedIndexPatterns,isOverwriteAllChecked=_this$state3.isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches=_this$state3.conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs=_this$state3.conflictedSearchDocs,failedImports=_this$state3.failedImports;_this$props2=_this.props,services=_this$props2.services,indexPatterns=_this$props2.indexPatterns,intl=_this$props2.intl;_this.setState({error:undefined,status:"loading",loadingMessage:undefined});importCount=_this.state.importCount;if(!_this.hasUnmatchedReferences){_context7.next=34;break}_context7.prev=5;resolutions=_this.resolutions;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmLegacyImport.resolvingConflictsLoadingMessage",defaultMessage:"Resolving conflicts"})});if(!resolutions.length){_context7.next=13;break}_context7.t0=importCount;_context7.next=12;return(0,_resolve_saved_objects.resolveIndexPatternConflicts)(resolutions,conflictedIndexPatterns,isOverwriteAllChecked);case 12:importCount=_context7.t0+=_context7.sent;case 13:_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmLegacyImport.savingConflictsLoadingMessage",defaultMessage:"Saving conflicts"})});_context7.t1=importCount;_context7.next=17;return(0,_resolve_saved_objects.saveObjects)(conflictedSavedObjectsLinkedToSavedSearches,isOverwriteAllChecked);case 17:importCount=_context7.t1+=_context7.sent;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmLegacyImport.savedSearchAreLinkedProperlyLoadingMessage",defaultMessage:"Ensure saved searches are linked properly"})});_context7.t2=importCount;_context7.next=22;return(0,_resolve_saved_objects.resolveSavedSearches)(conflictedSearchDocs,services,indexPatterns,isOverwriteAllChecked);case 22:importCount=_context7.t2+=_context7.sent;_this.setState({loadingMessage:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmLegacyImport.retryingFailedObjectsLoadingMessage",defaultMessage:"Retrying failed objects"})});_context7.t3=importCount;_context7.next=27;return(0,_resolve_saved_objects.saveObjects)(failedImports.map(function(_ref15){var obj=_ref15.obj;return obj}),isOverwriteAllChecked);case 27:importCount=_context7.t3+=_context7.sent;_context7.next=34;break;case 30:_context7.prev=30;_context7.t4=_context7["catch"](5);_this.setState({error:_context7.t4.message,status:"error",loadingMessage:undefined});return _context7.abrupt("return");case 34:_this.setState({status:"success",importCount:importCount});case 35:case"end":return _context7.stop()}}},_callee6,null,[[5,30]])})));_defineProperty(_assertThisInitialized(_this),"onIndexChanged",function(id,e){var value=e.target.value;_this.setState(function(state){var conflictIndex=state.unmatchedReferences.findIndex(function(conflict){return conflict.existingIndexPatternId===id});if(conflictIndex===-1){return state}return{unmatchedReferences:[].concat(_toConsumableArray(state.unmatchedReferences.slice(0,conflictIndex)),[_objectSpread({},state.unmatchedReferences[conflictIndex],{newIndexPatternId:value})],_toConsumableArray(state.unmatchedReferences.slice(conflictIndex+1)))}})});_this.state={conflictedIndexPatterns:undefined,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined,unmatchedReferences:undefined,conflictingRecord:undefined,error:undefined,file:undefined,importCount:0,indexPatterns:undefined,isOverwriteAllChecked:true,loadingMessage:undefined,isLegacyFile:false,status:"idle"};return _this}_createClass(FlyoutUI,[{key:"componentDidMount",value:function componentDidMount(){this.fetchIndexPatterns()}},{key:"renderUnmatchedReferences",value:function renderUnmatchedReferences(){var _this2=this;var unmatchedReferences=this.state.unmatchedReferences;var intl=this.props.intl;if(!unmatchedReferences){return null}var columns=[{field:"existingIndexPatternId",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnIdName",defaultMessage:"ID"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnIdDescription",defaultMessage:"ID of the index pattern"}),sortable:true},{field:"list",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnCountName",defaultMessage:"Count"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnCountDescription",defaultMessage:"How many affected objects"}),render:function render(list){return _react.default.createElement(_react.Fragment,null,list.length)}},{field:"list",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsName",defaultMessage:"Sample of affected objects"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsDescription",defaultMessage:"Sample of affected objects"}),render:function render(list){return _react.default.createElement("ul",{style:{listStyle:"none"}},(0,_lodash.take)(list,3).map(function(obj,key){return _react.default.createElement("li",{key:key},obj.title)}))}},{field:"existingIndexPatternId",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.renderConflicts.columnNewIndexPatternName",defaultMessage:"New index pattern"}),render:function render(id){var options=_this2.state.indexPatterns.map(function(indexPattern){return _defineProperty({text:indexPattern.title,value:indexPattern.id},"data-test-subj","indexPatternOption-".concat(indexPattern.title))});options.unshift({text:"-- Skip Import --",value:""});return _react.default.createElement(_eui.EuiSelect,{"data-test-subj":"managementChangeIndexSelection-".concat(id),onChange:function onChange(e){return _this2.onIndexChanged(id,e)},options:options})}}];var pagination={pageSizeOptions:[5,10,25]};return _react.default.createElement(_eui.EuiInMemoryTable,{items:unmatchedReferences,columns:columns,pagination:pagination})}},{key:"renderError",value:function renderError(){var _this$state4=this.state,error=_this$state4.error,status=_this$state4.status;if(status!=="error"){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.errorCalloutTitle",defaultMessage:"Sorry, there was an error"}),color:"danger"},_react.default.createElement("p",null,error)),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"renderBody",value:function renderBody(){var intl=this.props.intl;var _this$state5=this.state,status=_this$state5.status,loadingMessage=_this$state5.loadingMessage,isOverwriteAllChecked=_this$state5.isOverwriteAllChecked,importCount=_this$state5.importCount,_this$state5$failedIm=_this$state5.failedImports,failedImports=_this$state5$failedIm===void 0?[]:_this$state5$failedIm,isLegacyFile=_this$state5.isLegacyFile;if(status==="loading"){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,loadingMessage))))}if(failedImports.length&&(!this.hasUnmatchedReferences||isLegacyFile===false&&status==="success")){return _react.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsFailedWarning",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importFailedTitle",defaultMessage:"Import failed"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importFailedDescription",defaultMessage:"Failed to import {failedImportCount} of {totalImportCount} objects. Import failed",values:{failedImportCount:failedImports.length,totalImportCount:importCount+failedImports.length}})),_react.default.createElement("p",null,failedImports.map(function(_ref17){var error=_ref17.error,obj=_ref17.obj;if(error.type==="missing_references"){return error.references.map(function(reference){return intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.importFailedMissingReference",defaultMessage:"{type} [id={id}] could not locate {refType} [id={refId}]"},{id:obj.id,type:obj.type,refId:reference.id,refType:reference.type})})}else if(error.type==="unsupported_type"){return intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.importFailedUnsupportedType",defaultMessage:"{type} [id={id}] unsupported type"},{id:obj.id,type:obj.type})}return(0,_lodash.get)(error,"body.message",error.message||"")}).join(" ")))}if(status==="success"){if(importCount===0){return _react.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulCallout.noObjectsImportedTitle",defaultMessage:"No objects imported"}),color:"primary"})}return _react.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccess",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulTitle",defaultMessage:"Import successful"}),color:"success",iconType:"check"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessfulDescription",defaultMessage:"Successfully imported {importCount} objects.",values:{importCount:importCount}})))}if(this.hasUnmatchedReferences){return this.renderUnmatchedReferences()}return _react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.selectFileToImportFormRowLabel",defaultMessage:"Please select a file to import"})},_react.default.createElement(_eui.EuiFilePicker,{initialPromptText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importPromptText",defaultMessage:"Import"}),onChange:this.setImportFile})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiSwitch,{name:"overwriteAll",label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.overwriteSavedObjectsLabel",defaultMessage:"Automatically overwrite all saved objects?"}),"data-test-subj":"importSavedObjectsOverwriteToggle",checked:isOverwriteAllChecked,onChange:this.changeOverwriteAll})))}},{key:"renderFooter",value:function renderFooter(){var status=this.state.status;var _this$props3=this.props,done=_this$props3.done,close=_this$props3.close;var confirmButton;if(status==="success"){confirmButton=_react.default.createElement(_eui.EuiButton,{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessful.confirmButtonLabel",defaultMessage:"Done"}))}else if(this.hasUnmatchedReferences){confirmButton=_react.default.createElement(_eui.EuiButton,{onClick:this.state.isLegacyFile?this.confirmLegacyImport:this.resolveImportErrors,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsConfirmBtn"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSuccessful.confirmAllChangesButtonLabel",defaultMessage:"Confirm all changes"}))}else{confirmButton=_react.default.createElement(_eui.EuiButton,{onClick:this.state.isLegacyFile?this.legacyImport:this.import,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsImportBtn"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.import.confirmButtonLabel",defaultMessage:"Import"}))}return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:close,size:"s"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.import.cancelButtonLabel",defaultMessage:"Cancel"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},confirmButton))}},{key:"renderSubheader",value:function renderSubheader(){if(this.state.status==="loading"||this.state.status==="success"){return null}var legacyFileWarning;if(this.state.isLegacyFile){legacyFileWarning=_react.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsLegacyWarning",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.legacyFileUsedTitle",defaultMessage:"Support for JSON files is going away"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.legacyFileUsedBody",defaultMessage:"Use our updated export to generate NDJSON files, and you'll be all set."})))}var indexPatternConflictsWarning;if(this.hasUnmatchedReferences){indexPatternConflictsWarning=_react.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsConflictsWarning",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"warning",iconType:"help"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsDescription",defaultMessage:"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can {indexPatternLink} if necessary.",values:{indexPatternLink:_react.default.createElement(_eui.EuiLink,{href:this.props.newIndexPatternUrl},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.indexPatternConflictsCalloutLinkText",defaultMessage:"create a new index pattern"}))}})))}if(!legacyFileWarning&&!indexPatternConflictsWarning){return null}return _react.default.createElement(_react.Fragment,null,legacyFileWarning&&_react.default.createElement("span",null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),legacyFileWarning),indexPatternConflictsWarning&&_react.default.createElement("span",null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),indexPatternConflictsWarning))}},{key:"overwriteConfirmed",value:function overwriteConfirmed(){this.state.conflictingRecord.done(true)}},{key:"overwriteSkipped",value:function overwriteSkipped(){this.state.conflictingRecord.done(false)}},{key:"render",value:function render(){var _this$props4=this.props,close=_this$props4.close,intl=_this$props4.intl;var confirmOverwriteModal;if(this.state.conflictingRecord){confirmOverwriteModal=_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmOverwriteTitle",defaultMessage:"Overwrite {type}?"},{type:this.state.conflictingRecord.type}),cancelButtonText:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmOverwriteCancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"kbn.management.objects.objectsTable.flyout.confirmOverwriteOverwriteButtonText",defaultMessage:"Overwrite"}),buttonColor:"danger",onCancel:this.overwriteSkipped.bind(this),onConfirm:this.overwriteConfirmed.bind(this),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.confirmOverwriteBody",defaultMessage:"Are you sure you want to overwrite {title}?",values:{title:this.state.conflictingRecord.title||(0,_lib.getDefaultTitle)(this.state.conflictingRecord)}}))))}return _react.default.createElement(_eui.EuiFlyout,{onClose:close,size:"s"},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.flyout.importSavedObjectTitle",defaultMessage:"Import saved objects"})))),_react.default.createElement(_eui.EuiFlyoutBody,null,this.renderSubheader(),this.renderError(),this.renderBody()),_react.default.createElement(_eui.EuiFlyoutFooter,null,this.renderFooter()),confirmOverwriteModal)}},{key:"hasUnmatchedReferences",get:function get(){return this.state.unmatchedReferences&&this.state.unmatchedReferences.length>0}},{key:"resolutions",get:function get(){return this.state.unmatchedReferences.reduce(function(accum,_ref18){var existingIndexPatternId=_ref18.existingIndexPatternId,newIndexPatternId=_ref18.newIndexPatternId;if(newIndexPatternId){accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId})}return accum},[])}}]);return FlyoutUI}(_react.Component);_defineProperty(FlyoutUI,"propTypes",{close:_propTypes.default.func.isRequired,done:_propTypes.default.func.isRequired,services:_propTypes.default.array.isRequired,newIndexPatternUrl:_propTypes.default.string.isRequired,indexPatterns:_propTypes.default.object.isRequired,confirmModalPromise:_propTypes.default.func.isRequired});var Flyout=(0,_react2.injectI18n)(FlyoutUI);exports.Flyout=Flyout},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchExportByType=fetchExportByType;var _kfetch=__webpack_require__(39);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function fetchExportByType(_x){return _fetchExportByType.apply(this,arguments)}function _fetchExportByType(){_fetchExportByType=_asyncToGenerator(regeneratorRuntime.mark(function _callee(types){var includeReferencesDeep,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:includeReferencesDeep=_args.length>1&&_args[1]!==undefined?_args[1]:false;_context.next=3;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/saved_objects/_export",body:JSON.stringify({type:types,includeReferencesDeep:includeReferencesDeep})});case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}},_callee)}));return _fetchExportByType.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchExportObjects=fetchExportObjects;var _kfetch=__webpack_require__(39);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function fetchExportObjects(_x){return _fetchExportObjects.apply(this,arguments)}function _fetchExportObjects(){_fetchExportObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee(objects){var includeReferencesDeep,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:includeReferencesDeep=_args.length>1&&_args[1]!==undefined?_args[1]:false;_context.next=3;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/saved_objects/_export",body:JSON.stringify({objects:objects,includeReferencesDeep:includeReferencesDeep})});case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}},_callee)}));return _fetchExportObjects.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRelationships=getRelationships;var _lodash=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function getRelationships(_x,_x2,_x3,_x4,_x5){return _getRelationships.apply(this,arguments)}function _getRelationships(){_getRelationships=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type,id,savedObjectTypes,$http,basePath){var url,options,response,respBody,err;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url="".concat(basePath,"/api/kibana/management/saved_objects/relationships/").concat(encodeURIComponent(type),"/").concat(encodeURIComponent(id));options={method:"GET",url:url,params:{savedObjectTypes:savedObjectTypes}};_context.prev=2;_context.next=5;return $http(options);case 5:response=_context.sent;return _context.abrupt("return",response?response.data:undefined);case 9:_context.prev=9;_context.t0=_context["catch"](2);respBody=(0,_lodash.get)(_context.t0,"data",{});err=new Error(respBody.message||respBody.error||"".concat(_context.t0.status," Response"));err.statusCode=respBody.statusCode||_context.t0.status;err.body=respBody;throw err;case 16:case"end":return _context.stop()}}},_callee,null,[[2,9]])}));return _getRelationships.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectCounts=getSavedObjectCounts;var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var apiBase=_chrome.default.addBasePath("/api/kibana/management/saved_objects/scroll");function getSavedObjectCounts(_x,_x2,_x3){return _getSavedObjectCounts.apply(this,arguments)}function _getSavedObjectCounts(){_getSavedObjectCounts=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude,searchString){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post("".concat(apiBase,"/counts"),{typesToInclude:typesToInclude,searchString:searchString});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}}},_callee)}));return _getSavedObjectCounts.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectLabel=getSavedObjectLabel;function getSavedObjectLabel(type){switch(type){case"index-pattern":case"index-patterns":case"indexPatterns":return"index patterns";default:return type}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.importFile=importFile;var _kfetch=__webpack_require__(39);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function importFile(_x){return _importFile.apply(this,arguments)}function _importFile(){_importFile=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file){var overwriteAll,formData,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:overwriteAll=_args.length>1&&_args[1]!==undefined?_args[1]:false;formData=new FormData;formData.append("file",file);_context.next=5;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/saved_objects/_import",body:formData,headers:{"Content-Type":undefined},query:{overwrite:overwriteAll}});case 5:return _context.abrupt("return",_context.sent);case 6:case"end":return _context.stop()}}},_callee)}));return _importFile.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.importLegacyFile=importLegacyFile;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function importLegacyFile(_x){return _importLegacyFile.apply(this,arguments)}function _importLegacyFile(){_importLegacyFile=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file){var FileReader,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:FileReader=_args.length>1&&_args[1]!==undefined?_args[1]:window.FileReader;return _context.abrupt("return",new Promise(function(resolve,reject){var fr=new FileReader;fr.onload=function(_ref){var result=_ref.target.result;try{resolve(JSON.parse(result))}catch(e){reject(e)}};fr.readAsText(file)}));case 2:case"end":return _context.stop()}}},_callee)}));return _importLegacyFile.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseQuery=parseQuery;function parseQuery(query){var queryText=undefined;var visibleTypes=undefined;if(query){if(query.ast.getTermClauses().length){queryText=query.ast.getTermClauses().map(function(clause){return clause.value}).join(" ")}if(query.ast.getFieldClauses("type")){visibleTypes=query.ast.getFieldClauses("type")[0].value}}return{queryText:queryText,visibleTypes:visibleTypes}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolveImportErrors=resolveImportErrors;var _kfetch=__webpack_require__(39);function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function callResolveImportErrorsApi(_x,_x2){return _callResolveImportErrorsApi.apply(this,arguments)}function _callResolveImportErrorsApi(){_callResolveImportErrorsApi=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file,retries){var formData;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData;formData.append("file",file);formData.append("retries",JSON.stringify(retries));_context.next=5;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/saved_objects/_resolve_import_errors",headers:{"Content-Type":undefined},body:formData});case 5:return _context.abrupt("return",_context.sent);case 6:case"end":return _context.stop()}}},_callee)}));return _callResolveImportErrorsApi.apply(this,arguments)}function mapImportFailureToRetryObject(_ref){var failure=_ref.failure,overwriteDecisionCache=_ref.overwriteDecisionCache,replaceReferencesCache=_ref.replaceReferencesCache,state=_ref.state;var isOverwriteAllChecked=state.isOverwriteAllChecked,unmatchedReferences=state.unmatchedReferences;var isOverwriteGranted=isOverwriteAllChecked||overwriteDecisionCache.get("".concat(failure.obj.type,":").concat(failure.obj.id))===true;if(!isOverwriteGranted&&failure.error.type==="conflict"){return}if(failure.error.type==="missing_references"){var objReplaceReferences=replaceReferencesCache.get("".concat(failure.obj.type,":").concat(failure.obj.id))||[];var indexPatternRefs=failure.error.references.filter(function(obj){return obj.type==="index-pattern"});var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=indexPatternRefs[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var reference=_step.value;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=unmatchedReferences[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var unmatchedReference=_step2.value;var hasNewValue=!!unmatchedReference.newIndexPatternId;var matchesIndexPatternId=unmatchedReference.existingIndexPatternId===reference.id;if(!hasNewValue||!matchesIndexPatternId){continue}objReplaceReferences.push({type:"index-pattern",from:unmatchedReference.existingIndexPatternId,to:unmatchedReference.newIndexPatternId})}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}replaceReferencesCache.set("".concat(failure.obj.type,":").concat(failure.obj.id),objReplaceReferences);if(objReplaceReferences.length===0){return}}return{id:failure.obj.id,type:failure.obj.type,overwrite:isOverwriteAllChecked||overwriteDecisionCache.get("".concat(failure.obj.type,":").concat(failure.obj.id))===true,replaceReferences:replaceReferencesCache.get("".concat(failure.obj.type,":").concat(failure.obj.id))||[]}}function resolveImportErrors(_x3){return _resolveImportErrors.apply(this,arguments)}function _resolveImportErrors(){_resolveImportErrors=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref2){var getConflictResolutions,state,overwriteDecisionCache,replaceReferencesCache,successImportCount,_state$failedImports,importFailures,file,isOverwriteAllChecked,doesntHaveOverwriteDecision,getOverwriteDecision,callMapImportFailure,isNotSkipped,result,_i,_Object$keys,key,retries,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_loop,_iterator3,_step3,_ret,response,_iteratorNormalCompletion4,_didIteratorError4,_iteratorError4,_iterator4,_step4,_step4$value,error,obj;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:getConflictResolutions=_ref2.getConflictResolutions,state=_ref2.state;overwriteDecisionCache=new Map;replaceReferencesCache=new Map;successImportCount=state.importCount,_state$failedImports=state.failedImports,importFailures=_state$failedImports===void 0?[]:_state$failedImports;file=state.file,isOverwriteAllChecked=state.isOverwriteAllChecked;doesntHaveOverwriteDecision=function doesntHaveOverwriteDecision(_ref3){var obj=_ref3.obj;return!overwriteDecisionCache.has("".concat(obj.type,":").concat(obj.id))};getOverwriteDecision=function getOverwriteDecision(_ref4){var obj=_ref4.obj;return overwriteDecisionCache.get("".concat(obj.type,":").concat(obj.id))};callMapImportFailure=function callMapImportFailure(failure){return mapImportFailureToRetryObject({failure:failure,overwriteDecisionCache:overwriteDecisionCache,replaceReferencesCache:replaceReferencesCache,state:state})};isNotSkipped=function isNotSkipped(failure){return failure.error.type!=="conflict"&&failure.error.type!=="missing_references"||getOverwriteDecision(failure)};case 9:if(!importFailures.some(function(failure){return["conflict","missing_references"].includes(failure.error.type)})){_context2.next=72;break}if(isOverwriteAllChecked){_context2.next=15;break}_context2.next=13;return getConflictResolutions(importFailures.filter(function(_ref5){var error=_ref5.error;return error.type==="conflict"}).filter(doesntHaveOverwriteDecision).map(function(_ref6){var obj=_ref6.obj;return obj}));case 13:result=_context2.sent;for(_i=0,_Object$keys=Object.keys(result);_i<_Object$keys.length;_i++){key=_Object$keys[_i];overwriteDecisionCache.set(key,result[key])}case 15:retries=importFailures.map(callMapImportFailure).filter(function(obj){return!!obj});_iteratorNormalCompletion3=true;_didIteratorError3=false;_iteratorError3=undefined;_context2.prev=19;_loop=function _loop(){var _step3$value=_step3.value,error=_step3$value.error,obj=_step3$value.obj;if(error.type!=="missing_references"){return"continue"}if(!retries.some(function(retryObj){return retryObj.type===obj.type&&retryObj.id===obj.id})){return"continue"}var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=(error.blocking||[])[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var _step5$value=_step5.value,type=_step5$value.type,id=_step5$value.id;retries.push({type:type,id:id})}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return!=null){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}};_iterator3=importFailures[Symbol.iterator]();case 22:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context2.next=29;break}_ret=_loop();if(!(_ret==="continue")){_context2.next=26;break}return _context2.abrupt("continue",26);case 26:_iteratorNormalCompletion3=true;_context2.next=22;break;case 29:_context2.next=35;break;case 31:_context2.prev=31;_context2.t0=_context2["catch"](19);_didIteratorError3=true;_iteratorError3=_context2.t0;case 35:_context2.prev=35;_context2.prev=36;if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}case 38:_context2.prev=38;if(!_didIteratorError3){_context2.next=41;break}throw _iteratorError3;case 41:return _context2.finish(38);case 42:return _context2.finish(35);case 43:if(!(retries.length===0)){_context2.next=46;break}importFailures=importFailures.filter(isNotSkipped);return _context2.abrupt("break",72);case 46:_context2.next=48;return callResolveImportErrorsApi(file,retries);case 48:response=_context2.sent;successImportCount+=response.successCount;importFailures=[];_iteratorNormalCompletion4=true;_didIteratorError4=false;_iteratorError4=undefined;_context2.prev=54;for(_iterator4=(response.errors||[])[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){_step4$value=_step4.value,error=_step4$value.error,obj=_objectWithoutProperties(_step4$value,["error"]);importFailures.push({error:error,obj:obj})}_context2.next=62;break;case 58:_context2.prev=58;_context2.t1=_context2["catch"](54);_didIteratorError4=true;_iteratorError4=_context2.t1;case 62:_context2.prev=62;_context2.prev=63;if(!_iteratorNormalCompletion4&&_iterator4.return!=null){_iterator4.return()}case 65:_context2.prev=65;if(!_didIteratorError4){_context2.next=68;break}throw _iteratorError4;case 68:return _context2.finish(65);case 69:return _context2.finish(62);case 70:_context2.next=9;break;case 72:return _context2.abrupt("return",{status:"success",importCount:successImportCount,failedImports:importFailures});case 73:case"end":return _context2.stop()}}},_callee2,null,[[19,31,35,43],[36,,38,42],[54,58,62,70],[63,,65,69]])}));return _resolveImportErrors.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.logLegacyImport=logLegacyImport;var _kfetch=__webpack_require__(39);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function logLegacyImport(){return _logLegacyImport.apply(this,arguments)}function _logLegacyImport(){_logLegacyImport=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_kfetch.kfetch)({method:"POST",pathname:"/api/saved_objects/_log_legacy_import"});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return _logLegacyImport.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDefaultTitle=getDefaultTitle;function getDefaultTitle(object){return"".concat(object.type," [id=").concat(object.id,"]")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findObjects=findObjects;var _kfetch=__webpack_require__(39);var _case_conversion=__webpack_require__(2095);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function findObjects(_x){return _findObjects.apply(this,arguments)}function _findObjects(){_findObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee(findOptions){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_kfetch.kfetch)({method:"GET",pathname:"/api/kibana/management/saved_objects/_find",query:findOptions});case 2:response=_context.sent;return _context.abrupt("return",(0,_case_conversion.keysToCamelCaseShallow)(response));case 4:case"end":return _context.stop()}}},_callee)}));return _findObjects.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.keysToSnakeCaseShallow=keysToSnakeCaseShallow;exports.keysToCamelCaseShallow=keysToCamelCaseShallow;var _lodash=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function keysToSnakeCaseShallow(object){return _lodash.default.mapKeys(object,function(value,key){return _lodash.default.snakeCase(key)})}function keysToCamelCaseShallow(object){return _lodash.default.mapKeys(object,function(value,key){return _lodash.default.camelCase(key)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Relationships",{enumerable:true,get:function get(){return _relationships.Relationships}});var _relationships=__webpack_require__(2097)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Relationships=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _chrome=_interopRequireDefault(__webpack_require__(7));var _react2=__webpack_require__(5);var _lib=__webpack_require__(382);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var RelationshipsUI=function(_Component){_inherits(RelationshipsUI,_Component);function RelationshipsUI(props){var _this;_classCallCheck(this,RelationshipsUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(RelationshipsUI).call(this,props));_this.state={relationships:undefined,isLoading:false,error:undefined};return _this}_createClass(RelationshipsUI,[{key:"componentWillMount",value:function componentWillMount(){this.getRelationshipData()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.savedObject.id!==this.props.savedObject.id){this.getRelationshipData()}}},{key:"getRelationshipData",value:function(){var _getRelationshipData=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,savedObject,getRelationships,relationships;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=this.props,savedObject=_this$props.savedObject,getRelationships=_this$props.getRelationships;this.setState({isLoading:true});_context.prev=2;_context.next=5;return getRelationships(savedObject.type,savedObject.id);case 5:relationships=_context.sent;this.setState({relationships:relationships,isLoading:false,error:undefined});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);this.setState({error:_context.t0.message,isLoading:false});case 12:case"end":return _context.stop()}}},_callee,this,[[2,9]])}));function getRelationshipData(){return _getRelationshipData.apply(this,arguments)}return getRelationshipData}()},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error){return null}return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.renderErrorMessage",defaultMessage:"Error"}),color:"danger"},error)}},{key:"renderRelationships",value:function renderRelationships(){var _this2=this;var _this$props2=this.props,intl=_this$props2.intl,goInspectObject=_this$props2.goInspectObject,savedObject=_this$props2.savedObject;var _this$state=this.state,relationships=_this$state.relationships,isLoading=_this$state.isLoading,error=_this$state.error;if(error){return this.renderError()}if(isLoading){return _react.default.createElement(_eui.EuiLoadingKibana,{size:"xl"})}var columns=[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnTypeName",defaultMessage:"Type"}),width:"50px",align:"center",description:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnTypeDescription",defaultMessage:"Type of the saved object"}),sortable:false,render:function render(type,object){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),type:object.meta.icon||"apps",size:"s"}))}},{field:"relationship",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnRelationshipName",defaultMessage:"Direct relationship"}),dataType:"string",sortable:false,width:"125px",render:function render(relationship){if(relationship==="parent"){return _react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.columnRelationship.parentAsValue",defaultMessage:"Parent"}))}if(relationship==="child"){return _react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.relationships.columnRelationship.childAsValue",defaultMessage:"Child"}))}}},{field:"meta.title",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnTitleName",defaultMessage:"Title"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnTitleDescription",defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:function render(title,object){var _ref=object.meta.inAppUrl||{},path=_ref.path;var canGoInApp=_this2.props.canGoInApp(object);if(!canGoInApp){return _react.default.createElement(_eui.EuiText,{size:"s"},title||(0,_lib.getDefaultTitle)(object))}return _react.default.createElement(_eui.EuiLink,{href:_chrome.default.addBasePath(path)},title||(0,_lib.getDefaultTitle)(object))}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActionsName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActions.inspectActionName",defaultMessage:"Inspect"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.columnActions.inspectActionDescription",defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect",onClick:function onClick(object){return goInspectObject(object)},available:function available(object){return!!object.meta.editUrl}}]}];var filterTypesMap=new Map(relationships.map(function(relationship){return[relationship.type,{value:relationship.type,name:relationship.type,view:relationship.type}]}));var search={filters:[{type:"field_value_selection",field:"relationship",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.search.filters.relationship.name",defaultMessage:"Direct relationship"}),multiSelect:"or",options:[{value:"parent",name:"parent",view:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.search.filters.relationship.parentAsValue.view",defaultMessage:"Parent"})},{value:"child",name:"child",view:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.search.filters.relationship.childAsValue.view",defaultMessage:"Child"})}]},{type:"field_value_selection",field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.search.filters.type.name",defaultMessage:"Type"}),multiSelect:"or",options:_toConsumableArray(filterTypesMap.values())}]};return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,null,_react.default.createElement("p",null,intl.formatMessage({id:"kbn.management.objects.objectsTable.relationships.relationshipsTitle",defaultMessage:"Here are the saved objects related to {title}. "+"Deleting this {type} affects its parent objects, but not its children."},{type:savedObject.type,title:savedObject.meta.title||(0,_lib.getDefaultTitle)(savedObject)}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiInMemoryTable,{items:relationships,columns:columns,pagination:true,search:search}))}},{key:"render",value:function render(){var _this$props3=this.props,close=_this$props3.close,savedObject=_this$props3.savedObject;return _react.default.createElement(_eui.EuiFlyout,{onClose:close},_react.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h2",null,_react.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(savedObject.type)},_react.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(savedObject.type),size:"m",type:savedObject.meta.icon||"apps"})),"",savedObject.meta.title||(0,_lib.getDefaultTitle)(savedObject)))),_react.default.createElement(_eui.EuiFlyoutBody,null,this.renderRelationships()))}}]);return RelationshipsUI}(_react.Component);_defineProperty(RelationshipsUI,"propTypes",{getRelationships:_propTypes.default.func.isRequired,savedObject:_propTypes.default.object.isRequired,close:_propTypes.default.func.isRequired,goInspectObject:_propTypes.default.func.isRequired,canGoInApp:_propTypes.default.func.isRequired});var Relationships=(0,_react2.injectI18n)(RelationshipsUI);exports.Relationships=Relationships},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});var _table=__webpack_require__(2099)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=void 0;var _chrome=_interopRequireDefault(__webpack_require__(7));var _saved_objects_management=__webpack_require__(2100);var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _lib=__webpack_require__(382);var _i18n=__webpack_require__(2);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TableUI=function(_PureComponent){_inherits(TableUI,_PureComponent);function TableUI(props){var _this;_classCallCheck(this,TableUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(TableUI).call(this,props));_defineProperty(_assertThisInitialized(_this),"state",{isSearchTextValid:true,parseErrorMessage:null,isExportPopoverOpen:false,isIncludeReferencesDeepChecked:true,activeAction:null});_defineProperty(_assertThisInitialized(_this),"onChange",function(_ref){var query=_ref.query,error=_ref.error;if(error){_this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}_this.setState({isSearchTextValid:true,parseErrorMessage:null});_this.props.onQueryChange({query:query})});_defineProperty(_assertThisInitialized(_this),"closeExportPopover",function(){_this.setState({isExportPopoverOpen:false})});_defineProperty(_assertThisInitialized(_this),"toggleExportPopoverVisibility",function(){_this.setState(function(state){return{isExportPopoverOpen:!state.isExportPopoverOpen}})});_defineProperty(_assertThisInitialized(_this),"toggleIsIncludeReferencesDeepChecked",function(){_this.setState(function(state){return{isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}})});_defineProperty(_assertThisInitialized(_this),"onExportClick",function(){var onExport=_this.props.onExport;var isIncludeReferencesDeepChecked=_this.state.isIncludeReferencesDeepChecked;onExport(isIncludeReferencesDeepChecked);_this.setState({isExportPopoverOpen:false})});_this.extraActions=_saved_objects_management.SavedObjectsManagementActionRegistry.get();return _this}_createClass(TableUI,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,pageIndex=_this$props.pageIndex,pageSize=_this$props.pageSize,itemId=_this$props.itemId,items=_this$props.items,totalItemCount=_this$props.totalItemCount,isSearching=_this$props.isSearching,filterOptions=_this$props.filterOptions,selection=_this$props.selectionConfig,onDelete=_this$props.onDelete,selectedSavedObjects=_this$props.selectedSavedObjects,onTableChange=_this$props.onTableChange,goInspectObject=_this$props.goInspectObject,onShowRelationships=_this$props.onShowRelationships,intl=_this$props.intl;var pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};var filters=[{type:"field_value_selection",field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.typeFilterName",defaultMessage:"Type"}),multiSelect:"or",options:filterOptions}];var columns=[{field:"type",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTypeName",defaultMessage:"Type"}),width:"50px",align:"center",description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTypeDescription",defaultMessage:"Type of the saved object"}),sortable:false,render:function render(type,object){return _react.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),type:object.meta.icon||"apps",size:"s"}))}},{field:"meta.title",name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTitleName",defaultMessage:"Title"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnTitleDescription",defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:function render(title,object){var _ref2=object.meta.inAppUrl||{},path=_ref2.path;var canGoInApp=_this2.props.canGoInApp(object);if(!canGoInApp){return _react.default.createElement(_eui.EuiText,{size:"s"},title||(0,_lib.getDefaultTitle)(object))}return _react.default.createElement(_eui.EuiLink,{href:_chrome.default.addBasePath(path)},title||(0,_lib.getDefaultTitle)(object))}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActionsName",defaultMessage:"Actions"}),actions:[{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.inspectActionName",defaultMessage:"Inspect"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.inspectActionDescription",defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect",onClick:function onClick(object){return goInspectObject(object)},available:function available(object){return!!object.meta.editUrl}},{name:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewRelationshipsActionName",defaultMessage:"Relationships"}),description:intl.formatMessage({id:"kbn.management.objects.objectsTable.table.columnActions.viewRelationshipsActionDescription",defaultMessage:"View the relationships this saved object has to other saved objects"}),type:"icon",icon:"kqlSelector",onClick:function onClick(object){return onShowRelationships(object)}}].concat(_toConsumableArray(this.extraActions.map(function(action){return _objectSpread({},action.euiAction,{onClick:function onClick(object){_this2.setState({activeAction:action});action.registerOnFinishCallback(function(){_this2.setState({activeAction:null})});action.euiAction.onClick(object)}})})))}];var queryParseError;if(!this.state.isSearchTextValid){var parseErrorMsg=intl.formatMessage({id:"kbn.management.objects.objectsTable.searchBar.unableToParseQueryErrorMessage",defaultMessage:"Unable to parse query"});queryParseError=_react.default.createElement(_eui.EuiFormErrorText,null,"".concat(parseErrorMsg,". ").concat(this.state.parseErrorMessage))}var button=_react.default.createElement(_eui.EuiButton,{iconType:"arrowDown",iconSide:"right",onClick:this.toggleExportPopoverVisibility,isDisabled:selectedSavedObjects.length===0},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.exportPopoverButtonLabel",defaultMessage:"Export"}));var activeActionContents=this.state.activeAction?this.state.activeAction.render():null;return _react.default.createElement(_react.Fragment,null,activeActionContents,_react.default.createElement(_eui.EuiSearchBar,{box:{"data-test-subj":"savedObjectSearchBar"},filters:filters,onChange:this.onChange,toolsRight:[_react.default.createElement(_eui.EuiButton,{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:selectedSavedObjects.length===0||!this.props.canDelete,title:this.props.canDelete?undefined:_i18n.i18n.translate("kbn.management.objects.objectsTable.table.deleteButtonTitle",{defaultMessage:"Unable to delete saved objects"}),"data-test-subj":"savedObjectsManagementDelete"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.deleteButtonLabel",defaultMessage:"Delete"})),_react.default.createElement(_eui.EuiPopover,{key:"exportSOOptions",button:button,isOpen:this.state.isExportPopoverOpen,closePopover:this.closeExportPopover},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.exportOptionsLabel",defaultMessage:"Options"})},_react.default.createElement(_eui.EuiSwitch,{name:"includeReferencesDeep",label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related objects"}),checked:this.state.isIncludeReferencesDeepChecked,onChange:this.toggleIsIncludeReferencesDeepChecked})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiButton,{key:"exportSO",iconType:"exportAction",onClick:this.onExportClick,fill:true},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.objects.objectsTable.table.exportButtonLabel",defaultMessage:"Export"}))))]}),queryParseError,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement("div",{"data-test-subj":"savedObjectsTable"},_react.default.createElement(_eui.EuiBasicTable,{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange})))}}]);return TableUI}(_react.PureComponent);_defineProperty(TableUI,"propTypes",{selectedSavedObjects:_propTypes.default.array.isRequired,selectionConfig:_propTypes.default.shape({selectable:_propTypes.default.func,selectableMessage:_propTypes.default.func,onSelectionChange:_propTypes.default.func.isRequired}).isRequired,filterOptions:_propTypes.default.array.isRequired,canDelete:_propTypes.default.bool.isRequired,onDelete:_propTypes.default.func.isRequired,onExport:_propTypes.default.func.isRequired,goInspectObject:_propTypes.default.func.isRequired,pageIndex:_propTypes.default.number.isRequired,pageSize:_propTypes.default.number.isRequired,items:_propTypes.default.array.isRequired,itemId:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.func]),totalItemCount:_propTypes.default.number.isRequired,onQueryChange:_propTypes.default.func.isRequired,onTableChange:_propTypes.default.func.isRequired,isSearching:_propTypes.default.bool.isRequired,onShowRelationships:_propTypes.default.func.isRequired});var Table=(0,_react2.injectI18n)(TableUI);exports.Table=Table},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SavedObjectsManagementActionRegistry",{enumerable:true,get:function get(){return _saved_objects_management_action_registry.SavedObjectsManagementActionRegistry}});Object.defineProperty(exports,"SavedObjectsManagementAction",{enumerable:true,get:function get(){return _saved_objects_management_action.SavedObjectsManagementAction}});Object.defineProperty(exports,"SavedObjectsManagementRecord",{enumerable:true,get:function get(){return _saved_objects_management_action.SavedObjectsManagementRecord}});Object.defineProperty(exports,"SavedObjectsManagementRecordReference",{enumerable:true,get:function get(){return _saved_objects_management_action.SavedObjectsManagementRecordReference}});Object.defineProperty(exports,"processImportResponse",{enumerable:true,get:function get(){return _process_import_response.processImportResponse}});Object.defineProperty(exports,"ProcessedImportResponse",{enumerable:true,get:function get(){return _process_import_response.ProcessedImportResponse}});var _saved_objects_management_action_registry=__webpack_require__(2101);var _saved_objects_management_action=__webpack_require__(2102);var _process_import_response=__webpack_require__(471)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsManagementActionRegistry=void 0;var actions=new Map;var SavedObjectsManagementActionRegistry={register:function register(action){if(!action.id){throw new TypeError("Saved Objects Management Actions must have an id")}if(actions.has(action.id)){throw new Error("Saved Objects Management Action with id '".concat(action.id,"' already exists"))}actions.set(action.id,action)},has:function has(actionId){return actions.has(actionId)},get:function get(){return Array.from(actions.values())}};exports.SavedObjectsManagementActionRegistry=SavedObjectsManagementActionRegistry},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsManagementAction=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsManagementAction=function(){function SavedObjectsManagementAction(){_classCallCheck(this,SavedObjectsManagementAction);_defineProperty(this,"render",void 0);_defineProperty(this,"id",void 0);_defineProperty(this,"euiAction",void 0);_defineProperty(this,"callbacks",[]);_defineProperty(this,"record",null)}_createClass(SavedObjectsManagementAction,[{key:"registerOnFinishCallback",value:function registerOnFinishCallback(callback){this.callbacks.push(callback)}},{key:"start",value:function start(record){this.record=record}},{key:"finish",value:function finish(){this.record=null;this.callbacks.forEach(function(callback){return callback()})}}]);return SavedObjectsManagementAction}();exports.SavedObjectsManagementAction=SavedObjectsManagementAction},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(2554)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateIndexPatternList=updateIndexPatternList;exports.destroyIndexPatternList=void 0;var _management=__webpack_require__(95);var _index_pattern_list=__webpack_require__(784);var _index_pattern_creation=__webpack_require__(786);__webpack_require__(2109);__webpack_require__(2146);var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _index=_interopRequireDefault(__webpack_require__(2196));var _list=_interopRequireDefault(__webpack_require__(2197));var _index_pattern_table=__webpack_require__(2198);var _saved_objects=__webpack_require__(36);var _feature_catalogue=__webpack_require__(47);var _i18n=__webpack_require__(2);var _i18n2=__webpack_require__(11);var _react=__webpack_require__(790);var _breadcrumbs=__webpack_require__(383);var _react2=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var INDEX_PATTERN_LIST_DOM_ELEMENT_ID="indexPatternListReact";function updateIndexPatternList(indexPatterns,kbnUrl,indexPatternCreationOptions){var node=document.getElementById(INDEX_PATTERN_LIST_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react2.default.createElement(_i18n2.I18nContext,null,_react2.default.createElement(_react.UICapabilitiesProvider,null,_react2.default.createElement(_index_pattern_table.IndexPatternTable,{indexPatterns:indexPatterns,navTo:kbnUrl.redirect,indexPatternCreationOptions:indexPatternCreationOptions}))),node)}var destroyIndexPatternList=function destroyIndexPatternList(){var node=document.getElementById(INDEX_PATTERN_LIST_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};exports.destroyIndexPatternList=destroyIndexPatternList;var indexPatternsResolutions={indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title","type"],perPage:1e4}).then(function(response){return response.savedObjects})}};_routes.default.defaults(/management\/kibana\/(index_patterns|index_pattern)/,{resolve:indexPatternsResolutions,requireUICapability:"management.kibana.index_patterns",badge:function badge(uiCapabilities){if(uiCapabilities.indexPatterns.save){return undefined}return{text:_i18n.i18n.translate("kbn.management.indexPatterns.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("kbn.management.indexPatterns.badge.readOnly.tooltip",{defaultMessage:"Unable to save index patterns"}),iconType:"glasses"}}});_routes.default.when("/management/kibana/index_patterns",{template:_list.default,k7Breadcrumbs:_breadcrumbs.getListBreadcrumbs});_modules.uiModules.get("apps/management").directive("kbnManagementIndexPatterns",function($route,config,kbnUrl,Private){return{restrict:"E",transclude:true,template:_index.default,link:function(){var _link=_asyncToGenerator(regeneratorRuntime.mark(function _callee($scope){var indexPatternListProvider,indexPatternCreationProvider,indexPatternCreationOptions,renderList;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternListProvider=Private(_index_pattern_list.IndexPatternListFactory)();indexPatternCreationProvider=Private(_index_pattern_creation.IndexPatternCreationFactory)();_context.next=4;return indexPatternCreationProvider.getIndexPatternCreationOptions(function(url){$scope.$evalAsync(function(){return kbnUrl.change(url)})});case 4:indexPatternCreationOptions=_context.sent;renderList=function renderList(){$scope.indexPatternList=$route.current.locals.indexPatterns.map(function(pattern){var id=pattern.id;var title=pattern.get("title");var isDefault=$scope.defaultIndex===id;var tags=indexPatternListProvider.getIndexPatternTags(pattern,isDefault);return{id:id,title:title,url:kbnUrl.eval("#/management/kibana/index_patterns/{{id}}",{id:id}),active:$scope.editingId===id,default:isDefault,tags:tags,sort:"".concat(isDefault?"0":"1").concat(title)}}).sort(function(a,b){if(a.sort<b.sort){return-1}else if(a.sort>b.sort){return 1}else{return 0}})||[];updateIndexPatternList($scope.indexPatternList,kbnUrl,indexPatternCreationOptions)};$scope.$on("$destroy",destroyIndexPatternList);$scope.editingId=$route.current.params.indexPatternId;$scope.$watch("defaultIndex",function(){return renderList()});config.bindToScope($scope,"defaultIndex");$scope.$apply();case 11:case"end":return _context.stop()}}},_callee)}));function link(_x){return _link.apply(this,arguments)}return link}()}});_management.management.getSection("kibana").register("index_patterns",{display:_i18n.i18n.translate("kbn.management.indexPattern.sectionsHeader",{defaultMessage:"Index Patterns"}),order:0,url:"#/management/kibana/index_patterns/"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"index_patterns",title:_i18n.i18n.translate("kbn.management.indexPatternHeader",{defaultMessage:"Index Patterns"}),description:_i18n.i18n.translate("kbn.management.indexPatternLabel",{defaultMessage:"Manage the index patterns that help retrieve your data from Elasticsearch."}),icon:"indexPatternApp",path:"/app/kibana#/management/kibana/index_patterns",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _index_pattern_list_config=__webpack_require__(785);var _index_pattern_list_config_registry=__webpack_require__(472);_index_pattern_list_config_registry.IndexPatternListConfigRegistry.register(function(){return _index_pattern_list_config.IndexPatternListConfig})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternListFactory=void 0;var _index_pattern_list_config_registry=__webpack_require__(472);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternList=function IndexPatternList(registry){var _this=this;_classCallCheck(this,IndexPatternList);_defineProperty(this,"getIndexPatternTags",function(indexPattern,isDefault){return _this._plugins.reduce(function(tags,plugin){return plugin.getIndexPatternTags?tags.concat(plugin.getIndexPatternTags(indexPattern,isDefault)):tags},[])});_defineProperty(this,"getFieldInfo",function(indexPattern,field){return _this._plugins.reduce(function(info,plugin){return plugin.getFieldInfo?info.concat(plugin.getFieldInfo(indexPattern,field)):info},[])});_defineProperty(this,"areScriptedFieldsEnabled",function(indexPattern){return _this._plugins.every(function(plugin){return plugin.areScriptedFieldsEnabled?plugin.areScriptedFieldsEnabled(indexPattern):true})});this._plugins=registry.inOrder.map(function(Plugin){return new Plugin})};var IndexPatternListFactory=function IndexPatternListFactory(Private){return function(){var indexPatternListRegistry=Private(_index_pattern_list_config_registry.IndexPatternListConfigRegistry);var indexPatternListProvider=new IndexPatternList(indexPatternListRegistry);return indexPatternListProvider}};exports.IndexPatternListFactory=IndexPatternListFactory},function(module,exports,__webpack_require__){"use strict";var _index_pattern_creation_config=__webpack_require__(787);var _index_pattern_types=__webpack_require__(473);(0,_index_pattern_types.addIndexPatternType)(_index_pattern_creation_config.IndexPatternCreationConfig)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternCreationFactory=void 0;var _index_pattern_types=__webpack_require__(473);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexPatternCreation=function IndexPatternCreation(httpClient,_type){var _this=this;_classCallCheck(this,IndexPatternCreation);_defineProperty(this,"_setCurrentType",function(type){var index=type?_index_pattern_types.indexPatternTypes.findIndex(function(Plugin){return Plugin.key===type}):-1;_this._currentType=index>-1&&_this._allTypes[index]?_this._allTypes[index]:null});_defineProperty(this,"getType",function(){return _this._currentType||null});_defineProperty(this,"getIndexPatternCreationOptions",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(urlHandler){var options;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:options=[];_context2.next=3;return Promise.all(_this._allTypes.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type){var option;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!type.getIndexPatternCreationOption){_context.next=6;break}_context.next=3;return type.getIndexPatternCreationOption(urlHandler);case 3:_context.t0=_context.sent;_context.next=7;break;case 6:_context.t0=null;case 7:option=_context.t0;if(option){options.push(option)}case 9:case"end":return _context.stop()}}},_callee)}));return function(_x2){return _ref2.apply(this,arguments)}}()));case 3:return _context2.abrupt("return",options);case 4:case"end":return _context2.stop()}}},_callee2)}));return function(_x){return _ref.apply(this,arguments)}}());this._allTypes=_index_pattern_types.indexPatternTypes.map(function(Plugin){return new Plugin({httpClient:httpClient})});this._setCurrentType(_type)};var IndexPatternCreationFactory=function IndexPatternCreationFactory(Private,$http){return function(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"default";var indexPatternCreationProvider=new IndexPatternCreation($http,type);return indexPatternCreationProvider}};exports.IndexPatternCreationFactory=IndexPatternCreationFactory},function(module,exports,__webpack_require__){"use strict";var _saved_objects=__webpack_require__(36);var _routes=_interopRequireDefault(__webpack_require__(19));var _angular_template=_interopRequireDefault(__webpack_require__(2110));__webpack_require__(77);var _index_pattern_creation=__webpack_require__(786);var _breadcrumbs=__webpack_require__(383);var _render=__webpack_require__(2111);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/management/kibana/index_pattern",{template:_angular_template.default,k7Breadcrumbs:_breadcrumbs.getCreateBreadcrumbs,controller:function controller($scope,$injector){var kbnUrl=$injector.get("kbnUrl");var Private=$injector.get("Private");$scope.$$postDigest(function(){var $routeParams=$injector.get("$routeParams");var indexPatternCreationProvider=Private(_index_pattern_creation.IndexPatternCreationFactory)($routeParams.type);var indexPatternCreationType=indexPatternCreationProvider.getType();var services={config:$injector.get("config"),es:$injector.get("es"),indexPatterns:$injector.get("indexPatterns"),$http:$injector.get("$http"),savedObjectsClient:Private(_saved_objects.SavedObjectsClientProvider),indexPatternCreationType:indexPatternCreationType,confirmModalPromise:$injector.get("confirmModalPromise"),changeUrl:function changeUrl(url){$scope.$evalAsync(function(){return kbnUrl.changePath(url)})}};var initialQuery=$routeParams.id?decodeURIComponent($routeParams.id):undefined;(0,_render.renderCreateIndexPatternWizard)(initialQuery,services)});$scope.$on("$destroy",_render.destroyCreateIndexPatternWizard)}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/index_patterns">\n  <div class="euiPanel euiPanel--paddingLarge">\n    <div id="createIndexPatternReact"></div>\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderCreateIndexPatternWizard=renderCreateIndexPatternWizard;exports.destroyCreateIndexPatternWizard=destroyCreateIndexPatternWizard;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _create_index_pattern_wizard=__webpack_require__(2112);var _i18n=__webpack_require__(11);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CREATE_INDEX_PATTERN_DOM_ELEMENT_ID="createIndexPatternReact";function renderCreateIndexPatternWizard(initialQuery,services){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_create_index_pattern_wizard.CreateIndexPatternWizard,{initialQuery:initialQuery,services:services})),node)}function destroyCreateIndexPatternWizard(){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateIndexPatternWizard=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);var _step_index_pattern=__webpack_require__(2113);var _step_time_field=__webpack_require__(2129);var _header=__webpack_require__(2140);var _loading_state=__webpack_require__(2142);var _empty_state=__webpack_require__(2144);var _constants=__webpack_require__(384);var _lib=__webpack_require__(474);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CreateIndexPatternWizard=function(_Component){_inherits(CreateIndexPatternWizard,_Component);function CreateIndexPatternWizard(props){var _this;_classCallCheck(this,CreateIndexPatternWizard);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreateIndexPatternWizard).call(this,props));_defineProperty(_assertThisInitialized(_this),"catchAndWarn",function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(asyncFn,errorValue,errorMsg){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return asyncFn;case 3:return _context.abrupt("return",_context.sent);case 6:_context.prev=6;_context.t0=_context["catch"](0);_this.setState(function(prevState){return{toasts:prevState.toasts.concat([{title:errorMsg,id:errorMsg.props.id,color:"warning",iconType:"alert"}])}});return _context.abrupt("return",errorValue);case 10:case"end":return _context.stop()}}},_callee,null,[[0,6]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"fetchData",_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var services,indicesFailMsg,clustersFailMsg;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:services=_this.props.services;_this.setState({allIndices:[],isInitiallyLoadingIndices:true,remoteClustersExist:false});indicesFailMsg=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.loadIndicesFailMsg",defaultMessage:"Failed to load indices"});clustersFailMsg=_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.loadClustersFailMsg",defaultMessage:"Failed to load remote clusters"});(0,_lib.ensureMinimumTime)(_this.catchAndWarn((0,_lib.getIndices)(services.es,_this.indexPatternCreationType,"*",_constants.MAX_SEARCH_SIZE),[],indicesFailMsg)).then(function(allIndices){return _this.setState({allIndices:allIndices,isInitiallyLoadingIndices:false})});_this.catchAndWarn((0,_lib.getIndices)(services.es,_this.indexPatternCreationType,"*:*",1),["a"],clustersFailMsg).then(function(remoteIndices){return _this.setState({remoteClustersExist:!!remoteIndices.length})});case 6:case"end":return _context2.stop()}}},_callee2)})));_defineProperty(_assertThisInitialized(_this),"createIndexPattern",function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(timeFieldName,indexPatternId){var services,indexPattern,emptyPattern,createdId,confirmMessage;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:services=_this.props.services;indexPattern=_this.state.indexPattern;_context3.next=4;return services.indexPatterns.get();case 4:emptyPattern=_context3.sent;Object.assign(emptyPattern,_objectSpread({id:indexPatternId,title:indexPattern,timeFieldName:timeFieldName},_this.indexPatternCreationType.getIndexPatternMappings()));_context3.next=8;return emptyPattern.create();case 8:createdId=_context3.sent;if(createdId){_context3.next=20;break}confirmMessage=_i18n.i18n.translate("kbn.management.indexPattern.titleExistsLabel",{values:{title:_this.title},defaultMessage:"An index pattern with the title '{title}' already exists."});_context3.prev=11;_context3.next=14;return services.confirmModalPromise(confirmMessage,{confirmButtonText:"Go to existing pattern"});case 14:return _context3.abrupt("return",services.changeUrl("/management/kibana/index_patterns/".concat(indexPatternId)));case 17:_context3.prev=17;_context3.t0=_context3["catch"](11);return _context3.abrupt("return",false);case 20:if(services.config.get("defaultIndex")){_context3.next=23;break}_context3.next=23;return services.config.set("defaultIndex",createdId);case 23:services.indexPatterns.clearCache(createdId);services.changeUrl("/management/kibana/index_patterns/".concat(createdId));case 25:case"end":return _context3.stop()}}},_callee3,null,[[11,17]])}));return function(_x4,_x5){return _ref3.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"goToTimeFieldStep",function(indexPattern){_this.setState({step:2,indexPattern:indexPattern})});_defineProperty(_assertThisInitialized(_this),"goToIndexPatternStep",function(){_this.setState({step:1})});_defineProperty(_assertThisInitialized(_this),"onChangeIncludingSystemIndices",function(){_this.setState(function(state){return{isIncludingSystemIndices:!state.isIncludingSystemIndices}})});_defineProperty(_assertThisInitialized(_this),"removeToast",function(removedToast){_this.setState(function(prevState){return{toasts:prevState.toasts.filter(function(toast){return toast.id!==removedToast.id})}})});_this.indexPatternCreationType=_this.props.services.indexPatternCreationType;_this.state={step:1,indexPattern:"",allIndices:[],remoteClustersExist:false,isInitiallyLoadingIndices:true,isIncludingSystemIndices:false,toasts:[]};return _this}_createClass(CreateIndexPatternWizard,[{key:"componentWillMount",value:function(){var _componentWillMount=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.fetchData();case 1:case"end":return _context4.stop()}}},_callee4,this)}));function componentWillMount(){return _componentWillMount.apply(this,arguments)}return componentWillMount}()},{key:"renderHeader",value:function renderHeader(){var isIncludingSystemIndices=this.state.isIncludingSystemIndices;return _react.default.createElement(_header.Header,{prompt:this.indexPatternCreationType.renderPrompt(),showSystemIndices:this.indexPatternCreationType.getShowSystemIndices(),isIncludingSystemIndices:isIncludingSystemIndices,onChangeIncludingSystemIndices:this.onChangeIncludingSystemIndices,indexPatternName:this.indexPatternCreationType.getIndexPatternName(),isBeta:this.indexPatternCreationType.getIsBeta()})}},{key:"renderContent",value:function renderContent(){var _this$state=this.state,allIndices=_this$state.allIndices,isInitiallyLoadingIndices=_this$state.isInitiallyLoadingIndices,isIncludingSystemIndices=_this$state.isIncludingSystemIndices,step=_this$state.step,indexPattern=_this$state.indexPattern,remoteClustersExist=_this$state.remoteClustersExist;if(isInitiallyLoadingIndices){return _react.default.createElement(_loading_state.LoadingState,null)}var hasDataIndices=allIndices.some(function(_ref4){var name=_ref4.name;return!name.startsWith(".")});if(!hasDataIndices&&!isIncludingSystemIndices&&!remoteClustersExist){return _react.default.createElement(_empty_state.EmptyState,{onRefresh:this.fetchData})}if(step===1){var _this$props=this.props,services=_this$props.services,initialQuery=_this$props.initialQuery;return _react.default.createElement(_step_index_pattern.StepIndexPattern,{allIndices:allIndices,initialQuery:indexPattern||initialQuery,isIncludingSystemIndices:isIncludingSystemIndices,esService:services.es,savedObjectsClient:services.savedObjectsClient,indexPatternCreationType:this.indexPatternCreationType,goToNextStep:this.goToTimeFieldStep})}if(step===2){var _services=this.props.services;return _react.default.createElement(_step_time_field.StepTimeField,{indexPattern:indexPattern,indexPatternsService:_services.indexPatterns,goToPreviousStep:this.goToIndexPatternStep,createIndexPattern:this.createIndexPattern,indexPatternCreationType:this.indexPatternCreationType})}return null}},{key:"render",value:function render(){var header=this.renderHeader();var content=this.renderContent();return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("div",null,header,content),_react.default.createElement(_eui.EuiGlobalToastList,{toasts:this.state.toasts,dismissToast:this.removeToast,toastLifeTimeMs:6e3}))}}]);return CreateIndexPatternWizard}(_react.Component);exports.CreateIndexPatternWizard=CreateIndexPatternWizard;_defineProperty(CreateIndexPatternWizard,"propTypes",{initialQuery:_propTypes.default.string,services:_propTypes.default.shape({es:_propTypes.default.object.isRequired,indexPatterns:_propTypes.default.object.isRequired,savedObjectsClient:_propTypes.default.object.isRequired,indexPatternCreationType:_propTypes.default.object.isRequired,config:_propTypes.default.object.isRequired,changeUrl:_propTypes.default.func.isRequired}).isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StepIndexPattern",{enumerable:true,get:function get(){return _step_index_pattern.StepIndexPattern}});var _step_index_pattern=__webpack_require__(2114)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepIndexPattern=exports.StepIndexPatternComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _index_patterns=__webpack_require__(77);var _constants=__webpack_require__(384);var _lib=__webpack_require__(474);var _loading_indices=__webpack_require__(2121);var _status_message=__webpack_require__(2123);var _indices_list=__webpack_require__(2125);var _header=__webpack_require__(2127);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);var _chrome=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var uiSettings=_chrome.default.getUiSettingsClient();var StepIndexPatternComponent=function(_Component){_inherits(StepIndexPatternComponent,_Component);function StepIndexPatternComponent(props){var _this;_classCallCheck(this,StepIndexPatternComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(StepIndexPatternComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"fetchExistingIndexPatterns",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref2,savedObjects,existingIndexPatterns;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4});case 2:_ref2=_context.sent;savedObjects=_ref2.savedObjects;existingIndexPatterns=savedObjects.map(function(obj){return obj&&obj.attributes?obj.attributes.title:""});_this.setState({existingIndexPatterns:existingIndexPatterns});case 6:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"fetchIndices",function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(query){var _this$props,esService,indexPatternCreationType,existingIndexPatterns,_exactMatchedIndices,_ref4,_ref5,partialMatchedIndices,exactMatchedIndices;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,esService=_this$props.esService,indexPatternCreationType=_this$props.indexPatternCreationType;existingIndexPatterns=_this.state.existingIndexPatterns;if(!existingIndexPatterns.includes(query)){_context2.next=5;break}_this.setState({indexPatternExists:true});return _context2.abrupt("return");case 5:_this.setState({isLoadingIndices:true,indexPatternExists:false});if(!query.endsWith("*")){_context2.next=14;break}_context2.next=9;return(0,_lib.ensureMinimumTime)((0,_lib.getIndices)(esService,indexPatternCreationType,query,_constants.MAX_SEARCH_SIZE));case 9:_exactMatchedIndices=_context2.sent;if(!(query!==_this.lastQuery)){_context2.next=12;break}return _context2.abrupt("return");case 12:_this.setState({exactMatchedIndices:_exactMatchedIndices,isLoadingIndices:false});return _context2.abrupt("return");case 14:_context2.next=16;return(0,_lib.ensureMinimumTime)([(0,_lib.getIndices)(esService,indexPatternCreationType,"".concat(query,"*"),_constants.MAX_SEARCH_SIZE),(0,_lib.getIndices)(esService,indexPatternCreationType,query,_constants.MAX_SEARCH_SIZE)]);case 16:_ref4=_context2.sent;_ref5=_slicedToArray(_ref4,2);partialMatchedIndices=_ref5[0];exactMatchedIndices=_ref5[1];if(!(query!==_this.lastQuery)){_context2.next=22;break}return _context2.abrupt("return");case 22:_this.setState({partialMatchedIndices:partialMatchedIndices,exactMatchedIndices:exactMatchedIndices,isLoadingIndices:false});case 23:case"end":return _context2.stop()}}},_callee2)}));return function(_x){return _ref3.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"onQueryChanged",function(e){var appendedWildcard=_this.state.appendedWildcard;var target=e.target;var query=target.value;if(query.length===1&&(0,_lib.canAppendWildcard)(query)){query+="*";_this.setState({appendedWildcard:true});setTimeout(function(){return target.setSelectionRange(1,1)})}else{if(query==="*"&&appendedWildcard){query="";_this.setState({appendedWildcard:false})}}_this.lastQuery=query;_this.setState({query:query,showingIndexPatternQueryErrors:!!query.length});_this.fetchIndices(query)});var _indexPatternCreationType=_this.props.indexPatternCreationType;_this.state={partialMatchedIndices:[],exactMatchedIndices:[],isLoadingIndices:false,existingIndexPatterns:[],indexPatternExists:false,query:props.initialQuery,appendedWildcard:false,showingIndexPatternQueryErrors:false,indexPatternName:_indexPatternCreationType.getIndexPatternName()};_this.ILLEGAL_CHARACTERS=_toConsumableArray(_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS);_this.lastQuery=null;return _this}_createClass(StepIndexPatternComponent,[{key:"componentWillMount",value:function(){var _componentWillMount=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.fetchExistingIndexPatterns();if(this.state.query){this.lastQuery=this.state.query;this.fetchIndices(this.state.query)}case 2:case"end":return _context3.stop()}}},_callee3,this)}));function componentWillMount(){return _componentWillMount.apply(this,arguments)}return componentWillMount}()},{key:"renderLoadingState",value:function renderLoadingState(){var isLoadingIndices=this.state.isLoadingIndices;if(!isLoadingIndices){return null}return _react.default.createElement(_loading_indices.LoadingIndices,{"data-test-subj":"createIndexPatternStep1Loading"})}},{key:"renderStatusMessage",value:function renderStatusMessage(matchedIndices){var indexPatternCreationType=this.props.indexPatternCreationType;var _this$state=this.state,query=_this$state.query,isLoadingIndices=_this$state.isLoadingIndices,indexPatternExists=_this$state.indexPatternExists,isIncludingSystemIndices=_this$state.isIncludingSystemIndices;if(isLoadingIndices||indexPatternExists){return null}return _react.default.createElement(_status_message.StatusMessage,{matchedIndices:matchedIndices,showSystemIndices:indexPatternCreationType.getShowSystemIndices(),isIncludingSystemIndices:isIncludingSystemIndices,query:query})}},{key:"renderList",value:function renderList(_ref6){var visibleIndices=_ref6.visibleIndices,allIndices=_ref6.allIndices;var _this$state2=this.state,query=_this$state2.query,isLoadingIndices=_this$state2.isLoadingIndices,indexPatternExists=_this$state2.indexPatternExists;if(isLoadingIndices||indexPatternExists){return null}var indicesToList=query.length?visibleIndices:allIndices;return _react.default.createElement(_indices_list.IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:query,indices:indicesToList})}},{key:"renderIndexPatternExists",value:function renderIndexPatternExists(){var _this$state3=this.state,indexPatternExists=_this$state3.indexPatternExists,query=_this$state3.query;if(!indexPatternExists){return null}return _react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.warningHeader",defaultMessage:"There's already an index pattern called {query}",values:{query:query}}),iconType:"help",color:"warning"})}},{key:"renderHeader",value:function renderHeader(_ref7){var indices=_ref7.exactMatchedIndices;var _this$props2=this.props,goToNextStep=_this$props2.goToNextStep,indexPatternCreationType=_this$props2.indexPatternCreationType,intl=_this$props2.intl;var _this$state4=this.state,query=_this$state4.query,showingIndexPatternQueryErrors=_this$state4.showingIndexPatternQueryErrors,indexPatternExists=_this$state4.indexPatternExists,indexPatternName=_this$state4.indexPatternName;var containsErrors=false;var errors=[];var characterList=this.ILLEGAL_CHARACTERS.slice(0,this.ILLEGAL_CHARACTERS.length-1).join(", ");var checkIndices=indexPatternCreationType.checkIndicesForErrors(indices);if(!query||!query.length||query==="."||query===".."){containsErrors=true}else if((0,_lib.containsIllegalCharacters)(query,_index_patterns.INDEX_PATTERN_ILLEGAL_CHARACTERS)){var errorMessage=intl.formatMessage({id:"kbn.management.createIndexPattern.step.invalidCharactersErrorMessage",defaultMessage:"A {indexPatternName} cannot contain spaces or the characters: {characterList}"},{characterList:characterList,indexPatternName:indexPatternName});errors.push(errorMessage);containsErrors=true}else if(checkIndices){errors.push.apply(errors,_toConsumableArray(checkIndices));containsErrors=true}var isInputInvalid=showingIndexPatternQueryErrors&&containsErrors&&errors.length>0;var isNextStepDisabled=containsErrors||indices.length===0||indexPatternExists;return _react.default.createElement(_header.Header,{"data-test-subj":"createIndexPatternStep1Header",isInputInvalid:isInputInvalid,errors:errors,characterList:characterList,query:query,onQueryChanged:this.onQueryChanged,goToNextStep:goToNextStep,isNextStepDisabled:isNextStepDisabled})}},{key:"render",value:function render(){var _this$props3=this.props,isIncludingSystemIndices=_this$props3.isIncludingSystemIndices,allIndices=_this$props3.allIndices;var _this$state5=this.state,query=_this$state5.query,partialMatchedIndices=_this$state5.partialMatchedIndices,exactMatchedIndices=_this$state5.exactMatchedIndices;var matchedIndices=(0,_lib.getMatchedIndices)(allIndices,partialMatchedIndices,exactMatchedIndices,query,isIncludingSystemIndices);return _react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderHeader(matchedIndices),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderLoadingState(matchedIndices),this.renderIndexPatternExists(),this.renderStatusMessage(matchedIndices),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderList(matchedIndices))}}]);return StepIndexPatternComponent}(_react.Component);exports.StepIndexPatternComponent=StepIndexPatternComponent;_defineProperty(StepIndexPatternComponent,"propTypes",{allIndices:_propTypes.default.array.isRequired,isIncludingSystemIndices:_propTypes.default.bool.isRequired,esService:_propTypes.default.object.isRequired,savedObjectsClient:_propTypes.default.object.isRequired,indexPatternCreationType:_propTypes.default.object.isRequired,goToNextStep:_propTypes.default.func.isRequired,initialQuery:_propTypes.default.string});_defineProperty(StepIndexPatternComponent,"defaultProps",{initialQuery:uiSettings.get("indexPattern:placeholder")});var StepIndexPattern=(0,_react2.injectI18n)(StepIndexPatternComponent);exports.StepIndexPattern=StepIndexPattern},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.canAppendWildcard=void 0;var canAppendWildcard=function canAppendWildcard(keyPressed){if(!keyPressed||!/[a-z0-9]/i.test(keyPressed)||keyPressed.length!==1){return false}return true};exports.canAppendWildcard=canAppendWildcard},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ensureMinimumTime=ensureMinimumTime;exports.DEFAULT_MINIMUM_TIME_MS=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var DEFAULT_MINIMUM_TIME_MS=300;exports.DEFAULT_MINIMUM_TIME_MS=DEFAULT_MINIMUM_TIME_MS;function ensureMinimumTime(_x){return _ensureMinimumTime.apply(this,arguments)}function _ensureMinimumTime(){_ensureMinimumTime=_asyncToGenerator(regeneratorRuntime.mark(function _callee(promiseOrPromises){var minimumTimeMs,returnValue,bufferedMinimumTimeMs,asyncActionStartTime,asyncActionCompletionTime,asyncActionDuration,additionalWaitingTime,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:minimumTimeMs=_args.length>1&&_args[1]!==undefined?_args[1]:DEFAULT_MINIMUM_TIME_MS;bufferedMinimumTimeMs=minimumTimeMs+5;asyncActionStartTime=(new Date).getTime();if(!Array.isArray(promiseOrPromises)){_context.next=9;break}_context.next=6;return Promise.all(promiseOrPromises);case 6:returnValue=_context.sent;_context.next=12;break;case 9:_context.next=11;return promiseOrPromises;case 11:returnValue=_context.sent;case 12:asyncActionCompletionTime=(new Date).getTime();asyncActionDuration=asyncActionCompletionTime-asyncActionStartTime;if(!(asyncActionDuration<bufferedMinimumTimeMs)){_context.next=18;break}additionalWaitingTime=bufferedMinimumTimeMs-(asyncActionCompletionTime-asyncActionStartTime);_context.next=18;return new Promise(function(resolve){return setTimeout(resolve,additionalWaitingTime)});case 18:return _context.abrupt("return",returnValue);case 19:case"end":return _context.stop()}}},_callee)}));return _ensureMinimumTime.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndices=getIndices;var _lodash=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function getIndices(_x,_x2,_x3,_x4){return _getIndices.apply(this,arguments)}function _getIndices(){_getIndices=_asyncToGenerator(regeneratorRuntime.mark(function _callee(es,indexPatternCreationType,rawPattern,limit){var pattern,params,response,type;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:pattern=rawPattern.trim();if(!(pattern==="*:")){_context.next=3;break}return _context.abrupt("return",[]);case 3:if(!(pattern==="")){_context.next=5;break}return _context.abrupt("return",[]);case 5:if(!pattern.startsWith(",")){_context.next=7;break}return _context.abrupt("return",[]);case 7:if(limit){_context.next=9;break}throw new Error("`getIndices()` was called without the required `limit` parameter.");case 9:params={ignoreUnavailable:true,index:pattern,ignore:[404],body:{size:0,aggs:{indices:{terms:{field:"_index",size:limit}}}}};_context.prev=10;_context.next=13;return es.search(params);case 13:response=_context.sent;if(!(!response||response.error||!response.aggregations)){_context.next=16;break}return _context.abrupt("return",[]);case 16:return _context.abrupt("return",(0,_lodash.sortBy)(response.aggregations.indices.buckets.map(function(bucket){return bucket.key}).map(function(indexName){return{name:indexName,tags:indexPatternCreationType.getIndexTags(indexName)}}),"name"));case 19:_context.prev=19;_context.t0=_context["catch"](10);type=(0,_lodash.get)(_context.t0,"body.error.caused_by.type");if(!(type==="index_not_found_exception")){_context.next=24;break}return _context.abrupt("return",[]);case 24:throw _context.t0;case 25:case"end":return _context.stop()}}},_callee,null,[[10,19]])}));return _getIndices.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMatchedIndices=getMatchedIndices;var _constants=__webpack_require__(384);function isSystemIndex(index){if(index.startsWith(".")){return true}if(index.includes(":")){return index.split(":").reduce(function(isSystem,index){return isSystem||isSystemIndex(index)},false)}return false}function filterSystemIndices(indices,isIncludingSystemIndices){if(!indices){return indices}var acceptableIndices=isIncludingSystemIndices?indices:indices.filter(function(index){return!isSystemIndex(index.name)});return acceptableIndices.slice(0,_constants.MAX_NUMBER_OF_MATCHING_INDICES)}function getMatchedIndices(unfilteredAllIndices,unfilteredPartialMatchedIndices,unfilteredExactMatchedIndices,query,isIncludingSystemIndices){var allIndices=filterSystemIndices(unfilteredAllIndices,isIncludingSystemIndices);var partialMatchedIndices=filterSystemIndices(unfilteredPartialMatchedIndices,isIncludingSystemIndices);var exactMatchedIndices=filterSystemIndices(unfilteredExactMatchedIndices,isIncludingSystemIndices);var visibleIndices;if(exactMatchedIndices.length){visibleIndices=exactMatchedIndices}else if(partialMatchedIndices.length){visibleIndices=partialMatchedIndices}else{visibleIndices=allIndices}return{allIndices:allIndices,exactMatchedIndices:exactMatchedIndices,partialMatchedIndices:partialMatchedIndices,visibleIndices:visibleIndices}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containsIllegalCharacters=containsIllegalCharacters;function containsIllegalCharacters(pattern,illegalCharacters){return illegalCharacters.some(function(char){return pattern.includes(char)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractTimeFields=extractTimeFields;var _i18n=__webpack_require__(2);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function extractTimeFields(fields){var dateFields=fields.filter(function(field){return field.type==="date"});var label=_i18n.i18n.translate("kbn.management.createIndexPattern.stepTime.noTimeFieldsLabel",{defaultMessage:"The indices which match this index pattern don't contain any time fields."});if(dateFields.length===0){return[{display:label}]}var disabledDividerOption={isDisabled:true,display:"",fieldName:""};var noTimeFieldLabel=_i18n.i18n.translate("kbn.management.createIndexPattern.stepTime.noTimeFieldOptionLabel",{defaultMessage:"I don't want to use the Time Filter"});var noTimeFieldOption={display:noTimeFieldLabel,fieldName:undefined};return[].concat(_toConsumableArray(dateFields.map(function(field){return{display:field.name,fieldName:field.name}})),[disabledDividerOption,noTimeFieldOption])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LoadingIndices",{enumerable:true,get:function get(){return _loading_indices.LoadingIndices}});var _loading_indices=__webpack_require__(2122)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingIndices=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var LoadingIndices=function LoadingIndices(_ref){var rest=Object.assign({},_ref);return _react.default.createElement(_eui.EuiFlexGroup,_extends({justifyContent:"center",alignItems:"center"},rest),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.loadingHeader",defaultMessage:"Looking for matching indices"}))),_react.default.createElement(_eui.EuiText,{size:"s",style:{textAlign:"center"}},_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.loadingLabel",defaultMessage:"Just a sec"})))))};exports.LoadingIndices=LoadingIndices},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StatusMessage",{enumerable:true,get:function get(){return _status_message.StatusMessage}});var _status_message=__webpack_require__(2124)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusMessage=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StatusMessage=function StatusMessage(_ref){var _ref$matchedIndices=_ref.matchedIndices,_ref$matchedIndices$a=_ref$matchedIndices.allIndices,allIndices=_ref$matchedIndices$a===void 0?[]:_ref$matchedIndices$a,_ref$matchedIndices$e=_ref$matchedIndices.exactMatchedIndices,exactMatchedIndices=_ref$matchedIndices$e===void 0?[]:_ref$matchedIndices$e,_ref$matchedIndices$p=_ref$matchedIndices.partialMatchedIndices,partialMatchedIndices=_ref$matchedIndices$p===void 0?[]:_ref$matchedIndices$p,isIncludingSystemIndices=_ref.isIncludingSystemIndices,query=_ref.query,showSystemIndicies=_ref.showSystemIndicies;var statusIcon;var statusMessage;var statusColor;var allIndicesLength=allIndices.length;if(query.length===0){statusIcon=null;statusColor="default";if(allIndicesLength>1){statusMessage=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.matchAnyLabel.matchAnyDetail",defaultMessage:"Your index pattern can match any of your {strongIndices}, below.",values:{strongIndices:_react.default.createElement("strong",null,allIndicesLength," indices")}}))}else if(!isIncludingSystemIndices&&showSystemIndicies){statusMessage=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.noSystemIndicesWithPromptLabel",defaultMessage:"No Elasticsearch indices match your pattern. To view the matching system indices, toggle the switch in the upper right."}))}else{statusMessage=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.noSystemIndicesLabel",defaultMessage:"No Elasticsearch indices match your pattern."}))}}else if(exactMatchedIndices.length){statusIcon="check";statusColor="secondary";statusMessage=_react.default.createElement("span",null,"",_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.successDetail",defaultMessage:"{strongSuccess} Your index pattern matches {strongIndices}.",values:{strongSuccess:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.strongSuccessLabel",defaultMessage:"Success!"})),strongIndices:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.successLabel.strongIndicesLabel",defaultMessage:"{indicesLength, plural, one {# index} other {# indices}}",values:{indicesLength:exactMatchedIndices.length}}))}}))}else if(partialMatchedIndices.length){statusIcon=null;statusColor="default";statusMessage=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.partialMatchLabel.partialMatchDetail",defaultMessage:"Your index pattern doesn't match any indices, but you have {strongIndices} which {matchedIndicesLength, plural, one {looks} other {look}} similar.",values:{matchedIndicesLength:partialMatchedIndices.length,strongIndices:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.partialMatchLabel.strongIndicesLabel",defaultMessage:"{matchedIndicesLength, plural, one {# index} other {# indices}}",values:{matchedIndicesLength:partialMatchedIndices.length}}))}}))}else if(allIndicesLength){statusIcon=null;statusColor="default";statusMessage=_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.notMatchLabel.notMatchDetail",defaultMessage:"The index pattern you've entered doesn't match any indices. You can match {indicesLength, plural, one {your} other {any of your}} {strongIndices}, below.",values:{strongIndices:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.status.notMatchLabel.allIndicesLabel",defaultMessage:"{indicesLength, plural, one {# index} other {# indices}}",values:{indicesLength:allIndicesLength}})),indicesLength:allIndicesLength}}))}return _react.default.createElement(_eui.EuiText,{size:"s","data-test-subj":"createIndexPatternStatusMessage"},_react.default.createElement(_eui.EuiTextColor,{color:statusColor},statusIcon?_react.default.createElement(_eui.EuiIcon,{type:statusIcon}):null,statusMessage))};exports.StatusMessage=StatusMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndicesList",{enumerable:true,get:function get(){return _indices_list.IndicesList}});var _indices_list=__webpack_require__(2126)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesList=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _constants=__webpack_require__(384);var _eui=__webpack_require__(3);var _services=__webpack_require__(113);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndicesList=function(_Component){_inherits(IndicesList,_Component);function IndicesList(props){var _this;_classCallCheck(this,IndicesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndicesList).call(this,props));_defineProperty(_assertThisInitialized(_this),"resetPageTo0",function(){return _this.onChangePage(0)});_defineProperty(_assertThisInitialized(_this),"onChangePage",function(page){_this.pager.goToPageIndex(page);_this.setState({page:page})});_defineProperty(_assertThisInitialized(_this),"onChangePerPage",function(perPage){_this.pager.setItemsPerPage(perPage);_this.setState({perPage:perPage});_this.resetPageTo0();_this.closePerPageControl()});_defineProperty(_assertThisInitialized(_this),"openPerPageControl",function(){_this.setState({isPerPageControlOpen:true})});_defineProperty(_assertThisInitialized(_this),"closePerPageControl",function(){_this.setState({isPerPageControlOpen:false})});_this.state={page:0,perPage:_constants.PER_PAGE_INCREMENTS[1],isPerPageControlOpen:false};_this.pager=new _services.Pager(props.indices.length,_this.state.perPage,_this.state.page);return _this}_createClass(IndicesList,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.indices.length!==this.props.indices.length){this.pager.setTotalItems(nextProps.indices.length);this.resetPageTo0()}}},{key:"renderPagination",value:function renderPagination(){var _this2=this;var _this$state=this.state,perPage=_this$state.perPage,page=_this$state.page,isPerPageControlOpen=_this$state.isPerPageControlOpen;var button=_react.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.pagingLabel",defaultMessage:"Rows per page: {perPage}",values:{perPage:perPage}}));var items=_constants.PER_PAGE_INCREMENTS.map(function(increment){return _react.default.createElement(_eui.EuiContextMenuItem,{key:increment,icon:"empty",onClick:function onClick(){return _this2.onChangePerPage(increment)}},increment)});var pageCount=this.pager.getTotalPages();var paginationControls=pageCount>1?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPagination,{pageCount:pageCount,activePage:page,onPageClick:this.onChangePage})):null;return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiPopover,{id:"customizablePagination",button:button,isOpen:isPerPageControlOpen,closePopover:this.closePerPageControl,panelPaddingSize:"none",withTitle:true},_react.default.createElement(_eui.EuiContextMenuPanel,{items:items}))),paginationControls)}},{key:"highlightIndexName",value:function highlightIndexName(indexName,query){var queryIdx=indexName.indexOf(query);if(!query||queryIdx===-1){return indexName}var preStr=indexName.substr(0,queryIdx);var postStr=indexName.substr(queryIdx+query.length);return _react.default.createElement("span",null,preStr,_react.default.createElement("strong",null,query),postStr)}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,indices=_this$props.indices,query=_this$props.query,rest=_objectWithoutProperties(_this$props,["indices","query"]);var queryWithoutWildcard=query.endsWith("*")?query.substr(0,query.length-1):query;var paginatedIndices=indices.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1);var rows=paginatedIndices.map(function(index,key){return _react.default.createElement(_eui.EuiTableRow,{key:key},_react.default.createElement(_eui.EuiTableRowCell,null,_this3.highlightIndexName(index.name,queryWithoutWildcard)),_react.default.createElement(_eui.EuiTableRowCell,null,index.tags.map(function(tag){return _react.default.createElement(_eui.EuiBadge,{key:"index_".concat(key,"_tag_").concat(tag.key),color:"primary"},tag.name)})))});return _react.default.createElement("div",rest,_react.default.createElement(_eui.EuiTable,null,_react.default.createElement(_eui.EuiTableBody,null,rows)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderPagination())}}]);return IndicesList}(_react.Component);exports.IndicesList=IndicesList;_defineProperty(IndicesList,"propTypes",{indices:_propTypes.default.array.isRequired,query:_propTypes.default.string.isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(2128)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=exports.HeaderComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var HeaderComponent=function HeaderComponent(_ref){var isInputInvalid=_ref.isInputInvalid,errors=_ref.errors,characterList=_ref.characterList,query=_ref.query,onQueryChanged=_ref.onQueryChanged,goToNextStep=_ref.goToNextStep,isNextStepDisabled=_ref.isNextStepDisabled,intl=_ref.intl,rest=_objectWithoutProperties(_ref,["isInputInvalid","errors","characterList","query","onQueryChanged","goToNextStep","isNextStepDisabled","intl"]);return _react.default.createElement("div",rest,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepHeader",defaultMessage:"Step 1 of 2: Define index pattern"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiForm,{isInvalid:isInputInvalid},_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPatternLabel",defaultMessage:"Index pattern"}),isInvalid:isInputInvalid,error:errors,helpText:_react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPattern.allowLabel",defaultMessage:"You can use a {asterisk} as a wildcard in your index pattern.",values:{asterisk:_react.default.createElement("strong",null,"*")}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.indexPattern.disallowLabel",defaultMessage:"You can't use spaces or the characters {characterList}.",values:{characterList:_react.default.createElement("strong",null,characterList)}})))},_react.default.createElement(_eui.EuiFieldText,{name:"indexPattern",placeholder:intl.formatMessage({id:"kbn.management.createIndexPattern.step.indexPatternPlaceholder",defaultMessage:"index-name-*"}),value:query,isInvalid:isInputInvalid,onChange:onQueryChanged,"data-test-subj":"createIndexPatternNameInput"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{iconType:"arrowRight",onClick:function onClick(){return goToNextStep(query)},isDisabled:isNextStepDisabled,"data-test-subj":"createIndexPatternGoToStep2Button"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.step.nextStepButton",defaultMessage:"Next step"})))))};exports.HeaderComponent=HeaderComponent;var Header=(0,_react2.injectI18n)(HeaderComponent);exports.Header=Header},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"StepTimeField",{enumerable:true,get:function get(){return _step_time_field.StepTimeField}});var _step_time_field=__webpack_require__(2130)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepTimeField=exports.StepTimeFieldComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _lib=__webpack_require__(474);var _header=__webpack_require__(2131);var _time_field=__webpack_require__(2133);var _advanced_options=__webpack_require__(2136);var _action_buttons=__webpack_require__(2138);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var StepTimeFieldComponent=function(_Component){_inherits(StepTimeFieldComponent,_Component);function StepTimeFieldComponent(props){var _this;_classCallCheck(this,StepTimeFieldComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(StepTimeFieldComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"mounted",false);_defineProperty(_assertThisInitialized(_this),"fetchTimeFields",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPatternsService,pattern,getFetchForWildcardOptions,indexPattern,fields,timeFields;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPatternsService=_this$props.indexPatternsService,pattern=_this$props.indexPattern;getFetchForWildcardOptions=_this.props.indexPatternCreationType.getFetchForWildcardOptions;_context.next=4;return indexPatternsService.make();case 4:indexPattern=_context.sent;indexPattern.title=pattern;_this.setState({isFetchingTimeFields:true});_context.next=9;return(0,_lib.ensureMinimumTime)(indexPattern.fieldsFetcher.fetchForWildcard(pattern,getFetchForWildcardOptions()));case 9:fields=_context.sent;timeFields=(0,_lib.extractTimeFields)(fields);_this.setState({timeFields:timeFields,isFetchingTimeFields:false});case 12:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"onTimeFieldChanged",function(e){var value=e.target.value;var timeField=_this.state.timeFields.find(function(timeField){return timeField.fieldName===value});var validSelection=value!=="";_this.setState({selectedTimeField:timeField?timeField.fieldName:undefined,timeFieldSet:validSelection})});_defineProperty(_assertThisInitialized(_this),"onChangeIndexPatternId",function(e){_this.setState({indexPatternId:e.target.value})});_defineProperty(_assertThisInitialized(_this),"toggleAdvancedOptions",function(){_this.setState(function(state){return{isAdvancedOptionsVisible:!state.isAdvancedOptionsVisible}})});_defineProperty(_assertThisInitialized(_this),"createIndexPattern",_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var createIndexPattern,_this$state,selectedTimeField,indexPatternId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:createIndexPattern=_this.props.createIndexPattern;_this$state=_this.state,selectedTimeField=_this$state.selectedTimeField,indexPatternId=_this$state.indexPatternId;_this.setState({isCreating:true});_context2.prev=3;_context2.next=6;return createIndexPattern(selectedTimeField,indexPatternId);case 6:_context2.next=13;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](3);if(_this.mounted){_context2.next=12;break}return _context2.abrupt("return");case 12:_this.setState({error:_context2.t0 instanceof Error?_context2.t0.message:String(_context2.t0),isCreating:false});case 13:case"end":return _context2.stop()}}},_callee2,null,[[3,8]])})));var _props$indexPatternCr=props.indexPatternCreationType,getIndexPatternType=_props$indexPatternCr.getIndexPatternType,getIndexPatternName=_props$indexPatternCr.getIndexPatternName;_this.state={error:"",timeFields:[],selectedTimeField:undefined,timeFieldSet:false,isAdvancedOptionsVisible:false,isFetchingTimeFields:false,isCreating:false,indexPatternId:"",indexPatternType:getIndexPatternType(),indexPatternName:getIndexPatternName()};return _this}_createClass(StepTimeFieldComponent,[{key:"componentDidMount",value:function componentDidMount(){this.mounted=true;this.fetchTimeFields()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false}},{key:"formatErrorMessage",value:function formatErrorMessage(message){return message==="Conflict"?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.patterAlreadyExists",defaultMessage:"Custom index pattern ID already exists."}):message}},{key:"render",value:function render(){var _this$state2=this.state,timeFields=_this$state2.timeFields,selectedTimeField=_this$state2.selectedTimeField,timeFieldSet=_this$state2.timeFieldSet,isAdvancedOptionsVisible=_this$state2.isAdvancedOptionsVisible,indexPatternId=_this$state2.indexPatternId,isCreating=_this$state2.isCreating,isFetchingTimeFields=_this$state2.isFetchingTimeFields,indexPatternName=_this$state2.indexPatternName;if(isCreating){return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.creatingLabel",defaultMessage:"Creating index pattern"})))))}var _this$props2=this.props,indexPattern=_this$props2.indexPattern,goToPreviousStep=_this$props2.goToPreviousStep;var timeFieldOptions=timeFields?[{text:"",value:""}].concat(_toConsumableArray(timeFields.map(function(timeField){return{text:timeField.display,value:timeField.fieldName,disabled:timeFields.isDisabled}}))):[];var showTimeField=!timeFields||timeFields.length>1;var submittable=!showTimeField||timeFieldSet;var error=this.state.error?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.error",defaultMessage:"Error"}),color:"danger",iconType:"cross"},_react.default.createElement("p",null,this.formatErrorMessage(this.state.error))),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null;return _react.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react.default.createElement(_header.Header,{indexPattern:indexPattern,indexPatternName:indexPatternName}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_time_field.TimeField,{isVisible:showTimeField,fetchTimeFields:this.fetchTimeFields,timeFieldOptions:timeFieldOptions,isLoading:isFetchingTimeFields,selectedTimeField:selectedTimeField,onTimeFieldChanged:this.onTimeFieldChanged}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_advanced_options.AdvancedOptions,{isVisible:isAdvancedOptionsVisible,indexPatternId:indexPatternId,toggleAdvancedOptions:this.toggleAdvancedOptions,onChangeIndexPatternId:this.onChangeIndexPatternId}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),error,_react.default.createElement(_action_buttons.ActionButtons,{goToPreviousStep:goToPreviousStep,submittable:submittable,createIndexPattern:this.createIndexPattern}))}}]);return StepTimeFieldComponent}(_react.Component);exports.StepTimeFieldComponent=StepTimeFieldComponent;_defineProperty(StepTimeFieldComponent,"propTypes",{indexPattern:_propTypes.default.string.isRequired,indexPatternsService:_propTypes.default.object.isRequired,goToPreviousStep:_propTypes.default.func.isRequired,createIndexPattern:_propTypes.default.func.isRequired,indexPatternCreationType:_propTypes.default.object.isRequired});var StepTimeField=(0,_react2.injectI18n)(StepTimeFieldComponent);exports.StepTimeField=StepTimeField},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(2132)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=function Header(_ref){var indexPattern=_ref.indexPattern,indexPatternName=_ref.indexPatternName;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTimeHeader",defaultMessage:"Step 2 of 2: Configure settings"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiText,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTimeLabel",defaultMessage:"You've defined {indexPattern} as your {indexPatternName}. Now you can specify some settings before we create it.",values:{indexPattern:_react.default.createElement("strong",null,indexPattern),indexPatternName:indexPatternName}})))};exports.Header=Header},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"TimeField",{enumerable:true,get:function get(){return _time_field.TimeField}});var _time_field=__webpack_require__(2134)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeField=exports.TimeFieldComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));__webpack_require__(2135);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TimeFieldComponent=function TimeFieldComponent(_ref){var isVisible=_ref.isVisible,fetchTimeFields=_ref.fetchTimeFields,timeFieldOptions=_ref.timeFieldOptions,isLoading=_ref.isLoading,selectedTimeField=_ref.selectedTimeField,onTimeFieldChanged=_ref.onTimeFieldChanged,intl=_ref.intl;return _react.default.createElement(_eui.EuiForm,null,isVisible?_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldHeader",defaultMessage:"Time Filter field name"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},isLoading?_react.default.createElement(_eui.EuiLoadingSpinner,{size:"s"}):_react.default.createElement(_eui.EuiLink,{className:"timeFieldRefreshButton",onClick:fetchTimeFields},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.refreshButton",defaultMessage:"Refresh"})))),helpText:_react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldLabel",defaultMessage:"The Time Filter will use this field to filter your data by time."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.fieldWarningLabel",defaultMessage:"You can choose not to have a time field, but you will not be able to narrow down your data by a time range."})))},isLoading?_react.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:[{text:intl.formatMessage({id:"kbn.management.createIndexPattern.stepTime.field.loadingDropDown",defaultMessage:"Loading"}),value:""}],disabled:true}):_react.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:timeFieldOptions,isLoading:isLoading,disabled:isLoading,value:selectedTimeField,onChange:onTimeFieldChanged})):_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.field.noTimeFieldsLabel",defaultMessage:"The indices which match this index pattern don't contain any time fields."}))))};exports.TimeFieldComponent=TimeFieldComponent;var TimeField=(0,_react2.injectI18n)(TimeFieldComponent);exports.TimeField=TimeField},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AdvancedOptions",{enumerable:true,get:function get(){return _advanced_options.AdvancedOptions}});var _advanced_options=__webpack_require__(2137)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedOptions=exports.AdvancedOptionsComponent=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AdvancedOptionsComponent=function AdvancedOptionsComponent(_ref){var isVisible=_ref.isVisible,indexPatternId=_ref.indexPatternId,toggleAdvancedOptions=_ref.toggleAdvancedOptions,onChangeIndexPatternId=_ref.onChangeIndexPatternId,intl=_ref.intl;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiButtonEmpty,{iconType:isVisible?"arrowDown":"arrowRight",onClick:toggleAdvancedOptions},isVisible?_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.hideButton",defaultMessage:"Hide advanced options"}):_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.showButton",defaultMessage:"Show advanced options"})),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),isVisible?_react.default.createElement(_eui.EuiForm,null,_react.default.createElement(_eui.EuiFormRow,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.patternHeader",defaultMessage:"Custom index pattern ID"}),helpText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.options.patternLabel",defaultMessage:"Kibana will provide a unique identifier for each index pattern. If you do not want to use this unique ID, enter a custom one."})},_react.default.createElement(_eui.EuiFieldText,{name:"indexPatternId","data-test-subj":"createIndexPatternIdInput",value:indexPatternId,onChange:onChangeIndexPatternId,placeholder:intl.formatMessage({id:"kbn.management.createIndexPattern.stepTime.options.patternPlaceholder",defaultMessage:"custom-index-pattern-id"})}))):null)};exports.AdvancedOptionsComponent=AdvancedOptionsComponent;var AdvancedOptions=(0,_react2.injectI18n)(AdvancedOptionsComponent);exports.AdvancedOptions=AdvancedOptions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ActionButtons",{enumerable:true,get:function get(){return _action_buttons.ActionButtons}});var _action_buttons=__webpack_require__(2139)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionButtons=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ActionButtons=function ActionButtons(_ref){var goToPreviousStep=_ref.goToPreviousStep,submittable=_ref.submittable,createIndexPattern=_ref.createIndexPattern;return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.backButton",defaultMessage:"Back"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{isDisabled:!submittable,"data-test-subj":"createIndexPatternButton",fill:true,onClick:createIndexPattern},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.stepTime.createPatternButton",defaultMessage:"Create index pattern"}))))};exports.ActionButtons=ActionButtons},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(2141)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var HeaderUi=function HeaderUi(_ref){var prompt=_ref.prompt,indexPatternName=_ref.indexPatternName,showSystemIndices=_ref.showSystemIndices,isIncludingSystemIndices=_ref.isIncludingSystemIndices,onChangeIncludingSystemIndices=_ref.onChangeIncludingSystemIndices,isBeta=_ref.isBeta,intl=_ref.intl;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPatternHeader",defaultMessage:"Create {indexPatternName}",values:{indexPatternName:indexPatternName}}),isBeta?_react.default.createElement(_react.Fragment,null," ",_react.default.createElement(_eui.EuiBetaBadge,{label:intl.formatMessage({id:"kbn.management.createIndexPattern.betaLabel",defaultMessage:"Beta"})})):null)),_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPatternLabel",defaultMessage:"Kibana uses index patterns to retrieve data from Elasticsearch indices for things like visualizations."}))))),showSystemIndices?_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.includeSystemIndicesToggleSwitchLabel",defaultMessage:"Include system indices"}),id:"checkboxShowSystemIndices",checked:isIncludingSystemIndices,onChange:onChangeIncludingSystemIndices})):null),prompt?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,{size:"s"}),prompt):null,_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};var Header=(0,_react2.injectI18n)(HeaderUi);exports.Header=Header},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LoadingState",{enumerable:true,get:function get(){return _loading_state.LoadingState}});var _loading_state=__webpack_require__(2143)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingState=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LoadingState=function LoadingState(){return _react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",direction:"column",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",{style:{textAlign:"center"}},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.loadingState.checkingLabel",defaultMessage:"Checking for Elasticsearch data"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})))};exports.LoadingState=LoadingState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"EmptyState",{enumerable:true,get:function get(){return _empty_state.EmptyState}});var _empty_state=__webpack_require__(2145)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyState=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyState=function EmptyState(_ref){var onRefresh=_ref.onRefresh;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateHeader",defaultMessage:"Couldn't find any Elasticsearch data"})},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.emptyStateDetail",defaultMessage:"{needToIndex} {learnHowLink} or {getStartedLink}",values:{needToIndex:_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.needToIndexLabel",defaultMessage:"You'll need to index some data into Elasticsearch before you can create an index pattern."})),learnHowLink:_react.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.learnHowLink",defaultMessage:"Learn how"})),getStartedLink:_react.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory/sampleData"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyStateLabel.getStartedLink",defaultMessage:"get started with some sample data sets."}))}})),_react.default.createElement(_eui.EuiButton,{iconType:"refresh",onClick:onRefresh,"data-test-subj":"refreshIndicesButton",color:"warning"},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.createIndexPattern.emptyState.checkDataButton",defaultMessage:"Check for new data"}))))};exports.EmptyState=EmptyState;EmptyState.propTypes={onRefresh:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2147)},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));__webpack_require__(2148);__webpack_require__(2151);var _doc_title=__webpack_require__(111);var _url=__webpack_require__(98);var _edit_sections=__webpack_require__(2171);var _notify=__webpack_require__(9);var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _edit_index_pattern=_interopRequireDefault(__webpack_require__(2172));var _field_wildcard=__webpack_require__(614);var _index_pattern_list=__webpack_require__(784);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _source_filters_table=__webpack_require__(2173);var _indexed_fields_table=__webpack_require__(2181);var _scripted_fields_table=__webpack_require__(2187);var _i18n=__webpack_require__(2);var _i18n2=__webpack_require__(11);var _breadcrumbs=__webpack_require__(383);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var REACT_SOURCE_FILTERS_DOM_ELEMENT_ID="reactSourceFiltersTable";var REACT_INDEXED_FIELDS_DOM_ELEMENT_ID="reactIndexedFieldsTable";var REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID="reactScriptedFieldsTable";function updateSourceFiltersTable($scope,$state){if($state.tab==="sourceFilters"){$scope.$$postDigest(function(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_source_filters_table.SourceFiltersTable,{indexPattern:$scope.indexPattern,filterFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,onAddOrRemoveFilter:function onAddOrRemoveFilter(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.fieldFilter,$scope.indexPatternListProvider);$scope.refreshFilters();$scope.$apply()}})),node)})}else{destroySourceFiltersTable()}}function destroySourceFiltersTable(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateScriptedFieldsTable($scope,$state){if($state.tab==="scriptedFields"){$scope.$$postDigest(function(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_scripted_fields_table.ScriptedFieldsTable,{indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,scriptedFieldLanguageFilter:$scope.scriptedFieldLanguageFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getRouteHref:function getRouteHref(obj,route){return $scope.kbnUrl.getRouteHref(obj,route)}},onRemoveField:function onRemoveField(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.fieldFilter,$scope.indexPatternListProvider);$scope.refreshFilters();$scope.$apply()}})),node)})}else{destroyScriptedFieldsTable()}}function destroyScriptedFieldsTable(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateIndexedFieldsTable($scope,$state){if($state.tab==="indexedFields"){$scope.$$postDigest(function(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_indexed_fields_table.IndexedFieldsTable,{fields:$scope.fields,indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,indexedFieldTypeFilter:$scope.indexedFieldTypeFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getFieldInfo:$scope.getFieldInfo}})),node)})}else{destroyIndexedFieldsTable()}}function destroyIndexedFieldsTable(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes.default.when("/management/kibana/index_patterns/:indexPatternId",{template:_edit_index_pattern.default,k7Breadcrumbs:_breadcrumbs.getEditBreadcrumbs,resolve:{indexPattern:function indexPattern($route,Promise,redirectWhenMissing,indexPatterns){return Promise.resolve(indexPatterns.get($route.current.params.indexPatternId)).catch(redirectWhenMissing("/management/kibana/index_patterns"))}}});_modules.uiModules.get("apps/management").controller("managementIndexPatternsEdit",function($scope,$location,$route,Promise,config,indexPatterns,Private,AppState,confirmModal){var $state=$scope.state=new AppState;var _Private=Private(_field_wildcard.FieldWildcardProvider),fieldWildcardMatcher=_Private.fieldWildcardMatcher;var indexPatternListProvider=Private(_index_pattern_list.IndexPatternListFactory)();$scope.fieldWildcardMatcher=fieldWildcardMatcher;$scope.editSectionsProvider=Private(_edit_sections.IndicesEditSectionsProvider);$scope.kbnUrl=Private(_url.KbnUrlProvider);$scope.indexPattern=$route.current.locals.indexPattern;$scope.indexPatternListProvider=indexPatternListProvider;$scope.indexPattern.tags=indexPatternListProvider.getIndexPatternTags($scope.indexPattern,$scope.indexPattern.id===config.get("defaultIndex"));$scope.getFieldInfo=indexPatternListProvider.getFieldInfo;_doc_title.docTitle.change($scope.indexPattern.title);var otherPatterns=_lodash.default.filter($route.current.locals.indexPatterns,function(pattern){return pattern.id!==$scope.indexPattern.id});$scope.$watch("indexPattern.fields",function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.fieldFilter,indexPatternListProvider);$scope.refreshFilters();$scope.fields=$scope.indexPattern.getNonScriptedFields();updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state)});$scope.migration={isMigrating:false,newTitle:$scope.indexPattern.getIndex()};$scope.migrate=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:$scope.migration.isMigrating=true;_context.next=3;return $scope.indexPattern.migrate($scope.migration.newTitle);case 3:$scope.$evalAsync(function(){$scope.migration.isMigrating=false});case 4:case"end":return _context.stop()}}},_callee)}));$scope.refreshFilters=function(){var indexedFieldTypes=[];var scriptedFieldLanguages=[];$scope.indexPattern.fields.forEach(function(field){if(field.scripted){scriptedFieldLanguages.push(field.lang)}else{indexedFieldTypes.push(field.type)}});$scope.indexedFieldTypes=_lodash.default.unique(indexedFieldTypes);$scope.scriptedFieldLanguages=_lodash.default.unique(scriptedFieldLanguages)};$scope.changeFilter=function(filter,val){$scope[filter]=val||""};$scope.changeTab=function(obj){$state.tab=obj.index;updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state);$state.save()};$scope.$watch("state.tab",function(tab){if(!tab)$scope.changeTab($scope.editSections[0])});$scope.$watchCollection("indexPattern.fields",function(){$scope.conflictFields=$scope.indexPattern.fields.filter(function(field){return field.type==="conflict"})});$scope.refreshFields=function(){var confirmMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.refreshLabel",{defaultMessage:"This action resets the popularity counter of each field."});var confirmModalOptions={confirmButtonText:_i18n.i18n.translate("kbn.management.editIndexPattern.refreshButton",{defaultMessage:"Refresh"}),onConfirm:function(){var _onConfirm=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return $scope.indexPattern.init(true);case 2:$scope.fields=$scope.indexPattern.getNonScriptedFields();case 3:case"end":return _context2.stop()}}},_callee2)}));function onConfirm(){return _onConfirm.apply(this,arguments)}return onConfirm}(),title:_i18n.i18n.translate("kbn.management.editIndexPattern.refreshHeader",{defaultMessage:"Refresh field list?"})};confirmModal(confirmMessage,confirmModalOptions)};$scope.removePattern=function(){function doRemove(){if($scope.indexPattern.id===config.get("defaultIndex")){config.remove("defaultIndex");if(otherPatterns.length){config.set("defaultIndex",otherPatterns[0].id)}}Promise.resolve($scope.indexPattern.destroy()).then(function(){$location.url("/management/kibana/index_patterns")}).catch(_notify.fatalError)}var confirmModalOptions={confirmButtonText:_i18n.i18n.translate("kbn.management.editIndexPattern.deleteButton",{defaultMessage:"Delete"}),onConfirm:doRemove,title:_i18n.i18n.translate("kbn.management.editIndexPattern.deleteHeader",{defaultMessage:"Delete index pattern?"})};confirmModal("",confirmModalOptions)};$scope.setDefaultPattern=function(){config.set("defaultIndex",$scope.indexPattern.id)};$scope.setIndexPatternsTimeField=function(field){if(field.type!=="date"){var errorMessage=_i18n.i18n.translate("kbn.management.editIndexPattern.notDateErrorMessage",{defaultMessage:"That field is a {fieldType} not a date.",values:{fieldType:field.type}});_notify.toastNotifications.addDanger(errorMessage);return}$scope.indexPattern.timeFieldName=field.name;return $scope.indexPattern.save()};$scope.$watch("fieldFilter",function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern,$scope.fieldFilter,indexPatternListProvider);if($scope.fieldFilter===undefined){return}switch($state.tab){case"indexedFields":updateIndexedFieldsTable($scope,$state);case"scriptedFields":updateScriptedFieldsTable($scope,$state);case"sourceFilters":updateSourceFiltersTable($scope,$state)}});$scope.$watch("indexedFieldTypeFilter",function(){if($scope.indexedFieldTypeFilter!==undefined&&$state.tab==="indexedFields"){updateIndexedFieldsTable($scope,$state)}});$scope.$watch("scriptedFieldLanguageFilter",function(){if($scope.scriptedFieldLanguageFilter!==undefined&&$state.tab==="scriptedFields"){updateScriptedFieldsTable($scope,$state)}});$scope.$on("$destroy",function(){destroyIndexedFieldsTable();destroyScriptedFieldsTable()});updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state)})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2149)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _index_header=_interopRequireDefault(__webpack_require__(2150));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/management").directive("kbnManagementIndexPatternsHeader",function(config){return{restrict:"E",template:_index_header.default,replace:true,scope:{indexPattern:"=",setDefault:"&",refreshFields:"&",delete:"&"},link:function link($scope,$el,attrs){$scope.delete=attrs.delete?$scope.delete:null;$scope.setDefault=attrs.setDefault?$scope.setDefault:null;$scope.refreshFields=attrs.refreshFields?$scope.refreshFields:null;config.bindToScope($scope,"defaultIndex")}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="kuiBar kuiVerticalRhythm">\n  <div class="kuiBarSection">\n    \x3c!-- Index pattern name --\x3e\n    <h1\n      class="euiTitle euiTitle--medium"\n      data-test-subj="indexPatternTitle"\n    >\n      <span\n        aria-hidden="true"\n        ng-if="defaultIndex === indexPattern.id"\n        class="kuiIcon fa-star"\n      ></span>\n      {{indexPattern.title}}\n    </h1>\n  </div>\n\n  <div class="kuiBarSection">\n    <button\n      ng-if="setDefault"\n      ng-click="setDefault()"\n      aria-label="{{::\'kbn.management.editIndexPattern.setDefaultAria\' | i18n: { defaultMessage: \'Set as default index\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.setDefaultTooltip\' | i18n: { defaultMessage: \'Set as default index\' } }}"\n      class="kuiButton kuiButton--basic"\n      data-test-subj="setDefaultIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-star"\n      ></span>\n    </button>\n\n    <button\n      ng-if="refreshFields"\n      ng-click="refreshFields()"\n      aria-label="{{::\'kbn.management.editIndexPattern.refreshAria\' | i18n: { defaultMessage: \'Reload field list\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.refreshTooltip\' | i18n: { defaultMessage: \'Refresh field list\' } }}"\n      class="kuiButton kuiButton--basic"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-refresh"\n      ></span>\n    </button>\n\n    <button\n      ng-if="delete"\n      ng-click="delete()"\n      aria-label="{{::\'kbn.management.editIndexPattern.removeAria\' | i18n: { defaultMessage: \'Remove index pattern\' } }}"\n      tooltip="{{::\'kbn.management.editIndexPattern.removeTooltip\' | i18n: { defaultMessage: \'Remove index pattern\' } }}"\n      class="kuiButton kuiButton--danger"\n      data-test-subj="deleteIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-trash"\n      ></span>\n    </button>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2152)},function(module,exports,__webpack_require__){"use strict";var _legacy=__webpack_require__(71);var _field_format_editors=__webpack_require__(723);var _doc_title=__webpack_require__(111);var _url=__webpack_require__(98);var _routes=_interopRequireDefault(__webpack_require__(19));var _notify=__webpack_require__(9);var _create_edit_field=_interopRequireDefault(__webpack_require__(2153));var _breadcrumbs=__webpack_require__(383);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(13);var _field_editor=__webpack_require__(2154);var _i18n=__webpack_require__(11);var _i18n2=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Field=_legacy.setup.indexPatterns.__LEGACY.FieldImpl;var REACT_FIELD_EDITOR_ID="reactFieldEditor";var renderFieldEditor=function renderFieldEditor($scope,indexPattern,field,_ref){var Field=_ref.Field,getConfig=_ref.getConfig,$http=_ref.$http,fieldFormatEditors=_ref.fieldFormatEditors,redirectAway=_ref.redirectAway;$scope.$$postDigest(function(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);if(!node){return}(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_field_editor.FieldEditor,{indexPattern:indexPattern,field:field,helpers:{Field:Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:redirectAway}})),node)})};var destroyFieldEditor=function destroyFieldEditor(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};_routes.default.when("/management/kibana/index_patterns/:indexPatternId/field/:fieldName*",{mode:"edit",k7Breadcrumbs:_breadcrumbs.getEditFieldBreadcrumbs}).when("/management/kibana/index_patterns/:indexPatternId/create-field/",{mode:"create",k7Breadcrumbs:_breadcrumbs.getCreateFieldBreadcrumbs}).defaults(/management\/kibana\/index_patterns\/[^\/]+\/(field|create-field)(\/|$)/,{template:_create_edit_field.default,mapBreadcrumbs:function mapBreadcrumbs($route,breadcrumbs){var indexPattern=$route.current.locals.indexPattern;return breadcrumbs.map(function(crumb){if(crumb.id!==indexPattern.id){return crumb}return _objectSpread({},crumb,{display:indexPattern.title})})},resolve:{indexPattern:function indexPattern($route,Promise,redirectWhenMissing,indexPatterns){return Promise.resolve(indexPatterns.get($route.current.params.indexPatternId)).catch(redirectWhenMissing("/management/kibana/index_patterns"))}},controllerAs:"fieldSettings",controller:function FieldEditorPageController($scope,$route,$timeout,$http,Private,config){var _this=this;var getConfig=function getConfig(){return config.get.apply(config,arguments)};var fieldFormatEditors=Private(_field_format_editors.RegistryFieldFormatEditorsProvider);var kbnUrl=Private(_url.KbnUrlProvider);this.mode=$route.current.mode;this.indexPattern=$route.current.locals.indexPattern;if(this.mode==="edit"){var _fieldName=$route.current.params.fieldName;this.field=this.indexPattern.fields.byName[_fieldName];if(!this.field){var message=_i18n2.i18n.translate("kbn.management.editIndexPattern.scripted.noFieldLabel",{defaultMessage:"'{indexPatternTitle}' index pattern doesn't have a scripted field called '{fieldName}'",values:{indexPatternTitle:this.indexPattern.title,fieldName:_fieldName}});_notify.toastNotifications.add(message);kbnUrl.redirectToRoute(this.indexPattern,"edit");return}}else if(this.mode==="create"){this.field=new Field(this.indexPattern,{scripted:true,type:"number"})}else{var errorMessage=_i18n2.i18n.translate("kbn.management.editIndexPattern.scripted.unknownModeErrorMessage",{defaultMessage:"unknown fieldSettings mode {mode}",values:{mode:this.mode}});throw new Error(errorMessage)}var fieldName=this.field.name||_i18n2.i18n.translate("kbn.management.editIndexPattern.scripted.newFieldPlaceholder",{defaultMessage:"New Scripted Field"});_doc_title.docTitle.change([fieldName,this.indexPattern.title]);renderFieldEditor($scope,this.indexPattern,this.field,{Field:Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:function redirectAway(){$timeout(function(){kbnUrl.changeToRoute(_this.indexPattern,_this.field.scripted?"scriptedFields":"indexedFields")})}});$scope.$on("$destroy",function(){destroyFieldEditor()})}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/index_patterns">\n  <div class="euiPanel euiPanel--paddingLarge">\n    <div class="kuiViewContent">\n      <kbn-management-index-patterns-header\n        index-pattern="fieldSettings.indexPattern"\n      ></kbn-management-index-patterns-header>\n    </div>\n\n    <div id="reactFieldEditor"></div>\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"FieldEditor",{enumerable:true,get:function get(){return _field_editor.FieldEditor}});var _field_editor=__webpack_require__(2155)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldEditor=exports.FieldEditorComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _lodash=__webpack_require__(1);var _scripting_languages=__webpack_require__(788);var _field_formats=__webpack_require__(32);var _documentation_links=__webpack_require__(60);var _notify=__webpack_require__(9);var _eui=__webpack_require__(3);var _scripting_call_outs=__webpack_require__(2156);var _scripting_help=__webpack_require__(2159);var _field_format_editor=__webpack_require__(2163);var _constants=__webpack_require__(2165);var _lib=__webpack_require__(2166);var _react2=__webpack_require__(5);__webpack_require__(2281);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FieldEditorComponent=function(_PureComponent){_inherits(FieldEditorComponent,_PureComponent);function FieldEditorComponent(props){var _this;_classCallCheck(this,FieldEditorComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(FieldEditorComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"onFieldChange",function(fieldName,value){var field=_this.state.field;field[fieldName]=value;_this.forceUpdate()});_defineProperty(_assertThisInitialized(_this),"onTypeChange",function(type){var getConfig=_this.props.helpers.getConfig;var field=_this.state.field;var DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(type);field.type=type;var fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));var FieldFormat=fieldTypeFormats[0];field.format=new FieldFormat(null,getConfig);_this.setState({fieldTypeFormats:fieldTypeFormats,fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})});_defineProperty(_assertThisInitialized(_this),"onLangChange",function(lang){var field=_this.state.field;var fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,lang,_constants.DEFAULT_FIELD_TYPES);field.lang=lang;field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];_this.setState({fieldTypes:fieldTypes})});_defineProperty(_assertThisInitialized(_this),"onFormatChange",function(formatId,params){var getConfig=_this.props.helpers.getConfig;var _this$state=_this.state,field=_this$state.field,fieldTypeFormats=_this$state.fieldTypeFormats;var FieldFormat=fieldTypeFormats.find(function(format){return format.id===formatId})||fieldTypeFormats[0];field.format=new FieldFormat(params,getConfig);_this.setState({fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})});_defineProperty(_assertThisInitialized(_this),"onFormatParamsChange",function(newParams){var fieldFormatId=_this.state.fieldFormatId;_this.onFormatChange(fieldFormatId,newParams)});_defineProperty(_assertThisInitialized(_this),"onFormatParamsError",function(error){_this.setState({hasFormatError:!!error})});_defineProperty(_assertThisInitialized(_this),"onScriptChange",function(value){_this.setState({hasScriptError:false});_this.onFieldChange("script",value)});_defineProperty(_assertThisInitialized(_this),"showScriptingHelp",function(){_this.setState({showScriptingHelp:true})});_defineProperty(_assertThisInitialized(_this),"hideScriptingHelp",function(){_this.setState({showScriptingHelp:false})});_defineProperty(_assertThisInitialized(_this),"renderDeleteModal",function(){var field=_this.state.field;var intl=_this.props.intl;return _this.state.showDeleteModal?_react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:intl.formatMessage({id:"common.ui.fieldEditor.deleteFieldHeader",defaultMessage:"Delete field '{fieldName}'"},{fieldName:field.name}),onCancel:_this.hideDeleteModal,onConfirm:function onConfirm(){_this.hideDeleteModal();_this.deleteField()},cancelButtonText:intl.formatMessage({id:"common.ui.fieldEditor.deleteField.cancelButton",defaultMessage:"Cancel"}),confirmButtonText:intl.formatMessage({id:"common.ui.fieldEditor.deleteField.deleteButton",defaultMessage:"Delete"}),buttonColor:"danger",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.deleteFieldLabel",defaultMessage:"You can't recover a deleted field.{separator}Are you sure you want to do this?",values:{separator:_react.default.createElement("span",null,_react.default.createElement("br",null),_react.default.createElement("br",null))}})))):null});_defineProperty(_assertThisInitialized(_this),"showDeleteModal",function(){_this.setState({showDeleteModal:true})});_defineProperty(_assertThisInitialized(_this),"hideDeleteModal",function(){_this.setState({showDeleteModal:false})});_defineProperty(_assertThisInitialized(_this),"renderScriptingPanels",function(){var _this$state2=_this.state,scriptingLangs=_this$state2.scriptingLangs,field=_this$state2.field,showScriptingHelp=_this$state2.showScriptingHelp;if(!field.scripted){return}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_scripting_call_outs.ScriptingDisabledCallOut,{isVisible:!scriptingLangs.length}),_react.default.createElement(_scripting_call_outs.ScriptingWarningCallOut,{isVisible:true}),_react.default.createElement(_scripting_help.ScriptingHelpFlyout,{isVisible:showScriptingHelp,onClose:_this.hideScriptingHelp,indexPattern:_this.props.indexPattern,lang:field.lang,name:field.name,script:field.script,executeScript:_lib.executeScript}))});_defineProperty(_assertThisInitialized(_this),"deleteField",function(){var redirectAway=_this.props.helpers.redirectAway;var _this$props=_this.props,indexPattern=_this$props.indexPattern,intl=_this$props.intl;var field=_this.state.field;var remove=indexPattern.removeScriptedField(field.name);if(remove){remove.then(function(){var message=intl.formatMessage({id:"common.ui.fieldEditor.deleteField.deletedHeader",defaultMessage:"Deleted '{fieldName}'"},{fieldName:field.name});_notify.toastNotifications.addSuccess(message);redirectAway()})}else{redirectAway()}});_defineProperty(_assertThisInitialized(_this),"saveField",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var field,_this$props2,indexPattern,intl,fieldFormatId,isValid,redirectAway,index;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:field=_this.state.field.toActualField();_this$props2=_this.props,indexPattern=_this$props2.indexPattern,intl=_this$props2.intl;fieldFormatId=_this.state.fieldFormatId;if(!field.scripted){_context.next=11;break}_this.setState({isSaving:true});_context.next=7;return(0,_lib.isScriptValid)({name:field.name,lang:field.lang,script:field.script,indexPatternTitle:indexPattern.title});case 7:isValid=_context.sent;if(isValid){_context.next=11;break}_this.setState({hasScriptError:true,isSaving:false});return _context.abrupt("return");case 11:redirectAway=_this.props.helpers.redirectAway;index=indexPattern.fields.findIndex(function(f){return f.name===field.name});if(index>-1){indexPattern.fields.splice(index,1,field)}else{indexPattern.fields.push(field)}if(!fieldFormatId){indexPattern.fieldFormatMap[field.name]=undefined}else{indexPattern.fieldFormatMap[field.name]=field.format}return _context.abrupt("return",indexPattern.save().then(function(){var message=intl.formatMessage({id:"common.ui.fieldEditor.deleteField.savedHeader",defaultMessage:"Saved '{fieldName}'"},{fieldName:field.name});_notify.toastNotifications.addSuccess(message);redirectAway()}));case 16:case"end":return _context.stop()}}},_callee)})));var _field=props.field,_indexPattern=props.indexPattern,Field=props.helpers.Field;_this.state={isReady:false,isCreating:false,isDeprecatedLang:false,scriptingLangs:[],fieldTypes:[],fieldTypeFormats:[],existingFieldNames:_indexPattern.fields.map(function(f){return f.name}),field:(0,_lib.copyField)(_field,_indexPattern,Field),fieldFormatId:undefined,fieldFormatParams:{},showScriptingHelp:false,showDeleteModal:false,hasFormatError:false,hasScriptError:false,isSaving:false};_this.supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_this.deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();_this.init();return _this}_createClass(FieldEditorComponent,[{key:"init",value:function(){var _init=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var $http,field,indexPattern,getEnabledScriptingLanguages,enabledLangs,scriptingLangs,fieldTypes,DefaultFieldFormat,fieldTypeFormats;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:$http=this.props.helpers.$http;field=this.state.field;indexPattern=this.props.indexPattern;getEnabledScriptingLanguages=new _scripting_languages.GetEnabledScriptingLanguagesProvider($http);_context2.next=6;return getEnabledScriptingLanguages();case 6:enabledLangs=_context2.sent;scriptingLangs=(0,_lodash.intersection)(enabledLangs,(0,_lodash.union)(this.supportedLangs,this.deprecatedLangs));field.lang=scriptingLangs.includes(field.lang)?field.lang:undefined;fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,field.lang,_constants.DEFAULT_FIELD_TYPES);field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(field.type,field.esTypes);fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));this.setState({isReady:true,isCreating:!indexPattern.fields.byName[field.name],isDeprecatedLang:this.deprecatedLangs.includes(field.lang),errors:[],scriptingLangs:scriptingLangs,fieldTypes:fieldTypes,fieldTypeFormats:fieldTypeFormats,fieldFormatId:(0,_lodash.get)(indexPattern,["fieldFormatMap",field.name,"type","id"]),fieldFormatParams:field.format.params()});case 14:case"end":return _context2.stop()}}},_callee2,this)}));function init(){return _init.apply(this,arguments)}return init}()},{key:"isDuplicateName",value:function isDuplicateName(){var _this$state3=this.state,isCreating=_this$state3.isCreating,field=_this$state3.field,existingFieldNames=_this$state3.existingFieldNames;return isCreating&&existingFieldNames.includes(field.name)}},{key:"renderName",value:function renderName(){var _this2=this;var _this$state4=this.state,isCreating=_this$state4.isCreating,field=_this$state4.field;var intl=this.props.intl;var isInvalid=!field.name||!field.name.trim();return isCreating?_react.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.nameLabel",defaultMessage:"Name"}),helpText:this.isDuplicateName()?_react.default.createElement("span",null,_react.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"}),"",_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.mappingConflictLabel.mappingConflictDetail",defaultMessage:"{mappingConflict} You already have a field with the name {fieldName}. Naming your scripted field with the same name means you won't be able to query both fields at the same time.",values:{mappingConflict:_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.mappingConflictLabel.mappingConflictLabel",defaultMessage:"Mapping Conflict:"})),fieldName:_react.default.createElement(_eui.EuiCode,null,field.name)}})):null,isInvalid:isInvalid,error:isInvalid?intl.formatMessage({id:"common.ui.fieldEditor.nameErrorMessage",defaultMessage:"Name is required"}):null},_react.default.createElement(_eui.EuiFieldText,{value:field.name||"",placeholder:intl.formatMessage({id:"common.ui.fieldEditor.namePlaceholder",defaultMessage:"New scripted field"}),"data-test-subj":"editorFieldName",onChange:function onChange(e){_this2.onFieldChange("name",e.target.value)},isInvalid:isInvalid})):null}},{key:"renderLanguage",value:function renderLanguage(){var _this3=this;var _this$state5=this.state,field=_this$state5.field,scriptingLangs=_this$state5.scriptingLangs,isDeprecatedLang=_this$state5.isDeprecatedLang;var intl=this.props.intl;return field.scripted?_react.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.languageLabel",defaultMessage:"Language"}),helpText:isDeprecatedLang?_react.default.createElement("span",null,_react.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"}),"",_react.default.createElement("strong",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningHeader",defaultMessage:"Deprecation Warning:"})),"",_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningLabel.warningDetail",defaultMessage:"{language} is deprecated and support will be removed in the next major version of Kibana and Elasticsearch. We recommend using {painlessLink} for new scripted fields.",values:{language:_react.default.createElement(_eui.EuiCode,null,field.lang),painlessLink:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningLabel.painlessLinkLabel",defaultMessage:"Painless"}))}})):null},_react.default.createElement(_eui.EuiSelect,{value:field.lang,options:scriptingLangs.map(function(lang){return{value:lang,text:lang}}),"data-test-subj":"editorFieldLang",onChange:function onChange(e){_this3.onLangChange(e.target.value)}})):null}},{key:"renderType",value:function renderType(){var _this4=this;var _this$state6=this.state,field=_this$state6.field,fieldTypes=_this$state6.fieldTypes;var intl=this.props.intl;return _react.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.typeLabel",defaultMessage:"Type"})},_react.default.createElement(_eui.EuiSelect,{value:field.type,disabled:!field.scripted,options:fieldTypes.map(function(type){return{value:type,text:type}}),"data-test-subj":"editorFieldType",onChange:function onChange(e){_this4.onTypeChange(e.target.value)}}))}},{key:"renderTypeConflict",value:function renderTypeConflict(){var intl=this.props.intl;var _this$state$field=this.state.field,field=_this$state$field===void 0?{}:_this$state$field;if(!field.conflictDescriptions||_typeof(field.conflictDescriptions)!=="object"){return null}var columns=[{field:"type",name:intl.formatMessage({id:"common.ui.fieldEditor.typeLabel",defaultMessage:"Type"}),width:"100px"},{field:"indices",name:intl.formatMessage({id:"common.ui.fieldEditor.indexNameLabel",defaultMessage:"Index names"})}];var items=Object.entries(field.conflictDescriptions).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),type=_ref3[0],indices=_ref3[1];return{type:type,indices:Array.isArray(indices)?indices.join(", "):"Index names unavailable"}});return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"alert",title:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.fieldTypeConflict",defaultMessage:"Field type conflict"}),size:"s"},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.multiTypeLabelDesc",defaultMessage:"The type of this field changes across indices. It is unavailable for many analysis functions. The indices per type are as follows:"})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))}},{key:"renderFormat",value:function renderFormat(){var _this5=this;var _this$state7=this.state,field=_this$state7.field,fieldTypeFormats=_this$state7.fieldTypeFormats,fieldFormatId=_this$state7.fieldFormatId,fieldFormatParams=_this$state7.fieldFormatParams;var fieldFormatEditors=this.props.helpers.fieldFormatEditors;var defaultFormat=fieldTypeFormats[0]&&fieldTypeFormats[0].resolvedTitle;var label=defaultFormat?_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.defaultFormatHeader",defaultMessage:"Format (Default: {defaultFormat})",values:{defaultFormat:_react.default.createElement(_eui.EuiCode,null,defaultFormat)}}):_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.formatHeader",defaultMessage:"Format"});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:label,helpText:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.formatLabel",defaultMessage:"Formatting allows you to control the way that specific values are displayed. It can also cause values to be completely changed and prevent highlighting in Discover from working."})},_react.default.createElement(_eui.EuiSelect,{value:fieldFormatId,options:fieldTypeFormats.map(function(format){return{value:format.id||"",text:format.title}}),"data-test-subj":"editorSelectedFormatId",onChange:function onChange(e){_this5.onFormatChange(e.target.value)}})),fieldFormatId?_react.default.createElement(_field_format_editor.FieldFormatEditor,{fieldType:field.type,fieldFormat:field.format,fieldFormatId:fieldFormatId,fieldFormatParams:fieldFormatParams,fieldFormatEditors:fieldFormatEditors,onChange:this.onFormatParamsChange,onError:this.onFormatParamsError}):null)}},{key:"renderPopularity",value:function renderPopularity(){var _this6=this;var field=this.state.field;var intl=this.props.intl;return _react.default.createElement(_eui.EuiFormRow,{label:intl.formatMessage({id:"common.ui.fieldEditor.popularityLabel",defaultMessage:"Popularity",description:'"Popularity" refers to Kibana\'s measurement how popular a field is (i.e. how commonly it is used).'})},_react.default.createElement(_eui.EuiFieldNumber,{value:field.count,"data-test-subj":"editorFieldCount",onChange:function onChange(e){_this6.onFieldChange("count",e.target.value?Number(e.target.value):"")}}))}},{key:"renderScript",value:function renderScript(){var _this$state8=this.state,field=_this$state8.field,hasScriptError=_this$state8.hasScriptError;var intl=this.props.intl;var isInvalid=!field.script||!field.script.trim()||hasScriptError;var errorMsg=hasScriptError?_react.default.createElement("span",{"data-test-subj":"invalidScriptError"},intl.formatMessage({id:"common.ui.fieldEditor.scriptInvalidErrorMessage",defaultMessage:"Script is invalid. View script preview for details"})):intl.formatMessage({id:"common.ui.fieldEditor.scriptRequiredErrorMessage",defaultMessage:"Script is required"});return field.scripted?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{fullWidth:true,label:intl.formatMessage({id:"common.ui.fieldEditor.scriptLabel",defaultMessage:"Script"}),isInvalid:isInvalid,error:isInvalid?errorMsg:null},_react.default.createElement(_eui.EuiCodeEditor,{value:field.script,"data-test-subj":"editorFieldScript",onChange:this.onScriptChange,mode:"groovy",width:"100%",height:"300px"})),_react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.script.accessWithLabel",defaultMessage:"Access fields with {code}.",values:{code:_react.default.createElement("code",null,"doc['some_field'].value")}})),_react.default.createElement("br",null),_react.default.createElement(_eui.EuiLink,{onClick:this.showScriptingHelp,"data-test-subj":"scriptedFieldsHelpLink"},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.script.getHelpLabel",defaultMessage:"Get help with the syntax and preview the results of your script."}))))):null}},{key:"renderActions",value:function renderActions(){var _this$state9=this.state,isCreating=_this$state9.isCreating,field=_this$state9.field,isSaving=_this$state9.isSaving;var redirectAway=this.props.helpers.redirectAway;return _react.default.createElement(_eui.EuiFormRow,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:this.saveField,isDisabled:this.isSavingDisabled(),isLoading:isSaving,"data-test-subj":"fieldSaveButton"},isCreating?_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.actions.createButton",defaultMessage:"Create field"}):_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.actions.saveButton",defaultMessage:"Save field"}))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{onClick:redirectAway,"data-test-subj":"fieldCancelButton"},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.actions.cancelButton",defaultMessage:"Cancel"}))),!isCreating&&field.scripted?_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:this.showDeleteModal},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.actions.deleteButton",defaultMessage:"Delete"}))))):null))}},{key:"isSavingDisabled",value:function isSavingDisabled(){var _this$state10=this.state,field=_this$state10.field,hasFormatError=_this$state10.hasFormatError,hasScriptError=_this$state10.hasScriptError;if(hasFormatError||hasScriptError||!field.name||!field.name.trim()||field.scripted&&(!field.script||!field.script.trim())){return true}return false}},{key:"render",value:function render(){var _this$state11=this.state,isReady=_this$state11.isReady,isCreating=_this$state11.isCreating,field=_this$state11.field;return isReady?_react.default.createElement("div",null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,isCreating?_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.createHeader",defaultMessage:"Create scripted field"}):_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.editHeader",defaultMessage:"Edit {fieldName}",values:{fieldName:field.name}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiForm,null,this.renderScriptingPanels(),this.renderName(),this.renderLanguage(),this.renderType(),this.renderTypeConflict(),this.renderFormat(),this.renderPopularity(),this.renderScript(),this.renderActions(),this.renderDeleteModal()),_react.default.createElement(_eui.EuiSpacer,{size:"l"})):null}}]);return FieldEditorComponent}(_react.PureComponent);exports.FieldEditorComponent=FieldEditorComponent;_defineProperty(FieldEditorComponent,"propTypes",{indexPattern:_propTypes.default.object.isRequired,field:_propTypes.default.object.isRequired,helpers:_propTypes.default.shape({Field:_propTypes.default.func.isRequired,getConfig:_propTypes.default.func.isRequired,$http:_propTypes.default.func.isRequired,fieldFormatEditors:_propTypes.default.object.isRequired,redirectAway:_propTypes.default.func.isRequired})});var FieldEditor=(0,_react2.injectI18n)(FieldEditorComponent);exports.FieldEditor=FieldEditor},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ScriptingDisabledCallOut",{enumerable:true,get:function get(){return _disabled_call_out.ScriptingDisabledCallOut}});Object.defineProperty(exports,"ScriptingWarningCallOut",{enumerable:true,get:function get(){return _warning_call_out.ScriptingWarningCallOut}});var _disabled_call_out=__webpack_require__(2157);var _warning_call_out=__webpack_require__(2158)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingDisabledCallOut=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ScriptingDisabledCallOut=function ScriptingDisabledCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===void 0?false:_ref$isVisible;return isVisible?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.disabledCallOutHeader",defaultMessage:"Scripting disabled",description:"Showing the status that scripting is disabled in Elasticsearch. Not an update message, that it JUST got disabled."}),color:"danger",iconType:"alert"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.disabledCallOutLabel",defaultMessage:"All inline scripting has been disabled in Elasticsearch. You must enable inline scripting for at least one language in order to use scripted fields in Kibana."}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null};exports.ScriptingDisabledCallOut=ScriptingDisabledCallOut;ScriptingDisabledCallOut.displayName="ScriptingDisabledCallOut"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingWarningCallOut=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _documentation_links=__webpack_require__(60);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ScriptingWarningCallOut=function ScriptingWarningCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===void 0?false:_ref$isVisible;return isVisible?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutHeader",defaultMessage:"Proceed with caution"}),color:"warning",iconType:"alert"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.callOutDetail",defaultMessage:"Please familiarize yourself with {scripFields} and with {scriptsInAggregation} before using scripted fields.",values:{scripFields:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptFields")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.scripFieldsLink",defaultMessage:"script fields"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"})),scriptsInAggregation:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptAggs")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOutLabel.scriptsInAggregationLink",defaultMessage:"scripts in aggregations"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.warningCallOut.descriptionLabel",defaultMessage:"Scripted fields can be used to display and aggregate calculated values. As such, they can be very slow, and if done incorrectly, can cause Kibana to be unusable. There's no safety net here. If you make a typo, unexpected exceptions will be thrown all over the place!"}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"})):null};exports.ScriptingWarningCallOut=ScriptingWarningCallOut;ScriptingWarningCallOut.displayName="ScriptingWarningCallOut"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ScriptingHelpFlyout",{enumerable:true,get:function get(){return _help_flyout.ScriptingHelpFlyout}});var _help_flyout=__webpack_require__(2160)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingHelpFlyout=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _scripting_syntax=__webpack_require__(2161);var _test_script=__webpack_require__(2162);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ScriptingHelpFlyout=function ScriptingHelpFlyout(_ref){var _ref2,_ref3;var _ref$isVisible=_ref.isVisible,isVisible=_ref$isVisible===void 0?false:_ref$isVisible,_ref$onClose=_ref.onClose,onClose=_ref$onClose===void 0?function(){}:_ref$onClose,indexPattern=_ref.indexPattern,lang=_ref.lang,name=_ref.name,script=_ref.script,executeScript=_ref.executeScript;var tabs=[(_ref2={id:"syntax",name:"Syntax"},_defineProperty(_ref2,"data-test-subj","syntaxTab"),_defineProperty(_ref2,"content",_react.default.createElement(_scripting_syntax.ScriptingSyntax,null)),_ref2),(_ref3={id:"test",name:"Preview results"},_defineProperty(_ref3,"data-test-subj","testTab"),_defineProperty(_ref3,"content",_react.default.createElement(_test_script.TestScript,{indexPattern:indexPattern,lang:lang,name:name,script:script,executeScript:executeScript})),_ref3)];return isVisible?_react.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"scriptedFieldsHelpFlyout"},_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[0]}))):null};exports.ScriptingHelpFlyout=ScriptingHelpFlyout;ScriptingHelpFlyout.displayName="ScriptingHelpFlyout";ScriptingHelpFlyout.propTypes={indexPattern:_propTypes.default.object.isRequired,lang:_propTypes.default.string.isRequired,name:_propTypes.default.string,script:_propTypes.default.string,executeScript:_propTypes.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingSyntax=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _documentation_links=__webpack_require__(60);var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ScriptingSyntax=function ScriptingSyntax(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntaxHeader",defaultMessage:"Syntax"})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.defaultLabel.defaultDetail",defaultMessage:"By default, Kibana scripted fields use {painless}, a simple and secure scripting language designed specifically for use with Elasticsearch, to access values in the document use the following format:",values:{painless:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.defaultLabel.painlessLink",defaultMessage:"Painless"})," ",_react.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react.default.createElement("p",null,_react.default.createElement(_eui.EuiCode,null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.default.formatLabel",defaultMessage:"doc['some_field'].value"}))),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.painlessDetail",defaultMessage:"Painless is powerful but easy to use. It provides access to many {javaAPIs}. Read up on its {syntax} and you'll be up to speed in no time!",values:{javaAPIs:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessApi")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.javaAPIsLink",defaultMessage:"native Java APIs"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"})),syntax:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessSyntax")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.painlessLabel.syntaxLink",defaultMessage:"syntax"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.kibanaLabel",defaultMessage:"Kibana currently imposes one special limitation on the painless scripts you write. They cannot contain named functions."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.commonLabel.commonDetail",defaultMessage:"Coming from an older version of Kibana? The {lucene} you know and love are still available. Lucene expressions are a lot like JavaScript, but limited to basic arithmetic, bitwise and comparison operations.",values:{lucene:_react.default.createElement(_eui.EuiLink,{target:"_blank",href:(0,_documentation_links.getDocLink)("scriptedFields.luceneExpressions")},_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.commonLabel.luceneLink",defaultMessage:"Lucene Expressions"}),"",_react.default.createElement(_eui.EuiIcon,{type:"link"}))}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limitsLabel",defaultMessage:"There are a few limitations when using Lucene Expressions:"})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.typesLabel",defaultMessage:"Only numeric, boolean, date, and geo_point fields may be accessed"})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.fieldsLabel",defaultMessage:"Stored fields are not available"})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.limits.sparseLabel",defaultMessage:"If a field is sparse (only some documents contain a value), documents missing the field will have a value of 0"}))),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operationsLabel",defaultMessage:"Here are all the operations available to lucene expressions:"})),_react.default.createElement("ul",null,_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.arithmeticLabel",defaultMessage:"Arithmetic operators: {operators}",values:{operators:_react.default.createElement("code",null,"+ - * / %")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.bitwiseLabel",defaultMessage:"Bitwise operators: {operators}",values:{operators:_react.default.createElement("code",null,"| & ^ ~ << >> >>>")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.booleanLabel",defaultMessage:"Boolean operators (including the ternary operator): {operators}",values:{operators:_react.default.createElement("code",null,"&& || ! ?:")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.comparisonLabel",defaultMessage:"Comparison operators: {operators}",values:{operators:_react.default.createElement("code",null,"< <= == >= >")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.mathLabel",defaultMessage:"Common mathematic functions: {operators}",values:{operators:_react.default.createElement("code",null,"abs ceil exp floor ln log10 logn max min sqrt pow")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.trigLabel",defaultMessage:"Trigonometric library functions: {operators}",values:{operators:_react.default.createElement("code",null,"acosh acos asinh asin atanh atan atan2 cosh cos sinh sin tanh tan")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.distanceLabel",defaultMessage:"Distance functions: {operators}",values:{operators:_react.default.createElement("code",null,"haversin")}})),_react.default.createElement("li",null,_react.default.createElement(_react2.FormattedMessage,{id:"common.ui.fieldEditor.syntax.lucene.operations.miscellaneousLabel",defaultMessage:"Miscellaneous functions: {operators}",values:{operators:_react.default.createElement("code",null,"min, max")}})))))};exports.ScriptingSyntax=ScriptingSyntax},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TestScript=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TestScript=function(_Component){_inherits(TestScript,_Component);function TestScript(){var _getPrototypeOf2;var _this;_classCallCheck(this,TestScript);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TestScript)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isLoading:false,additionalFields:[]});_defineProperty(_assertThisInitialized(_this),"previewScript",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPattern,lang,name,script,executeScript,scriptResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPattern=_this$props.indexPattern,lang=_this$props.lang,name=_this$props.name,script=_this$props.script,executeScript=_this$props.executeScript;if(!(!script||script.length===0)){_context.next=3;break}return _context.abrupt("return");case 3:_this.setState({isLoading:true});_context.next=6;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPattern.title,additionalFields:_this.state.additionalFields.map(function(option){return option.value})});case 6:scriptResponse=_context.sent;if(!(scriptResponse.status!==200)){_context.next=10;break}_this.setState({isLoading:false,previewData:scriptResponse});return _context.abrupt("return");case 10:_this.setState({isLoading:false,previewData:scriptResponse.hits.hits.map(function(hit){return _objectSpread({_id:hit._id},hit._source,{},hit.fields)})});case 11:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"onAdditionalFieldsChange",function(selectedOptions){_this.setState({additionalFields:selectedOptions})});return _this}_createClass(TestScript,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.script){this.previewScript()}}},{key:"renderPreview",value:function renderPreview(){var previewData=this.state.previewData;if(!previewData){return null}if(previewData.error){return _react.default.createElement(_eui.EuiCallOut,{title:"There's an error in your script",color:"danger",iconType:"cross"},_react.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData.error,null," ")))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"xs"},_react.default.createElement("p",null,"First 10 results")),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData,null," ")))}},{key:"renderToolbar",value:function renderToolbar(){var fieldsByTypeMap=new Map;var fields=[];this.props.indexPattern.fields.filter(function(field){return!field.name.startsWith("_")}).forEach(function(field){if(fieldsByTypeMap.has(field.type)){var fieldsList=fieldsByTypeMap.get(field.type);fieldsList.push(field.name);fieldsByTypeMap.set(field.type,fieldsList)}else{fieldsByTypeMap.set(field.type,[field.name])}});fieldsByTypeMap.forEach(function(fieldsList,fieldType){fields.push({label:fieldType,options:fieldsList.sort().map(function(fieldName){return{value:fieldName,label:fieldName}})})});fields.sort(function(a,b){if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0});return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiFormRow,{label:"Additional fields"},_react.default.createElement(_eui.EuiComboBox,{placeholder:"Select...",options:fields,selectedOptions:this.state.additionalFields,onChange:this.onAdditionalFieldsChange,"data-test-subj":"additionalFieldsSelect"})),_react.default.createElement(_eui.EuiButton,{onClick:this.previewScript,disabled:this.props.script?false:true,isLoading:this.state.isLoading,"data-test-subj":"runScriptButton"},"Run script"))}},{key:"render",value:function render(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("h3",null,"Preview results"),_react.default.createElement("p",null,"Run your script to preview the first 10 results. You can also select some additional fields to include in your results to gain more context.")),_react.default.createElement(_eui.EuiSpacer,null),this.renderToolbar(),_react.default.createElement(_eui.EuiSpacer,null),this.renderPreview())}}]);return TestScript}(_react.Component);exports.TestScript=TestScript;TestScript.propTypes={indexPattern:_propTypes.default.object.isRequired,lang:_propTypes.default.string.isRequired,name:_propTypes.default.string,script:_propTypes.default.string,executeScript:_propTypes.default.func.isRequired};TestScript.defaultProps={name:"myScriptedField"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"FieldFormatEditor",{enumerable:true,get:function get(){return _field_format_editor.FieldFormatEditor}});var _field_format_editor=__webpack_require__(2164)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldFormatEditor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var FieldFormatEditor=function(_PureComponent){_inherits(FieldFormatEditor,_PureComponent);function FieldFormatEditor(props){var _this;_classCallCheck(this,FieldFormatEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(FieldFormatEditor).call(this,props));_this.state={EditorComponent:null};return _this}_createClass(FieldFormatEditor,[{key:"render",value:function render(){var EditorComponent=this.state.EditorComponent;var _this$props=this.props,fieldType=_this$props.fieldType,fieldFormat=_this$props.fieldFormat,fieldFormatParams=_this$props.fieldFormatParams,onChange=_this$props.onChange,onError=_this$props.onError;return _react.default.createElement(_react.Fragment,null,EditorComponent?_react.default.createElement(EditorComponent,{fieldType:fieldType,format:fieldFormat,formatParams:fieldFormatParams,onChange:onChange,onError:onError}):null)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps){return{EditorComponent:nextProps.fieldFormatEditors.getEditor(nextProps.fieldFormatId)||null}}}]);return FieldFormatEditor}(_react.PureComponent);exports.FieldFormatEditor=FieldFormatEditor;_defineProperty(FieldFormatEditor,"propTypes",{fieldType:_propTypes.default.string.isRequired,fieldFormat:_propTypes.default.object.isRequired,fieldFormatId:_propTypes.default.string.isRequired,fieldFormatParams:_propTypes.default.object.isRequired,fieldFormatEditors:_propTypes.default.object.isRequired,onChange:_propTypes.default.func.isRequired,onError:_propTypes.default.func.isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_FIELD_TYPES=exports.FIELD_TYPES_BY_LANG=void 0;var _utils=__webpack_require__(339);var FIELD_TYPES_BY_LANG={painless:["number","string","date","boolean"],expression:["number"]};exports.FIELD_TYPES_BY_LANG=FIELD_TYPES_BY_LANG;var DEFAULT_FIELD_TYPES=(0,_utils.getKbnTypeNames)();exports.DEFAULT_FIELD_TYPES=DEFAULT_FIELD_TYPES},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"copyField",{enumerable:true,get:function get(){return _copy_field.copyField}});Object.defineProperty(exports,"getDefaultFormat",{enumerable:true,get:function get(){return _get_default_format.getDefaultFormat}});Object.defineProperty(exports,"executeScript",{enumerable:true,get:function get(){return _validate_script.executeScript}});Object.defineProperty(exports,"isScriptValid",{enumerable:true,get:function get(){return _validate_script.isScriptValid}});var _copy_field=__webpack_require__(2167);var _get_default_format=__webpack_require__(2168);var _validate_script=__webpack_require__(2169)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.copyField=void 0;var _lodash=__webpack_require__(1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var copyField=function copyField(field,indexPattern,Field){var changes={};var newFieldProps={toActualField:{value:function value(){return new Field(indexPattern,_objectSpread({},field.$$spec,{},changes))}}};Object.getOwnPropertyNames(field).forEach(function(prop){var desc=Object.getOwnPropertyDescriptor(field,prop);newFieldProps[prop]={enumerable:desc.enumerable,get:function get(){return(0,_lodash.has)(changes,prop)?changes[prop]:field[prop]},set:function set(v){changes[prop]=v}}});return Object.create(null,newFieldProps)};exports.copyField=copyField},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getDefaultFormat=void 0;var _i18n=__webpack_require__(2);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getDefaultFormat=function getDefaultFormat(Format){var DefaultFormat=function(_Format){_inherits(DefaultFormat,_Format);function DefaultFormat(){_classCallCheck(this,DefaultFormat);return _possibleConstructorReturn(this,_getPrototypeOf(DefaultFormat).apply(this,arguments))}return DefaultFormat}(Format);_defineProperty(DefaultFormat,"id","");_defineProperty(DefaultFormat,"resolvedTitle",Format.title);_defineProperty(DefaultFormat,"title",_i18n.i18n.translate("common.ui.fieldEditor.defaultFormatDropDown",{defaultMessage:"- Default -"}));return DefaultFormat};exports.getDefaultFormat=getDefaultFormat},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isScriptValid=exports.executeScript=void 0;var _kfetch=__webpack_require__(39);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var executeScript=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var name,lang,script,indexPatternTitle,_ref$additionalFields,additionalFields,header,search,body,esResp;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=_ref.name,lang=_ref.lang,script=_ref.script,indexPatternTitle=_ref.indexPatternTitle,_ref$additionalFields=_ref.additionalFields,additionalFields=_ref$additionalFields===void 0?[]:_ref$additionalFields;header={index:indexPatternTitle,ignore_unavailable:true};search={query:{match_all:{}},script_fields:_defineProperty({},name,{script:{lang:lang,source:script}}),size:10,timeout:"30s"};if(additionalFields.length>0){search._source=additionalFields}body="".concat(JSON.stringify(header),"\n").concat(JSON.stringify(search),"\n");_context.next=7;return(0,_kfetch.kfetch)({method:"POST",pathname:"/elasticsearch/_msearch",body:body});case 7:esResp=_context.sent;return _context.abrupt("return",esResp.responses[0]);case 9:case"end":return _context.stop()}}},_callee)}));return function executeScript(_x){return _ref2.apply(this,arguments)}}();exports.executeScript=executeScript;var isScriptValid=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3){var name,lang,script,indexPatternTitle,scriptResponse;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:name=_ref3.name,lang=_ref3.lang,script=_ref3.script,indexPatternTitle=_ref3.indexPatternTitle;_context2.next=3;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPatternTitle});case 3:scriptResponse=_context2.sent;if(!(scriptResponse.status!==200)){_context2.next=6;break}return _context2.abrupt("return",false);case 6:return _context2.abrupt("return",true);case 7:case"end":return _context2.stop()}}},_callee2)}));return function isScriptValid(_x2){return _ref4.apply(this,arguments)}}();exports.isScriptValid=isScriptValid},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(2237)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesEditSectionsProvider=IndicesEditSectionsProvider;var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function filterBy(items,key,filter){var lowercaseFilter=(filter||"").toLowerCase();return items.filter(function(item){return item[key].toLowerCase().includes(lowercaseFilter)})}function getCounts(fields,sourceFilters){var fieldFilter=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var fieldCount=_lodash.default.countBy(filterBy(fields,"name",fieldFilter),function(field){return field.scripted?"scripted":"indexed"});_lodash.default.defaults(fieldCount,{indexed:0,scripted:0,sourceFilters:sourceFilters?filterBy(sourceFilters,"value",fieldFilter).length:0});return fieldCount}function IndicesEditSectionsProvider(){return function(indexPattern,fieldFilter,indexPatternListProvider){var totalCount=getCounts(indexPattern.fields,indexPattern.sourceFilters);var filteredCount=getCounts(indexPattern.fields,indexPattern.sourceFilters,fieldFilter);var editSections=[];editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.fieldsHeader",{defaultMessage:"Fields"}),index:"indexedFields",count:filteredCount.indexed,totalCount:totalCount.indexed});if(indexPatternListProvider.areScriptedFieldsEnabled(indexPattern)){editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.scriptedHeader",{defaultMessage:"Scripted fields"}),index:"scriptedFields",count:filteredCount.scripted,totalCount:totalCount.scripted})}editSections.push({title:_i18n.i18n.translate("kbn.management.editIndexPattern.tabs.sourceHeader",{defaultMessage:"Source filters"}),index:"sourceFilters",count:filteredCount.sourceFilters,totalCount:totalCount.sourceFilters});return editSections}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/index_patterns" omit-breadcrumb-pages="[\'index_patterns\']">\n  <div class="euiPanel euiPanel--paddingLarge">\n    <div\n      ng-controller="managementIndexPatternsEdit"\n      data-test-subj="editIndexPattern"\n      role="region"\n      aria-label="{{::\'kbn.management.editIndexPattern.detailsAria\' | i18n: { defaultMessage: \'Index pattern details\' } }}"\n    >\n      \x3c!-- Header --\x3e\n      <kbn-management-index-patterns-header\n        index-pattern="indexPattern"\n        set-default="setDefaultPattern()"\n        refresh-fields="refreshFields()"\n        delete="removePattern()"\n      ></kbn-management-index-patterns-header>\n\n      <div class="euiSpacer euiSpacer--s"></div>\n      <p ng-if="::(indexPattern.timeFieldName || (indexPattern.tags && indexPattern.tags.length))">\n        <span ng-if="::indexPattern.timeFieldName">\n          <span class="euiBadge euiBadge--warning">\n            <span class="euiBadge__content">\n              <span class="euiBadge__text">\n                <span\n                  i18n-id="kbn.management.editIndexPattern.timeFilterHeader"\n                  i18n-default-message="Time Filter field name: {timeFieldName}"\n                  i18n-values="{ timeFieldName: indexPattern.timeFieldName }">\n                </span>\n              </span>\n            </span>\n          </span>\n        </span>\n        <span ng-repeat="tag in indexPattern.tags">\n          <span class="euiBadge euiBadge--hollow">\n            <span class="euiBadge__content">\n              <span class="euiBadge__text">\n                  {{tag.name}}\n                </span>\n              </span>\n            </span>\n        </span>\n      </p>\n\n      <div class="euiSpacer euiSpacer--m"></div>\n\n      <div class="euiText">\n        <p>\n          <span i18n-id="kbn.management.editIndexPattern.timeFilterLabel.timeFilterDetail"\n            i18n-default-message="This page lists every field in the {indexPatternTitle} index and the field\'s associated core type as recorded by Elasticsearch. To change a field type, use the Elasticsearch"\n            i18n-values="{ html_indexPatternTitle: \'<strong>\' + indexPattern.title + \'</strong>\' }"></span>\n          <a target="_blank" class="euiLink euiLink--primary" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html">\n            <span i18n-id="kbn.management.editIndexPattern.timeFilterLabel.mappingAPILink"\n                  i18n-default-message="Mapping API"></span>\n            <i aria-hidden="true" class="fa-link fa"></i>\n          </a>\n        </p>\n      </div>\n\n      <div class="euiSpacer euiSpacer--m"></div>\n\n      \x3c!-- Alerts --\x3e\n      <div\n        ng-if="indexPattern.isUnsupportedTimePattern()"\n        class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title"\n                i18n-id="kbn.management.editIndexPattern.unsupportedTimePatternHeader"\n                i18n-default-message="Support for repeating index patterns removed">\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <span i18n-id="kbn.management.editIndexPattern.unsupportedTimePatternLabel"\n                  i18n-default-message="Support for time-interval based index patterns has been removed! In the next major version of Kibana these index patterns will stop working. Migrate this index pattern to a wildcard pattern by specifying the new pattern below."></span>\n          </div>\n          <form>\n            <input\n              class="form-control"\n              type="text"\n              ng-model="migration.newTitle"\n            />\n          </form>\n          <button ng-disabled="migration.isMigrating || !migration.newTitle.trim()" class="kuiButton kuiButton--primary kuiButton--iconText" ng-click="migrate()">\n            <span ng-if="migration.isMigrating" class="euiLoadingSpinner euiLoadingSpinner--medium" />\n            <span i18n-id="kbn.management.editIndexPattern.migrate"\n                  i18n-default-message="Migrate"></span>\n          </button>\n        </div>\n      </div>\n\n      <div\n        ng-if="conflictFields.length"\n        class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title"\n                i18n-id="kbn.management.editIndexPattern.mappingConflictHeader"\n                i18n-default-message="Mapping conflict"></span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <span i18n-id="kbn.management.editIndexPattern.mappingConflictLabel"\n                  i18n-default-message="{conflictFieldsLength, plural, one {A field is} other {# fields are}} defined as several types (string, integer, etc) across the indices that match this pattern. You may still be able to use these conflict fields in parts of Kibana, but they will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."\n                  i18n-values="{ conflictFieldsLength: conflictFields.length }"></span>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div class="kuiTabs kuiVerticalRhythm">\n        <button\n          class="kuiTab"\n          ng-repeat="editSection in editSections"\n          ng-class="{ \'kuiTab-isSelected\': state.tab === editSection.index }"\n          ng-click="changeTab(editSection)"\n          data-test-subj="tab-{{ editSection.index }}"\n        >\n          {{ editSection.title }}\n          <span\n            data-test-subj="tab-count-{{ editSection.index }}"\n            aria-label="{{:: editSection.count + \' \' + editSection.title}}"\n          >\n            <span ng-if="editSection.count != editSection.totalCount">\n              ({{ editSection.count }} / {{ editSection.totalCount }})\n            </span>\n            <span ng-if="editSection.count == editSection.totalCount">\n              ({{ editSection.count }})\n            </span>\n          </span>\n        </button>\n      </div>\n\n      \x3c!-- Field Filters --\x3e\n      <form role="form" class="kuiFieldGroup kuiVerticalRhythm">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <div class="kuiSearchInput">\n            <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n            <input\n              class="kuiSearchInput__input"\n              type="text"\n              aria-label="{{::\'kbn.management.editIndexPattern.fields.filterAria\' | i18n: {defaultMessage: \'Filter\'} }}"\n              ng-model="fieldFilter"\n              placeholder="{{::\'kbn.management.editIndexPattern.fields.filterPlaceholder\' | i18n: {defaultMessage: \'Filter\'} }}"\n              data-test-subj="indexPatternFieldFilter"\n            >\n          </div>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'indexedFields\' && indexedFieldTypes.length > 0"\n        >\n          <select\n            data-test-subj="indexedFieldTypeFilterDropdown"\n            class="kuiSelect"\n            ng-model="indexedFieldTypeFilter"\n            ng-change="changeFilter(\'indexedFieldTypeFilter\', indexedFieldTypeFilter)"\n            ng-options="o for o in indexedFieldTypes"\n          >\n            <option value=""\n                    i18n-id="kbn.management.editIndexPattern.fields.allTypesDropDown"\n                    i18n-default-message="All field types"></option>\n          </select>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'scriptedFields\' && scriptedFieldLanguages.length > 0"\n        >\n          <select\n            data-test-subj="scriptedFieldLanguageFilterDropdown"\n            class="kuiSelect"\n            ng-model="scriptedFieldLanguageFilter"\n            ng-change="changeFilter(\'scriptedFieldLanguageFilter\', scriptedFieldLanguageFilter)"\n            ng-options="o for o in scriptedFieldLanguages"\n          >\n            <option value=""\n                    i18n-id="kbn.management.editIndexPattern.fields.allLangsDropDown"\n                    i18n-default-message="All languages"></option>\n          </select>\n        </div>\n      </form>\n\n      \x3c!-- Tab content --\x3e\n      <div class="kuiVerticalRhythm">\n        <div id="reactIndexedFieldsTable"></div>\n\n        <div id="reactScriptedFieldsTable"></div>\n\n        <div id="reactSourceFiltersTable"></div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SourceFiltersTable",{enumerable:true,get:function get(){return _source_filters_table.SourceFiltersTable}});var _source_filters_table=__webpack_require__(2174)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceFiltersTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _reselect=__webpack_require__(797);var _eui=__webpack_require__(3);var _table=__webpack_require__(2175);var _header=__webpack_require__(2177);var _add_filter=__webpack_require__(2179);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SourceFiltersTable=function(_Component){_inherits(SourceFiltersTable,_Component);function SourceFiltersTable(_props){var _this;_classCallCheck(this,SourceFiltersTable);_this=_possibleConstructorReturn(this,_getPrototypeOf(SourceFiltersTable).call(this,_props));_defineProperty(_assertThisInitialized(_this),"updateFilters",function(){var sourceFilters=_this.props.indexPattern.sourceFilters||[];var filters=sourceFilters.map(function(filter){return _objectSpread({},filter,{clientId:++_this.clientSideId})});_this.setState({filters:filters})});_defineProperty(_assertThisInitialized(_this),"getFilteredFilters",(0,_reselect.createSelector)(function(state){return state.filters},function(state,props){return props.filterFilter},function(filters,filterFilter){if(filterFilter){var filterFilterToLowercase=filterFilter.toLowerCase();return filters.filter(function(filter){return filter.value.toLowerCase().includes(filterFilterToLowercase)})}return filters}));_defineProperty(_assertThisInitialized(_this),"startDeleteFilter",function(filter){_this.setState({filterToDelete:filter,isDeleteConfirmationModalVisible:true})});_defineProperty(_assertThisInitialized(_this),"hideDeleteConfirmationModal",function(){_this.setState({filterToDelete:undefined,isDeleteConfirmationModalVisible:false})});_defineProperty(_assertThisInitialized(_this),"deleteFilter",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPattern,onAddOrRemoveFilter,_this$state,filterToDelete,filters;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPattern=_this$props.indexPattern,onAddOrRemoveFilter=_this$props.onAddOrRemoveFilter;_this$state=_this.state,filterToDelete=_this$state.filterToDelete,filters=_this$state.filters;indexPattern.sourceFilters=filters.filter(function(filter){return filter.clientId!==filterToDelete.clientId});_this.setState({isSaving:true});_context.next=6;return indexPattern.save();case 6:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this.updateFilters();_this.setState({isSaving:false});_this.hideDeleteConfirmationModal();case 10:case"end":return _context.stop()}}},_callee)})));_defineProperty(_assertThisInitialized(_this),"onAddFilter",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(value){var _this$props2,indexPattern,onAddOrRemoveFilter;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props2=_this.props,indexPattern=_this$props2.indexPattern,onAddOrRemoveFilter=_this$props2.onAddOrRemoveFilter;indexPattern.sourceFilters=[].concat(_toConsumableArray(indexPattern.sourceFilters||[]),[{value:value}]);_this.setState({isSaving:true});_context2.next=5;return indexPattern.save();case 5:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this.updateFilters();_this.setState({isSaving:false});case 8:case"end":return _context2.stop()}}},_callee2)}));return function(_x){return _ref2.apply(this,arguments)}}());_defineProperty(_assertThisInitialized(_this),"saveFilter",function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref3){var filterId,newFilterValue,indexPattern,filters;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:filterId=_ref3.filterId,newFilterValue=_ref3.newFilterValue;indexPattern=_this.props.indexPattern;filters=_this.state.filters;indexPattern.sourceFilters=filters.map(function(filter){if(filter.clientId===filterId){return{value:newFilterValue,clientId:filter.clientId}}return filter});_this.setState({isSaving:true});_context3.next=7;return indexPattern.save();case 7:_this.updateFilters();_this.setState({isSaving:false});case 9:case"end":return _context3.stop()}}},_callee3)}));return function(_x2){return _ref4.apply(this,arguments)}}());_this.clientSideId=0;_this.state={filterToDelete:undefined,isDeleteConfirmationModalVisible:false,isSaving:false,filters:[]};return _this}_createClass(SourceFiltersTable,[{key:"componentWillMount",value:function componentWillMount(){this.updateFilters()}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var filterToDelete=this.state.filterToDelete;if(!filterToDelete){return null}return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteSourceFilterLabel",defaultMessage:"Delete source filter '{value}'?",values:{value:filterToDelete.value}}),onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteFilter,cancelButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteFilter.cancelButtonLabel",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.source.deleteFilter.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _this$props3=this.props,indexPattern=_this$props3.indexPattern,fieldWildcardMatcher=_this$props3.fieldWildcardMatcher;var isSaving=this.state.isSaving;var filteredFilters=this.getFilteredFilters(this.state,this.props);return _react.default.createElement("div",null,_react.default.createElement(_header.Header,null),_react.default.createElement(_add_filter.AddFilter,{onAddFilter:this.onAddFilter}),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_table.Table,{isSaving:isSaving,indexPattern:indexPattern,items:filteredFilters,fieldWildcardMatcher:fieldWildcardMatcher,deleteFilter:this.startDeleteFilter,saveFilter:this.saveFilter}),this.renderDeleteConfirmationModal())}}]);return SourceFiltersTable}(_react.Component);exports.SourceFiltersTable=SourceFiltersTable;_defineProperty(SourceFiltersTable,"propTypes",{indexPattern:_propTypes.default.object.isRequired,filterFilter:_propTypes.default.string,fieldWildcardMatcher:_propTypes.default.func.isRequired,onAddOrRemoveFilter:_propTypes.default.func})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});var _table=__webpack_require__(2176)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TableComponent=function(_Component){_inherits(TableComponent,_Component);function TableComponent(props){var _this;_classCallCheck(this,TableComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(TableComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"startEditingFilter",function(id,value){return _this.setState({editingFilterId:id,editingFilterValue:value})});_defineProperty(_assertThisInitialized(_this),"stopEditingFilter",function(){return _this.setState({editingFilterId:null})});_defineProperty(_assertThisInitialized(_this),"onEditingFilterChange",function(e){return _this.setState({editingFilterValue:e.target.value})});_defineProperty(_assertThisInitialized(_this),"onEditFieldKeyDown",function(_ref){var keyCode=_ref.keyCode;if(_eui.keyCodes.ENTER===keyCode){_this.props.saveFilter({filterId:_this.state.editingFilterId,newFilterValue:_this.state.editingFilterValue});_this.stopEditingFilter()}if(_eui.keyCodes.ESCAPE===keyCode){_this.stopEditingFilter()}});_this.state={editingFilterId:null,editingFilterValue:null};return _this}_createClass(TableComponent,[{key:"getColumns",value:function getColumns(){var _this2=this;var _this$props=this.props,deleteFilter=_this$props.deleteFilter,fieldWildcardMatcher=_this$props.fieldWildcardMatcher,indexPattern=_this$props.indexPattern,saveFilter=_this$props.saveFilter,intl=_this$props.intl;return[{field:"value",name:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.filterHeader",defaultMessage:"Filter"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.filterDescription",defaultMessage:"Filter name"}),dataType:"string",sortable:true,render:function render(value,filter){if(_this2.state.editingFilterId===filter.clientId){return _react.default.createElement(_eui.EuiFieldText,{autoFocus:true,value:_this2.state.editingFilterValue,onChange:_this2.onEditingFilterChange,onKeyDown:_this2.onEditFieldKeyDown})}return _react.default.createElement("span",null,value)}},{field:"value",name:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.matchesHeader",defaultMessage:"Matches"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.matchesDescription",defaultMessage:"Language used for the field"}),dataType:"string",sortable:true,render:function render(value,filter){var realtimeValue=_this2.state.editingFilterId===filter.clientId?_this2.state.editingFilterValue:value;var matcher=fieldWildcardMatcher([realtimeValue]);var matches=indexPattern.getNonScriptedFields().map(function(f){return f.name}).filter(matcher).sort();if(matches.length){return _react.default.createElement("span",null,matches.join(", "))}return _react.default.createElement("em",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.source.table.notMatchedLabel",defaultMessage:"The source filter doesn't match any known fields."}))}},{name:"",align:_eui.RIGHT_ALIGNMENT,width:"100",render:function render(filter){if(_this2.state.editingFilterId===filter.clientId){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){saveFilter({filterId:_this2.state.editingFilterId,newFilterValue:_this2.state.editingFilterValue});_this2.stopEditingFilter()},iconType:"checkInCircleFilled","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.saveAria",defaultMessage:"Save"})}),_react.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){_this2.stopEditingFilter()},iconType:"cross","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.cancelAria",defaultMessage:"Cancel"})}))}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiButtonIcon,{size:"s",color:"danger",onClick:function onClick(){return deleteFilter(filter)},iconType:"trash","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.deleteAria",defaultMessage:"Delete"})}),_react.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){return _this2.startEditingFilter(filter.clientId,filter.value)},iconType:"pencil","aria-label":intl.formatMessage({id:"kbn.management.editIndexPattern.source.table.editAria",defaultMessage:"Edit"})}))}}]}},{key:"render",value:function render(){var _this$props2=this.props,items=_this$props2.items,isSaving=_this$props2.isSaving;var columns=this.getColumns();var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react.default.createElement(_eui.EuiInMemoryTable,{loading:isSaving,items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.Component);exports.TableComponent=TableComponent;_defineProperty(TableComponent,"propTypes",{indexPattern:_propTypes.default.object.isRequired,items:_propTypes.default.array.isRequired,deleteFilter:_propTypes.default.func.isRequired,fieldWildcardMatcher:_propTypes.default.func.isRequired,saveFilter:_propTypes.default.func.isRequired,isSaving:_propTypes.default.bool.isRequired});var Table=(0,_react2.injectI18n)(TableComponent);exports.Table=Table},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(2178)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=function Header(){return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.sourceHeader",defaultMessage:"Source filters"}))),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.sourceLabel",defaultMessage:"Source filters can be used to exclude one or more fields when fetching the document source. This happens when viewing a document in the Discover app, or with a table displaying results from a saved search in the Dashboard app. Each row is built using the source of a single document, and if you have documents with large or unimportant fields you may benefit from filtering those out at this lower level."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.source.noteLabel",defaultMessage:"Note that multi-fields will incorrectly appear as matches in the table below. These filters only actually apply to fields in the original source document, so matching multi-fields are not actually being filtered."}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}))};exports.Header=Header},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"AddFilter",{enumerable:true,get:function get(){return _add_filter.AddFilter}});var _add_filter=__webpack_require__(2180)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddFilter=exports.AddFilterComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AddFilterComponent=function(_Component){_inherits(AddFilterComponent,_Component);function AddFilterComponent(props){var _this;_classCallCheck(this,AddFilterComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AddFilterComponent).call(this,props));_defineProperty(_assertThisInitialized(_this),"onAddFilter",function(){_this.props.onAddFilter(_this.state.filter);_this.setState({filter:""})});_this.state={filter:""};return _this}_createClass(AddFilterComponent,[{key:"render",value:function render(){var _this2=this;var filter=this.state.filter;var intl=this.props.intl;var placeholder=intl.formatMessage({id:"kbn.management.editIndexPattern.sourcePlaceholder",defaultMessage:"source filter, accepts wildcards (e.g., `user*` to filter fields starting with 'user')"});return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:10},_react.default.createElement(_eui.EuiFieldText,{fullWidth:true,value:filter,onChange:function onChange(e){return _this2.setState({filter:e.target.value.trim()})},placeholder:placeholder})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiButton,{isDisabled:filter.length===0,onClick:this.onAddFilter},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.source.addButtonLabel",defaultMessage:"Add"}))))}}]);return AddFilterComponent}(_react.Component);exports.AddFilterComponent=AddFilterComponent;_defineProperty(AddFilterComponent,"propTypes",{onAddFilter:_propTypes.default.func.isRequired});var AddFilter=(0,_react2.injectI18n)(AddFilterComponent);exports.AddFilter=AddFilter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexedFieldsTable",{enumerable:true,get:function get(){return _indexed_fields_table.IndexedFieldsTable}});var _indexed_fields_table=__webpack_require__(2182)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexedFieldsTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _reselect=__webpack_require__(797);var _table=__webpack_require__(2183);var _lib=__webpack_require__(2185);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var IndexedFieldsTable=function(_Component){_inherits(IndexedFieldsTable,_Component);function IndexedFieldsTable(_props){var _this;_classCallCheck(this,IndexedFieldsTable);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndexedFieldsTable).call(this,_props));_defineProperty(_assertThisInitialized(_this),"getFilteredFields",(0,_reselect.createSelector)(function(state){return state.fields},function(state,props){return props.fieldFilter},function(state,props){return props.indexedFieldTypeFilter},function(fields,fieldFilter,indexedFieldTypeFilter){if(fieldFilter){var normalizedFieldFilter=fieldFilter.toLowerCase();fields=fields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}if(indexedFieldTypeFilter){fields=fields.filter(function(field){return field.type===indexedFieldTypeFilter})}return fields}));_this.state={fields:_this.mapFields(_this.props.fields)};return _this}_createClass(IndexedFieldsTable,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.fields!==this.props.fields){this.setState({fields:this.mapFields(nextProps.fields)})}}},{key:"mapFields",value:function mapFields(fields){var _this$props=this.props,indexPattern=_this$props.indexPattern,fieldWildcardMatcher=_this$props.fieldWildcardMatcher,helpers=_this$props.helpers;var sourceFilters=indexPattern.sourceFilters&&indexPattern.sourceFilters.map(function(f){return f.value});var fieldWildcardMatch=fieldWildcardMatcher(sourceFilters||[]);return fields&&fields.map(function(field){return _objectSpread({},field,{displayName:field.displayName,routes:field.routes,indexPattern:field.indexPattern,format:(0,_lib.getFieldFormat)(indexPattern,field.name),excluded:fieldWildcardMatch?fieldWildcardMatch(field.name):false,info:helpers.getFieldInfo&&helpers.getFieldInfo(indexPattern,field.name)})})||[]}},{key:"render",value:function render(){var _this2=this;var indexPattern=this.props.indexPattern;var fields=this.getFilteredFields(this.state,this.props);return _react.default.createElement("div",null,_react.default.createElement(_table.Table,{indexPattern:indexPattern,items:fields,editField:function editField(field){return _this2.props.helpers.redirectToRoute(field,"edit")}}))}}]);return IndexedFieldsTable}(_react.Component);exports.IndexedFieldsTable=IndexedFieldsTable;_defineProperty(IndexedFieldsTable,"propTypes",{fields:_propTypes.default.array.isRequired,indexPattern:_propTypes.default.object.isRequired,fieldFilter:_propTypes.default.string,indexedFieldTypeFilter:_propTypes.default.string,helpers:_propTypes.default.shape({redirectToRoute:_propTypes.default.func.isRequired,getFieldInfo:_propTypes.default.func}),fieldWildcardMatcher:_propTypes.default.func.isRequired})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(2184);Object.keys(_table).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TableComponent=function(_PureComponent){_inherits(TableComponent,_PureComponent);function TableComponent(){_classCallCheck(this,TableComponent);return _possibleConstructorReturn(this,_getPrototypeOf(TableComponent).apply(this,arguments))}_createClass(TableComponent,[{key:"renderBooleanTemplate",value:function renderBooleanTemplate(value,label){return value?_react.default.createElement(_eui.EuiIcon,{type:"dot",color:"secondary","aria-label":label}):_react.default.createElement("span",null)}},{key:"renderFieldName",value:function renderFieldName(name,field){var indexPattern=this.props.indexPattern;var intl=this.props.intl;var infoLabel=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.additionalInfoAriaLabel",defaultMessage:"Additional field information"});var timeLabel=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.primaryTimeAriaLabel",defaultMessage:"Primary time field"});var timeContent=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.primaryTimeTooltip",defaultMessage:"This field represents the time that events occurred."});return _react.default.createElement("span",null,name,field.info&&field.info.length?_react.default.createElement("span",null,"",_react.default.createElement(_eui.EuiIconTip,{type:"questionInCircle",color:"primary","aria-label":infoLabel,content:field.info.map(function(info,i){return _react.default.createElement("div",{key:i},info)})})):null,indexPattern.timeFieldName===name?_react.default.createElement("span",null,"",_react.default.createElement(_eui.EuiIconTip,{type:"clock",color:"primary","aria-label":timeLabel,content:timeContent})):null)}},{key:"renderFieldType",value:function renderFieldType(type,isConflict){var intl=this.props.intl;var label=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.multiTypeAria",defaultMessage:"Multiple type field"});var content=intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.multiTypeTooltip",defaultMessage:"The type of this field changes across indices. It is unavailable for many analysis functions."});return _react.default.createElement("span",null,type,isConflict?_react.default.createElement("span",null,"",_react.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning","aria-label":label,content:content})):"")}},{key:"render",value:function render(){var _this=this;var _this$props=this.props,items=_this$props.items,editField=_this$props.editField,intl=_this$props.intl;var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};var columns=[{field:"displayName",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.nameHeader",defaultMessage:"Name"}),dataType:"string",sortable:true,render:function render(value,field){return _this.renderFieldName(value,field)},width:"38%","data-test-subj":"indexedFieldName"},{field:"type",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.typeHeader",defaultMessage:"Type"}),dataType:"string",sortable:true,render:function render(value){return _this.renderFieldType(value,value==="conflict")},"data-test-subj":"indexedFieldType"},{field:"format",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.formatHeader",defaultMessage:"Format"}),dataType:"string",sortable:true},{field:"searchable",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.searchableHeader",defaultMessage:"Searchable"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.searchableDescription",defaultMessage:"These fields can be used in the filter bar"}),dataType:"boolean",sortable:true,render:function render(value){return _this.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isSearchableAria",defaultMessage:"Is searchable"}))}},{field:"aggregatable",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.aggregatableLabel",defaultMessage:"Aggregatable"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.aggregatableDescription",defaultMessage:"These fields can be used in visualization aggregations"}),dataType:"boolean",sortable:true,render:function render(value){return _this.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isAggregatableAria",defaultMessage:"Is aggregatable"}))}},{field:"excluded",name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.excludedLabel",defaultMessage:"Excluded"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.excludedDescription",defaultMessage:"Fields that are excluded from _source when it is fetched"}),dataType:"boolean",sortable:true,render:function render(value){return _this.renderBooleanTemplate(value,intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.isExcludedAria",defaultMessage:"Is excluded"}))}},{name:"",actions:[{name:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.editLabel",defaultMessage:"Edit"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.fields.table.editDescription",defaultMessage:"Edit"}),icon:"pencil",onClick:editField,type:"icon"}],width:"40px"}];return _react.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.PureComponent);exports.TableComponent=TableComponent;_defineProperty(TableComponent,"propTypes",{indexPattern:_propTypes.default.object.isRequired,items:_propTypes.default.array.isRequired,editField:_propTypes.default.func.isRequired});var Table=(0,_react2.injectI18n)(TableComponent);exports.Table=Table},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"getFieldFormat",{enumerable:true,get:function get(){return _get_field_format.getFieldFormat}});var _get_field_format=__webpack_require__(2186)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFieldFormat=getFieldFormat;var _lodash=__webpack_require__(1);function getFieldFormat(indexPattern,fieldName){return indexPattern&&fieldName?(0,_lodash.get)(indexPattern,["fieldFormatMap",fieldName,"type","title"]):""}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ScriptedFieldsTable",{enumerable:true,get:function get(){return _scripted_fields_table.ScriptedFieldsTable}});var _scripted_fields_table=__webpack_require__(2188)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptedFieldsTable=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _scripting_languages=__webpack_require__(788);var _documentation_links=__webpack_require__(60);var _eui=__webpack_require__(3);var _i18n=__webpack_require__(2);var _components=__webpack_require__(2189);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ScriptedFieldsTable=function(_Component){_inherits(ScriptedFieldsTable,_Component);function ScriptedFieldsTable(props){var _this;_classCallCheck(this,ScriptedFieldsTable);_this=_possibleConstructorReturn(this,_getPrototypeOf(ScriptedFieldsTable).call(this,props));_defineProperty(_assertThisInitialized(_this),"fetchFields",_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var fields,deprecatedLangsInUse,deprecatedLangs,supportedLangs,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,lang;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPattern.getScriptedFields();case 2:fields=_context.sent;deprecatedLangsInUse=[];deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=9;for(_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){lang=_step.value.lang;if(deprecatedLangs.includes(lang)||!supportedLangs.includes(lang)){deprecatedLangsInUse.push(lang)}}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 17:_context.prev=17;_context.prev=18;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 20:_context.prev=20;if(!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:_this.setState({fields:fields,deprecatedLangsInUse:deprecatedLangsInUse});case 26:case"end":return _context.stop()}}},_callee,null,[[9,13,17,25],[18,,20,24]])})));_defineProperty(_assertThisInitialized(_this),"getFilteredItems",function(){var fields=_this.state.fields;var _this$props=_this.props,fieldFilter=_this$props.fieldFilter,scriptedFieldLanguageFilter=_this$props.scriptedFieldLanguageFilter;var languageFilteredFields=fields;if(scriptedFieldLanguageFilter){languageFilteredFields=fields.filter(function(field){return field.lang===_this.props.scriptedFieldLanguageFilter})}var filteredFields=languageFilteredFields;if(fieldFilter){var normalizedFieldFilter=_this.props.fieldFilter.toLowerCase();filteredFields=languageFilteredFields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}return filteredFields});_defineProperty(_assertThisInitialized(_this),"startDeleteField",function(field){_this.setState({fieldToDelete:field,isDeleteConfirmationModalVisible:true})});_defineProperty(_assertThisInitialized(_this),"hideDeleteConfirmationModal",function(){_this.setState({fieldToDelete:undefined,isDeleteConfirmationModalVisible:false})});_defineProperty(_assertThisInitialized(_this),"deleteField",function(){var _this$props2=_this.props,indexPattern=_this$props2.indexPattern,onRemoveField=_this$props2.onRemoveField;var fieldToDelete=_this.state.fieldToDelete;indexPattern.removeScriptedField(fieldToDelete.name);onRemoveField&&onRemoveField();_this.fetchFields();_this.hideDeleteConfirmationModal()});_this.state={deprecatedLangsInUse:[],fieldToDelete:undefined,isDeleteConfirmationModalVisible:false,fields:[]};return _this}_createClass(ScriptedFieldsTable,[{key:"componentWillMount",value:function componentWillMount(){this.fetchFields()}},{key:"renderCallOuts",value:function renderCallOuts(){var deprecatedLangsInUse=this.state.deprecatedLangsInUse;return _react.default.createElement(_components.CallOuts,{deprecatedLangsInUse:deprecatedLangsInUse,painlessDocLink:_documentation_links.documentationLinks.scriptedFields.painless})}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var fieldToDelete=this.state.fieldToDelete;if(!fieldToDelete){return null}var title=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.deleteFieldLabel",{defaultMessage:"Delete scripted field '{fieldName}'?",values:{fieldName:fieldToDelete.name}});var cancelButtonText=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.deleteField.cancelButton",{defaultMessage:"Cancel"});var confirmButtonText=_i18n.i18n.translate("kbn.management.editIndexPattern.scripted.deleteField.deleteButton",{defaultMessage:"Delete"});return _react.default.createElement(_eui.EuiOverlayMask,null,_react.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteField,cancelButtonText:cancelButtonText,confirmButtonText:confirmButtonText,defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _this2=this;var _this$props3=this.props,helpers=_this$props3.helpers,indexPattern=_this$props3.indexPattern;var items=this.getFilteredItems();return _react.default.createElement("div",null,_react.default.createElement(_components.Header,{addScriptedFieldUrl:helpers.getRouteHref(indexPattern,"addField")}),this.renderCallOuts(),_react.default.createElement(_eui.EuiSpacer,{size:"l"}),_react.default.createElement(_components.Table,{indexPattern:indexPattern,items:items,editField:function editField(field){return _this2.props.helpers.redirectToRoute(field,"edit")},deleteField:this.startDeleteField}),this.renderDeleteConfirmationModal())}}]);return ScriptedFieldsTable}(_react.Component);exports.ScriptedFieldsTable=ScriptedFieldsTable;_defineProperty(ScriptedFieldsTable,"propTypes",{indexPattern:_propTypes.default.object.isRequired,fieldFilter:_propTypes.default.string,scriptedFieldLanguageFilter:_propTypes.default.string,helpers:_propTypes.default.shape({redirectToRoute:_propTypes.default.func.isRequired,getRouteHref:_propTypes.default.func.isRequired}),onRemoveField:_propTypes.default.func})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}});var _table=__webpack_require__(2190);var _header=__webpack_require__(2192);var _call_outs=__webpack_require__(2194)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});var _table=__webpack_require__(2191)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=exports.TableComponent=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var TableComponent=function(_PureComponent){_inherits(TableComponent,_PureComponent);function TableComponent(){var _getPrototypeOf2;var _this;_classCallCheck(this,TableComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TableComponent)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"renderFormatCell",function(value){var indexPattern=_this.props.indexPattern;var title=indexPattern.fieldFormatMap[value]&&indexPattern.fieldFormatMap[value].type?indexPattern.fieldFormatMap[value].type.title:"";return _react.default.createElement("span",null,title)});return _this}_createClass(TableComponent,[{key:"render",value:function render(){var _this$props=this.props,items=_this$props.items,editField=_this$props.editField,deleteField=_this$props.deleteField,intl=_this$props.intl;var columns=[{field:"displayName",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.nameHeader",defaultMessage:"Name"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.nameDescription",defaultMessage:"Name of the field"}),dataType:"string",sortable:true,width:"38%"},{field:"lang",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.langHeader",defaultMessage:"Lang"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.langDescription",defaultMessage:"Language used for the field"}),dataType:"string",sortable:true,"data-test-subj":"scriptedFieldLang"},{field:"script",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.scriptHeader",defaultMessage:"Script"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.scriptDescription",defaultMessage:"Script for the field"}),dataType:"string",sortable:true},{field:"name",name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.formatHeader",defaultMessage:"Format"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.formatDescription",defaultMessage:"Format used for the field"}),render:this.renderFormatCell,sortable:false},{name:"",actions:[{name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.editHeader",defaultMessage:"Edit"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.editDescription",defaultMessage:"Edit this field"}),icon:"pencil",onClick:editField},{name:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.deleteHeader",defaultMessage:"Delete"}),description:intl.formatMessage({id:"kbn.management.editIndexPattern.scripted.table.deleteDescription",defaultMessage:"Delete this field"}),icon:"trash",color:"danger",onClick:deleteField}],width:"40px"}];var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return TableComponent}(_react.PureComponent);exports.TableComponent=TableComponent;_defineProperty(TableComponent,"propTypes",{indexPattern:_propTypes.default.object.isRequired,items:_propTypes.default.array.isRequired,editField:_propTypes.default.func.isRequired,deleteField:_propTypes.default.func.isRequired});var Table=(0,_react2.injectI18n)(TableComponent);exports.Table=Table},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _header=__webpack_require__(2193)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(10));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=function Header(_ref){var addScriptedFieldUrl=_ref.addScriptedFieldUrl;return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.scriptedHeader",defaultMessage:"Scripted fields"}))),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.scriptedLabel",defaultMessage:"You can use scripted fields in visualizations and display them in your documents. However, you cannot search scripted fields."})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{"data-test-subj":"addScriptedFieldLink",href:addScriptedFieldUrl},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.addFieldButton",defaultMessage:"Add scripted field"}))))};exports.Header=Header;Header.propTypes={addScriptedFieldUrl:_propTypes.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}});var _call_outs=__webpack_require__(2195)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CallOuts=function CallOuts(_ref){var deprecatedLangsInUse=_ref.deprecatedLangsInUse,painlessDocLink=_ref.painlessDocLink;if(!deprecatedLangsInUse.length){return null}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,{title:_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangHeader",defaultMessage:"Deprecation languages in use"}),color:"danger",iconType:"cross"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangLabel.deprecationLangDetail",defaultMessage:"The following deprecated languages are in use: {deprecatedLangsInUse}. Support for these languages will be removed in the next major version of Kibana and Elasticsearch. Convert you scripted fields to {link} to avoid any problems.",values:{deprecatedLangsInUse:deprecatedLangsInUse.join(", "),link:_react.default.createElement(_eui.EuiLink,{href:painlessDocLink},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.editIndexPattern.scripted.deprecationLangLabel.painlessDescription",defaultMessage:"Painless"}))}}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))};exports.CallOuts=CallOuts},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div>\n  <div>\n    <div id="indexPatternListReact" role="region" aria-label="{{\'kbn.management.editIndexPatternLiveRegionAriaLabel\' | i18n: { defaultMessage: \'Index patterns\' } }}"></div>\n  </div>\n</div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app section="kibana/index_patterns">\n  <kbn-management-index-patterns\n    index-pattern="fieldSettings.indexPattern">\n  </kbn-management-index-patterns>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"IndexPatternTable",{enumerable:true,get:function get(){return _index_pattern_table.IndexPatternTable}});var _index_pattern_table=__webpack_require__(2199)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.IndexPatternTable=void 0;var _eui=__webpack_require__(3);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(0));var _create_button=__webpack_require__(2200);var _create_index_pattern_prompt=__webpack_require__(2204);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var columns=[{field:"title",name:"Pattern",render:function render(name,index){return _react2.default.createElement(_eui.EuiButtonEmpty,{size:"xs",href:"#/management/kibana/index_patterns/".concat(index.id)},name,index.tags&&index.tags.map(function(_ref){var tagKey=_ref.key,tagName=_ref.name;return _react2.default.createElement(_eui.EuiBadge,{className:"indexPatternList__badge",key:tagKey},tagName)}))},dataType:"string",sortable:function sortable(_ref2){var sort=_ref2.sort;return sort}}];var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};var sorting={sort:{field:"title",direction:"asc"}};var search={box:{incremental:true,schema:{fields:{title:{type:"string"}}}}};var IndexPatternTable=function(_React$Component){_inherits(IndexPatternTable,_React$Component);function IndexPatternTable(){var _getPrototypeOf2;var _this;_classCallCheck(this,IndexPatternTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(IndexPatternTable)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{showFlyout:_this.props.indexPatterns.length===0});return _this}_createClass(IndexPatternTable,[{key:"render",value:function render(){var _this2=this;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l","data-test-subj":"indexPatternTable"},this.state.showFlyout&&_react2.default.createElement(_create_index_pattern_prompt.CreateIndexPatternPrompt,{onClose:function onClose(){return _this2.setState({showFlyout:false})}}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"euiIEFlexWrapFix"},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternTable.title",defaultMessage:"Index patterns"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonIcon,{iconSize:"l",iconType:"questionInCircle",onClick:function onClick(){return _this2.setState({showFlyout:true})},"aria-label":"Help"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_create_button.CreateButton,{options:this.props.indexPatternCreationOptions},_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternTable.createBtn",defaultMessage:"Create index pattern"})))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiInMemoryTable,{allowNeutralSort:false,itemId:"id",isSelectable:false,items:this.props.indexPatterns,columns:columns,pagination:pagination,sorting:sorting,search:search}))}}]);return IndexPatternTable}(_react2.default.Component);exports.IndexPatternTable=IndexPatternTable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CreateButton",{enumerable:true,get:function get(){return _create_button.CreateButton}});var _create_button=__webpack_require__(2201)},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.CreateButton=void 0;var _eui_theme_light=__webpack_require__(643);var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(3);var _react2=__webpack_require__(5);var _react3=__webpack_require__(790);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CreateButtonComponent=function(_Component){_inherits(CreateButtonComponent,_Component);function CreateButtonComponent(){var _getPrototypeOf2;var _this;_classCallCheck(this,CreateButtonComponent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CreateButtonComponent)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{isPopoverOpen:false});_defineProperty(_assertThisInitialized(_this),"togglePopover",function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})});_defineProperty(_assertThisInitialized(_this),"closePopover",function(){_this.setState({isPopoverOpen:false})});_defineProperty(_assertThisInitialized(_this),"renderBetaBadge",function(){return _react.default.createElement(_eui.EuiBadge,{color:_eui_theme_light.euiColorAccent},_react.default.createElement(_react2.FormattedMessage,{id:"kbn.management.indexPatternList.createButton.betaLabel",defaultMessage:"Beta"}))});return _this}_createClass(CreateButtonComponent,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,options=_this$props.options,children=_this$props.children,uiCapabilities=_this$props.uiCapabilities;var isPopoverOpen=this.state.isPopoverOpen;if(!options||!options.length){return null}if(!uiCapabilities.indexPatterns.save){return null}if(options.length===1){return _react.default.createElement(_eui.EuiButton,{"data-test-subj":"createIndexPatternButton",fill:true,onClick:options[0].onClick,iconType:"plusInCircle"},children)}var button=_react.default.createElement(_eui.EuiButton,{"data-test-subj":"createIndexPatternButton",fill:true,size:"s",iconType:"arrowDown",iconSide:"right",onClick:this.togglePopover},children);if(options.length>1){return _react.default.createElement(_eui.EuiPopover,{id:"singlePanel",button:button,isOpen:isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},_react.default.createElement(_eui.EuiContextMenuPanel,{items:options.map(function(option){return _react.default.createElement(_eui.EuiContextMenuItem,{key:option.text,onClick:option.onClick,"data-test-subj":option.testSubj},_react.default.createElement(_eui.EuiDescriptionList,{style:{whiteSpace:"nowrap"}},_react.default.createElement(_eui.EuiDescriptionListTitle,null,option.text,option.isBeta?_react.default.createElement(_react.Fragment,null," ",_this2.renderBetaBadge()):null),_react.default.createElement(_eui.EuiDescriptionListDescription,null,option.description)))})}))}}}]);return CreateButtonComponent}(_react.Component);var CreateButton=(0,_react3.injectUICapabilities)(CreateButtonComponent);exports.CreateButton=CreateButton},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.UICapabilitiesProvider=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _ui_capabilities_context=__webpack_require__(791);var _=__webpack_require__(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var UICapabilitiesProvider=function(_React$Component){_inherits(UICapabilitiesProvider,_React$Component);function UICapabilitiesProvider(){_classCallCheck(this,UICapabilitiesProvider);return _possibleConstructorReturn(this,_getPrototypeOf(UICapabilitiesProvider).apply(this,arguments))}_createClass(UICapabilitiesProvider,[{key:"render",value:function render(){return _react.default.createElement(_ui_capabilities_context.UICapabilitiesContext.Provider,{value:_.capabilities.get()},this.props.children)}}]);return UICapabilitiesProvider}(_react.default.Component);exports.UICapabilitiesProvider=UICapabilitiesProvider;_defineProperty(UICapabilitiesProvider,"displayName","UICapabilitiesProvider")},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.injectUICapabilities=injectUICapabilities;var _react=_interopRequireWildcard(__webpack_require__(0));var _ui_capabilities_context=__webpack_require__(791);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getDisplayName(component){return component.displayName||component.name||"Component"}function injectUICapabilities(WrappedComponent){var InjectUICapabilities=function(_Component){_inherits(InjectUICapabilities,_Component);function InjectUICapabilities(props,context){_classCallCheck(this,InjectUICapabilities);return _possibleConstructorReturn(this,_getPrototypeOf(InjectUICapabilities).call(this,props,context))}_createClass(InjectUICapabilities,[{key:"render",value:function render(){return _react.default.createElement(WrappedComponent,_extends({},this.props,{uiCapabilities:this.context}))}}]);return InjectUICapabilities}(_react.Component);_defineProperty(InjectUICapabilities,"displayName","InjectUICapabilities(".concat(getDisplayName(WrappedComponent),")"));_defineProperty(InjectUICapabilities,"WrappedComponent",WrappedComponent);_defineProperty(InjectUICapabilities,"contextType",_ui_capabilities_context.UICapabilitiesContext);return InjectUICapabilities}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateIndexPatternPrompt=void 0;var _eui=__webpack_require__(3);var _react=__webpack_require__(5);var _react2=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CreateIndexPatternPrompt=function CreateIndexPatternPrompt(_ref){var onClose=_ref.onClose;return _react2.default.createElement(_eui.EuiFlyout,{size:"s",onClose:onClose,"data-test-subj":"CreateIndexPatternPrompt"},_react2.default.createElement(_eui.EuiFlyoutHeader,{hasBorder:true},_react2.default.createElement(_eui.EuiText,{grow:false},_react2.default.createElement("h2",null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.title",defaultMessage:"About index patterns"})))),_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,{textAlign:"left"},_react2.default.createElement("p",null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.subtitle",defaultMessage:"Index patterns allow you to bucket disparate data sources together so their shared fields may be queried in Kibana."}))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"l"}),_react2.default.createElement(_eui.EuiText,{textAlign:"left"},_react2.default.createElement("h3",null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.examplesTitle",defaultMessage:"Examples of index patterns"}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiDescriptionList,{className:"indexPatternListPrompt__descList"},_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.exampleOneTitle",defaultMessage:"Single data source"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.exampleOne",defaultMessage:"Index a single data source named log-west-001 so you can build charts or query its contents fast."})),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.exampleTwoTitle",defaultMessage:"Multiple data sources"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.exampleTwo",defaultMessage:"Group all incoming data sources starting with log-west* so you can query against all your west coast server logs."})),_react2.default.createElement(_eui.EuiDescriptionListTitle,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.exampleThreeTitle",defaultMessage:"Custom groupings"})),_react2.default.createElement(_eui.EuiDescriptionListDescription,null,_react2.default.createElement(_react.FormattedMessage,{id:"kbn.management.indexPatternPrompt.exampleThree",defaultMessage:"Specifically group your archived, monthly, roll-up metrics of those logs into a separate index pattern so you can aggregate historical trends to compare."})))))};exports.CreateIndexPatternPrompt=CreateIndexPatternPrompt},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="euiPage mgtPage">\n  <div id="management-sidenav" class="euiPageSideBar" style="position: static;" data-test-subj="managementNav"></div>\n  <main class="euiPageBody euiPageBody--restrictWidth-default mgtPage__body" ng-transclude></main>\n</div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<kbn-management-app>\n  <div id="management-landing"></div>\n</kbn-management-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var _lodash=_interopRequireDefault(__webpack_require__(1));var _react=_interopRequireDefault(__webpack_require__(0));var _notify=__webpack_require__(9);var _index_patterns=__webpack_require__(77);var _routes=_interopRequireDefault(__webpack_require__(19));var _eui=__webpack_require__(3);var _timers=__webpack_require__(2282);var _i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var bannerId;var timeoutId;function displayBanner(){(0,_timers.clearTimeout)(timeoutId);bannerId=_notify.banners.set({id:bannerId,component:_react.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"iInCircle",title:_i18n.i18n.translate("kbn.management.indexPattern.bannerLabel",{defaultMessage:"In order to visualize and explore data in Kibana, you'll need to create an index pattern to retrieve data from Elasticsearch."})})});timeoutId=setTimeout(function(){_notify.banners.remove(bannerId);timeoutId=undefined},15e3)}function _default(opts){opts=opts||{};var whenMissingRedirectTo=opts.whenMissingRedirectTo||null;_routes.default.addSetupWork(function loadDefaultIndexPattern(Promise,$route,config,indexPatterns){var route=_lodash.default.get($route,"current.$$route");if(!route.requireDefaultIndex){return}return indexPatterns.getIds().then(function(patterns){var defaultId=config.get("defaultIndex");var defined=!!defaultId;var exists=_lodash.default.contains(patterns,defaultId);if(defined&&!exists){config.remove("defaultIndex");defaultId=defined=false}if(!defined){if(patterns.length>=1){defaultId=patterns[0];config.set("defaultIndex",defaultId)}else{throw new _index_patterns.NoDefaultIndexPattern}}})}).afterWork(null,function(err,kbnUrl){var hasDefault=!(err instanceof _index_patterns.NoDefaultIndexPattern);if(hasDefault||!whenMissingRedirectTo)throw err;kbnUrl.change(whenMissingRedirectTo());displayBanner()})}module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(2726)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2210)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(9);__webpack_require__(129);__webpack_require__(77);var _index=_interopRequireDefault(__webpack_require__(2211));var _routes=_interopRequireDefault(__webpack_require__(19));var _modules=__webpack_require__(6);var _timefilter=__webpack_require__(22);__webpack_require__(746);var _breadcrumbs=__webpack_require__(469);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var app=_modules.uiModules.get("apps/doc",["kibana/courier","kibana/index_patterns"]);var resolveIndexPattern={indexPattern:function indexPattern(indexPatterns,savedSearches,$route){return indexPatterns.get($route.current.params.indexPattern)}};var k7Breadcrumbs=function k7Breadcrumbs($route){return[].concat(_toConsumableArray((0,_breadcrumbs.getRootBreadcrumbs)()),[{text:"".concat($route.current.params.index,"#").concat($route.current.params.id)}])};_routes.default.when("/doc/:indexPattern/:index/:type",{template:_index.default,resolve:resolveIndexPattern,k7Breadcrumbs:k7Breadcrumbs}).when("/doc/:indexPattern/:index",{template:_index.default,resolve:resolveIndexPattern,k7Breadcrumbs:k7Breadcrumbs});app.controller("doc",function($scope,$route,es){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern=$route.current.locals.indexPattern;var computedFields=$scope.indexPattern.getComputedFields();es.search({index:$route.current.params.index,body:{query:{ids:{values:[$route.current.params.id]}},stored_fields:computedFields.storedFields,_source:true,script_fields:computedFields.scriptFields,docvalue_fields:computedFields.docvalueFields}}).then(function(resp){if(resp.hits){if(resp.hits.total<1){$scope.status="notFound"}else{$scope.status="found";$scope.hit=resp.hits.hits[0]}}}).catch(function(err){if(err.status===404){$scope.status="notFound"}else{$scope.status="error";$scope.resp=err}})})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div ng-controller="doc" class="app-container">\n  <div class="kuiViewContent">\n    \x3c!-- no results --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'notFound\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.doc.failedToLocateDocumentDescription"\n            i18n-default-message="Failed to locate document"\n          ></span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.doc.couldNotFindDocumentsDescription"\n            i18n-default-message="Unfortunately I could not find any documents matching that id, of that type, in that index. I tried really hard. I wanted it to be there. Sometimes I swear documents grow legs and just walk out of the index. Sneaky. I wish I could offer some advice here, something to make you feel better"\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- error --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'error\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span\n            class="kuiInfoPanelHeader__title"\n            i18n-id="kbn.doc.failedToExecuteQueryDescription"\n            i18n-default-message="Failed to execute query"\n          ></span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            i18n-id="kbn.doc.somethingWentWrongDescription"\n            i18n-default-message="Oh no. Something went very wrong. Its not just that I couldn\'t find your document, I couldn\'t even try. The index was missing, or the type. Go check out Elasticsearch, something isn\'t quite right here."\n          ></div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- loading --\x3e\n    <div class="kuiViewContentItem" ng-if="status === undefined">\n      <div class="kuiPanel kuiPanel--centered">\n        <div\n          class="kuiTableInfo"\n          i18n-id="kbn.doc.loadingDescription"\n          i18n-default-message="Loading"\n        ></div>\n      </div>\n    </div>\n\n    \x3c!-- result --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'found\'" data-test-subj="doc-hit">\n      <doc-viewer hit="hit" index-pattern="indexPattern"></doc-viewer>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(19));var _i18n=__webpack_require__(2);var _dev_tools=__webpack_require__(371);var _feature_catalogue=__webpack_require__(47);__webpack_require__(769);__webpack_require__(2213);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/dev_tools",{resolve:{redirect:function redirect(Private,kbnUrl){var items=Private(_dev_tools.DevToolsRegistryProvider).inOrder;kbnUrl.redirect(items[0].url.substring(1))}}});_routes.default.defaults(/^\/dev_tools(\/|$)/,{badge:function badge(uiCapabilities){if(uiCapabilities.dev_tools.save){return undefined}return{text:_i18n.i18n.translate("kbn.devTools.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:_i18n.i18n.translate("kbn.devTools.badge.readOnly.tooltip",{defaultMessage:"Unable to save"}),iconType:"glasses"}},k7Breadcrumbs:function k7Breadcrumbs(){return[{text:_i18n.i18n.translate("kbn.devTools.k7BreadcrumbsDevToolsLabel",{defaultMessage:"Dev Tools"}),href:"#/dev_tools"}]}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"console",title:_i18n.i18n.translate("kbn.devTools.consoleTitle",{defaultMessage:"Console"}),description:_i18n.i18n.translate("kbn.devTools.consoleDescription",{defaultMessage:"Skip cURL and use this JSON interface to work with your data directly."}),icon:"consoleApp",path:"/app/kibana#/dev_tools/console",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _dev_tools=__webpack_require__(371);var _dev_tools_app=_interopRequireDefault(__webpack_require__(2214));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/dev_tools").directive("kbnDevToolsApp",function(Private,$location){var devToolsRegistry=Private(_dev_tools.DevToolsRegistryProvider);return{restrict:"E",replace:true,template:_dev_tools_app.default,transclude:true,scope:{topNavConfig:"="},bindToController:true,controllerAs:"kbnDevToolsApp",controller:function controller(){this.devTools=devToolsRegistry.inOrder;this.currentPath="#".concat($location.path());this.onClick=function(item,$event){if(item.disabled){$event.preventDefault()}}}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<div class="devApp app-container">\n    \x3c!-- Tabs. --\x3e\n  <div class="euiTabs" role="tablist">\n    <a\n      role="tab"\n      aria-selected="{{kbnDevToolsApp.currentPath === item.url}}"\n      ng-repeat="item in kbnDevToolsApp.devTools"\n      class="euiTab"\n      ng-class="{\'euiTab-isSelected\': kbnDevToolsApp.currentPath === item.url, \'euiTab-isDisabled\': item.disabled}"\n      ng-disabled="item.disabled"\n      kbn-href="{{::item.url}}"\n      ng-click="kbnDevToolsApp.onClick(item, $event)"\n      tooltip="{{ item.tooltipContent }}"\n      tooltip-placement="bottom"\n      tooltip-popup-delay="0"\n      tooltip-append-to-body="1"\n    >\n      {{::item.display}}\n    </a>\n  </div>\n  <main class="devApp__container" role="tabpanel" ng-transclude></main>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _query_filter=__webpack_require__(51);var _routes=_interopRequireDefault(__webpack_require__(19));var _i18n=__webpack_require__(2);__webpack_require__(2216);var _index=_interopRequireDefault(__webpack_require__(2234));var _breadcrumbs=__webpack_require__(469);var _new_platform=__webpack_require__(8);var _subscribe_with_scope=__webpack_require__(96);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}_routes.default.when("/context/:indexPatternId/:type/:id*",{controller:ContextAppRouteController,k7Breadcrumbs:function k7Breadcrumbs($route){var indexPattern=$route.current.locals.indexPattern;var id=$route.current.params.id;return[].concat(_toConsumableArray((0,_breadcrumbs.getRootBreadcrumbs)()),[{text:_i18n.i18n.translate("kbn.context.breadcrumb",{defaultMessage:"Context of {indexPatternTitle}#{docId}",values:{indexPatternTitle:indexPattern.title,docId:id}})}])},controllerAs:"contextAppRoute",resolve:{indexPattern:function indexPattern($route,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId)}},template:_index.default});function ContextAppRouteController($routeParams,$scope,AppState,config,indexPattern,Private){var _this=this;var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);this.state=new AppState(createDefaultAppState(config,indexPattern));this.state.save(true);$scope.$watchGroup(["contextAppRoute.state.columns","contextAppRoute.state.predecessorCount","contextAppRoute.state.successorCount"],function(){return _this.state.save(true)});var updateSubsciption=(0,_subscribe_with_scope.subscribeWithScope)($scope,queryFilter.getUpdates$(),{next:function next(){_this.filters=_lodash.default.cloneDeep(queryFilter.getFilters())}});$scope.$on("$destroy",function(){updateSubsciption.unsubscribe()});this.anchorType=$routeParams.type;this.anchorId=$routeParams.id;this.indexPattern=indexPattern;this.discoverUrl=_new_platform.npStart.core.chrome.navLinks.get("kibana:discover").url;this.filters=_lodash.default.cloneDeep(queryFilter.getFilters())}function createDefaultAppState(config,indexPattern){return{columns:["_source"],filters:[],predecessorCount:parseInt(config.get("context:defaultSize"),10),sort:[indexPattern.timeFieldName,"desc"],successorCount:parseInt(config.get("context:defaultSize"),10)}}},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _compat=__webpack_require__(792);var _modules=__webpack_require__(6);var _app=_interopRequireDefault(__webpack_require__(2218));__webpack_require__(2219);__webpack_require__(2222);var _sorting=__webpack_require__(385);var _query_parameters=__webpack_require__(793);var _query=__webpack_require__(2225);var _timefilter=__webpack_require__(22);__webpack_require__(71);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _module=_modules.uiModules.get("apps/context",["elasticsearch","kibana","kibana/config","ngRoute"]);_module.directive("contextApp",function ContextApp(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextAppController),controllerAs:"contextApp",restrict:"E",scope:{anchorType:"=",anchorId:"=",columns:"=",indexPattern:"=",filters:"=",predecessorCount:"=",successorCount:"=",sort:"=",discoverUrl:"="},template:_app.default}});function ContextAppController($scope,config,Private){var _this=this;var queryParameterActions=Private(_query_parameters.QueryParameterActionsProvider);var queryActions=Private(_query.QueryActionsProvider);_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();this.state=createInitialState(parseInt(config.get("context:step"),10),(0,_sorting.getFirstSortableField)(this.indexPattern,config.get("context:tieBreakerFields")),this.discoverUrl);this.actions=_lodash.default.mapValues(_objectSpread({},queryParameterActions,{},queryActions),function(action){return function(){return action(_this.state).apply(void 0,arguments)}});this.constants={FAILURE_REASONS:_query.FAILURE_REASONS,LOADING_STATUS:_query.LOADING_STATUS};$scope.$watchGroup([function(){return _this.state.rows.predecessors},function(){return _this.state.rows.anchor},function(){return _this.state.rows.successors}],function(newValues){var _this$actions;return(_this$actions=_this.actions).setAllRows.apply(_this$actions,_toConsumableArray(newValues))});$scope.$watchCollection(function(){return _objectSpread({},_lodash.default.pick(_this,_query_parameters.QUERY_PARAMETER_KEYS),{indexPatternId:_this.indexPattern.id})},function(newQueryParameters){var queryParameters=_this.state.queryParameters;if(newQueryParameters.indexPatternId!==queryParameters.indexPatternId||newQueryParameters.anchorType!==queryParameters.anchorType||newQueryParameters.anchorId!==queryParameters.anchorId||!_lodash.default.isEqual(newQueryParameters.sort,queryParameters.sort)){_this.actions.fetchAllRowsWithNewQueryParameters(_lodash.default.cloneDeep(newQueryParameters))}else if(newQueryParameters.predecessorCount!==queryParameters.predecessorCount||newQueryParameters.successorCount!==queryParameters.successorCount||!_lodash.default.isEqual(newQueryParameters.filters,queryParameters.filters)){_this.actions.fetchContextRowsWithNewQueryParameters(_lodash.default.cloneDeep(newQueryParameters))}});$scope.$watchCollection(function(){return{predecessorCount:_this.state.queryParameters.predecessorCount,successorCount:_this.state.queryParameters.successorCount}},function(newParameters){_lodash.default.assign(_this,newParameters)})}function createInitialState(defaultStepSize,tieBreakerField,discoverUrl){return{queryParameters:(0,_query_parameters.createInitialQueryParametersState)(defaultStepSize,tieBreakerField),rows:{all:[],anchor:null,predecessors:[],successors:[]},loadingStatus:(0,_query.createInitialLoadingStatusState)(),navigation:{discover:{url:discoverUrl}}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callAfterBindingsWorkaround=callAfterBindingsWorkaround;exports.InitAfterBindingsWorkaround=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var InitAfterBindingsWorkaround=function InitAfterBindingsWorkaround($injector,$attrs,$element,$scope,$transclude){var _this=this;_classCallCheck(this,InitAfterBindingsWorkaround);if(!this.initAfterBindings){throw new Error("When using inheritance you must move the logic in the constructor to the `initAfterBindings` method")}this.$onInit=function(){$injector.invoke(_this.initAfterBindings,_this,{$attrs:$attrs,$element:$element,$scope:$scope,$transclude:$transclude})}};exports.InitAfterBindingsWorkaround=InitAfterBindingsWorkaround;_defineProperty(InitAfterBindingsWorkaround,"$inject",["$injector","$attrs","$element","$scope","$transclude"]);function callAfterBindingsWorkaround(constructor){return function InitAfterBindingsWrapper($injector,$attrs,$element,$scope,$transclude){var _this2=this;this.$onInit=function(){$injector.invoke(constructor,_this2,{$attrs:$attrs,$element:$element,$scope:$scope,$transclude:$transclude})}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<filter-bar\n  class-name="\'globalFilterGroup__filterBar\'"\n  filters="contextApp.state.queryParameters.filters"\n  on-filters-updated="contextApp.actions.updateFilters"\n  index-patterns="[contextApp.indexPattern]"\n></filter-bar>\n\n\x3c!-- Error feedback --\x3e\n<div\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.FAILED"\n>\n  <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span\n        class="kuiInfoPanelHeader__title"\n        i18n-id="kbn.context.failedToLoadAnchorDocumentDescription"\n        i18n-default-message="Failed to load the anchor document"\n      ></span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.INVALID_TIEBREAKER"\n        i18n-id="kbn.context.noSearchableTiebreakerFieldDescription"\n        i18n-default-message="No searchable tiebreaker field could be found in the index pattern {indexPatternId}. Please change the advanced setting {tieBreakerFields} to include a valid field for this index pattern."\n        i18n-values="{\n          indexPatternId: contextApp.state.queryParameters.indexPatternId,\n          html_tieBreakerFields: \'<code>context:tieBreakerFields</code>\'\n        }"\n      >\n      </div>\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.UNKNOWN"\n      >\n        <span\n          i18n-id="kbn.context.reloadPageDescription.reloadOrVisitTextMessage"\n          i18n-default-message="Please reload or visit"\n          i18n-description="Part of composite text kbn.context.reloadPageDescription.reloadOrVisitTextMessage + kbn.context.reloadPageDescription.discoverLinkText + kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n        ></span>\n        <a\n          ng-href="{{ contextApp.state.navigation.discover.url }}"\n          i18n-id="kbn.context.reloadPageDescription.discoverLinkText"\n          i18n-default-message="Discover"\n          i18n-description="Part of composite text kbn.context.reloadPageDescription.reloadOrVisitTextMessage + kbn.context.reloadPageDescription.discoverLinkText + kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n        ></a>\n        <span\n          i18n-id="kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n          i18n-default-message="to select a valid anchor document."\n          i18n-description="Part of composite text kbn.context.reloadPageDescription.reloadOrVisitTextMessage + kbn.context.reloadPageDescription.discoverLinkText + kbn.context.reloadPageDescription.selectValidAnchorDocumentTextMessage"\n      ></span>\n    </div>\n    </div>\n  </div>\n</div>\n\n<main\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.FAILED"\n>\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="predecessorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.predecessors.status)"\n        icon="\'fa-chevron-up\'"\n        ng-click="contextApp.actions.fetchMorePredecessorRows()"\n      >\n        <span\n          i18n-id="kbn.context.loadMoreDescription"\n          i18n-default-message="Load {defaultStepSize} more"\n          i18n-values="{\n            defaultStepSize: contextApp.state.queryParameters.defaultStepSize\n          }"\n        ></span>\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.predecessorCount"\n        data-test-subj="predecessorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenPredecessorRows"\n      ></context-size-picker>\n      <span\n        i18n-id="kbn.context.newerDocumentsDescription"\n        i18n-default-message="newer documents"\n      ></span>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.predecessors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.predecessorCount > contextApp.state.rows.predecessors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.predecessors.length }} documents newer than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n\n  \x3c!-- Loading feedback --\x3e\n  <div\n    ng-if="[\n      contextApp.constants.LOADING_STATUS.UNINITIALIZED,\n      contextApp.constants.LOADING_STATUS.LOADING,\n    ].includes(contextApp.state.loadingStatus.anchor.status)"\n    class="kuiPanel kuiPanel--centered kuiVerticalRhythm"\n  >\n    <div\n      class="kuiTableInfo"\n      i18n-id="kbn.context.loadingDescription"\n      i18n-default-message="Loading"\n    ></div>\n  </div>\n\n  \x3c!-- Table --\x3e\n  <div\n    ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.LOADED"\n    class="kuiPanel kuiVerticalRhythm"\n  >\n    <div class="discover-table" fixed-scroll>\n      <doc-table\n        filter="contextApp.actions.addFilter"\n        hits="contextApp.state.rows.all"\n        index-pattern="contextApp.indexPattern"\n        sorting="contextApp.state.queryParameters.sort"\n        columns="contextApp.state.queryParameters.columns"\n        infinite-scroll="true"\n        minimum-visible-rows="contextApp.state.rows.all.length"\n      ></doc-table>\n    </div>\n  </div>\n\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="successorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.successors.status)"\n        icon="\'fa-chevron-down\'"\n        ng-click="contextApp.actions.fetchMoreSuccessorRows()"\n      >\n        <span\n          i18n-id="kbn.context.loadMoreDescription"\n          i18n-default-message="Load {defaultStepSize} more"\n          i18n-values="{\n            defaultStepSize: contextApp.state.queryParameters.defaultStepSize\n          }"\n        ></span>\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.successorCount"\n        data-test-subj="successorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenSuccessorRows"\n      ></context-size-picker>\n      <div\n        i18n-id="kbn.context.olderDocumentsDescription"\n        i18n-default-message="older documents"\n      ></div>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.successors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.successorCount > contextApp.state.rows.successors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.successors.length }} documents older than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n</main>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2220)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(6);var _loading_button=_interopRequireDefault(__webpack_require__(2221));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana","ngRoute"]);_module.directive("contextLoadingButton",function ContextLoadingButton(){return{replace:true,restrict:"E",scope:{isDisabled:"=",icon:"="},template:_loading_button.default,transclude:true}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<button\n  class="kuiButton kuiButton--basic kuiButton--iconText"\n  ng-disabled="isDisabled"\n>\n  <span class="kuiButton__inner">\n    <span\n      class="kuiButton__icon kuiIcon fa-spinner fa-spin"\n      ng-class="isDisabled ? [\'fa-spinner\', \'fa-spin\'] : [icon]"\n    />\n    <span ng-transclude />\n  </span>\n</button>\n'},function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(1));var _modules=__webpack_require__(6);var _compat=__webpack_require__(792);var _size_picker=_interopRequireDefault(__webpack_require__(2223));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana"]);_module.directive("contextSizePicker",function ContextSizePicker(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextSizePickerController),controllerAs:"contextSizePicker",link:linkContextSizePicker,replace:true,restrict:"E",require:"ngModel",scope:{count:"=",isDisabled:"=",onChangeCount:"="},template:_size_picker.default}});function linkContextSizePicker(scope,element,attrs,ngModel){scope.countModel=ngModel}function ContextSizePickerController($scope){var _this=this;$scope.$watch(function(){return _this.count},function(){return $scope.countModel.$rollbackViewValue()});this.getOrSetCount=function(count){return _lodash.default.isUndefined(count)?_this.count:_this.onChangeCount(count)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<input\n  class="kuiTextInput cxtSizePicker"\n  ng-disabled="contextSizePicker.isDisabled"\n  ng-model-options="{updateOn: \'change\', getterSetter: true, debounce: 200}"\n  ng-model="contextSizePicker.getOrSetCount"\n  type="number"\n>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryParameterActionsProvider=QueryParameterActionsProvider;var _lodash=_interopRequireDefault(__webpack_require__(1));var _query_filter=__webpack_require__(51);var _filter_manager=__webpack_require__(458);var _constants=__webpack_require__(794);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function QueryParameterActionsProvider(indexPatterns,Private){var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var filterGen=(0,_filter_manager.getFilterGenerator)(queryFilter);var setPredecessorCount=function setPredecessorCount(state){return function(predecessorCount){return state.queryParameters.predecessorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,predecessorCount)}};var increasePredecessorCount=function increasePredecessorCount(state){return function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:state.queryParameters.defaultStepSize;return setPredecessorCount(state)(state.queryParameters.predecessorCount+value)}};var setSuccessorCount=function setSuccessorCount(state){return function(successorCount){return state.queryParameters.successorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,successorCount)}};var increaseSuccessorCount=function increaseSuccessorCount(state){return function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:state.queryParameters.defaultStepSize;return setSuccessorCount(state)(state.queryParameters.successorCount+value)}};var setQueryParameters=function setQueryParameters(state){return function(queryParameters){return Object.assign(state.queryParameters,_lodash.default.pick(queryParameters,_constants.QUERY_PARAMETER_KEYS))}};var updateFilters=function updateFilters(){return function(filters){queryFilter.setFilters(filters)}};var addFilter=function addFilter(state){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(field,values,operation){var indexPatternId,newFilters,indexPattern;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPatternId=state.queryParameters.indexPatternId;newFilters=filterGen.generate(field,values,operation,indexPatternId);queryFilter.addFilters(newFilters);_context.next=5;return indexPatterns.get(indexPatternId);case 5:indexPattern=_context.sent;indexPattern.popularizeField(field.name,1);case 7:case"end":return _context.stop()}}},_callee)}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}()};return{addFilter:addFilter,updateFilters:updateFilters,increasePredecessorCount:increasePredecessorCount,increaseSuccessorCount:increaseSuccessorCount,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"QueryActionsProvider",{enumerable:true,get:function get(){return _actions.QueryActionsProvider}});Object.defineProperty(exports,"FAILURE_REASONS",{enumerable:true,get:function get(){return _constants.FAILURE_REASONS}});Object.defineProperty(exports,"LOADING_STATUS",{enumerable:true,get:function get(){return _constants.LOADING_STATUS}});Object.defineProperty(exports,"createInitialLoadingStatusState",{enumerable:true,get:function get(){return _state.createInitialLoadingStatusState}});var _actions=__webpack_require__(2226);var _constants=__webpack_require__(476);var _state=__webpack_require__(2233)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryActionsProvider=QueryActionsProvider;var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);var _react=_interopRequireDefault(__webpack_require__(0));var _notify=__webpack_require__(9);var _anchor=__webpack_require__(2227);var _context=__webpack_require__(2228);var _query_parameters=__webpack_require__(793);var _constants=__webpack_require__(476);var _public=__webpack_require__(104);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function QueryActionsProvider(Private,Promise){var fetchAnchor=Private(_anchor.fetchAnchorProvider);var _Private=Private(_context.fetchContextProvider),fetchSurroundingDocs=_Private.fetchSurroundingDocs;var _Private2=Private(_query_parameters.QueryParameterActionsProvider),increasePredecessorCount=_Private2.increasePredecessorCount,increaseSuccessorCount=_Private2.increaseSuccessorCount,setPredecessorCount=_Private2.setPredecessorCount,setQueryParameters=_Private2.setQueryParameters,setSuccessorCount=_Private2.setSuccessorCount;var setFailedStatus=function setFailedStatus(state){return function(subject){var details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return state.loadingStatus[subject]=_objectSpread({status:_constants.LOADING_STATUS.FAILED,reason:_constants.FAILURE_REASONS.UNKNOWN},details)}};var setLoadedStatus=function setLoadedStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADED}}};var setLoadingStatus=function setLoadingStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADING}}};var fetchAnchorRow=function fetchAnchorRow(state){return function(){var _state$queryParameter=state.queryParameters,indexPatternId=_state$queryParameter.indexPatternId,anchorType=_state$queryParameter.anchorType,anchorId=_state$queryParameter.anchorId,sort=_state$queryParameter.sort,tieBreakerField=_state$queryParameter.tieBreakerField;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)("anchor",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)("anchor");return Promise.try(function(){return fetchAnchor(indexPatternId,anchorType,anchorId,[_lodash.default.zipObject([sort]),_defineProperty({},tieBreakerField,sort[1])])}).then(function(anchorDocument){setLoadedStatus(state)("anchor");state.rows.anchor=anchorDocument;return anchorDocument},function(error){setFailedStatus(state)("anchor",{error:error});_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.context.unableToLoadAnchorDocumentDescription",{defaultMessage:"Unable to load the anchor document"}),text:_react.default.createElement(_public.MarkdownSimple,null,error.message)});throw error})}};var fetchSurroundingRows=function fetchSurroundingRows(type,state){var _state$queryParameter2=state.queryParameters,indexPatternId=_state$queryParameter2.indexPatternId,filters=_state$queryParameter2.filters,sort=_state$queryParameter2.sort,tieBreakerField=_state$queryParameter2.tieBreakerField,anchor=state.rows.anchor;var count=type==="successors"?state.queryParameters.successorCount:state.queryParameters.predecessorCount;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)(type,{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}setLoadingStatus(state)(type);var _sort=_slicedToArray(sort,2),sortField=_sort[0],sortDir=_sort[1];return Promise.try(function(){return fetchSurroundingDocs(type,indexPatternId,anchor,sortField,tieBreakerField,sortDir,count,filters)}).then(function(documents){setLoadedStatus(state)(type);state.rows[type]=documents;return documents},function(error){setFailedStatus(state)(type,{error:error});_notify.toastNotifications.addDanger({title:_i18n.i18n.translate("kbn.context.unableToLoadDocumentDescription",{defaultMessage:"Unable to load documents"}),text:_react.default.createElement(_public.MarkdownSimple,null,error.message)});throw error})};var fetchContextRows=function fetchContextRows(state){return function(){return Promise.all([fetchSurroundingRows("predecessors",state),fetchSurroundingRows("successors",state)])}};var fetchAllRows=function fetchAllRows(state){return function(){return Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state))}};var fetchContextRowsWithNewQueryParameters=function fetchContextRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchContextRows(state)()}};var fetchAllRowsWithNewQueryParameters=function fetchAllRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchAllRows(state)()}};var fetchGivenPredecessorRows=function fetchGivenPredecessorRows(state){return function(count){setPredecessorCount(state)(count);return fetchSurroundingRows("predecessors",state)}};var fetchGivenSuccessorRows=function fetchGivenSuccessorRows(state){return function(count){setSuccessorCount(state)(count);return fetchSurroundingRows("successors",state)}};var fetchMorePredecessorRows=function fetchMorePredecessorRows(state){return function(){increasePredecessorCount(state)();return fetchSurroundingRows("predecessors",state)}};var fetchMoreSuccessorRows=function fetchMoreSuccessorRows(state){return function(){increaseSuccessorCount(state)();return fetchSurroundingRows("successors",state)}};var setAllRows=function setAllRows(state){return function(predecessorRows,anchorRow,successorRows){return state.rows.all=[].concat(_toConsumableArray(predecessorRows||[]),_toConsumableArray(anchorRow?[anchorRow]:[]),_toConsumableArray(successorRows||[]))}};return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:fetchAllRowsWithNewQueryParameters,fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:fetchGivenPredecessorRows,fetchGivenSuccessorRows:fetchGivenSuccessorRows,fetchMorePredecessorRows:fetchMorePredecessorRows,fetchMoreSuccessorRows:fetchMoreSuccessorRows,setAllRows:setAllRows}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchAnchorProvider=fetchAnchorProvider;var _lodash=_interopRequireDefault(__webpack_require__(1));var _i18n=__webpack_require__(2);var _courier=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function fetchAnchorProvider(indexPatterns,Private){var SearchSource=Private(_courier.SearchSourceProvider);return function(){var _fetchAnchor=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,anchorType,anchorId,sort){var indexPattern,searchSource,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context.sent;searchSource=(new SearchSource).setParent(false).setField("index",indexPattern).setField("version",true).setField("size",1).setField("query",{query:{constant_score:{filter:{ids:{type:anchorType,values:[anchorId]}}}},language:"lucene"}).setField("sort",sort);_context.next=6;return searchSource.fetch();case 6:response=_context.sent;if(!(_lodash.default.get(response,["hits","total"],0)<1)){_context.next=9;break}throw new Error(_i18n.i18n.translate("kbn.context.failedToLoadAnchorDocumentErrorDescription",{defaultMessage:"Failed to load anchor document."}));case 9:return _context.abrupt("return",_objectSpread({},_lodash.default.get(response,["hits","hits",0]),{$$_isAnchor:true}));case 10:case"end":return _context.stop()}}},_callee)}));function fetchAnchor(_x,_x2,_x3,_x4){return _fetchAnchor.apply(this,arguments)}return fetchAnchor}()}},function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.fetchContextProvider=fetchContextProvider;var _courier=__webpack_require__(129);var _sorting=__webpack_require__(385);var _date_conversion=__webpack_require__(475);var _fetch_hits_in_interval=__webpack_require__(2229);var _generate_intervals=__webpack_require__(2230);var _get_es_query_search_after=__webpack_require__(2231);var _get_es_query_sort=__webpack_require__(2232);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var DAY_MILLIS=24*60*60*1e3;var LOOKUP_OFFSETS=[0,1,7,30,365,1e4].map(function(days){return days*DAY_MILLIS});function fetchContextProvider(indexPatterns,Private){var SearchSourcePrivate=Private(_courier.SearchSourceProvider);return{fetchSurroundingDocs:fetchSurroundingDocs};function fetchSurroundingDocs(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _fetchSurroundingDocs.apply(this,arguments)}function _fetchSurroundingDocs(){_fetchSurroundingDocs=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type,indexPatternId,anchor,timeField,tieBreakerField,sortDir,size,filters){var indexPattern,searchSource,sortDirToApply,nanos,timeValueMillis,intervals,documents,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,interval,remainingSize,searchAfter,sort,hits;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_typeof(anchor)!=="object"||anchor===null)){_context.next=2;break}return _context.abrupt("return",[]);case 2:_context.next=4;return indexPatterns.get(indexPatternId);case 4:indexPattern=_context.sent;_context.next=7;return createSearchSource(indexPattern,filters);case 7:searchSource=_context.sent;sortDirToApply=type==="successors"?sortDir:(0,_sorting.reverseSortDir)(sortDir);nanos=indexPattern.isTimeNanosBased()?(0,_date_conversion.extractNanos)(anchor._source[timeField]):"";timeValueMillis=nanos!==""?(0,_date_conversion.convertIsoToMillis)(anchor._source[timeField]):anchor.sort[0];intervals=(0,_generate_intervals.generateIntervals)(LOOKUP_OFFSETS,timeValueMillis,type,sortDir);documents=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=16;_iterator=intervals[Symbol.iterator]();case 18:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=32;break}interval=_step.value;remainingSize=size-documents.length;if(!(remainingSize<=0)){_context.next=23;break}return _context.abrupt("break",32);case 23:searchAfter=(0,_get_es_query_search_after.getEsQuerySearchAfter)(type,documents,timeField,anchor,nanos);sort=(0,_get_es_query_sort.getEsQuerySort)(timeField,tieBreakerField,sortDirToApply);_context.next=27;return(0,_fetch_hits_in_interval.fetchHitsInInterval)(searchSource,timeField,sort,sortDirToApply,interval,searchAfter,remainingSize,nanos);case 27:hits=_context.sent;documents=type==="successors"?[].concat(_toConsumableArray(documents),_toConsumableArray(hits)):[].concat(_toConsumableArray(hits.slice().reverse()),_toConsumableArray(documents));case 29:_iteratorNormalCompletion=true;_context.next=18;break;case 32:_context.next=38;break;case 34:_context.prev=34;_context.t0=_context["catch"](16);_didIteratorError=true;_iteratorError=_context.t0;case 38:_context.prev=38;_context.prev=39;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 41:_context.prev=41;if(!_didIteratorError){_context.next=44;break}throw _iteratorError;case 44:return _context.finish(41);case 45:return _context.finish(38);case 46:return _context.abrupt("return",documents);case 47:case"end":return _context.stop()}}},_callee,null,[[16,34,38,46],[39,,41,45]])}));return _fetchSurroundingDocs.apply(this,arguments)}function createSearchSource(_x9,_x10){return _createSearchSource.apply(this,arguments)}function _createSearchSource(){_createSearchSource=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexPattern,filters){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",(new SearchSourcePrivate).setParent(false).setField("index",indexPattern).setField("filter",filters));case 1:case"end":return _context2.stop()}}},_callee2)}));return _createSearchSource.apply(this,arguments)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchHitsInInterval=fetchHitsInInterval;var _date_conversion=__webpack_require__(475);var _sorting=__webpack_require__(385);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function fetchHitsInInterval(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8){return _fetchHitsInInterval.apply(this,arguments)}function _fetchHitsInInterval(){_fetchHitsInInterval=_asyncToGenerator(regeneratorRuntime.mark(function _callee(searchSource,timeField,sort,sortDir,interval,searchAfter,maxCount,nanosValue){var range,_interval,start,stop,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:range={format:"strict_date_optional_time"};_interval=_slicedToArray(interval,2),start=_interval[0],stop=_interval[1];if(start){range[sortDir===_sorting.SortDirection.asc?"gte":"lte"]=(0,_date_conversion.convertTimeValueToIso)(start,nanosValue)}if(stop){range[sortDir===_sorting.SortDirection.asc?"lte":"gte"]=(0,_date_conversion.convertTimeValueToIso)(stop,nanosValue)}_context.next=6;return searchSource.setField("size",maxCount).setField("query",{query:{constant_score:{filter:{range:_defineProperty({},timeField,range)}}},language:"lucene"}).setField("searchAfter",searchAfter).setField("sort",sort).setField("version",true).fetch();case 6:response=_context.sent;return _context.abrupt("return",response.hits?response.hits.hits:[]);case 8:case"end":return _context.stop()}}},_callee)}));return _fetchHitsInInterval.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.asPairs=asPairs;exports.generateIntervals=generateIntervals;var _sorting=__webpack_require__(385);var _marked=regeneratorRuntime.mark(asPairs);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function asPairs(iterable){var currentPair,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,value;return regeneratorRuntime.wrap(function asPairs$(_context){while(1){switch(_context.prev=_context.next){case 0:currentPair=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=undefined;_context.prev=4;_iterator=iterable[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=15;break}value=_step.value;currentPair=[].concat(_toConsumableArray(currentPair),[value]).slice(-2);if(!(currentPair.length===2)){_context.next=12;break}_context.next=12;return currentPair;case 12:_iteratorNormalCompletion=true;_context.next=6;break;case 15:_context.next=21;break;case 17:_context.prev=17;_context.t0=_context["catch"](4);_didIteratorError=true;_iteratorError=_context.t0;case 21:_context.prev=21;_context.prev=22;if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}case 24:_context.prev=24;if(!_didIteratorError){_context.next=27;break}throw _iteratorError;case 27:return _context.finish(24);case 28:return _context.finish(21);case 29:case"end":return _context.stop()}}},_marked,null,[[4,17,21,29],[22,,24,28]])}function generateIntervals(offsets,startTime,type,sort){var offsetSign=sort===_sorting.SortDirection.asc&&type==="successors"||sort===_sorting.SortDirection.desc&&type==="predecessors"?1:-1;return asPairs([].concat(_toConsumableArray(offsets.map(function(offset){return startTime+offset*offsetSign})),[null]))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEsQuerySearchAfter=getEsQuerySearchAfter;var _date_conversion=__webpack_require__(475);function getEsQuerySearchAfter(type,documents,timeFieldName,anchor,nanoSeconds){if(documents.length){var afterTimeRecIdx=type==="successors"&&documents.length?documents.length-1:0;var afterTimeDoc=documents[afterTimeRecIdx];var afterTimeValue=nanoSeconds?(0,_date_conversion.convertIsoToNanosAsStr)(afterTimeDoc._source[timeFieldName]):afterTimeDoc.sort[0];return[afterTimeValue,afterTimeDoc.sort[1]]}return[nanoSeconds?(0,_date_conversion.convertIsoToNanosAsStr)(anchor._source[timeFieldName]):anchor.sort[0],anchor.sort[1]]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getEsQuerySort=getEsQuerySort;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getEsQuerySort(timeField,tieBreakerField,sortDir){return[_defineProperty({},timeField,sortDir),_defineProperty({},tieBreakerField,sortDir)]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialLoadingStatusState=createInitialLoadingStatusState;var _constants=__webpack_require__(476);function createInitialLoadingStatusState(){return{anchor:_constants.LOADING_STATUS.UNINITIALIZED,predecessors:_constants.LOADING_STATUS.UNINITIALIZED,successors:_constants.LOADING_STATUS.UNINITIALIZED}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<context-app\n  anchor-type="contextAppRoute.anchorType"\n  anchor-id="contextAppRoute.anchorId"\n  columns="contextAppRoute.state.columns"\n  discover-url="contextAppRoute.discoverUrl"\n  index-pattern="contextAppRoute.indexPattern"\n  filters="contextAppRoute.filters"\n  predecessor-count="contextAppRoute.state.predecessorCount"\n  successor-count="contextAppRoute.state.successorCount"\n  sort="contextAppRoute.state.sort"\n></context-app>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aggResponseIndex=void 0;var _build_hierarchical_data=__webpack_require__(602);var _point_series=__webpack_require__(603);var _tabify=__webpack_require__(418);var aggResponseIndex={hierarchical:_build_hierarchical_data.buildHierarchicalData,pointSeries:_point_series.buildPointSeriesData,tabify:_tabify.tabifyAggResponse};exports.aggResponseIndex=aggResponseIndex},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(1877)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(1860)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(2741)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(1868)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(4)(807)}])["plugin"];