{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/visualize/loader/visualize_loader.js","dependencies":[{"path":"src/legacy/ui/public/visualize/loader/visualize_loader.js","mtime":1572296413424},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldFZpc3VhbGl6ZUxvYWRlciA9IGdldFZpc3VhbGl6ZUxvYWRlcjsKZXhwb3J0cy5WaXN1YWxpemVMb2FkZXJQcm92aWRlciA9IFZpc3VhbGl6ZUxvYWRlclByb3ZpZGVyOwpleHBvcnRzLlZpc3VhbGl6ZUxvYWRlciA9IHZvaWQgMDsKCnZhciBfY2hyb21lID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi8uLi9jaHJvbWUiKSk7Cgp2YXIgX3F1ZXJ5X2ZpbHRlciA9IHJlcXVpcmUoIi4uLy4uL2ZpbHRlcl9tYW5hZ2VyL3F1ZXJ5X2ZpbHRlciIpOwoKdmFyIF9lbWJlZGRlZF92aXN1YWxpemVfaGFuZGxlciA9IHJlcXVpcmUoIi4vZW1iZWRkZWRfdmlzdWFsaXplX2hhbmRsZXIiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7CiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsKICAgIGRlZmF1bHQ6IG9iagogIH07Cn0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgIH0pOwogICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogIH0KCiAgcmV0dXJuIGtleXM7Cn0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgIGlmIChpICUgMikgewogICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICB9KTsKICAgIH0KICB9CgogIHJldHVybiB0YXJnZXQ7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7CiAgdHJ5IHsKICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsKICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlamVjdChlcnJvcik7CiAgICByZXR1cm47CiAgfQoKICBpZiAoaW5mby5kb25lKSB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9IGVsc2UgewogICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOwogIH0KfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7CgogICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7CiAgICAgIH0KCiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7CiAgICB9KTsKICB9Owp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICB9Cn0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgcmV0dXJuIENvbnN0cnVjdG9yOwp9Cgp2YXIgVmlzdWFsaXplTG9hZGVyID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVmlzdWFsaXplTG9hZGVyKHNhdmVkVmlzdWFsaXphdGlvbnMsIHBpcGVsaW5lRGF0YUxvYWRlciwgUHJpdmF0ZSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpc3VhbGl6ZUxvYWRlcik7CgogICAgdGhpcy5zYXZlZFZpc3VhbGl6YXRpb25zID0gc2F2ZWRWaXN1YWxpemF0aW9uczsKICAgIHRoaXMucGlwZWxpbmVEYXRhTG9hZGVyID0gcGlwZWxpbmVEYXRhTG9hZGVyOwogICAgdGhpcy5Qcml2YXRlID0gUHJpdmF0ZTsKICB9CiAgLyoqCiAgICogUmVuZGVycyBhIHNhdmVkIHZpc3VhbGl6YXRpb24gc3BlY2lmaWVkIGJ5IGl0cyBpZCBpbnRvIGEgRE9NIGVsZW1lbnQuCiAgICoKICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSB2aXN1YWxpemF0aW9uIGludG8uCiAgICogICAgWW91IGNhbiBhbHRlcm5hdGl2ZWx5IHBhc3MgYSBqUXVlcnkgZWxlbWVudCBpbnN0ZWFkLgogICAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIHNhdmVkIHZpc3VhbGl6YXRpb24uIFRoaXMgaXMgdGhlIGlkIG9mIHRoZQogICAqICAgIHNhdmVkIG9iamVjdCB0aGF0IGlzIHN0b3JlZCBpbiB0aGUgLmtpYmFuYSBpbmRleC4KICAgKiBAcGFyYW0gcGFyYW1zIEEgbGlzdCBvZiBwYXJhbWV0ZXJzIHRoYXQgd2lsbCBpbmZsdWVuY2UgcmVuZGVyaW5nLgogICAqCiAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUKICAgKiAgICBoYW5kbGVyIGZvciB0aGlzIHZpc3VhbGl6YXRpb24gYXMgc29vbiBhcyB0aGUgc2F2ZWQgb2JqZWN0IGNvdWxkIGJlIGZvdW5kLgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFZpc3VhbGl6ZUxvYWRlciwgW3sKICAgIGtleTogImVtYmVkVmlzdWFsaXphdGlvbldpdGhJZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2VtYmVkVmlzdWFsaXphdGlvbldpdGhJZCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZWxlbWVudCwgc2F2ZWRWaXN1YWxpemF0aW9uSWQsIHBhcmFtcykgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2F2ZWRWaXN1YWxpemF0aW9ucy5nZXQoc2F2ZWRWaXN1YWxpemF0aW9uSWQpLnRoZW4oZnVuY3Rpb24gKHNhdmVkT2JqKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfdGhpcy5yZW5kZXJWaXMoZWxlbWVudCwgc2F2ZWRPYmosIHBhcmFtcyk7CgogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGFuZGxlcik7CiAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBlbWJlZFZpc3VhbGl6YXRpb25XaXRoSWQoX3gsIF94MiwgX3gzKSB7CiAgICAgICAgcmV0dXJuIF9lbWJlZFZpc3VhbGl6YXRpb25XaXRoSWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGVtYmVkVmlzdWFsaXphdGlvbldpdGhJZDsKICAgIH0oKQogICAgLyoqCiAgICAgKiBSZW5kZXJzIGEgc2F2ZWQgdmlzdWFsaXphdGlvbiBzcGVjaWZpZWQgYnkgaXRzIHNhdmVkT2JqZWN0IGludG8gYSBET00gZWxlbWVudC4KICAgICAqIEluIG1vc3Qgb2YgdGhlIGNhc2VzIHlvdSB3aWxsIG5lZWQgdGhpcyBtZXRob2QsIHNpbmNlIGl0IGFsbG93cyB5b3UgdG8gc3BlY2lmeQogICAgICogZmlsdGVycywgaGFuZGxlcnMsIHF1ZXJpZXMsIGV0Yy4gb24gdGhlIHNhdmVkT2JqZWN0IGJlZm9yZSByZW5kZXJpbmcuCiAgICAgKgogICAgICogV2UgZG8gbm90IGVuY291cmFnZSB5b3UgdG8gdXNlIHRoaXMgbWV0aG9kLCBzaW5jZSBpdCB3aWxsIG1vc3QgbGlrZWx5IGJlIGNoYW5nZWQKICAgICAqIG9yIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBLaWJhbmEuIFJhdGhlciBlbWJlZCBhIHZpc3VhbGl6YXRpb24gYnkgaXRzIGlkCiAgICAgKiB2aWEgdGhlIHtAbGluayAjZW1iZWRWaXN1YWxpemF0aW9uV2l0aElkfSBtZXRob2QuCiAgICAgKgogICAgICogQGRlcHJlY2F0ZWQgWW91IHNob3VsZCByYXRoZXIgZW1iZWQgYnkgaWQsIHNpbmNlIHRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLgogICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IHRvIHJlbmRlciB0aGUgdmlzdWFsaXphdGlvbiBpbnRvLgogICAgICogICAgWW91IGNhbiBhbHRlcm5hdGl2ZWx5IHBhc3MgYSBqUXVlcnkgZWxlbWVudCBpbnN0ZWFkLgogICAgICogQHBhcmFtIHNhdmVkT2JqIFRoZSBzYXZlZE9iamVjdCBhcyBpdCBjb3VsZCBiZSByZXRyaWV2ZWQgYnkgdGhlCiAgICAgKiAgICBgc2F2ZWRWaXN1YWxpemF0aW9uc2Agc2VydmljZS4KICAgICAqIEBwYXJhbSBwYXJhbXMgQSBsaXN0IG9mIHBhcmFtZXRlcnMgdGhhdCB3aWxsIGluZmx1ZW5jZSByZW5kZXJpbmcuCiAgICAgKgogICAgICogQHJldHVybiBUaGUgaGFuZGxlciB0byB0aGUgdmlzdWFsaXphdGlvbi4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJlbWJlZFZpc3VhbGl6YXRpb25XaXRoU2F2ZWRPYmplY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVtYmVkVmlzdWFsaXphdGlvbldpdGhTYXZlZE9iamVjdChlbCwgc2F2ZWRPYmosIHBhcmFtcykgewogICAgICByZXR1cm4gdGhpcy5yZW5kZXJWaXMoZWwsIHNhdmVkT2JqLCBwYXJhbXMpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSwgdGhhdCByZXNvbHZlcyB0byBhIGxpc3Qgb2YgYWxsIHNhdmVkIHZpc3VhbGl6YXRpb25zLgogICAgICoKICAgICAqIEByZXR1cm4gUmVzb2x2ZXMgd2l0aCBhIGxpc3Qgb2YgYWxsIHNhdmVkIHZpc3VhbGl6YXRpb25zIGFzCiAgICAgKiAgICByZXR1cm5lZCBieSB0aGUgYHNhdmVkVmlzdWFsaXphdGlvbnNgIHNlcnZpY2UgaW4gS2liYW5hLgogICAgICovCgogIH0sIHsKICAgIGtleTogImdldFZpc3VhbGl6YXRpb25MaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaXN1YWxpemF0aW9uTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2F2ZWRWaXN1YWxpemF0aW9ucy5maW5kKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIHJlc3VsdC5oaXRzOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJWaXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclZpcyhjb250YWluZXIsIHNhdmVkT2JqLCBwYXJhbXMpIHsKICAgICAgdmFyIHZpcyA9IHNhdmVkT2JqLnZpcywKICAgICAgICAgIGRlc2NyaXB0aW9uID0gc2F2ZWRPYmouZGVzY3JpcHRpb24sCiAgICAgICAgICBzZWFyY2hTb3VyY2UgPSBzYXZlZE9iai5zZWFyY2hTb3VyY2U7CiAgICAgIHZpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOwogICAgICB2aXMuc2VhcmNoU291cmNlID0gc2VhcmNoU291cmNlOwoKICAgICAgaWYgKCFwYXJhbXMuYXBwZW5kKSB7CiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICB9CgogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICd2aXN1YWxpemUnOwogICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10ZXN0LXN1YmonLCAndmlzdWFsaXphdGlvbkxvYWRlcicpOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7IC8vIFdlIG5lZWQgdGhlIGNvbnRhaW5lciB0byBoYXZlIGRpc3BsYXk6IGZsZXggc28gdmlzdWFsaXphdGlvbiB3aWxsIHJlbmRlciBjb3JyZWN0bHkKCiAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOyAvLyBJZiBwYXJhbXMgc3BlY2lmaWVkIGNzc0NsYXNzLCB3ZSB3aWxsIHNldCB0aGlzIHRvIHRoZSBlbGVtZW50LgoKICAgICAgaWYgKHBhcmFtcy5jc3NDbGFzcykgewogICAgICAgIHBhcmFtcy5jc3NDbGFzcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGNzc0NsYXNzKSB7CiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3MpOwogICAgICAgIH0pOwogICAgICB9IC8vIEFwcGx5IGRhdGEtIGF0dHJpYnV0ZXMgdG8gdGhlIGVsZW1lbnQgaWYgc3BlY2lmaWVkCgoKICAgICAgdmFyIGRhdGFBdHRycyA9IHBhcmFtcy5kYXRhQXR0cnM7CgogICAgICBpZiAoZGF0YUF0dHJzKSB7CiAgICAgICAgT2JqZWN0LmtleXMoZGF0YUF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLSIuY29uY2F0KGtleSksIGRhdGFBdHRyc1trZXldKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIGhhbmRsZXJQYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMsIHsKICAgICAgICAvLyBsZXRzIGFkZCBxdWVyeSBmaWx0ZXIgYW5ndWxhciBzZXJ2aWNlIHRvIHRoZSBwYXJhbXMKICAgICAgICBxdWVyeUZpbHRlcjogdGhpcy5Qcml2YXRlKF9xdWVyeV9maWx0ZXIuRmlsdGVyQmFyUXVlcnlGaWx0ZXJQcm92aWRlciksCiAgICAgICAgLy8gbGV0cyBhZGQgUHJpdmF0ZSB0byB0aGUgcGFyYW1zLCB3ZSdsbCBuZWVkIHRvIHBhc3MgaXQgdG8gdmlzdWFsaXplIGxhdGVyCiAgICAgICAgUHJpdmF0ZTogdGhpcy5Qcml2YXRlLAogICAgICAgIHBpcGVsaW5lRGF0YUxvYWRlcjogdGhpcy5waXBlbGluZURhdGFMb2FkZXIKICAgICAgfSk7CgogICAgICByZXR1cm4gbmV3IF9lbWJlZGRlZF92aXN1YWxpemVfaGFuZGxlci5FbWJlZGRlZFZpc3VhbGl6ZUhhbmRsZXIoZWxlbWVudCwgc2F2ZWRPYmosIGhhbmRsZXJQYXJhbXMpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFZpc3VhbGl6ZUxvYWRlcjsKfSgpOwoKZXhwb3J0cy5WaXN1YWxpemVMb2FkZXIgPSBWaXN1YWxpemVMb2FkZXI7CgpmdW5jdGlvbiBWaXN1YWxpemVMb2FkZXJQcm92aWRlcihzYXZlZFZpc3VhbGl6YXRpb25zLCBpbnRlcnByZXRlckNvbmZpZywgUHJpdmF0ZSkgewogIHJldHVybiBuZXcgVmlzdWFsaXplTG9hZGVyKHNhdmVkVmlzdWFsaXphdGlvbnMsIGludGVycHJldGVyQ29uZmlnLmVuYWJsZUluVmlzdWFsaXplLCBQcml2YXRlKTsKfQovKioKICogUmV0dXJucyBhIHByb21pc2UsIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdmlzdWFsaXplIGxvYWRlciwgb25jZSBpdCdzIHJlYWR5LgogKiBAcmV0dXJuIEEgcHJvbWlzZSwgdGhhdCByZXNvbHZlcyB0byB0aGUgdmlzdWFsaXplIGxvYWRlci4KICovCgoKZnVuY3Rpb24gZ2V0VmlzdWFsaXplTG9hZGVyKCkgewogIHJldHVybiBfY2hyb21lLmRlZmF1bHQuZGFuZ2Vyb3VzbHlHZXRBY3RpdmVJbmplY3RvcigpLnRoZW4oZnVuY3Rpb24gKCRpbmplY3RvcikgewogICAgdmFyIFByaXZhdGUgPSAkaW5qZWN0b3IuZ2V0KCdQcml2YXRlJyk7CiAgICByZXR1cm4gUHJpdmF0ZShWaXN1YWxpemVMb2FkZXJQcm92aWRlcik7CiAgfSk7Cn0="},null]}