{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/management/sections/objects/_view.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/management/sections/objects/_view.js","mtime":1572296410656},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJhbmd1bGFyIikpOwoKcmVxdWlyZSgiYW5ndWxhci1lbGFzdGljL2VsYXN0aWMiKTsKCnZhciBfcmlzb25Ob2RlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyaXNvbi1ub2RlIikpOwoKdmFyIF9zYXZlZF9vYmplY3RfcmVnaXN0cnkgPSByZXF1aXJlKCIuLi8uLi9zYXZlZF9vYmplY3RfcmVnaXN0cnkiKTsKCnZhciBfdmlldyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9fdmlldy5odG1sIikpOwoKdmFyIF9yb3V0ZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInVpL3JvdXRlcyIpKTsKCnZhciBfbW9kdWxlcyA9IHJlcXVpcmUoInVpL21vZHVsZXMiKTsKCnZhciBfbm90aWZ5ID0gcmVxdWlyZSgidWkvbm90aWZ5Iik7CgpyZXF1aXJlKCJ1aS9hY2Nlc3NpYmlsaXR5L2tibl91aV9hY2Vfa2V5Ym9hcmRfbW9kZSIpOwoKdmFyIF91dGlscyA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xlZ2FjeS91dGlscyIpOwoKdmFyIF9zYXZlZF9vYmplY3RzID0gcmVxdWlyZSgidWkvc2F2ZWRfb2JqZWN0cyIpOwoKdmFyIF9udW1lcmljID0gcmVxdWlyZSgidWkvdXRpbHMvbnVtZXJpYyIpOwoKdmFyIF9pbl9hcHBfdXJsID0gcmVxdWlyZSgiLi9saWIvaW5fYXBwX3VybCIpOwoKdmFyIF9icmVhZGNydW1icyA9IHJlcXVpcmUoIi4vYnJlYWRjcnVtYnMiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH0KCnZhciBsb2NhdGlvbiA9ICdTYXZlZE9iamVjdCB2aWV3JzsKCl9yb3V0ZXMuZGVmYXVsdC53aGVuKCcvbWFuYWdlbWVudC9raWJhbmEvb2JqZWN0cy86c2VydmljZS86aWQnLCB7CiAgdGVtcGxhdGU6IF92aWV3LmRlZmF1bHQsCiAgazdCcmVhZGNydW1iczogX2JyZWFkY3J1bWJzLmdldFZpZXdCcmVhZGNydW1icywKICByZXF1aXJlVUlDYXBhYmlsaXR5OiAnbWFuYWdlbWVudC5raWJhbmEub2JqZWN0cycKfSk7CgpfbW9kdWxlcy51aU1vZHVsZXMuZ2V0KCdhcHBzL21hbmFnZW1lbnQnLCBbJ21vbm9zcGFjZWQuZWxhc3RpYyddKS5kaXJlY3RpdmUoJ2tibk1hbmFnZW1lbnRPYmplY3RzVmlldycsIGZ1bmN0aW9uIChrYm5JbmRleCwgY29uZmlybU1vZGFsKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRScsCiAgICBjb250cm9sbGVyOiBmdW5jdGlvbiBjb250cm9sbGVyKCRzY29wZSwgJGluamVjdG9yLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgJHdpbmRvdywgJHJvb3RTY29wZSwgUHJpdmF0ZSwgdWlDYXBhYmlsaXRpZXMpIHsKICAgICAgdmFyIHNlcnZpY2VPYmogPSBfc2F2ZWRfb2JqZWN0X3JlZ2lzdHJ5LnNhdmVkT2JqZWN0TWFuYWdlbWVudFJlZ2lzdHJ5LmdldCgkcm91dGVQYXJhbXMuc2VydmljZSk7CgogICAgICB2YXIgc2VydmljZSA9ICRpbmplY3Rvci5nZXQoc2VydmljZU9iai5zZXJ2aWNlKTsKICAgICAgdmFyIHNhdmVkT2JqZWN0c0NsaWVudCA9IFByaXZhdGUoX3NhdmVkX29iamVjdHMuU2F2ZWRPYmplY3RzQ2xpZW50UHJvdmlkZXIpOwogICAgICAvKioKICAgICAgKiBDcmVhdGVzIGEgZmllbGQgZGVmaW5pdGlvbiBhbmQgcHVzaGVzIGl0IHRvIHRoZSBtZW1vIHN0YWNrLiBUaGlzIGZ1bmN0aW9uCiAgICAgICogaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIF8ucmVkdWNlKCkuIElmIHRoZQogICAgICAqIHZhbHVlcyBpcyBwbGFpbiBvYmplY3QgaXQgd2lsbCByZWN1cnNlIHRocm91Z2ggYWxsIHRoZSBrZXlzIHRpbGwgaXQgaGl0cwogICAgICAqIGEgc3RyaW5nLCBudW1iZXIgb3IgYW4gYXJyYXkuCiAgICAgICoKICAgICAgKiBAcGFyYW0ge2FycmF5fSBtZW1vIFRoZSBzdGFjayBvZiBmaWVsZHMKICAgICAgKiBAcGFyYW0ge21peGVkfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkCiAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBmaWVsZAogICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb2xsZWN0aW9uIFRoaXMgaXMgYSByZWZlcmVuY2UgdGhlIGNvbGxlY3Rpb24gYmVpbmcgcmVkdWNlZAogICAgICAqIEBwYXJhbSB7YXJyYXl9IHBhcmVudHMgVGhlIHBhcmVudCBrZXlzIHRvIHRoZSBmaWVsZAogICAgICAqIEByZXR1cm5zIHthcnJheX0KICAgICAgKi8KCiAgICAgIHZhciBjcmVhdGVGaWVsZCA9IGZ1bmN0aW9uIGNyZWF0ZUZpZWxkKG1lbW8sIHZhbCwga2V5LCBjb2xsZWN0aW9uLCBwYXJlbnRzKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyZW50cykpIHsKICAgICAgICAgIHBhcmVudHMucHVzaChrZXkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwYXJlbnRzID0gW2tleV07CiAgICAgICAgfQoKICAgICAgICB2YXIgZmllbGQgPSB7CiAgICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgICBuYW1lOiBwYXJlbnRzLmpvaW4oJy4nKSwKICAgICAgICAgIHZhbHVlOiB2YWwKICAgICAgICB9OwoKICAgICAgICBpZiAoX2xvZGFzaC5kZWZhdWx0LmlzU3RyaW5nKGZpZWxkLnZhbHVlKSkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZmllbGQudmFsdWUgPSBfYW5ndWxhci5kZWZhdWx0LnRvSnNvbihKU09OLnBhcnNlKGZpZWxkLnZhbHVlKSwgdHJ1ZSk7CiAgICAgICAgICAgIGZpZWxkLnR5cGUgPSAnanNvbic7CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgZmllbGQudmFsdWUgPSBmaWVsZC52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCgwLCBfbnVtZXJpYy5pc051bWVyaWMpKGZpZWxkLnZhbHVlKSkgewogICAgICAgICAgZmllbGQudHlwZSA9ICdudW1iZXInOwogICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmaWVsZC52YWx1ZSkpIHsKICAgICAgICAgIGZpZWxkLnR5cGUgPSAnYXJyYXknOwogICAgICAgICAgZmllbGQudmFsdWUgPSBfYW5ndWxhci5kZWZhdWx0LnRvSnNvbihmaWVsZC52YWx1ZSwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIGlmIChfbG9kYXNoLmRlZmF1bHQuaXNCb29sZWFuKGZpZWxkLnZhbHVlKSkgewogICAgICAgICAgZmllbGQudHlwZSA9ICdib29sZWFuJzsKICAgICAgICAgIGZpZWxkLnZhbHVlID0gZmllbGQudmFsdWU7CiAgICAgICAgfSBlbHNlIGlmIChfbG9kYXNoLmRlZmF1bHQuaXNQbGFpbk9iamVjdChmaWVsZC52YWx1ZSkpIHsKICAgICAgICAgIC8vIGRvIHNvbWV0aGluZyByZWN1cnNpdmUKICAgICAgICAgIHJldHVybiBfbG9kYXNoLmRlZmF1bHQucmVkdWNlKGZpZWxkLnZhbHVlLCBfbG9kYXNoLmRlZmF1bHQucGFydGlhbFJpZ2h0KGNyZWF0ZUZpZWxkLCBwYXJlbnRzKSwgbWVtbyk7CiAgICAgICAgfQoKICAgICAgICBtZW1vLnB1c2goZmllbGQpOyAvLyBvbmNlIHRoZSBmaWVsZCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0IHlvdSBuZWVkIHRvIHBvcCB0aGUgcGFyZW50cwogICAgICAgIC8vIHRvIHJlbW92ZSBpdCBzaW5jZSB3ZSd2ZSBoaXQgdGhlIGVuZCBvZiB0aGUgYnJhbmNoLgoKICAgICAgICBwYXJlbnRzLnBvcCgpOwogICAgICAgIHJldHVybiBtZW1vOwogICAgICB9OwoKICAgICAgdmFyIHJlYWRPYmplY3RDbGFzcyA9IGZ1bmN0aW9uIHJlYWRPYmplY3RDbGFzcyhmaWVsZHMsIENsYXNzKSB7CiAgICAgICAgdmFyIGZpZWxkTWFwID0gX2xvZGFzaC5kZWZhdWx0LmluZGV4QnkoZmllbGRzLCAnbmFtZScpOwoKICAgICAgICBfbG9kYXNoLmRlZmF1bHQuZm9yT3duKENsYXNzLm1hcHBpbmcsIGZ1bmN0aW9uIChlc1R5cGUsIG5hbWUpIHsKICAgICAgICAgIGlmIChmaWVsZE1hcFtuYW1lXSkgcmV0dXJuOwogICAgICAgICAgZmllbGRzLnB1c2goewogICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgc3dpdGNoICgoMCwgX3V0aWxzLmNhc3RFc1RvS2JuRmllbGRUeXBlTmFtZSkoZXNUeXBlKSkgewogICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzoKICAgICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0JzsKCiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOgogICAgICAgICAgICAgICAgICByZXR1cm4gJ251bWJlcic7CgogICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6CiAgICAgICAgICAgICAgICAgIHJldHVybiAnYm9vbGVhbic7CgogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgcmV0dXJuICdqc29uJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0oKQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChDbGFzcy5zZWFyY2hTb3VyY2UgJiYgIWZpZWxkTWFwWydraWJhbmFTYXZlZE9iamVjdE1ldGEuc2VhcmNoU291cmNlSlNPTiddKSB7CiAgICAgICAgICBmaWVsZHMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdraWJhbmFTYXZlZE9iamVjdE1ldGEuc2VhcmNoU291cmNlSlNPTicsCiAgICAgICAgICAgIHR5cGU6ICdqc29uJywKICAgICAgICAgICAgdmFsdWU6ICd7fScKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFmaWVsZE1hcC5yZWZlcmVuY2VzKSB7CiAgICAgICAgICBmaWVsZHMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdyZWZlcmVuY2VzJywKICAgICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgICAgdmFsdWU6ICdbXScKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHZhciBfdWlDYXBhYmlsaXRpZXMkc2F2ZWQgPSB1aUNhcGFiaWxpdGllcy5zYXZlZE9iamVjdHNNYW5hZ2VtZW50LAogICAgICAgICAgY2FuRWRpdCA9IF91aUNhcGFiaWxpdGllcyRzYXZlZC5lZGl0LAogICAgICAgICAgY2FuRGVsZXRlID0gX3VpQ2FwYWJpbGl0aWVzJHNhdmVkLmRlbGV0ZTsKICAgICAgJHNjb3BlLmNhbkVkaXQgPSBjYW5FZGl0OwogICAgICAkc2NvcGUuY2FuRGVsZXRlID0gY2FuRGVsZXRlOwogICAgICAkc2NvcGUuY2FuVmlld0luQXBwID0gKDAsIF9pbl9hcHBfdXJsLmNhblZpZXdJbkFwcCkodWlDYXBhYmlsaXRpZXMsIHNlcnZpY2UudHlwZSk7CiAgICAgICRzY29wZS5ub3RGb3VuZCA9ICRyb3V0ZVBhcmFtcy5ub3RGb3VuZDsKICAgICAgJHNjb3BlLnRpdGxlID0gc2VydmljZS50eXBlOwogICAgICBzYXZlZE9iamVjdHNDbGllbnQuZ2V0KHNlcnZpY2UudHlwZSwgJHJvdXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAkc2NvcGUub2JqID0gb2JqOwogICAgICAgICRzY29wZS5saW5rID0gc2VydmljZS51cmxGb3Iob2JqLmlkKTsKCiAgICAgICAgdmFyIGZpZWxkcyA9IF9sb2Rhc2guZGVmYXVsdC5yZWR1Y2Uob2JqLmF0dHJpYnV0ZXMsIGNyZWF0ZUZpZWxkLCBbXSk7IC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHJlZmVyZW5jZXMgd2hpY2ggaXNuJ3Qgd2l0aGluICJhdHRyaWJ1dGVzIgoKCiAgICAgICAgY3JlYXRlRmllbGQoZmllbGRzLCBvYmoucmVmZXJlbmNlcywgJ3JlZmVyZW5jZXMnKTsKICAgICAgICBpZiAoc2VydmljZS5DbGFzcykgcmVhZE9iamVjdENsYXNzKGZpZWxkcywgc2VydmljZS5DbGFzcyk7IC8vIHNvcnRzIHR3aWNlIHNpbmNlIHdlIHdhbnQgbnVtZXJpY2FsIHNvcnQgdG8gcHJpb3JpdGl6ZSBvdmVyIG5hbWUsCiAgICAgICAgLy8gYW5kIHNvcnRCeSB3aWxsIGRvIHN0cmluZyBjb21wYXJpc29uIGlmIHRyeWluZyB0byBtYXRjaCBhZ2FpbnN0IHN0cmluZ3MKCiAgICAgICAgdmFyIG5hbWVTb3J0ZWRGaWVsZHMgPSBfbG9kYXNoLmRlZmF1bHQuc29ydEJ5KGZpZWxkcywgJ25hbWUnKTsKCiAgICAgICAgJHNjb3BlLmZpZWxkcyA9IF9sb2Rhc2guZGVmYXVsdC5zb3J0QnkobmFtZVNvcnRlZEZpZWxkcywgZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICB2YXIgb3JkZXJJbmRleCA9IHNlcnZpY2UuQ2xhc3MuZmllbGRPcmRlciA/IHNlcnZpY2UuQ2xhc3MuZmllbGRPcmRlci5pbmRleE9mKGZpZWxkLm5hbWUpIDogLTE7CiAgICAgICAgICByZXR1cm4gb3JkZXJJbmRleCA+IC0xID8gb3JkZXJJbmRleCA6IEluZmluaXR5OwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gKDAsIF9ub3RpZnkuZmF0YWxFcnJvcikoZXJyb3IsIGxvY2F0aW9uKTsKICAgICAgfSk7IC8vIFRoaXMgaGFuZGxlcyB0aGUgdmFsaWRhdGlvbiBvZiB0aGUgQWNlIEVkaXRvci4gU2luY2Ugd2UgZG9uJ3QgaGF2ZSBhbnkKICAgICAgLy8gb3RoZXIgaG9va3MgaW50byB0aGUgZWRpdG9ycyB0byB0ZWxsIHVzIGlmIHRoZSBjb250ZW50IGlzIHZhbGlkIG9yIG5vdAogICAgICAvLyB3ZSBuZWVkIHRvIHVzZSB0aGUgYW5ub3RhdGlvbnMgdG8gc2VlIGlmIHRoZXkgaGF2ZSBhbnkgZXJyb3JzLiBJZiB0aGV5CiAgICAgIC8vIGRvIHRoZW4gd2UgcHVzaCB0aGUgZmllbGQubmFtZSB0byBhY2VJbnZhbGlkRWRpdG9yIHZhcmlhYmxlLgogICAgICAvLyBPdGhlcndpc2Ugd2UgcmVtb3ZlIGl0LgoKICAgICAgdmFyIGxvYWRlZEVkaXRvcnMgPSBbXTsKICAgICAgJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzID0gW107CgogICAgICAkc2NvcGUuYWNlTG9hZGVkID0gZnVuY3Rpb24gKGVkaXRvcikgewogICAgICAgIGlmIChfbG9kYXNoLmRlZmF1bHQuY29udGFpbnMobG9hZGVkRWRpdG9ycywgZWRpdG9yKSkgcmV0dXJuOwogICAgICAgIGxvYWRlZEVkaXRvcnMucHVzaChlZGl0b3IpOwogICAgICAgIGVkaXRvci4kYmxvY2tTY3JvbGxpbmcgPSBJbmZpbml0eTsKICAgICAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5nZXRTZXNzaW9uKCk7CiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGVkaXRvci5jb250YWluZXIuaWQ7CiAgICAgICAgc2Vzc2lvbi5zZXRUYWJTaXplKDIpOwogICAgICAgIHNlc3Npb24uc2V0VXNlU29mdFRhYnModHJ1ZSk7CiAgICAgICAgc2Vzc2lvbi5vbignY2hhbmdlQW5ub3RhdGlvbicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBhbm5vdGF0aW9ucyA9IHNlc3Npb24uZ2V0QW5ub3RhdGlvbnMoKTsKCiAgICAgICAgICBpZiAoX2xvZGFzaC5kZWZhdWx0LnNvbWUoYW5ub3RhdGlvbnMsIHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSkpIHsKICAgICAgICAgICAgaWYgKCFfbG9kYXNoLmRlZmF1bHQuY29udGFpbnMoJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzLCBmaWVsZE5hbWUpKSB7CiAgICAgICAgICAgICAgJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzLnB1c2goZmllbGROYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzID0gX2xvZGFzaC5kZWZhdWx0LndpdGhvdXQoJHNjb3BlLmFjZUludmFsaWRFZGl0b3JzLCBmaWVsZE5hbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkc2NvcGUuJGFwcGx5KCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgICR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9OwogICAgICAvKioKICAgICAgKiBEZWxldGVzIGFuIG9iamVjdCBhbmQgc2V0cyB0aGUgbm90aWZpY2F0aW9uCiAgICAgICogQHBhcmFtIHt0eXBlfSBuYW1lIGRlc2NyaXB0aW9uCiAgICAgICogQHJldHVybnMge3R5cGV9IGRlc2NyaXB0aW9uCiAgICAgICovCgoKICAgICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmdW5jdGlvbiBkb0RlbGV0ZSgpIHsKICAgICAgICAgIHNhdmVkT2JqZWN0c0NsaWVudC5kZWxldGUoc2VydmljZS50eXBlLCAkcm91dGVQYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gcmVkaXJlY3RIYW5kbGVyKCdkZWxldGVkJyk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgcmV0dXJuICgwLCBfbm90aWZ5LmZhdGFsRXJyb3IpKGVycm9yLCBsb2NhdGlvbik7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHZhciBjb25maXJtTW9kYWxPcHRpb25zID0gewogICAgICAgICAgb25Db25maXJtOiBkb0RlbGV0ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgna2JuLm1hbmFnZW1lbnQub2JqZWN0cy5jb25maXJtTW9kYWxPcHRpb25zLmRlbGV0ZUJ1dHRvbkxhYmVsJywgewogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZScKICAgICAgICAgIH0pLAogICAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4ubWFuYWdlbWVudC5vYmplY3RzLmNvbmZpcm1Nb2RhbE9wdGlvbnMubW9kYWxUaXRsZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUgc2F2ZWQgS2liYW5hIG9iamVjdD8nCiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgY29uZmlybU1vZGFsKF9pMThuLmkxOG4udHJhbnNsYXRlKCdrYm4ubWFuYWdlbWVudC5vYmplY3RzLmNvbmZpcm1Nb2RhbE9wdGlvbnMubW9kYWxEZXNjcmlwdGlvbicsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnWW91IGNhblwndCByZWNvdmVyIGRlbGV0ZWQgb2JqZWN0cycKICAgICAgICB9KSwgY29uZmlybU1vZGFsT3B0aW9ucyk7CiAgICAgIH07CgogICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzb3VyY2UgPSBfbG9kYXNoLmRlZmF1bHQuY2xvbmVEZWVwKCRzY29wZS5vYmouYXR0cmlidXRlcyk7CgogICAgICAgIF9sb2Rhc2guZGVmYXVsdC5lYWNoKCRzY29wZS5maWVsZHMsIGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgdmFyIHZhbHVlID0gZmllbGQudmFsdWU7CgogICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgIHZhbHVlID0gTnVtYmVyKGZpZWxkLnZhbHVlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2FycmF5JykgewogICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoZmllbGQudmFsdWUpOwogICAgICAgICAgfQoKICAgICAgICAgIF9sb2Rhc2guZGVmYXVsdC5zZXQoc291cmNlLCBmaWVsZC5uYW1lLCB2YWx1ZSk7CiAgICAgICAgfSk7CgogICAgICAgIHZhciByZWZlcmVuY2VzID0gc291cmNlLnJlZmVyZW5jZXMsCiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBbInJlZmVyZW5jZXMiXSk7CgogICAgICAgIHNhdmVkT2JqZWN0c0NsaWVudC51cGRhdGUoc2VydmljZS50eXBlLCAkcm91dGVQYXJhbXMuaWQsIGF0dHJpYnV0ZXMsIHsKICAgICAgICAgIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiByZWRpcmVjdEhhbmRsZXIoJ3VwZGF0ZWQnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShlcnJvciwgbG9jYXRpb24pOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gcmVkaXJlY3RIYW5kbGVyKGFjdGlvbikgewogICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbWFuYWdlbWVudC9raWJhbmEvb2JqZWN0cycpLnNlYXJjaCh7CiAgICAgICAgICBfYTogX3Jpc29uTm9kZS5kZWZhdWx0LmVuY29kZSh7CiAgICAgICAgICAgIHRhYjogc2VydmljZU9iai50aXRsZQogICAgICAgICAgfSkKICAgICAgICB9KTsKCiAgICAgICAgX25vdGlmeS50b2FzdE5vdGlmaWNhdGlvbnMuYWRkU3VjY2VzcygiIi5jb25jYXQoX2xvZGFzaC5kZWZhdWx0LmNhcGl0YWxpemUoYWN0aW9uKSwgIiAnIikuY29uY2F0KCRzY29wZS5vYmouYXR0cmlidXRlcy50aXRsZSwgIicgIikuY29uY2F0KCRzY29wZS50aXRsZS50b0xvd2VyQ2FzZSgpLCAiIG9iamVjdCIpKTsKICAgICAgfQogICAgfQogIH07Cn0pOw=="},null]}