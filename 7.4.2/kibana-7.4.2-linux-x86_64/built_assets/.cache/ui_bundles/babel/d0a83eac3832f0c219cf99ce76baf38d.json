{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/data/public/search/search_bar/components/saved_query_management/saved_query_management_component.js","dependencies":[{"path":"src/legacy/core_plugins/data/public/search/search_bar/components/saved_query_management/saved_query_management_component.js","mtime":1572296409532},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlNhdmVkUXVlcnlNYW5hZ2VtZW50Q29tcG9uZW50ID0gdm9pZCAwOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfc2F2ZWRfcXVlcnlfbGlzdF9pdGVtID0gcmVxdWlyZSgiLi9zYXZlZF9xdWVyeV9saXN0X2l0ZW0iKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgIHJldHVybiBvYmo7CiAgfSBlbHNlIHsKICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7CiAgICByZXR1cm4gbmV3T2JqOwogIH0KfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgewogIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsKICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGFycjJbaV0gPSBhcnJbaV07CiAgICB9CgogICAgcmV0dXJuIGFycjI7CiAgfQp9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7CiAgdHJ5IHsKICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsKICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlamVjdChlcnJvcik7CiAgICByZXR1cm47CiAgfQoKICBpZiAoaW5mby5kb25lKSB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9IGVsc2UgewogICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOwogIH0KfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIHNlbGYgPSB0aGlzLAogICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7CgogICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsKICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7CiAgICAgIH0KCiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7CiAgICB9KTsKICB9Owp9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogIHZhciBfYXJyID0gW107CiAgdmFyIF9uID0gdHJ1ZTsKICB2YXIgX2QgPSBmYWxzZTsKICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7CiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZCA9IHRydWU7CiAgICBfZSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgfQogIH0KCiAgcmV0dXJuIF9hcnI7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwp9Cgp2YXIgcGVyUGFnZSA9IDUwOwoKdmFyIFNhdmVkUXVlcnlNYW5hZ2VtZW50Q29tcG9uZW50ID0gZnVuY3Rpb24gU2F2ZWRRdWVyeU1hbmFnZW1lbnRDb21wb25lbnQoX3JlZikgewogIHZhciBzaG93U2F2ZVF1ZXJ5ID0gX3JlZi5zaG93U2F2ZVF1ZXJ5LAogICAgICBsb2FkZWRTYXZlZFF1ZXJ5ID0gX3JlZi5sb2FkZWRTYXZlZFF1ZXJ5LAogICAgICBvblNhdmUgPSBfcmVmLm9uU2F2ZSwKICAgICAgb25TYXZlQXNOZXcgPSBfcmVmLm9uU2F2ZUFzTmV3LAogICAgICBvbkxvYWQgPSBfcmVmLm9uTG9hZCwKICAgICAgb25DbGVhclNhdmVkUXVlcnkgPSBfcmVmLm9uQ2xlYXJTYXZlZFF1ZXJ5LAogICAgICBzYXZlZFF1ZXJ5U2VydmljZSA9IF9yZWYuc2F2ZWRRdWVyeVNlcnZpY2U7CgogIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpc09wZW4gPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRJc09wZW4gPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKFtdKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBzYXZlZFF1ZXJpZXMgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRTYXZlZFF1ZXJpZXMgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9ICgwLCBfcmVhY3QudXNlU3RhdGUpKDApLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGNvdW50ID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0VG90YWxDb3VudCA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoMCksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgYWN0aXZlUGFnZSA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldEFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU4WzFdOwoKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgdmFyIGZldGNoQ291bnRBbmRTYXZlZFF1ZXJpZXMgPQogICAgLyojX19QVVJFX18qLwogICAgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBzYXZlZFF1ZXJ5Q291bnQsIHNhdmVkUXVlcnlJdGVtcywgc29ydGVkU2F2ZWRRdWVyeUl0ZW1zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkUXVlcnlTZXJ2aWNlLmdldFNhdmVkUXVlcnlDb3VudCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzYXZlZFF1ZXJ5Q291bnQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgc2V0VG90YWxDb3VudChzYXZlZFF1ZXJ5Q291bnQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRRdWVyeVNlcnZpY2UuZmluZFNhdmVkUXVlcmllcygnJywgcGVyUGFnZSwgYWN0aXZlUGFnZSArIDEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBzYXZlZFF1ZXJ5SXRlbXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgc29ydGVkU2F2ZWRRdWVyeUl0ZW1zID0gKDAsIF9sb2Rhc2guc29ydEJ5KShzYXZlZFF1ZXJ5SXRlbXMsICdhdHRyaWJ1dGVzLnRpdGxlJyk7CiAgICAgICAgICAgICAgICBzZXRTYXZlZFF1ZXJpZXMoc29ydGVkU2F2ZWRRdWVyeUl0ZW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBmZXRjaENvdW50QW5kU2F2ZWRRdWVyaWVzKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIGlmIChpc09wZW4pIHsKICAgICAgZmV0Y2hDb3VudEFuZFNhdmVkUXVlcmllcygpOwogICAgfQogIH0sIFtpc09wZW4sIGFjdGl2ZVBhZ2VdKTsKCiAgdmFyIGdvVG9QYWdlID0gZnVuY3Rpb24gZ29Ub1BhZ2UocGFnZU51bWJlcikgewogICAgc2V0QWN0aXZlUGFnZShwYWdlTnVtYmVyKTsKICB9OwoKICB2YXIgc2F2ZWRRdWVyeURlc2NyaXB0aW9uVGV4dCA9IF9pMThuLmkxOG4udHJhbnNsYXRlKCdkYXRhLnNlYXJjaC5zZWFyY2hCYXIuc2F2ZWRRdWVyeURlc2NyaXB0aW9uVGV4dCcsIHsKICAgIGRlZmF1bHRNZXNzYWdlOiAnU2F2ZSBxdWVyeSB0ZXh0IGFuZCBmaWx0ZXJzIHRoYXQgeW91IHdhbnQgdG8gdXNlIGFnYWluLicKICB9KTsKCiAgdmFyIG5vU2F2ZWRRdWVyaWVzRGVzY3JpcHRpb25UZXh0ID0gX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5Tm9TYXZlZFF1ZXJpZXNUZXh0JywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGVyZSBhcmUgbm8gc2F2ZWQgcXVlcmllcy4nCiAgfSkgKyAnICcgKyBzYXZlZFF1ZXJ5RGVzY3JpcHRpb25UZXh0OwoKICB2YXIgc2F2ZWRRdWVyeVBvcG92ZXJUaXRsZVRleHQgPSBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlQb3BvdmVyVGl0bGVUZXh0JywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlZCBRdWVyaWVzJwogIH0pOwoKICB2YXIgb25EZWxldGVTYXZlZFF1ZXJ5ID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihzYXZlZFF1ZXJ5KSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc2V0U2F2ZWRRdWVyaWVzKHNhdmVkUXVlcmllcy5maWx0ZXIoZnVuY3Rpb24gKGN1cnJlbnRTYXZlZFF1ZXJ5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFNhdmVkUXVlcnkuaWQgIT09IHNhdmVkUXVlcnkuaWQ7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBpZiAobG9hZGVkU2F2ZWRRdWVyeSAmJiBsb2FkZWRTYXZlZFF1ZXJ5LmlkID09PSBzYXZlZFF1ZXJ5LmlkKSB7CiAgICAgICAgICAgICAgICBvbkNsZWFyU2F2ZWRRdWVyeSgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBzYXZlZFF1ZXJ5U2VydmljZS5kZWxldGVTYXZlZFF1ZXJ5KHNhdmVkUXVlcnkuaWQpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBvbkRlbGV0ZVNhdmVkUXVlcnkoX3gpIHsKICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIHNhdmVkUXVlcnlQb3BvdmVyQnV0dG9uID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBjbGFzc05hbWU6ICJldWlGb3JtQ29udHJvbExheW91dF9fcHJlcGVuZCIsCiAgICBpY29uVHlwZTogImFycm93RG93biIsCiAgICBpY29uU2lkZTogInJpZ2h0IiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHNldElzT3BlbighaXNPcGVuKTsKICAgIH0sCiAgICAiYXJpYS1sYWJlbCI6IF9pMThuLmkxOG4udHJhbnNsYXRlKCdkYXRhLnNlYXJjaC5zZWFyY2hCYXIuc2F2ZWRRdWVyeVBvcG92ZXJCdXR0b25UZXh0JywgewogICAgICBkZWZhdWx0TWVzc2FnZTogJ1NlZSBzYXZlZCBxdWVyaWVzJwogICAgfSksCiAgICB0aXRsZTogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5UG9wb3ZlckJ1dHRvblRleHQnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2VlIHNhdmVkIHF1ZXJpZXMnCiAgICB9KSwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzYXZlZC1xdWVyeS1tYW5hZ2VtZW50LXBvcG92ZXItYnV0dG9uIgogIH0sICIjIik7CgogIHZhciBzYXZlZFF1ZXJ5Um93cyA9IGZ1bmN0aW9uIHNhdmVkUXVlcnlSb3dzKCkgewogICAgdmFyIHNhdmVkUXVlcmllc1dpdGhvdXRDdXJyZW50ID0gc2F2ZWRRdWVyaWVzLmZpbHRlcihmdW5jdGlvbiAoc2F2ZWRRdWVyeSkgewogICAgICBpZiAoIWxvYWRlZFNhdmVkUXVlcnkpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gc2F2ZWRRdWVyeS5pZCAhPT0gbG9hZGVkU2F2ZWRRdWVyeS5pZDsKICAgIH0pOwogICAgdmFyIHNhdmVkUXVlcmllc1Jlb3JkZXJlZCA9IGxvYWRlZFNhdmVkUXVlcnkgJiYgc2F2ZWRRdWVyaWVzV2l0aG91dEN1cnJlbnQubGVuZ3RoICE9PSBzYXZlZFF1ZXJpZXMubGVuZ3RoID8gW2xvYWRlZFNhdmVkUXVlcnldLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2F2ZWRRdWVyaWVzV2l0aG91dEN1cnJlbnQpKSA6IF90b0NvbnN1bWFibGVBcnJheShzYXZlZFF1ZXJpZXNXaXRob3V0Q3VycmVudCk7CiAgICByZXR1cm4gc2F2ZWRRdWVyaWVzUmVvcmRlcmVkLm1hcChmdW5jdGlvbiAoc2F2ZWRRdWVyeSkgewogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfc2F2ZWRfcXVlcnlfbGlzdF9pdGVtLlNhdmVkUXVlcnlMaXN0SXRlbSwgewogICAgICAgIGtleTogc2F2ZWRRdWVyeS5pZCwKICAgICAgICBzYXZlZFF1ZXJ5OiBzYXZlZFF1ZXJ5LAogICAgICAgIGlzU2VsZWN0ZWQ6ICEhbG9hZGVkU2F2ZWRRdWVyeSAmJiBsb2FkZWRTYXZlZFF1ZXJ5LmlkID09PSBzYXZlZFF1ZXJ5LmlkLAogICAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdChzYXZlZFF1ZXJ5VG9TZWxlY3QpIHsKICAgICAgICAgIG9uTG9hZChzYXZlZFF1ZXJ5VG9TZWxlY3QpOwogICAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTsKICAgICAgICB9LAogICAgICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZShzYXZlZFF1ZXJ5VG9EZWxldGUpIHsKICAgICAgICAgIHJldHVybiBvbkRlbGV0ZVNhdmVkUXVlcnkoc2F2ZWRRdWVyeVRvRGVsZXRlKTsKICAgICAgICB9LAogICAgICAgIHNob3dXcml0ZU9wZXJhdGlvbnM6ICEhc2hvd1NhdmVRdWVyeQogICAgICB9KTsKICAgIH0pOwogIH07CgogIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBvcG92ZXIsIHsKICAgIGlkOiAic2F2ZWRRdWVyeVBvcG92ZXIiLAogICAgYnV0dG9uOiBzYXZlZFF1ZXJ5UG9wb3ZlckJ1dHRvbiwKICAgIGlzT3BlbjogaXNPcGVuLAogICAgY2xvc2VQb3BvdmVyOiBmdW5jdGlvbiBjbG9zZVBvcG92ZXIoKSB7CiAgICAgIHNldElzT3BlbihmYWxzZSk7CiAgICB9LAogICAgYW5jaG9yUG9zaXRpb246ICJkb3duTGVmdCIsCiAgICBwYW5lbFBhZGRpbmdTaXplOiAibm9uZSIsCiAgICBvd25Gb2N1czogdHJ1ZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogImtiblNhdmVkUXVlcnlNYW5hZ2VtZW50X19wb3BvdmVyIiwKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJzYXZlZC1xdWVyeS1tYW5hZ2VtZW50LXBvcG92ZXIiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVBvcG92ZXJUaXRsZSwgewogICAgaWQ6ICdzYXZlZFF1ZXJ5TWFuYWdlbWVudFBvcG92ZXJUaXRsZScKICB9LCBzYXZlZFF1ZXJ5UG9wb3ZlclRpdGxlVGV4dCksIHNhdmVkUXVlcmllcy5sZW5ndGggPiAwID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUZXh0LCB7CiAgICBzaXplOiAicyIsCiAgICBjb2xvcjogInN1YmR1ZWQiLAogICAgY2xhc3NOYW1lOiAia2JuU2F2ZWRRdWVyeU1hbmFnZW1lbnRfX3RleHQiCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIHNhdmVkUXVlcnlEZXNjcmlwdGlvblRleHQpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAia2JuU2F2ZWRRdWVyeU1hbmFnZW1lbnRfX2xpc3RXcmFwcGVyIgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlMaXN0R3JvdXAsIHsKICAgIGZsdXNoOiB0cnVlLAogICAgY2xhc3NOYW1lOiAia2JuU2F2ZWRRdWVyeU1hbmFnZW1lbnRfX2xpc3QiLAogICAgImFyaWEtbGFiZWxsZWRieSI6ICdzYXZlZFF1ZXJ5TWFuYWdlbWVudFBvcG92ZXJUaXRsZScKICB9LCBzYXZlZFF1ZXJ5Um93cygpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYWdpbmF0aW9uLCB7CiAgICBjbGFzc05hbWU6ICJrYm5TYXZlZFF1ZXJ5TWFuYWdlbWVudF9fcGFnaW5hdGlvbiIsCiAgICBwYWdlQ291bnQ6IE1hdGguY2VpbChjb3VudCAvIHBlclBhZ2UpLAogICAgYWN0aXZlUGFnZTogYWN0aXZlUGFnZSwKICAgIG9uUGFnZUNsaWNrOiBnb1RvUGFnZQogIH0pKSA6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgewogICAgc2l6ZTogInMiLAogICAgY29sb3I6ICJzdWJkdWVkIiwKICAgIGNsYXNzTmFtZTogImtiblNhdmVkUXVlcnlNYW5hZ2VtZW50X190ZXh0IgogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInAiLCBudWxsLCBub1NhdmVkUXVlcmllc0Rlc2NyaXB0aW9uVGV4dCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICBzaXplOiAicyIKICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQb3BvdmVyRm9vdGVyLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICBkaXJlY3Rpb246ICJyb3dSZXZlcnNlIiwKICAgIGd1dHRlclNpemU6ICJzIiwKICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiLAogICAganVzdGlmeUNvbnRlbnQ6ICJmbGV4RW5kIiwKICAgIHJlc3BvbnNpdmU6IGZhbHNlLAogICAgd3JhcDogdHJ1ZQogIH0sIHNob3dTYXZlUXVlcnkgJiYgbG9hZGVkU2F2ZWRRdWVyeSAmJiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5GcmFnbWVudCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgIHNpemU6ICJzIiwKICAgIGZpbGw6IHRydWUsCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICByZXR1cm4gb25TYXZlKCk7CiAgICB9LAogICAgImFyaWEtbGFiZWwiOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlQb3BvdmVyU2F2ZUNoYW5nZXNCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2F2ZSBjaGFuZ2VzIHRvIHt0aXRsZX0nLAogICAgICB2YWx1ZXM6IHsKICAgICAgICB0aXRsZTogbG9hZGVkU2F2ZWRRdWVyeS5hdHRyaWJ1dGVzLnRpdGxlCiAgICAgIH0KICAgIH0pLAogICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVkLXF1ZXJ5LW1hbmFnZW1lbnQtc2F2ZS1jaGFuZ2VzLWJ1dHRvbiIKICB9LCBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlQb3BvdmVyU2F2ZUNoYW5nZXNCdXR0b25UZXh0JywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlIGNoYW5nZXMnCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgIHNpemU6ICJzIiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiBvblNhdmVBc05ldygpOwogICAgfSwKICAgICJhcmlhLWxhYmVsIjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5UG9wb3ZlclNhdmVBc05ld0J1dHRvbkFyaWFMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlIGFzIGEgbmV3IHNhdmVkIHF1ZXJ5JwogICAgfSksCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAic2F2ZWQtcXVlcnktbWFuYWdlbWVudC1zYXZlLWFzLW5ldy1idXR0b24iCiAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5UG9wb3ZlclNhdmVBc05ld0J1dHRvblRleHQnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ1NhdmUgYXMgbmV3JwogIH0pKSkpLCBzaG93U2F2ZVF1ZXJ5ICYmICFsb2FkZWRTYXZlZFF1ZXJ5ICYmIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgZ3JvdzogZmFsc2UKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQnV0dG9uLCB7CiAgICBzaXplOiAicyIsCiAgICBmaWxsOiB0cnVlLAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgcmV0dXJuIG9uU2F2ZSgpOwogICAgfSwKICAgICJhcmlhLWxhYmVsIjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5UG9wb3ZlclNhdmVCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2F2ZSBhIG5ldyBzYXZlZCBxdWVyeScKICAgIH0pLAogICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVkLXF1ZXJ5LW1hbmFnZW1lbnQtc2F2ZS1idXR0b24iCiAgfSwgX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2RhdGEuc2VhcmNoLnNlYXJjaEJhci5zYXZlZFF1ZXJ5UG9wb3ZlclNhdmVCdXR0b25UZXh0JywgewogICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlIGN1cnJlbnQgcXVlcnknCiAgfSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIGxvYWRlZFNhdmVkUXVlcnkgJiYgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbkVtcHR5LCB7CiAgICBzaXplOiAicyIsCiAgICBmbHVzaDogImxlZnQiLAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgcmV0dXJuIG9uQ2xlYXJTYXZlZFF1ZXJ5KCk7CiAgICB9LAogICAgImFyaWEtbGFiZWwiOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnZGF0YS5zZWFyY2guc2VhcmNoQmFyLnNhdmVkUXVlcnlQb3BvdmVyQ2xlYXJCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnQ2xlYXIgY3VycmVudCBzYXZlZCBxdWVyeScKICAgIH0pLAogICAgImRhdGEtdGVzdC1zdWJqIjogInNhdmVkLXF1ZXJ5LW1hbmFnZW1lbnQtY2xlYXItYnV0dG9uIgogIH0sIF9pMThuLmkxOG4udHJhbnNsYXRlKCdkYXRhLnNlYXJjaC5zZWFyY2hCYXIuc2F2ZWRRdWVyeVBvcG92ZXJDbGVhckJ1dHRvblRleHQnLCB7CiAgICBkZWZhdWx0TWVzc2FnZTogJ0NsZWFyJwogIH0pKSkpKSkpKTsKfTsKCmV4cG9ydHMuU2F2ZWRRdWVyeU1hbmFnZW1lbnRDb21wb25lbnQgPSBTYXZlZFF1ZXJ5TWFuYWdlbWVudENvbXBvbmVudDs="},null]}