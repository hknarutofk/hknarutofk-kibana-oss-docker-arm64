{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/data/public/index_patterns/index_patterns/flatten_hit.js","dependencies":[{"path":"src/legacy/core_plugins/data/public/index_patterns/index_patterns/flatten_hit.js","mtime":1572296409468},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmZsYXR0ZW5IaXRXcmFwcGVyID0gZmxhdHRlbkhpdFdyYXBwZXI7CmV4cG9ydHMuY3JlYXRlRmxhdHRlbkhpdFdyYXBwZXIgPSBjcmVhdGVGbGF0dGVuSGl0V3JhcHBlcjsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLy8gVGFrZXMgYSBoaXQsIG1lcmdlcyBpdCB3aXRoIGFueSBzdG9yZWQvc2NyaXB0ZWQgZmllbGRzLCBhbmQgd2l0aCB0aGUgbWV0YUZpZWxkcwovLyByZXR1cm5zIGEgZmxhdHRlbmVkIHZlcnNpb24KZnVuY3Rpb24gZmxhdHRlbkhpdChpbmRleFBhdHRlcm4sIGhpdCwgZGVlcCkgewogIHZhciBmbGF0ID0ge307IC8vIHJlY3Vyc2l2ZWx5IG1lcmdlIF9zb3VyY2UKCiAgdmFyIGZpZWxkcyA9IGluZGV4UGF0dGVybi5maWVsZHMuYnlOYW1lOwoKICAoZnVuY3Rpb24gZmxhdHRlbihvYmosIGtleVByZWZpeCkgewogICAga2V5UHJlZml4ID0ga2V5UHJlZml4ID8ga2V5UHJlZml4ICsgJy4nIDogJyc7CgogICAgX2xvZGFzaC5kZWZhdWx0LmZvck93bihvYmosIGZ1bmN0aW9uICh2YWwsIGtleSkgewogICAgICBrZXkgPSBrZXlQcmVmaXggKyBrZXk7CgogICAgICBpZiAoZGVlcCkgewogICAgICAgIHZhciBpc05lc3RlZEZpZWxkID0gZmllbGRzW2tleV0gJiYgZmllbGRzW2tleV0udHlwZSA9PT0gJ25lc3RlZCc7CgogICAgICAgIHZhciBpc0FycmF5T2ZPYmplY3RzID0gQXJyYXkuaXNBcnJheSh2YWwpICYmIF9sb2Rhc2guZGVmYXVsdC5pc1BsYWluT2JqZWN0KF9sb2Rhc2guZGVmYXVsdC5maXJzdCh2YWwpKTsKCiAgICAgICAgaWYgKGlzQXJyYXlPZk9iamVjdHMgJiYgIWlzTmVzdGVkRmllbGQpIHsKICAgICAgICAgIF9sb2Rhc2guZGVmYXVsdC5lYWNoKHZhbCwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW4odiwga2V5KTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZmxhdFtrZXldICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBoYXNWYWxpZE1hcHBpbmcgPSBmaWVsZHNba2V5XSAmJiBmaWVsZHNba2V5XS50eXBlICE9PSAnY29uZmxpY3QnOwogICAgICB2YXIgaXNWYWx1ZSA9ICFfbG9kYXNoLmRlZmF1bHQuaXNQbGFpbk9iamVjdCh2YWwpOwoKICAgICAgaWYgKGhhc1ZhbGlkTWFwcGluZyB8fCBpc1ZhbHVlKSB7CiAgICAgICAgaWYgKCFmbGF0W2tleV0pIHsKICAgICAgICAgIGZsYXRba2V5XSA9IHZhbDsKICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZmxhdFtrZXldKSkgewogICAgICAgICAgZmxhdFtrZXldLnB1c2godmFsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZmxhdFtrZXldID0gW2ZsYXRba2V5XSwgdmFsXTsKICAgICAgICB9CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZmxhdHRlbih2YWwsIGtleSk7CiAgICB9KTsKICB9KShoaXQuX3NvdXJjZSk7CgogIHJldHVybiBmbGF0Owp9CgpmdW5jdGlvbiBkZWNvcmF0ZUZsYXR0ZW5lZFdyYXBwZXIoaGl0LCBtZXRhRmllbGRzKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChmbGF0dGVuZWQpIHsKICAgIC8vIGFzc2lnbiB0aGUgbWV0YSBmaWVsZHMKICAgIF9sb2Rhc2guZGVmYXVsdC5lYWNoKG1ldGFGaWVsZHMsIGZ1bmN0aW9uIChtZXRhKSB7CiAgICAgIGlmIChtZXRhID09PSAnX3NvdXJjZScpIHJldHVybjsKICAgICAgZmxhdHRlbmVkW21ldGFdID0gaGl0W21ldGFdOwogICAgfSk7IC8vIHVud3JhcCBjb21wdXRlZCBmaWVsZHMKCgogICAgX2xvZGFzaC5kZWZhdWx0LmZvck93bihoaXQuZmllbGRzLCBmdW5jdGlvbiAodmFsLCBrZXkpIHsKICAgICAgaWYgKGtleVswXSA9PT0gJ18nICYmICFfbG9kYXNoLmRlZmF1bHQuY29udGFpbnMobWV0YUZpZWxkcywga2V5KSkgcmV0dXJuOwogICAgICBmbGF0dGVuZWRba2V5XSA9IEFycmF5LmlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09PSAxID8gdmFsWzBdIDogdmFsOwogICAgfSk7CgogICAgcmV0dXJuIGZsYXR0ZW5lZDsKICB9Owp9Ci8qKgogKiBUaGlzIGlzIHdyYXBwZWQgYnkgYGNyZWF0ZUZsYXR0ZW5IaXRXcmFwcGVyYCBpbiBvcmRlciB0byBwcm92aWRlIGEgc2luZ2xlIGNhY2hlIHRvIGJlCiAqIHNoYXJlZCBhY3Jvc3MgYWxsIHVzZXMgb2YgdGhpcyBmdW5jdGlvbi4gSXQgaXMgb25seSBleHBvcnRlZCBoZXJlIGZvciB1c2UgaW4gbW9ja3MuCiAqCiAqIEBpbnRlcm5hbAogKi8KCgpmdW5jdGlvbiBmbGF0dGVuSGl0V3JhcHBlcihpbmRleFBhdHRlcm4pIHsKICB2YXIgbWV0YUZpZWxkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIGNhY2hlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBuZXcgV2Vha01hcCgpOwogIHJldHVybiBmdW5jdGlvbiBjYWNoZWRGbGF0dGVuKGhpdCkgewogICAgdmFyIGRlZXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgdmFyIGRlY29yYXRlRmxhdHRlbmVkID0gZGVjb3JhdGVGbGF0dGVuZWRXcmFwcGVyKGhpdCwgbWV0YUZpZWxkcyk7CiAgICB2YXIgY2FjaGVkID0gY2FjaGUuZ2V0KGhpdCk7CiAgICB2YXIgZmxhdHRlbmVkID0gY2FjaGVkIHx8IGZsYXR0ZW5IaXQoaW5kZXhQYXR0ZXJuLCBoaXQsIGRlZXApOwoKICAgIGlmICghY2FjaGVkKSB7CiAgICAgIGNhY2hlLnNldChoaXQsIF9vYmplY3RTcHJlYWQoe30sIGZsYXR0ZW5lZCkpOwogICAgfQoKICAgIHJldHVybiBkZWNvcmF0ZUZsYXR0ZW5lZChmbGF0dGVuZWQpOwogIH07Cn0KLyoqCiAqIFRoaXMgd3JhcHMgYGZsYXR0ZW5IaXRXcmFwcGVyYCBzbyBvbmUgc2luZ2xlIGNhY2hlIGNhbiBiZSBwcm92aWRlZCBmb3IgYWxsIHVzZXMgb2YgdGhhdAogKiBmdW5jdGlvbi4gVGhlIHJldHVybmVkIHZhbHVlIG9mIHRoaXMgZnVuY3Rpb24gaXMgd2hhdCBpcyBpbmNsdWRlZCBpbiB0aGUgaW5kZXggcGF0dGVybnMKICogc2V0dXAgY29udHJhY3QuCiAqCiAqIEBwdWJsaWMKICovCgoKZnVuY3Rpb24gY3JlYXRlRmxhdHRlbkhpdFdyYXBwZXIoKSB7CiAgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsKICByZXR1cm4gX2xvZGFzaC5kZWZhdWx0LnBhcnRpYWwoZmxhdHRlbkhpdFdyYXBwZXIsIF9sb2Rhc2guZGVmYXVsdCwgX2xvZGFzaC5kZWZhdWx0LCBjYWNoZSk7Cn0="},null]}