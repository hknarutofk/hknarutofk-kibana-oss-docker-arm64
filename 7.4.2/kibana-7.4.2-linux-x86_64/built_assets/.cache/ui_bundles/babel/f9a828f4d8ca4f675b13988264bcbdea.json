{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/home/components/tutorial/instruction_set.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/home/components/tutorial/instruction_set.js","mtime":1572296410288},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkluc3RydWN0aW9uU2V0ID0gdm9pZCAwOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX2luc3RydWN0aW9uID0gcmVxdWlyZSgiLi9pbnN0cnVjdGlvbiIpOwoKdmFyIF9wYXJhbWV0ZXJfZm9ybSA9IHJlcXVpcmUoIi4vcGFyYW1ldGVyX2Zvcm0iKTsKCnZhciBfY29udGVudCA9IHJlcXVpcmUoIi4vY29udGVudCIpOwoKdmFyIF9pbnN0cnVjdGlvbl92YXJpYW50ID0gcmVxdWlyZSgiLi4vLi4vLi4vLi4vY29tbW9uL3R1dG9yaWFscy9pbnN0cnVjdGlvbl92YXJpYW50Iik7Cgp2YXIgX2V1aSA9IHJlcXVpcmUoIkBlbGFzdGljL2V1aSIpOwoKdmFyIFN0YXR1c0NoZWNrU3RhdGVzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi9zdGF0dXNfY2hlY2tfc3RhdGVzIikpOwoKdmFyIF9yZWFjdDIgPSByZXF1aXJlKCJAa2JuL2kxOG4vcmVhY3QiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKdmFyIEluc3RydWN0aW9uU2V0VWkgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEluc3RydWN0aW9uU2V0VWksIF9SZWFjdCRDb21wb25lbnQpOwoKICBmdW5jdGlvbiBJbnN0cnVjdGlvblNldFVpKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluc3RydWN0aW9uU2V0VWkpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEluc3RydWN0aW9uU2V0VWkpLmNhbGwodGhpcywgcHJvcHMpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVUb2dnbGVWaXNpYmlsaXR5IiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlzUGFyYW1Gb3JtVmlzaWJsZTogIXByZXZTdGF0ZS5pc1BhcmFtRm9ybVZpc2libGUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uU2VsZWN0ZWRUYWJDaGFuZ2VkIiwgZnVuY3Rpb24gKGlkKSB7CiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBzZWxlY3RlZFRhYklkOiBpZAogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlbmRlclRhYnMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy50YWJzLm1hcChmdW5jdGlvbiAodGFiLCBpbmRleCkgewogICAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGFiLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMub25TZWxlY3RlZFRhYkNoYW5nZWQodGFiLmlkKTsKICAgICAgICAgIH0sCiAgICAgICAgICBpc1NlbGVjdGVkOiB0YWIuaWQgPT09IF90aGlzLnN0YXRlLnNlbGVjdGVkVGFiSWQsCiAgICAgICAgICBrZXk6IGluZGV4CiAgICAgICAgfSwgdGFiLm5hbWUpOwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlbmRlckluc3RydWN0aW9ucyIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGluc3RydWN0aW9uVmFyaWFudCA9IF90aGlzLnByb3BzLmluc3RydWN0aW9uVmFyaWFudHMuZmluZChmdW5jdGlvbiAodmFyaWFudCkgewogICAgICAgIHJldHVybiB2YXJpYW50LmlkID09PSBfdGhpcy5zdGF0ZS5zZWxlY3RlZFRhYklkOwogICAgICB9KTsKCiAgICAgIGlmICghaW5zdHJ1Y3Rpb25WYXJpYW50KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgc3RlcHMgPSBpbnN0cnVjdGlvblZhcmlhbnQuaW5zdHJ1Y3Rpb25zLm1hcChmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24sIGluZGV4KSB7CiAgICAgICAgdmFyIHN0ZXAgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pbnN0cnVjdGlvbi5JbnN0cnVjdGlvbiwgewogICAgICAgICAgY29tbWFuZHM6IGluc3RydWN0aW9uLmNvbW1hbmRzLAogICAgICAgICAgcGFyYW1WYWx1ZXM6IF90aGlzLnByb3BzLnBhcmFtVmFsdWVzLAogICAgICAgICAgdGV4dFByZTogaW5zdHJ1Y3Rpb24udGV4dFByZSwKICAgICAgICAgIHRleHRQb3N0OiBpbnN0cnVjdGlvbi50ZXh0UG9zdCwKICAgICAgICAgIHJlcGxhY2VUZW1wbGF0ZVN0cmluZ3M6IF90aGlzLnByb3BzLnJlcGxhY2VUZW1wbGF0ZVN0cmluZ3MKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRpdGxlOiBpbnN0cnVjdGlvbi50aXRsZSwKICAgICAgICAgIGNoaWxkcmVuOiBzdGVwLAogICAgICAgICAga2V5OiBpbmRleAogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgaWYgKF90aGlzLnByb3BzLnN0YXR1c0NoZWNrQ29uZmlnKSB7CiAgICAgICAgc3RlcHMucHVzaChfdGhpcy5yZW5kZXJTdGF0dXNDaGVjaygpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTdGVwcywgewogICAgICAgIHN0ZXBzOiBzdGVwcywKICAgICAgICBmaXJzdFN0ZXBOdW1iZXI6IF90aGlzLnByb3BzLm9mZnNldAogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlbmRlckhlYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHBhcmFtc1Zpc2liaWxpdHlUb2dnbGU7CgogICAgICBpZiAoX3RoaXMucHJvcHMucGFyYW1zKSB7CiAgICAgICAgdmFyIGFyaWFMYWJlbCA9IF90aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICBpZDogJ2tibi5ob21lLnR1dG9yaWFsLmluc3RydWN0aW9uU2V0LnRvZ2dsZUFyaWFMYWJlbCcsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ3RvZ2dsZSBjb21tYW5kIHBhcmFtZXRlcnMgdmlzaWJpbGl0eScKICAgICAgICB9KTsKCiAgICAgICAgcGFyYW1zVmlzaWJpbGl0eVRvZ2dsZSA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b25FbXB0eSwgewogICAgICAgICAgaWNvblR5cGU6IF90aGlzLnN0YXRlLmlzUGFyYW1Gb3JtVmlzaWJsZSA/ICdhcnJvd0Rvd24nIDogJ2Fycm93UmlnaHQnLAogICAgICAgICAgImFyaWEtbGFiZWwiOiBhcmlhTGFiZWwsCiAgICAgICAgICBvbkNsaWNrOiBfdGhpcy5oYW5kbGVUb2dnbGVWaXNpYmlsaXR5CiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAia2JuLmhvbWUudHV0b3JpYWwuaW5zdHJ1Y3Rpb25TZXQuY3VzdG9taXplTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDdXN0b21pemUgeW91ciBjb2RlIHNuaXBwZXRzIgogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgICByZXNwb25zaXZlOiBmYWxzZSwKICAgICAgICB3cmFwOiB0cnVlLAogICAgICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGl0bGUsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiaDIiLCBudWxsLCBfdGhpcy5wcm9wcy50aXRsZSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgcGFyYW1zVmlzaWJpbGl0eVRvZ2dsZSkpOwogICAgfSk7CgogICAgX3RoaXMudGFicyA9IHByb3BzLmluc3RydWN0aW9uVmFyaWFudHMubWFwKGZ1bmN0aW9uICh2YXJpYW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IHZhcmlhbnQuaWQsCiAgICAgICAgbmFtZTogKDAsIF9pbnN0cnVjdGlvbl92YXJpYW50LmdldERpc3BsYXlUZXh0KSh2YXJpYW50LmlkKQogICAgICB9OwogICAgfSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgaXNQYXJhbUZvcm1WaXNpYmxlOiBmYWxzZQogICAgfTsKCiAgICBpZiAoX3RoaXMudGFicy5sZW5ndGggPiAwKSB7CiAgICAgIF90aGlzLnN0YXRlLnNlbGVjdGVkVGFiSWQgPSBfdGhpcy50YWJzWzBdLmlkOwogICAgfQoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhJbnN0cnVjdGlvblNldFVpLCBbewogICAga2V5OiAicmVuZGVyU3RhdHVzQ2hlY2tNZXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTdGF0dXNDaGVja01lc3NhZ2UoKSB7CiAgICAgIHZhciBtZXNzYWdlOwogICAgICB2YXIgY29sb3I7CgogICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuc3RhdHVzQ2hlY2tTdGF0ZSkgewogICAgICAgIGNhc2UgU3RhdHVzQ2hlY2tTdGF0ZXMuTk9UX0NIRUNLRUQ6CiAgICAgICAgY2FzZSBTdGF0dXNDaGVja1N0YXRlcy5GRVRDSElORzoKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIC8vIERvbid0IHNob3cgYW55IG1lc3NhZ2Ugd2hpbGUgZmV0Y2hpbmcgb3IgaWYgeW91IGhhdmVuJ3QgeWV0IGNoZWNrZWQuCgogICAgICAgIGNhc2UgU3RhdHVzQ2hlY2tTdGF0ZXMuSEFTX0RBVEE6CiAgICAgICAgICBtZXNzYWdlID0gdGhpcy5wcm9wcy5zdGF0dXNDaGVja0NvbmZpZy5zdWNjZXNzID8gdGhpcy5wcm9wcy5zdGF0dXNDaGVja0NvbmZpZy5zdWNjZXNzIDogdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoewogICAgICAgICAgICBpZDogJ2tibi5ob21lLnR1dG9yaWFsLmluc3RydWN0aW9uU2V0LnN1Y2Nlc3NMYWJlbCcsCiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgICAgY29sb3IgPSAnc3VjY2Vzcyc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBTdGF0dXNDaGVja1N0YXRlcy5FUlJPUjoKICAgICAgICBjYXNlIFN0YXR1c0NoZWNrU3RhdGVzLk5PX0RBVEE6CiAgICAgICAgICBtZXNzYWdlID0gdGhpcy5wcm9wcy5zdGF0dXNDaGVja0NvbmZpZy5lcnJvciA/IHRoaXMucHJvcHMuc3RhdHVzQ2hlY2tDb25maWcuZXJyb3IgOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7CiAgICAgICAgICAgIGlkOiAna2JuLmhvbWUudHV0b3JpYWwuaW5zdHJ1Y3Rpb25TZXQubm9EYXRhTGFiZWwnLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ05vIGRhdGEgZm91bmQnCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbG9yID0gJ3dhcm5pbmcnOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICAgIHRpdGxlOiBtZXNzYWdlLAogICAgICAgIGNvbG9yOiBjb2xvcgogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTdGVwU3RhdHVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGVwU3RhdHVzKHN0YXR1c0NoZWNrU3RhdGUpIHsKICAgICAgc3dpdGNoIChzdGF0dXNDaGVja1N0YXRlKSB7CiAgICAgICAgY2FzZSB1bmRlZmluZWQ6CiAgICAgICAgY2FzZSBTdGF0dXNDaGVja1N0YXRlcy5OT1RfQ0hFQ0tFRDoKICAgICAgICBjYXNlIFN0YXR1c0NoZWNrU3RhdGVzLkZFVENISU5HOgogICAgICAgICAgcmV0dXJuICdpbmNvbXBsZXRlJzsKCiAgICAgICAgY2FzZSBTdGF0dXNDaGVja1N0YXRlcy5IQVNfREFUQToKICAgICAgICAgIHJldHVybiAnY29tcGxldGUnOwoKICAgICAgICBjYXNlIFN0YXR1c0NoZWNrU3RhdGVzLk5PX0RBVEE6CiAgICAgICAgICByZXR1cm4gJ3dhcm5pbmcnOwoKICAgICAgICBjYXNlIFN0YXR1c0NoZWNrU3RhdGVzLkVSUk9SOgogICAgICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgICAgaWQ6ICdrYm4uaG9tZS50dXRvcmlhbC51bmV4cGVjdGVkU3RhdHVzQ2hlY2tTdGF0ZUVycm9yRGVzY3JpcHRpb24nLAogICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1VuZXhwZWN0ZWQgc3RhdHVzIGNoZWNrIHN0YXRlIHtzdGF0dXNDaGVja1N0YXRlfScKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgc3RhdHVzQ2hlY2tTdGF0ZTogc3RhdHVzQ2hlY2tTdGF0ZQogICAgICAgICAgfSkpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyU3RhdHVzQ2hlY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclN0YXR1c0NoZWNrKCkgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLAogICAgICAgICAgc3RhdHVzQ2hlY2tTdGF0ZSA9IF90aGlzJHByb3BzLnN0YXR1c0NoZWNrU3RhdGUsCiAgICAgICAgICBzdGF0dXNDaGVja0NvbmZpZyA9IF90aGlzJHByb3BzLnN0YXR1c0NoZWNrQ29uZmlnLAogICAgICAgICAgb25TdGF0dXNDaGVjayA9IF90aGlzJHByb3BzLm9uU3RhdHVzQ2hlY2s7CgogICAgICB2YXIgY2hlY2tTdGF0dXNTdGVwID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuRnJhZ21lbnQsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4R3JvdXAsIHsKICAgICAgICBqdXN0aWZ5Q29udGVudDogInNwYWNlQmV0d2VlbiIsCiAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9jb250ZW50LkNvbnRlbnQsIHsKICAgICAgICB0ZXh0OiBzdGF0dXNDaGVja0NvbmZpZy50ZXh0CiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUJ1dHRvbiwgewogICAgICAgIG9uQ2xpY2s6IG9uU3RhdHVzQ2hlY2ssCiAgICAgICAgaXNMb2FkaW5nOiBzdGF0dXNDaGVja1N0YXRlID09PSBTdGF0dXNDaGVja1N0YXRlcy5GRVRDSElORwogICAgICB9LCBzdGF0dXNDaGVja0NvbmZpZy5idG5MYWJlbCB8fCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAia2JuLmhvbWUudHV0b3JpYWwuaW5zdHJ1Y3Rpb25TZXQuY2hlY2tTdGF0dXNCdXR0b25MYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDaGVjayBzdGF0dXMiCiAgICAgIH0pKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogInMiCiAgICAgIH0pLCB0aGlzLnJlbmRlclN0YXR1c0NoZWNrTWVzc2FnZSgpKTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgdGl0bGU6IHN0YXR1c0NoZWNrQ29uZmlnLnRpdGxlIHx8IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsKICAgICAgICAgIGlkOiAna2JuLmhvbWUudHV0b3JpYWwuaW5zdHJ1Y3Rpb25TZXQuc3RhdHVzQ2hlY2tUaXRsZScsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1N0YXR1cyBDaGVjaycKICAgICAgICB9KSwKICAgICAgICBzdGF0dXM6IHRoaXMuZ2V0U3RlcFN0YXR1cyhzdGF0dXNDaGVja1N0YXRlKSwKICAgICAgICBjaGlsZHJlbjogY2hlY2tTdGF0dXNTdGVwLAogICAgICAgIGtleTogJ2NoZWNrU3RhdHVzU3RlcCcKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIHBhcmFtc0Zvcm07CgogICAgICBpZiAodGhpcy5wcm9wcy5wYXJhbXMgJiYgdGhpcy5zdGF0ZS5pc1BhcmFtRm9ybVZpc2libGUpIHsKICAgICAgICBwYXJhbXNGb3JtID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcGFyYW1ldGVyX2Zvcm0uUGFyYW1ldGVyRm9ybSwgewogICAgICAgICAgcGFyYW1zOiB0aGlzLnByb3BzLnBhcmFtcywKICAgICAgICAgIHBhcmFtVmFsdWVzOiB0aGlzLnByb3BzLnBhcmFtVmFsdWVzLAogICAgICAgICAgc2V0UGFyYW1ldGVyOiB0aGlzLnByb3BzLnNldFBhcmFtZXRlcgogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgdGhpcy5yZW5kZXJIZWFkZXIoKSwgcGFyYW1zRm9ybSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRhYnMsIG51bGwsIHRoaXMucmVuZGVyVGFicygpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSwgdGhpcy5yZW5kZXJJbnN0cnVjdGlvbnMoKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSW5zdHJ1Y3Rpb25TZXRVaTsKfShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpOwoKdmFyIGluc3RydWN0aW9uU2hhcGUgPSBfcHJvcFR5cGVzLmRlZmF1bHQuc2hhcGUoewogIHRpdGxlOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIHRleHRQcmU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgY29tbWFuZHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcpLAogIHRleHRQb3N0OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nCn0pOwoKdmFyIGluc3RydWN0aW9uVmFyaWFudFNoYXBlID0gX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHsKICBpZDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLAogIGluc3RydWN0aW9uczogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoaW5zdHJ1Y3Rpb25TaGFwZSkuaXNSZXF1aXJlZAp9KTsKCnZhciBzdGF0dXNDaGVja0NvbmZpZ1NoYXBlID0gX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHsKICBzdWNjZXNzOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIGVycm9yOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIHRpdGxlOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIHRleHQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgYnRuTGFiZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcKfSk7CgpJbnN0cnVjdGlvblNldFVpLnByb3BUeXBlcyA9IHsKICB0aXRsZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLAogIGluc3RydWN0aW9uVmFyaWFudHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKGluc3RydWN0aW9uVmFyaWFudFNoYXBlKS5pc1JlcXVpcmVkLAogIHN0YXR1c0NoZWNrQ29uZmlnOiBzdGF0dXNDaGVja0NvbmZpZ1NoYXBlLAogIHN0YXR1c0NoZWNrU3RhdGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbU3RhdHVzQ2hlY2tTdGF0ZXMuRkVUQ0hJTkcsIFN0YXR1c0NoZWNrU3RhdGVzLk5PVF9DSEVDS0VELCBTdGF0dXNDaGVja1N0YXRlcy5IQVNfREFUQSwgU3RhdHVzQ2hlY2tTdGF0ZXMuTk9fREFUQSwgU3RhdHVzQ2hlY2tTdGF0ZXMuRVJST1JdKSwKICBvblN0YXR1c0NoZWNrOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLAogIG9mZnNldDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLAogIHBhcmFtczogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5LAogIHBhcmFtVmFsdWVzOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsCiAgc2V0UGFyYW1ldGVyOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICByZXBsYWNlVGVtcGxhdGVTdHJpbmdzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkCn07CnZhciBJbnN0cnVjdGlvblNldCA9ICgwLCBfcmVhY3QyLmluamVjdEkxOG4pKEluc3RydWN0aW9uU2V0VWkpOwpleHBvcnRzLkluc3RydWN0aW9uU2V0ID0gSW5zdHJ1Y3Rpb25TZXQ7"},null]}