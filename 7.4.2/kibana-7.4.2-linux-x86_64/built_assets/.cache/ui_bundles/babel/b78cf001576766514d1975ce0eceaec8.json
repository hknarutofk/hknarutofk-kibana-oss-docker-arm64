{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/timelion/public/app.js","dependencies":[{"path":"src/legacy/core_plugins/timelion/public/app.js","mtime":1572296411348},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9jYXBhYmlsaXRpZXMgPSByZXF1aXJlKCJ1aS9jYXBhYmlsaXRpZXMiKTsKCnZhciBfZG9jX3RpdGxlID0gcmVxdWlyZSgidWkvZG9jX3RpdGxlIik7Cgp2YXIgX3NhdmVkX29iamVjdF9yZWdpc3RyeSA9IHJlcXVpcmUoInVpL3NhdmVkX29iamVjdHMvc2F2ZWRfb2JqZWN0X3JlZ2lzdHJ5Iik7Cgp2YXIgX25vdGlmeSA9IHJlcXVpcmUoInVpL25vdGlmeSIpOwoKdmFyIF90aW1lem9uZSA9IHJlcXVpcmUoInVpL3Zpcy9saWIvdGltZXpvbmUiKTsKCnZhciBfcGVyc2lzdGVkX2xvZyA9IHJlcXVpcmUoInVpL3BlcnNpc3RlZF9sb2ciKTsKCnZhciBfdGltZWZpbHRlciA9IHJlcXVpcmUoInVpL3RpbWVmaWx0ZXIiKTsKCnZhciBfYnJlYWRjcnVtYnMgPSByZXF1aXJlKCIuL2JyZWFkY3J1bWJzIik7CgpyZXF1aXJlKCJ1aUV4cG9ydHMvZmllbGRGb3JtYXRzIik7CgpyZXF1aXJlKCJ1aUV4cG9ydHMvc2F2ZWRPYmplY3RUeXBlcyIpOwoKcmVxdWlyZSgidWkvZGlyZWN0aXZlcy9pbnB1dF9mb2N1cyIpOwoKcmVxdWlyZSgidWkvZGlyZWN0aXZlcy9zYXZlZF9vYmplY3RfZmluZGVyIik7CgpyZXF1aXJlKCJ1aS9kaXJlY3RpdmVzL2xpc3RlbiIpOwoKcmVxdWlyZSgidWkva2JuX3RvcF9uYXYiKTsKCnJlcXVpcmUoInVpL3NhdmVkX29iamVjdHMvdWkvc2F2ZWRfb2JqZWN0X3NhdmVfYXNfY2hlY2tib3giKTsKCnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInBsdWdpbnMvdGltZWxpb24vaW5kZXguaHRtbCIpKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpyZXF1aXJlKCd1aS9hdXRvbG9hZC9hbGwnKTsgLy8gVE9ETzogcmVtb3ZlIHVpIGltcG9ydHMgY29tcGxldGVseSAobW92ZSB0byBwbHVnaW5zKQoKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy9jZWxscy9jZWxscycpOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9kaXJlY3RpdmVzL2ZpeGVkX2VsZW1lbnQnKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy9mdWxsc2NyZWVuL2Z1bGxzY3JlZW4nKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy90aW1lbGlvbl9leHByZXNzaW9uX2lucHV0Jyk7CgpyZXF1aXJlKCdwbHVnaW5zL3RpbWVsaW9uL2RpcmVjdGl2ZXMvdGltZWxpb25faGVscC90aW1lbGlvbl9oZWxwJyk7CgpyZXF1aXJlKCdwbHVnaW5zL3RpbWVsaW9uL2RpcmVjdGl2ZXMvdGltZWxpb25faW50ZXJ2YWwvdGltZWxpb25faW50ZXJ2YWwnKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vZGlyZWN0aXZlcy90aW1lbGlvbl9zYXZlX3NoZWV0Jyk7CgpyZXF1aXJlKCdwbHVnaW5zL3RpbWVsaW9uL2RpcmVjdGl2ZXMvdGltZWxpb25fbG9hZF9zaGVldCcpOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9kaXJlY3RpdmVzL3RpbWVsaW9uX29wdGlvbnNfc2hlZXQnKTsKCmRvY3VtZW50LnRpdGxlID0gJ1RpbWVsaW9uIC0gS2liYW5hJzsKCnZhciBhcHAgPSByZXF1aXJlKCd1aS9tb2R1bGVzJykuZ2V0KCdhcHBzL3RpbWVsaW9uJywgW10pOwoKcmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9zZXJ2aWNlcy9zYXZlZF9zaGVldHMnKTsKCnJlcXVpcmUoJ3BsdWdpbnMvdGltZWxpb24vc2VydmljZXMvX3NhdmVkX3NoZWV0Jyk7CgpyZXF1aXJlKCcuL3ZpcycpOwoKX3NhdmVkX29iamVjdF9yZWdpc3RyeS5TYXZlZE9iamVjdFJlZ2lzdHJ5UHJvdmlkZXIucmVnaXN0ZXIocmVxdWlyZSgncGx1Z2lucy90aW1lbGlvbi9zZXJ2aWNlcy9zYXZlZF9zaGVldF9yZWdpc3RlcicpKTsKCnJlcXVpcmUoJ3VpL3JvdXRlcycpLmVuYWJsZSgpOwoKcmVxdWlyZSgndWkvcm91dGVzJykud2hlbignLzppZD8nLCB7CiAgdGVtcGxhdGU6IF9pbmRleC5kZWZhdWx0LAogIHJlbG9hZE9uU2VhcmNoOiBmYWxzZSwKICBrN0JyZWFkY3J1bWJzOiBmdW5jdGlvbiBrN0JyZWFkY3J1bWJzKCRpbmplY3RvciwgJHJvdXRlKSB7CiAgICByZXR1cm4gJGluamVjdG9yLmludm9rZSgkcm91dGUuY3VycmVudC5wYXJhbXMuaWQgPyBfYnJlYWRjcnVtYnMuZ2V0U2F2ZWRTaGVldEJyZWFkY3J1bWJzIDogX2JyZWFkY3J1bWJzLmdldENyZWF0ZUJyZWFkY3J1bWJzKTsKICB9LAogIGJhZGdlOiBmdW5jdGlvbiBiYWRnZSh1aUNhcGFiaWxpdGllcykgewogICAgaWYgKHVpQ2FwYWJpbGl0aWVzLnRpbWVsaW9uLnNhdmUpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gewogICAgICB0ZXh0OiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24uYmFkZ2UucmVhZE9ubHkudGV4dCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ1JlYWQgb25seScKICAgICAgfSksCiAgICAgIHRvb2x0aXA6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi5iYWRnZS5yZWFkT25seS50b29sdGlwJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVW5hYmxlIHRvIHNhdmUgVGltZWxpb24gc2hlZXRzJwogICAgICB9KSwKICAgICAgaWNvblR5cGU6ICdnbGFzc2VzJwogICAgfTsKICB9LAogIHJlc29sdmU6IHsKICAgIHNhdmVkU2hlZXQ6IGZ1bmN0aW9uIHNhdmVkU2hlZXQocmVkaXJlY3RXaGVuTWlzc2luZywgc2F2ZWRTaGVldHMsICRyb3V0ZSkgewogICAgICByZXR1cm4gc2F2ZWRTaGVldHMuZ2V0KCRyb3V0ZS5jdXJyZW50LnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAoc2F2ZWRTaGVldCkgewogICAgICAgIGlmICgkcm91dGUuY3VycmVudC5wYXJhbXMuaWQpIHsKICAgICAgICAgIF9wZXJzaXN0ZWRfbG9nLnJlY2VudGx5QWNjZXNzZWQuYWRkKHNhdmVkU2hlZXQuZ2V0RnVsbFBhdGgoKSwgc2F2ZWRTaGVldC50aXRsZSwgc2F2ZWRTaGVldC5pZCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2F2ZWRTaGVldDsKICAgICAgfSkuY2F0Y2gocmVkaXJlY3RXaGVuTWlzc2luZyh7CiAgICAgICAgJ3NlYXJjaCc6ICcvJwogICAgICB9KSk7CiAgICB9CiAgfQp9KTsKCnZhciBsb2NhdGlvbiA9ICdUaW1lbGlvbic7CmFwcC5jb250cm9sbGVyKCd0aW1lbGlvbicsIGZ1bmN0aW9uICgkaHR0cCwgJHJvdXRlLCAkcm91dGVQYXJhbXMsICRzY29wZSwgJHRpbWVvdXQsIEFwcFN0YXRlLCBjb25maWcsIGNvbmZpcm1Nb2RhbCwga2JuVXJsLCBQcml2YXRlKSB7CiAgLy8gS2VlcGluZyB0aGlzIGF0IGFwcCBzY29wZSBhbGxvd3MgdXMgdG8ga2VlcCB0aGUgY3VycmVudCBwYWdlIHdoZW4gdGhlIHVzZXIKICAvLyBzd2l0Y2hlcyB0byBzYXksIHRoZSB0aW1lcGlja2VyLgogICRzY29wZS5wYWdlID0gY29uZmlnLmdldCgndGltZWxpb246c2hvd1R1dG9yaWFsJywgdHJ1ZSkgPyAxIDogMDsKCiAgJHNjb3BlLnNldFBhZ2UgPSBmdW5jdGlvbiAocGFnZSkgewogICAgcmV0dXJuICRzY29wZS5wYWdlID0gcGFnZTsKICB9OwoKICBfdGltZWZpbHRlci50aW1lZmlsdGVyLmVuYWJsZUF1dG9SZWZyZXNoU2VsZWN0b3IoKTsKCiAgX3RpbWVmaWx0ZXIudGltZWZpbHRlci5lbmFibGVUaW1lUmFuZ2VTZWxlY3RvcigpOwoKICB2YXIgc2F2ZWRWaXN1YWxpemF0aW9ucyA9IFByaXZhdGUoX3NhdmVkX29iamVjdF9yZWdpc3RyeS5TYXZlZE9iamVjdFJlZ2lzdHJ5UHJvdmlkZXIpLmJ5TG9hZGVyUHJvcGVydGllc05hbWUudmlzdWFsaXphdGlvbnM7CiAgdmFyIHRpbWV6b25lID0gUHJpdmF0ZShfdGltZXpvbmUudGltZXpvbmVQcm92aWRlcikoKTsKICB2YXIgZGVmYXVsdEV4cHJlc3Npb24gPSAnLmVzKCopJzsKICB2YXIgc2F2ZWRTaGVldCA9ICRyb3V0ZS5jdXJyZW50LmxvY2Fscy5zYXZlZFNoZWV0OwogICRzY29wZS50b3BOYXZNZW51ID0gZ2V0VG9wTmF2TWVudSgpOwogICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChjb25maWcuZ2V0KCd0aW1lbGlvbjpzaG93VHV0b3JpYWwnLCB0cnVlKSkgewogICAgICAkc2NvcGUudG9nZ2xlTWVudSgnc2hvd0hlbHAnKTsKICAgIH0KICB9LCAwKTsKICAkc2NvcGUudHJhbnNpZW50ID0ge307CiAgJHNjb3BlLnN0YXRlID0gbmV3IEFwcFN0YXRlKGdldFN0YXRlRGVmYXVsdHMoKSk7CgogIGZ1bmN0aW9uIGdldFN0YXRlRGVmYXVsdHMoKSB7CiAgICByZXR1cm4gewogICAgICBzaGVldDogc2F2ZWRTaGVldC50aW1lbGlvbl9zaGVldCwKICAgICAgc2VsZWN0ZWQ6IDAsCiAgICAgIGNvbHVtbnM6IHNhdmVkU2hlZXQudGltZWxpb25fY29sdW1ucywKICAgICAgcm93czogc2F2ZWRTaGVldC50aW1lbGlvbl9yb3dzLAogICAgICBpbnRlcnZhbDogc2F2ZWRTaGVldC50aW1lbGlvbl9pbnRlcnZhbAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGdldFRvcE5hdk1lbnUoKSB7CiAgICB2YXIgbmV3U2hlZXRBY3Rpb24gPSB7CiAgICAgIGlkOiAnbmV3JywKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51Lm5ld1NoZWV0QnV0dG9uTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdOZXcnCiAgICAgIH0pLAogICAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUubmV3U2hlZXRCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdOZXcgU2hlZXQnCiAgICAgIH0pLAogICAgICBydW46IGZ1bmN0aW9uIHJ1bigpIHsKICAgICAgICBrYm5VcmwuY2hhbmdlKCcvJyk7CiAgICAgIH0sCiAgICAgIHRlc3RJZDogJ3RpbWVsaW9uTmV3QnV0dG9uJwogICAgfTsKICAgIHZhciBhZGRTaGVldEFjdGlvbiA9IHsKICAgICAgaWQ6ICdhZGQnLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuYWRkQ2hhcnRCdXR0b25MYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0FkZCcKICAgICAgfSksCiAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5hZGRDaGFydEJ1dHRvbkFyaWFMYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ0FkZCBhIGNoYXJ0JwogICAgICB9KSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICRzY29wZS5uZXdDZWxsKCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHRlc3RJZDogJ3RpbWVsaW9uQWRkQ2hhcnRCdXR0b24nCiAgICB9OwogICAgdmFyIHNhdmVTaGVldEFjdGlvbiA9IHsKICAgICAgaWQ6ICdzYXZlJywKICAgICAgbGFiZWw6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51LnNhdmVTaGVldEJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnU2F2ZScKICAgICAgfSksCiAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5zYXZlU2hlZXRCdXR0b25BcmlhTGFiZWwnLCB7CiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdTYXZlIFNoZWV0JwogICAgICB9KSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICRzY29wZS50b2dnbGVNZW51KCdzaG93U2F2ZScpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0ZXN0SWQ6ICd0aW1lbGlvblNhdmVCdXR0b24nCiAgICB9OwogICAgdmFyIGRlbGV0ZVNoZWV0QWN0aW9uID0gewogICAgICBpZDogJ2RlbGV0ZScsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5kZWxldGVTaGVldEJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlJwogICAgICB9KSwKICAgICAgZGVzY3JpcHRpb246IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51LmRlbGV0ZVNoZWV0QnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlIGN1cnJlbnQgc2hlZXQnCiAgICAgIH0pLAogICAgICBkaXNhYmxlQnV0dG9uOiBmdW5jdGlvbiBkaXNhYmxlQnV0dG9uKCkgewogICAgICAgIHJldHVybiAhc2F2ZWRTaGVldC5pZDsKICAgICAgfSwKICAgICAgcnVuOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgdmFyIHRpdGxlID0gc2F2ZWRTaGVldC50aXRsZTsKCiAgICAgICAgZnVuY3Rpb24gZG9EZWxldGUoKSB7CiAgICAgICAgICBzYXZlZFNoZWV0LmRlbGV0ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfbm90aWZ5LnRvYXN0Tm90aWZpY2F0aW9ucy5hZGRTdWNjZXNzKF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51LmRlbGV0ZS5tb2RhbC5zdWNjZXNzTm90aWZpY2F0aW9uVGV4dCcsIHsKICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkRlbGV0ZWQgJ3t0aXRsZX0nIiwKICAgICAgICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAga2JuVXJsLmNoYW5nZSgnLycpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIHJldHVybiAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShlcnJvciwgbG9jYXRpb24pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY29uZmlybU1vZGFsT3B0aW9ucyA9IHsKICAgICAgICAgIG9uQ29uZmlybTogZG9EZWxldGUsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuZGVsZXRlLm1vZGFsLmNvbmZpcm1CdXR0b25MYWJlbCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUnCiAgICAgICAgICB9KSwKICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5kZWxldGUubW9kYWxUaXRsZScsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJEZWxldGUgVGltZWxpb24gc2hlZXQgJ3t0aXRsZX0nPyIsCiAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgIHRpdGxlOiB0aXRsZQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgJHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uZmlybU1vZGFsKF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi50b3BOYXZNZW51LmRlbGV0ZS5tb2RhbC53YXJuaW5nVGV4dCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJZb3UgY2FuJ3QgcmVjb3ZlciBkZWxldGVkIHNoZWV0cy4iCiAgICAgICAgICB9KSwgY29uZmlybU1vZGFsT3B0aW9ucyk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHRlc3RJZDogJ3RpbWVsaW9uRGVsZXRlQnV0dG9uJwogICAgfTsKICAgIHZhciBvcGVuU2hlZXRBY3Rpb24gPSB7CiAgICAgIGlkOiAnb3BlbicsCiAgICAgIGxhYmVsOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5vcGVuU2hlZXRCdXR0b25MYWJlbCcsIHsKICAgICAgICBkZWZhdWx0TWVzc2FnZTogJ09wZW4nCiAgICAgIH0pLAogICAgICBkZXNjcmlwdGlvbjogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUub3BlblNoZWV0QnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnT3BlbiBTaGVldCcKICAgICAgfSksCiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2NvcGUudG9nZ2xlTWVudSgnc2hvd0xvYWQnKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdGVzdElkOiAndGltZWxpb25PcGVuQnV0dG9uJwogICAgfTsKICAgIHZhciBvcHRpb25zQWN0aW9uID0gewogICAgICBpZDogJ29wdGlvbnMnLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUub3B0aW9uc0J1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnT3B0aW9ucycKICAgICAgfSksCiAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5vcHRpb25zQnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnT3B0aW9ucycKICAgICAgfSksCiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2NvcGUudG9nZ2xlTWVudSgnc2hvd09wdGlvbnMnKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdGVzdElkOiAndGltZWxpb25PcHRpb25zQnV0dG9uJwogICAgfTsKICAgIHZhciBoZWxwQWN0aW9uID0gewogICAgICBpZDogJ2hlbHAnLAogICAgICBsYWJlbDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ3RpbWVsaW9uLnRvcE5hdk1lbnUuaGVscEJ1dHRvbkxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSGVscCcKICAgICAgfSksCiAgICAgIGRlc2NyaXB0aW9uOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24udG9wTmF2TWVudS5oZWxwQnV0dG9uQXJpYUxhYmVsJywgewogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnSGVscCcKICAgICAgfSksCiAgICAgIHJ1bjogZnVuY3Rpb24gcnVuKCkgewogICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2NvcGUudG9nZ2xlTWVudSgnc2hvd0hlbHAnKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdGVzdElkOiAndGltZWxpb25Eb2NzQnV0dG9uJwogICAgfTsKCiAgICBpZiAoX2NhcGFiaWxpdGllcy5jYXBhYmlsaXRpZXMuZ2V0KCkudGltZWxpb24uc2F2ZSkgewogICAgICByZXR1cm4gW25ld1NoZWV0QWN0aW9uLCBhZGRTaGVldEFjdGlvbiwgc2F2ZVNoZWV0QWN0aW9uLCBkZWxldGVTaGVldEFjdGlvbiwgb3BlblNoZWV0QWN0aW9uLCBvcHRpb25zQWN0aW9uLCBoZWxwQWN0aW9uXTsKICAgIH0KCiAgICByZXR1cm4gW25ld1NoZWV0QWN0aW9uLCBhZGRTaGVldEFjdGlvbiwgb3BlblNoZWV0QWN0aW9uLCBvcHRpb25zQWN0aW9uLCBoZWxwQWN0aW9uXTsKICB9CgogIHZhciByZWZyZXNoZXI7CgogIHZhciBzZXRSZWZyZXNoRGF0YSA9IGZ1bmN0aW9uIHNldFJlZnJlc2hEYXRhKCkgewogICAgaWYgKHJlZnJlc2hlcikgJHRpbWVvdXQuY2FuY2VsKHJlZnJlc2hlcik7CgogICAgdmFyIGludGVydmFsID0gX3RpbWVmaWx0ZXIudGltZWZpbHRlci5nZXRSZWZyZXNoSW50ZXJ2YWwoKTsKCiAgICBpZiAoaW50ZXJ2YWwudmFsdWUgPiAwICYmICFpbnRlcnZhbC5wYXVzZSkgewogICAgICB2YXIgc3RhcnRSZWZyZXNoID0gZnVuY3Rpb24gc3RhcnRSZWZyZXNoKCkgewogICAgICAgIHJlZnJlc2hlciA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICghJHNjb3BlLnJ1bm5pbmcpICRzY29wZS5zZWFyY2goKTsKICAgICAgICAgIHN0YXJ0UmVmcmVzaCgpOwogICAgICAgIH0sIGludGVydmFsLnZhbHVlKTsKICAgICAgfTsKCiAgICAgIHN0YXJ0UmVmcmVzaCgpOwogICAgfQogIH07CgogIHZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHsKICAgICRzY29wZS5ydW5uaW5nID0gZmFsc2U7CiAgICAkc2NvcGUuc2VhcmNoKCk7CiAgICBzZXRSZWZyZXNoRGF0YSgpOwogICAgJHNjb3BlLm1vZGVsID0gewogICAgICB0aW1lUmFuZ2U6IF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuZ2V0VGltZSgpLAogICAgICByZWZyZXNoSW50ZXJ2YWw6IF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuZ2V0UmVmcmVzaEludGVydmFsKCkKICAgIH07CiAgICAkc2NvcGUuJGxpc3Rlbigkc2NvcGUuc3RhdGUsICdmZXRjaF93aXRoX2NoYW5nZXMnLCAkc2NvcGUuc2VhcmNoKTsKCiAgICBfdGltZWZpbHRlci50aW1lZmlsdGVyLmdldEZldGNoJCgpLnN1YnNjcmliZSgkc2NvcGUuc2VhcmNoKTsKCiAgICAkc2NvcGUub3B0cyA9IHsKICAgICAgc2F2ZUV4cHJlc3Npb246IHNhdmVFeHByZXNzaW9uLAogICAgICBzYXZlU2hlZXQ6IHNhdmVTaGVldCwKICAgICAgc2F2ZWRTaGVldDogc2F2ZWRTaGVldCwKICAgICAgc3RhdGU6ICRzY29wZS5zdGF0ZSwKICAgICAgc2VhcmNoOiAkc2NvcGUuc2VhcmNoLAogICAgICBkb250U2hvd0hlbHA6IGZ1bmN0aW9uIGRvbnRTaG93SGVscCgpIHsKICAgICAgICBjb25maWcuc2V0KCd0aW1lbGlvbjpzaG93VHV0b3JpYWwnLCBmYWxzZSk7CiAgICAgICAgJHNjb3BlLnNldFBhZ2UoMCk7CiAgICAgICAgJHNjb3BlLmNsb3NlTWVudXMoKTsKICAgICAgfQogICAgfTsKICAgICRzY29wZS5tZW51cyA9IHsKICAgICAgc2hvd0hlbHA6IGZhbHNlLAogICAgICBzaG93U2F2ZTogZmFsc2UsCiAgICAgIHNob3dMb2FkOiBmYWxzZSwKICAgICAgc2hvd09wdGlvbnM6IGZhbHNlCiAgICB9OwoKICAgICRzY29wZS50b2dnbGVNZW51ID0gZnVuY3Rpb24gKG1lbnVOYW1lKSB7CiAgICAgIHZhciBjdXJTdGF0ZSA9ICRzY29wZS5tZW51c1ttZW51TmFtZV07CiAgICAgICRzY29wZS5jbG9zZU1lbnVzKCk7CiAgICAgICRzY29wZS5tZW51c1ttZW51TmFtZV0gPSAhY3VyU3RhdGU7CiAgICB9OwoKICAgICRzY29wZS5jbG9zZU1lbnVzID0gZnVuY3Rpb24gKCkgewogICAgICBfbG9kYXNoLmRlZmF1bHQuZm9yT3duKCRzY29wZS5tZW51cywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICAkc2NvcGUubWVudXNba2V5XSA9IGZhbHNlOwogICAgICB9KTsKICAgIH07CiAgfTsKCiAgJHNjb3BlLm9uVGltZVVwZGF0ZSA9IGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgZGF0ZVJhbmdlID0gX3JlZi5kYXRlUmFuZ2U7CiAgICAkc2NvcGUubW9kZWwudGltZVJhbmdlID0gX29iamVjdFNwcmVhZCh7fSwgZGF0ZVJhbmdlKTsKCiAgICBfdGltZWZpbHRlci50aW1lZmlsdGVyLnNldFRpbWUoZGF0ZVJhbmdlKTsKICB9OwoKICAkc2NvcGUub25SZWZyZXNoQ2hhbmdlID0gZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgaXNQYXVzZWQgPSBfcmVmMi5pc1BhdXNlZCwKICAgICAgICByZWZyZXNoSW50ZXJ2YWwgPSBfcmVmMi5yZWZyZXNoSW50ZXJ2YWw7CiAgICAkc2NvcGUubW9kZWwucmVmcmVzaEludGVydmFsID0gewogICAgICBwYXVzZTogaXNQYXVzZWQsCiAgICAgIHZhbHVlOiByZWZyZXNoSW50ZXJ2YWwKICAgIH07CgogICAgX3RpbWVmaWx0ZXIudGltZWZpbHRlci5zZXRSZWZyZXNoSW50ZXJ2YWwoewogICAgICBwYXVzZTogaXNQYXVzZWQsCiAgICAgIHZhbHVlOiByZWZyZXNoSW50ZXJ2YWwgPyByZWZyZXNoSW50ZXJ2YWwgOiAkc2NvcGUucmVmcmVzaEludGVydmFsLnZhbHVlCiAgICB9KTsKCiAgICBzZXRSZWZyZXNoRGF0YSgpOwogIH07CgogICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHNhdmVkU2hlZXQubGFzdFNhdmVkVGl0bGU7CiAgfSwgZnVuY3Rpb24gKG5ld1RpdGxlKSB7CiAgICBfZG9jX3RpdGxlLmRvY1RpdGxlLmNoYW5nZShzYXZlZFNoZWV0LmlkID8gbmV3VGl0bGUgOiB1bmRlZmluZWQpOwogIH0pOwoKICAkc2NvcGUudG9nZ2xlID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAkc2NvcGVbcHJvcGVydHldID0gISRzY29wZVtwcm9wZXJ0eV07CiAgfTsKCiAgJHNjb3BlLm5ld1NoZWV0ID0gZnVuY3Rpb24gKCkgewogICAga2JuVXJsLmNoYW5nZSgnLycsIHt9KTsKICB9OwoKICAkc2NvcGUubmV3Q2VsbCA9IGZ1bmN0aW9uICgpIHsKICAgICRzY29wZS5zdGF0ZS5zaGVldC5wdXNoKGRlZmF1bHRFeHByZXNzaW9uKTsKICAgICRzY29wZS5zdGF0ZS5zZWxlY3RlZCA9ICRzY29wZS5zdGF0ZS5zaGVldC5sZW5ndGggLSAxOwogICAgJHNjb3BlLnNhZmVTZWFyY2goKTsKICB9OwoKICAkc2NvcGUuc2V0QWN0aXZlQ2VsbCA9IGZ1bmN0aW9uIChjZWxsKSB7CiAgICAkc2NvcGUuc3RhdGUuc2VsZWN0ZWQgPSBjZWxsOwogIH07CgogICRzY29wZS5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7CiAgICAkc2NvcGUuc3RhdGUuc2F2ZSgpOwogICAgJHNjb3BlLnJ1bm5pbmcgPSB0cnVlOwogICAgdmFyIGh0dHBSZXN1bHQgPSAkaHR0cC5wb3N0KCcuLi9hcGkvdGltZWxpb24vcnVuJywgewogICAgICBzaGVldDogJHNjb3BlLnN0YXRlLnNoZWV0LAogICAgICB0aW1lOiBfbG9kYXNoLmRlZmF1bHQuZXh0ZW5kKF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuZ2V0VGltZSgpLCB7CiAgICAgICAgaW50ZXJ2YWw6ICRzY29wZS5zdGF0ZS5pbnRlcnZhbCwKICAgICAgICB0aW1lem9uZTogdGltZXpvbmUKICAgICAgfSkKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgcmV0dXJuIHJlc3AuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHRocm93IHJlc3AuZGF0YTsKICAgIH0pOwogICAgaHR0cFJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICRzY29wZS5zdGF0cyA9IHJlc3Auc3RhdHM7CiAgICAgICRzY29wZS5zaGVldCA9IHJlc3Auc2hlZXQ7CgogICAgICBfbG9kYXNoLmRlZmF1bHQuZWFjaChyZXNwLnNoZWV0LCBmdW5jdGlvbiAoY2VsbCkgewogICAgICAgIGlmIChjZWxsLmV4Y2VwdGlvbikgewogICAgICAgICAgJHNjb3BlLnN0YXRlLnNlbGVjdGVkID0gY2VsbC5wbG90OwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAkc2NvcGUucnVubmluZyA9IGZhbHNlOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgJHNjb3BlLnNoZWV0ID0gW107CiAgICAgICRzY29wZS5ydW5uaW5nID0gZmFsc2U7CiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IocmVzcC5tZXNzYWdlKTsKICAgICAgZXJyLnN0YWNrID0gcmVzcC5zdGFjazsKCiAgICAgIF9ub3RpZnkudG9hc3ROb3RpZmljYXRpb25zLmFkZEVycm9yKGVyciwgewogICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgndGltZWxpb24uc2VhcmNoRXJyb3JUaXRsZScsIHsKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAnVGltZWxpb24gcmVxdWVzdCBlcnJvcicKICAgICAgICB9KQogICAgICB9KTsKICAgIH0pOwogIH07CgogICRzY29wZS5zYWZlU2VhcmNoID0gX2xvZGFzaC5kZWZhdWx0LmRlYm91bmNlKCRzY29wZS5zZWFyY2gsIDUwMCk7CgogIGZ1bmN0aW9uIHNhdmVTaGVldCgpIHsKICAgIHNhdmVkU2hlZXQudGltZWxpb25fc2hlZXQgPSAkc2NvcGUuc3RhdGUuc2hlZXQ7CiAgICBzYXZlZFNoZWV0LnRpbWVsaW9uX2ludGVydmFsID0gJHNjb3BlLnN0YXRlLmludGVydmFsOwogICAgc2F2ZWRTaGVldC50aW1lbGlvbl9jb2x1bW5zID0gJHNjb3BlLnN0YXRlLmNvbHVtbnM7CiAgICBzYXZlZFNoZWV0LnRpbWVsaW9uX3Jvd3MgPSAkc2NvcGUuc3RhdGUucm93czsKICAgIHNhdmVkU2hlZXQuc2F2ZSgpLnRoZW4oZnVuY3Rpb24gKGlkKSB7CiAgICAgIGlmIChpZCkgewogICAgICAgIF9ub3RpZnkudG9hc3ROb3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoewogICAgICAgICAgdGl0bGU6IF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi5zYXZlU2hlZXQuc3VjY2Vzc05vdGlmaWNhdGlvblRleHQnLCB7CiAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiU2F2ZWQgc2hlZXQgJ3t0aXRsZX0nIiwKICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgdGl0bGU6IHNhdmVkU2hlZXQudGl0bGUKICAgICAgICAgICAgfQogICAgICAgICAgfSksCiAgICAgICAgICAnZGF0YS10ZXN0LXN1YmonOiAndGltZWxpb25TYXZlU3VjY2Vzc1RvYXN0JwogICAgICAgIH0pOwoKICAgICAgICBpZiAoc2F2ZWRTaGVldC5pZCAhPT0gJHJvdXRlUGFyYW1zLmlkKSB7CiAgICAgICAgICBrYm5VcmwuY2hhbmdlKCcve3tpZH19JywgewogICAgICAgICAgICBpZDogc2F2ZWRTaGVldC5pZAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHNhdmVFeHByZXNzaW9uKHRpdGxlKSB7CiAgICBzYXZlZFZpc3VhbGl6YXRpb25zLmdldCh7CiAgICAgIHR5cGU6ICd0aW1lbGlvbicKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNhdmVkRXhwcmVzc2lvbikgewogICAgICBzYXZlZEV4cHJlc3Npb24udmlzU3RhdGUucGFyYW1zID0gewogICAgICAgIGV4cHJlc3Npb246ICRzY29wZS5zdGF0ZS5zaGVldFskc2NvcGUuc3RhdGUuc2VsZWN0ZWRdLAogICAgICAgIGludGVydmFsOiAkc2NvcGUuc3RhdGUuaW50ZXJ2YWwKICAgICAgfTsKICAgICAgc2F2ZWRFeHByZXNzaW9uLnRpdGxlID0gdGl0bGU7CiAgICAgIHNhdmVkRXhwcmVzc2lvbi52aXNTdGF0ZS50aXRsZSA9IHRpdGxlOwogICAgICBzYXZlZEV4cHJlc3Npb24uc2F2ZSgpLnRoZW4oZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgaWYgKGlkKSB7CiAgICAgICAgICBfbm90aWZ5LnRvYXN0Tm90aWZpY2F0aW9ucy5hZGRTdWNjZXNzKF9pMThuLmkxOG4udHJhbnNsYXRlKCd0aW1lbGlvbi5zYXZlRXhwcmVzc2lvbi5zdWNjZXNzTm90aWZpY2F0aW9uVGV4dCcsIHsKICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJTYXZlZCBleHByZXNzaW9uICd7dGl0bGV9JyIsCiAgICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICAgIHRpdGxlOiBzYXZlZEV4cHJlc3Npb24udGl0bGUKICAgICAgICAgICAgfQogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9CgogIGluaXQoKTsKfSk7"},null]}