{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/core/public/plugins/plugins_service.js","dependencies":[{"path":"src/core/public/plugins/plugins_service.js","mtime":1572296408492},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlBsdWdpbnNTZXJ2aWNlID0gdm9pZCAwOwoKdmFyIF9wbHVnaW4gPSByZXF1aXJlKCIuL3BsdWdpbiIpOwoKdmFyIF9wbHVnaW5fY29udGV4dCA9IHJlcXVpcmUoIi4vcGx1Z2luX2NvbnRleHQiKTsKCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsKICB0cnkgewogICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOwogICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmVqZWN0KGVycm9yKTsKICAgIHJldHVybjsKICB9CgogIGlmIChpbmZvLmRvbmUpIHsKICAgIHJlc29sdmUodmFsdWUpOwogIH0gZWxzZSB7CiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgfQp9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKCiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgfQoKICAgICAgX25leHQodW5kZWZpbmVkKTsKICAgIH0pOwogIH07Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICB9Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgfQp9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogIHJldHVybiBDb25zdHJ1Y3RvcjsKfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KLyoqCiAqIFNlcnZpY2UgcmVzcG9uc2libGUgZm9yIGxvYWRpbmcgcGx1Z2luIGJ1bmRsZXMsIGluaXRpYWxpemluZyBwbHVnaW5zLCBhbmQgbWFuYWdpbmcgdGhlIGxpZmVjeWNsZQogKiBvZiBhbGwgcGx1Z2lucy4KICoKICogQGludGVybmFsCiAqLwoKCnZhciBQbHVnaW5zU2VydmljZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIC8qKiBQbHVnaW4gd3JhcHBlcnMgaW4gdG9wb2xvZ2ljYWwgb3JkZXIuICovCiAgZnVuY3Rpb24gUGx1Z2luc1NlcnZpY2UoY29yZUNvbnRleHQsIHBsdWdpbnMpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsdWdpbnNTZXJ2aWNlKTsKCiAgICB0aGlzLmNvcmVDb250ZXh0ID0gY29yZUNvbnRleHQ7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJwbHVnaW5zIiwgbmV3IE1hcCgpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInBsdWdpbkRlcGVuZGVuY2llcyIsIG5ldyBNYXAoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzYXR1cFBsdWdpbnMiLCBbXSk7IC8vIEdlbmVyYXRlIG9wYXF1ZSBpZHMKCgogICAgdmFyIG9wYXF1ZUlkcyA9IG5ldyBNYXAocGx1Z2lucy5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgcmV0dXJuIFtwLmlkLCBTeW1ib2wocC5pZCldOwogICAgfSkpOyAvLyBTZXR1cCBkZXBlbmRlbmN5IG1hcCBhbmQgcGx1Z2luIHdyYXBwZXJzCgogICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgICBwbHVnaW4gPSBfcmVmLnBsdWdpbjsgLy8gU2V0dXAgbWFwIG9mIGRlcGVuZGVuY2llcwoKICAgICAgX3RoaXMucGx1Z2luRGVwZW5kZW5jaWVzLnNldChpZCwgW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwbHVnaW4ucmVxdWlyZWRQbHVnaW5zKSwgX3RvQ29uc3VtYWJsZUFycmF5KHBsdWdpbi5vcHRpb25hbFBsdWdpbnMuZmlsdGVyKGZ1bmN0aW9uIChvcHRQbHVnaW4pIHsKICAgICAgICByZXR1cm4gb3BhcXVlSWRzLmhhcyhvcHRQbHVnaW4pOwogICAgICB9KSkpKTsgLy8gQ29uc3RydWN0IHBsdWdpbiB3cmFwcGVycywgZGVwZW5kaW5nIG9uIHRoZSB0b3BvbG9naWNhbCBvcmRlciBzZXQgYnkgdGhlIHNlcnZlci4KCgogICAgICBfdGhpcy5wbHVnaW5zLnNldChpZCwgbmV3IF9wbHVnaW4uUGx1Z2luV3JhcHBlcihwbHVnaW4sIG9wYXF1ZUlkcy5nZXQoaWQpLCAoMCwgX3BsdWdpbl9jb250ZXh0LmNyZWF0ZVBsdWdpbkluaXRpYWxpemVyQ29udGV4dCkoX3RoaXMuY29yZUNvbnRleHQsIG9wYXF1ZUlkcy5nZXQoaWQpLCBwbHVnaW4pKSk7CiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhQbHVnaW5zU2VydmljZSwgW3sKICAgIGtleTogImdldE9wYXF1ZUlkcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3BhcXVlSWRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsgLy8gUmV0dXJuIGRlcGVuZGVuY3kgbWFwIG9mIG9wYXF1ZSBpZHMKCgogICAgICByZXR1cm4gbmV3IE1hcChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5wbHVnaW5EZXBlbmRlbmNpZXMpLm1hcChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgMiksCiAgICAgICAgICAgIGlkID0gX3JlZjNbMF0sCiAgICAgICAgICAgIGRlcHMgPSBfcmVmM1sxXTsKCiAgICAgICAgcmV0dXJuIFtfdGhpczIucGx1Z2lucy5nZXQoaWQpLm9wYXF1ZUlkLCBkZXBzLm1hcChmdW5jdGlvbiAoZGVwSWQpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIucGx1Z2lucy5nZXQoZGVwSWQpLm9wYXF1ZUlkOwogICAgICAgIH0pXTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInNldHVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2V0dXAgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRlcHMpIHsKICAgICAgICB2YXIgY29udHJhY3RzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIF9zdGVwJHZhbHVlLCBwbHVnaW5OYW1lLCBwbHVnaW4sIHBsdWdpbkRlcENvbnRyYWN0czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGx1Z2luQnVuZGxlcyhkZXBzLmh0dHAuYmFzZVBhdGgucHJlcGVuZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIC8vIFNldHVwIGVhY2ggcGx1Z2luIHdpdGggcmVxdWlyZWQgYW5kIG9wdGlvbmFsIHBsdWdpbiBjb250cmFjdHMKICAgICAgICAgICAgICAgIGNvbnRyYWN0cyA9IG5ldyBNYXAoKTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSB0aGlzLnBsdWdpbnMuZW50cmllcygpW1N5bWJvbC5pdGVyYXRvcl0oKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3N0ZXAkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcC52YWx1ZSwgMiksIHBsdWdpbk5hbWUgPSBfc3RlcCR2YWx1ZVswXSwgcGx1Z2luID0gX3N0ZXAkdmFsdWVbMV07CiAgICAgICAgICAgICAgICBwbHVnaW5EZXBDb250cmFjdHMgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5wbHVnaW5EZXBlbmRlbmNpZXMuZ2V0KHBsdWdpbk5hbWUpKS5yZWR1Y2UoZnVuY3Rpb24gKGRlcENvbnRyYWN0cywgZGVwZW5kZW5jeU5hbWUpIHsKICAgICAgICAgICAgICAgICAgLy8gT25seSBzZXQgaWYgcHJlc2VudC4gQ291bGQgYmUgYWJzZW50IGlmIHBsdWdpbiBkb2VzIG5vdCBoYXZlIGNsaWVudC1zaWRlIGNvZGUgb3IgaXMgYQogICAgICAgICAgICAgICAgICAvLyBtaXNzaW5nIG9wdGlvbmFsIHBsdWdpbi4KICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyYWN0cy5oYXMoZGVwZW5kZW5jeU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgZGVwQ29udHJhY3RzW2RlcGVuZGVuY3lOYW1lXSA9IGNvbnRyYWN0cy5nZXQoZGVwZW5kZW5jeU5hbWUpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gZGVwQ29udHJhY3RzOwogICAgICAgICAgICAgICAgfSwge30pOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBjb250cmFjdHM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IHBsdWdpbk5hbWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luLnNldHVwKCgwLCBfcGx1Z2luX2NvbnRleHQuY3JlYXRlUGx1Z2luU2V0dXBDb250ZXh0KSh0aGlzLmNvcmVDb250ZXh0LCBkZXBzLCBwbHVnaW4pLCBwbHVnaW5EZXBDb250cmFjdHMpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQudDIgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwLnNldC5jYWxsKF9jb250ZXh0LnQwLCBfY29udGV4dC50MSwgX2NvbnRleHQudDIpOwoKICAgICAgICAgICAgICAgIHRoaXMuc2F0dXBQbHVnaW5zLnB1c2gocGx1Z2luTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQzID0gX2NvbnRleHRbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IF9jb250ZXh0LnQzOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI3OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI4OwoKICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMwOwoKICAgICAgICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMzApOwoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgyNyk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIGNvbnRyYWN0czogY29udHJhY3RzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbNiwgMjMsIDI3LCAzNV0sIFsyOCwsIDMwLCAzNF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2V0dXAoX3gpIHsKICAgICAgICByZXR1cm4gX3NldHVwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZXR1cDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc3RhcnQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihkZXBzKSB7CiAgICAgICAgdmFyIGNvbnRyYWN0cywgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIsIF9kaWRJdGVyYXRvckVycm9yMiwgX2l0ZXJhdG9yRXJyb3IyLCBfaXRlcmF0b3IyLCBfc3RlcDIsIF9zdGVwMiR2YWx1ZSwgcGx1Z2luTmFtZSwgcGx1Z2luLCBwbHVnaW5EZXBDb250cmFjdHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBTZXR1cCBlYWNoIHBsdWdpbiB3aXRoIHJlcXVpcmVkIGFuZCBvcHRpb25hbCBwbHVnaW4gY29udHJhY3RzCiAgICAgICAgICAgICAgICBjb250cmFjdHMgPSBuZXcgTWFwKCk7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIgPSB0aGlzLnBsdWdpbnMuZW50cmllcygpW1N5bWJvbC5pdGVyYXRvcl0oKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9zdGVwMiR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwMi52YWx1ZSwgMiksIHBsdWdpbk5hbWUgPSBfc3RlcDIkdmFsdWVbMF0sIHBsdWdpbiA9IF9zdGVwMiR2YWx1ZVsxXTsKICAgICAgICAgICAgICAgIHBsdWdpbkRlcENvbnRyYWN0cyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnBsdWdpbkRlcGVuZGVuY2llcy5nZXQocGx1Z2luTmFtZSkpLnJlZHVjZShmdW5jdGlvbiAoZGVwQ29udHJhY3RzLCBkZXBlbmRlbmN5TmFtZSkgewogICAgICAgICAgICAgICAgICAvLyBPbmx5IHNldCBpZiBwcmVzZW50LiBDb3VsZCBiZSBhYnNlbnQgaWYgcGx1Z2luIGRvZXMgbm90IGhhdmUgY2xpZW50LXNpZGUgY29kZSBvciBpcyBhCiAgICAgICAgICAgICAgICAgIC8vIG1pc3Npbmcgb3B0aW9uYWwgcGx1Z2luLgogICAgICAgICAgICAgICAgICBpZiAoY29udHJhY3RzLmhhcyhkZXBlbmRlbmN5TmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBkZXBDb250cmFjdHNbZGVwZW5kZW5jeU5hbWVdID0gY29udHJhY3RzLmdldChkZXBlbmRlbmN5TmFtZSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBkZXBDb250cmFjdHM7CiAgICAgICAgICAgICAgICB9LCB7fSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBjb250cmFjdHM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDEgPSBwbHVnaW5OYW1lOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBwbHVnaW4uc3RhcnQoKDAsIF9wbHVnaW5fY29udGV4dC5jcmVhdGVQbHVnaW5TdGFydENvbnRleHQpKHRoaXMuY29yZUNvbnRleHQsIGRlcHMsIHBsdWdpbiksIHBsdWdpbkRlcENvbnRyYWN0cyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDIgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAuc2V0LmNhbGwoX2NvbnRleHQyLnQwLCBfY29udGV4dDIudDEsIF9jb250ZXh0Mi50Mik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDMgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gX2NvbnRleHQyLnQzOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjU7CgogICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI3OwoKICAgICAgICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDI3KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDI0KTsKCiAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIGNvbnRyYWN0czogY29udHJhY3RzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1s0LCAyMCwgMjQsIDMyXSwgWzI1LCwgMjcsIDMxXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzdGFydChfeDIpIHsKICAgICAgICByZXR1cm4gX3N0YXJ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGFydDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdG9wID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zLCBfZGlkSXRlcmF0b3JFcnJvcjMsIF9pdGVyYXRvckVycm9yMywgX2l0ZXJhdG9yMywgX3N0ZXAzLCBwbHVnaW5OYW1lOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gU3RvcCBwbHVnaW5zIGluIHJldmVyc2UgdG9wb2xvZ2ljYWwgb3JkZXIuCiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzsKCiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMgPSB0aGlzLnNhdHVwUGx1Z2lucy5yZXZlcnNlKClbU3ltYm9sLml0ZXJhdG9yXSgpOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIHBsdWdpbk5hbWUgPSBfc3RlcDMudmFsdWU7CiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5nZXQocGx1Z2luTmFtZSkuc3RvcCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwoKICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNDsKCiAgICAgICAgICAgICAgICBpZiAoIV9kaWRJdGVyYXRvckVycm9yMykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgxNCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgxMSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbMywgNywgMTEsIDE5XSwgWzEyLCwgMTQsIDE4XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzdG9wKCkgewogICAgICAgIHJldHVybiBfc3RvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc3RvcDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvYWRQbHVnaW5CdW5kbGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkUGx1Z2luQnVuZGxlcyhhZGRCYXNlUGF0aCkgewogICAgICAvLyBMb2FkIGFsbCBidW5kbGVzIGluIHBhcmFsbGVsCiAgICAgIHJldHVybiBQcm9taXNlLmFsbChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5wbHVnaW5zLnZhbHVlcygpKS5tYXAoZnVuY3Rpb24gKHBsdWdpbikgewogICAgICAgIHJldHVybiBwbHVnaW4ubG9hZChhZGRCYXNlUGF0aCk7CiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQbHVnaW5zU2VydmljZTsKfSgpOwoKZXhwb3J0cy5QbHVnaW5zU2VydmljZSA9IFBsdWdpbnNTZXJ2aWNlOw=="},null]}