{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/metrics/public/components/annotations_editor.js","dependencies":[{"path":"src/legacy/core_plugins/metrics/public/components/annotations_editor.js","mtime":1572296411028},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFubm90YXRpb25zRWRpdG9yID0gdm9pZCAwOwoKdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInByb3AtdHlwZXMiKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibG9kYXNoIikpOwoKdmFyIF9jb2xsZWN0aW9uX2FjdGlvbnMgPSByZXF1aXJlKCIuL2xpYi9jb2xsZWN0aW9uX2FjdGlvbnMiKTsKCnZhciBfZXNfdHlwZXMgPSByZXF1aXJlKCIuLi8uLi9jb21tb24vZXNfdHlwZXMiKTsKCnZhciBfYWRkX2RlbGV0ZV9idXR0b25zID0gcmVxdWlyZSgiLi9hZGRfZGVsZXRlX2J1dHRvbnMiKTsKCnZhciBfY29sb3JfcGlja2VyID0gcmVxdWlyZSgiLi9jb2xvcl9waWNrZXIiKTsKCnZhciBfZmllbGRfc2VsZWN0ID0gcmVxdWlyZSgiLi9hZ2dzL2ZpZWxkX3NlbGVjdCIpOwoKdmFyIF91dWlkID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ1dWlkIikpOwoKdmFyIF9pY29uX3NlbGVjdCA9IHJlcXVpcmUoIi4vaWNvbl9zZWxlY3QiKTsKCnZhciBfeWVzX25vID0gcmVxdWlyZSgiLi95ZXNfbm8iKTsKCnZhciBfcXVlcnlfYmFyX3dyYXBwZXIgPSByZXF1aXJlKCIuL3F1ZXJ5X2Jhcl93cmFwcGVyIik7Cgp2YXIgX2dldF9kZWZhdWx0X3F1ZXJ5X2xhbmd1YWdlID0gcmVxdWlyZSgiLi9saWIvZ2V0X2RlZmF1bHRfcXVlcnlfbGFuZ3VhZ2UiKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7Cgp2YXIgX3JlYWN0MiA9IHJlcXVpcmUoIkBrYm4vaTE4bi9yZWFjdCIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIG5ld0Fubm90YXRpb24oKSB7CiAgcmV0dXJuIHsKICAgIGlkOiBfdXVpZC5kZWZhdWx0LnYxKCksCiAgICBjb2xvcjogJyNGMDAnLAogICAgaW5kZXhfcGF0dGVybjogJyonLAogICAgdGltZV9maWVsZDogJ0B0aW1lc3RhbXAnLAogICAgaWNvbjogJ2ZhLXRhZycsCiAgICBpZ25vcmVfZ2xvYmFsX2ZpbHRlcnM6IDEsCiAgICBpZ25vcmVfcGFuZWxfZmlsdGVyczogMQogIH07Cn0KCnZhciBSRVNUUklDVF9GSUVMRFMgPSBbX2VzX3R5cGVzLkVTX1RZUEVTLkRBVEVdOwoKdmFyIEFubm90YXRpb25zRWRpdG9yID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhBbm5vdGF0aW9uc0VkaXRvciwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIEFubm90YXRpb25zRWRpdG9yKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFubm90YXRpb25zRWRpdG9yKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihBbm5vdGF0aW9uc0VkaXRvcikuY2FsbCh0aGlzLCBwcm9wcykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhbmRsZVF1ZXJ5Q2hhbmdlIiwgZnVuY3Rpb24gKG1vZGVsLCBmaWx0ZXIpIHsKICAgICAgdmFyIHBhcnQgPSB7CiAgICAgICAgcXVlcnlfc3RyaW5nOiBmaWx0ZXIKICAgICAgfTsKCiAgICAgIF9jb2xsZWN0aW9uX2FjdGlvbnMuY29sbGVjdGlvbkFjdGlvbnMuaGFuZGxlQ2hhbmdlKF90aGlzLnByb3BzLCBfb2JqZWN0U3ByZWFkKHt9LCBtb2RlbCwge30sIHBhcnQpKTsKICAgIH0pOwoKICAgIF90aGlzLnJlbmRlclJvdyA9IF90aGlzLnJlbmRlclJvdy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhBbm5vdGF0aW9uc0VkaXRvciwgW3sKICAgIGtleTogImhhbmRsZUNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGl0ZW0sIG5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gX2NvbGxlY3Rpb25fYWN0aW9ucy5jb2xsZWN0aW9uQWN0aW9ucy5oYW5kbGVDaGFuZ2UuYmluZChudWxsLCBfdGhpczIucHJvcHMpOwoKICAgICAgICB2YXIgcGFydCA9IHt9OwogICAgICAgIHBhcnRbbmFtZV0gPSBfbG9kYXNoLmRlZmF1bHQuZ2V0KGUsICdbMF0udmFsdWUnLCBfbG9kYXNoLmRlZmF1bHQuZ2V0KGUsICd0YXJnZXQudmFsdWUnKSk7CiAgICAgICAgaGFuZGxlQ2hhbmdlKF9sb2Rhc2guZGVmYXVsdC5hc3NpZ24oe30sIGl0ZW0sIHBhcnQpKTsKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXJSb3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclJvdyhyb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZGVmYXVsdHMgPSB7CiAgICAgICAgZmllbGRzOiAnJywKICAgICAgICB0ZW1wbGF0ZTogJycsCiAgICAgICAgaW5kZXhfcGF0dGVybjogJyonLAogICAgICAgIHF1ZXJ5X3N0cmluZzogewogICAgICAgICAgcXVlcnk6ICcnLAogICAgICAgICAgbGFuZ3VhZ2U6ICgwLCBfZ2V0X2RlZmF1bHRfcXVlcnlfbGFuZ3VhZ2UuZ2V0RGVmYXVsdFF1ZXJ5TGFuZ3VhZ2UpKCkKICAgICAgICB9CiAgICAgIH07CgogICAgICB2YXIgbW9kZWwgPSBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0cywge30sIHJvdyk7CgogICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHBhcnQpIHsKICAgICAgICB2YXIgZm4gPSBfY29sbGVjdGlvbl9hY3Rpb25zLmNvbGxlY3Rpb25BY3Rpb25zLmhhbmRsZUNoYW5nZS5iaW5kKG51bGwsIF90aGlzMy5wcm9wcyk7CgogICAgICAgIGZuKF9sb2Rhc2guZGVmYXVsdC5hc3NpZ24oe30sIG1vZGVsLCBwYXJ0KSk7CiAgICAgIH07CgogICAgICB2YXIgdG9nZ2xlUGFuZWxBY3RpdmF0aW9uID0gZnVuY3Rpb24gdG9nZ2xlUGFuZWxBY3RpdmF0aW9uKCkgewogICAgICAgIGhhbmRsZUNoYW5nZSh7CiAgICAgICAgICBoaWRkZW46ICFtb2RlbC5oaWRkZW4KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHZhciBodG1sSWQgPSAoMCwgX2V1aS5odG1sSWRHZW5lcmF0b3IpKG1vZGVsLmlkKTsKCiAgICAgIHZhciBoYW5kbGVBZGQgPSBfY29sbGVjdGlvbl9hY3Rpb25zLmNvbGxlY3Rpb25BY3Rpb25zLmhhbmRsZUFkZC5iaW5kKG51bGwsIHRoaXMucHJvcHMsIG5ld0Fubm90YXRpb24pOwoKICAgICAgdmFyIGhhbmRsZURlbGV0ZSA9IF9jb2xsZWN0aW9uX2FjdGlvbnMuY29sbGVjdGlvbkFjdGlvbnMuaGFuZGxlRGVsZXRlLmJpbmQobnVsbCwgdGhpcy5wcm9wcywgbW9kZWwpOwoKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0dmJBbm5vdGF0aW9uc0VkaXRvciIsCiAgICAgICAga2V5OiBtb2RlbC5pZAogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgcmVzcG9uc2l2ZTogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfY29sb3JfcGlja2VyLkNvbG9yUGlja2VyLCB7CiAgICAgICAgZGlzYWJsZVRyYXNoOiB0cnVlLAogICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgICAgbmFtZTogImNvbG9yIiwKICAgICAgICB2YWx1ZTogbW9kZWwuY29sb3IKICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBjbGFzc05hbWU6ICJ0dmJBZ2dSb3dfX2NoaWxkcmVuIgogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsCiAgICAgICAgd3JhcDogdHJ1ZSwKICAgICAgICBndXR0ZXJTaXplOiAibSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgICAgIGlkOiBodG1sSWQoJ2luZGV4UGF0dGVybicpLAogICAgICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ0c3ZiLmFubm90YXRpb25zRWRpdG9yLmluZGV4UGF0dGVybkxhYmVsIiwKICAgICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiSW5kZXggcGF0dGVybiAocmVxdWlyZWQpIgogICAgICAgIH0pLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmllbGRUZXh0LCB7CiAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlKG1vZGVsLCAnaW5kZXhfcGF0dGVybicpLAogICAgICAgIHZhbHVlOiBtb2RlbC5pbmRleF9wYXR0ZXJuLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZQogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICAgICAgaWQ6IGh0bWxJZCgndGltZUZpZWxkJyksCiAgICAgICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInRzdmIuYW5ub3RhdGlvbnNFZGl0b3IudGltZUZpZWxkTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJUaW1lIGZpZWxkIChyZXF1aXJlZCkiCiAgICAgICAgfSksCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ZpZWxkX3NlbGVjdC5GaWVsZFNlbGVjdCwgewogICAgICAgIHJlc3RyaWN0OiBSRVNUUklDVF9GSUVMRFMsCiAgICAgICAgdmFsdWU6IG1vZGVsLnRpbWVfZmllbGQsCiAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlKG1vZGVsLCAndGltZV9maWVsZCcpLAogICAgICAgIGluZGV4UGF0dGVybjogbW9kZWwuaW5kZXhfcGF0dGVybiwKICAgICAgICBmaWVsZHM6IHRoaXMucHJvcHMuZmllbGRzLAogICAgICAgIGZ1bGxXaWR0aDogdHJ1ZQogICAgICB9KSkpKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgIHJlc3BvbnNpdmU6IGZhbHNlLAogICAgICAgIHdyYXA6IHRydWUsCiAgICAgICAgZ3V0dGVyU2l6ZTogIm0iCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBpZDogaHRtbElkKCdxdWVyeVN0cmluZycpLAogICAgICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ0c3ZiLmFubm90YXRpb25zRWRpdG9yLnF1ZXJ5U3RyaW5nTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJRdWVyeSBzdHJpbmciCiAgICAgICAgfSksCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3F1ZXJ5X2Jhcl93cmFwcGVyLlF1ZXJ5QmFyV3JhcHBlciwgewogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBsYW5ndWFnZTogbW9kZWwucXVlcnlfc3RyaW5nLmxhbmd1YWdlIHx8ICgwLCBfZ2V0X2RlZmF1bHRfcXVlcnlfbGFuZ3VhZ2UuZ2V0RGVmYXVsdFF1ZXJ5TGFuZ3VhZ2UpKCksCiAgICAgICAgICBxdWVyeTogbW9kZWwucXVlcnlfc3RyaW5nLnF1ZXJ5IHx8ICcnCiAgICAgICAgfSwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UocXVlcnkpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuaGFuZGxlUXVlcnlDaGFuZ2UobW9kZWwsIHF1ZXJ5KTsKICAgICAgICB9LAogICAgICAgIGluZGV4UGF0dGVybnM6IFttb2RlbC5pbmRleF9wYXR0ZXJuXQogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybUxhYmVsLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAidHN2Yi5hbm5vdGF0aW9uc0VkaXRvci5pZ25vcmVHbG9iYWxGaWx0ZXJzTGFiZWwiLAogICAgICAgIGRlZmF1bHRNZXNzYWdlOiAiSWdub3JlIGdsb2JhbCBmaWx0ZXJzPyIKICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogInMiCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF95ZXNfbm8uWWVzTm8sIHsKICAgICAgICB2YWx1ZTogbW9kZWwuaWdub3JlX2dsb2JhbF9maWx0ZXJzLAogICAgICAgIG5hbWU6ICJpZ25vcmVfZ2xvYmFsX2ZpbHRlcnMiLAogICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UKICAgICAgfSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybUxhYmVsLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgIGlkOiAidHN2Yi5hbm5vdGF0aW9uc0VkaXRvci5pZ25vcmVQYW5lbEZpbHRlcnNMYWJlbCIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJJZ25vcmUgcGFuZWwgZmlsdGVycz8iCiAgICAgIH0pKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfeWVzX25vLlllc05vLCB7CiAgICAgICAgdmFsdWU6IG1vZGVsLmlnbm9yZV9wYW5lbF9maWx0ZXJzLAogICAgICAgIG5hbWU6ICJpZ25vcmVfcGFuZWxfZmlsdGVycyIsCiAgICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZQogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogIm0iCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEdyb3VwLCB7CiAgICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsCiAgICAgICAgd3JhcDogdHJ1ZSwKICAgICAgICBndXR0ZXJTaXplOiAibSIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhJdGVtLCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRm9ybVJvdywgewogICAgICAgIGlkOiBodG1sSWQoJ2ljb24nKSwKICAgICAgICBsYWJlbDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAidHN2Yi5hbm5vdGF0aW9uc0VkaXRvci5pY29uTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJJY29uIChyZXF1aXJlZCkiCiAgICAgICAgfSkKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbl9zZWxlY3QuSWNvblNlbGVjdCwgewogICAgICAgIHZhbHVlOiBtb2RlbC5pY29uLAogICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZShtb2RlbCwgJ2ljb24nKQogICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGb3JtUm93LCB7CiAgICAgICAgaWQ6IGh0bWxJZCgnZmllbGRzJyksCiAgICAgICAgbGFiZWw6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInRzdmIuYW5ub3RhdGlvbnNFZGl0b3IuZmllbGRzTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJGaWVsZHMgKHJlcXVpcmVkIC0gY29tbWEgc2VwYXJhdGVkIHBhdGhzKSIKICAgICAgICB9KSwKICAgICAgICBmdWxsV2lkdGg6IHRydWUKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZpZWxkVGV4dCwgewogICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZShtb2RlbCwgJ2ZpZWxkcycpLAogICAgICAgIHZhbHVlOiBtb2RlbC5maWVsZHMsCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICAgIH0pKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIHsKICAgICAgICBpZDogaHRtbElkKCdyb3dUZW1wbGF0ZScpLAogICAgICAgIGxhYmVsOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ0c3ZiLmFubm90YXRpb25zRWRpdG9yLnJvd1RlbXBsYXRlTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJSb3cgdGVtcGxhdGUgKHJlcXVpcmVkKSIKICAgICAgICB9KSwKICAgICAgICBoZWxwVGV4dDogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInRzdmIuYW5ub3RhdGlvbnNFZGl0b3Iucm93VGVtcGxhdGVIZWxwVGV4dCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogImVnLntyb3dUZW1wbGF0ZUV4YW1wbGV9IiwKICAgICAgICAgIHZhbHVlczogewogICAgICAgICAgICByb3dUZW1wbGF0ZUV4YW1wbGU6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlDb2RlLCBudWxsLCAne3tmaWVsZH19JykKICAgICAgICAgIH0KICAgICAgICB9KSksCiAgICAgICAgZnVsbFdpZHRoOiB0cnVlCiAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGaWVsZFRleHQsIHsKICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UobW9kZWwsICd0ZW1wbGF0ZScpLAogICAgICAgIHZhbHVlOiBtb2RlbC50ZW1wbGF0ZSwKICAgICAgICBmdWxsV2lkdGg6IHRydWUKICAgICAgfSkpKSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICBncm93OiBmYWxzZQogICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hZGRfZGVsZXRlX2J1dHRvbnMuQWRkRGVsZXRlQnV0dG9ucywgewogICAgICAgIG9uQWRkOiBoYW5kbGVBZGQsCiAgICAgICAgb25EZWxldGU6IGhhbmRsZURlbGV0ZSwKICAgICAgICB0b2dnbGVQYW5lbEFjdGl2YXRpb246IHRvZ2dsZVBhbmVsQWN0aXZhdGlvbiwKICAgICAgICBpc1BhbmVsQWN0aXZlOiAhbW9kZWwuaGlkZGVuCiAgICAgIH0pKSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgbW9kZWwgPSB0aGlzLnByb3BzLm1vZGVsOwogICAgICB2YXIgY29udGVudDsKCiAgICAgIGlmICghbW9kZWwuYW5ub3RhdGlvbnMgfHwgIW1vZGVsLmFubm90YXRpb25zLmxlbmd0aCkgewogICAgICAgIHZhciBoYW5kbGVBZGQgPSBfY29sbGVjdGlvbl9hY3Rpb25zLmNvbGxlY3Rpb25BY3Rpb25zLmhhbmRsZUFkZC5iaW5kKG51bGwsIHRoaXMucHJvcHMsIG5ld0Fubm90YXRpb24pOwoKICAgICAgICBjb250ZW50ID0gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVRleHQsIHsKICAgICAgICAgIHRleHRBbGlnbjogImNlbnRlciIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJwIiwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAidHN2Yi5hbm5vdGF0aW9uc0VkaXRvci5ob3dUb0NyZWF0ZUFubm90YXRpb25EYXRhU291cmNlRGVzY3JpcHRpb24iLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDbGljayB0aGUgYnV0dG9uIGJlbG93IHRvIGNyZWF0ZSBhbiBhbm5vdGF0aW9uIGRhdGEgc291cmNlLiIKICAgICAgICB9KSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlCdXR0b24sIHsKICAgICAgICAgIGZpbGw6IHRydWUsCiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVBZGQKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJ0c3ZiLmFubm90YXRpb25zRWRpdG9yLmFkZERhdGFTb3VyY2VCdXR0b25MYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkFkZCBkYXRhIHNvdXJjZSIKICAgICAgICB9KSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBhbm5vdGF0aW9ucyA9IG1vZGVsLmFubm90YXRpb25zLm1hcCh0aGlzLnJlbmRlclJvdyk7CiAgICAgICAgY29udGVudCA9IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlUaXRsZSwgewogICAgICAgICAgc2l6ZTogInMiCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICBpZDogInRzdmIuYW5ub3RhdGlvbnNFZGl0b3IuZGF0YVNvdXJjZXNMYWJlbCIsCiAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogIkRhdGEgc291cmNlcyIKICAgICAgICB9KSkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgICBzaXplOiAibSIKICAgICAgICB9KSwgYW5ub3RhdGlvbnMpOwogICAgICB9CgogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogInR2YkFubm90YXRpb25zRWRpdG9yX19jb250YWluZXIiCiAgICAgIH0sIGNvbnRlbnQpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEFubm90YXRpb25zRWRpdG9yOwp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5Bbm5vdGF0aW9uc0VkaXRvciA9IEFubm90YXRpb25zRWRpdG9yOwpBbm5vdGF0aW9uc0VkaXRvci5kZWZhdWx0UHJvcHMgPSB7CiAgbmFtZTogJ2Fubm90YXRpb25zJwp9OwpBbm5vdGF0aW9uc0VkaXRvci5wcm9wVHlwZXMgPSB7CiAgZmllbGRzOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LAogIG1vZGVsOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LAogIG5hbWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogIHVpU2V0dGluZ3M6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QKfTs="},null]}