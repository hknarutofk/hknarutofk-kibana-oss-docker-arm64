{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/vislib/visualizations/point_series/heatmap_chart.js","dependencies":[{"path":"src/legacy/ui/public/vislib/visualizations/point_series/heatmap_chart.js","mtime":1572296413396},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkhlYXRtYXBDaGFydCA9IHZvaWQgMDsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX21vbWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibW9tZW50IikpOwoKdmFyIF9wb2ludF9zZXJpZXMgPSByZXF1aXJlKCIuL19wb2ludF9zZXJpZXMiKTsKCnZhciBfaGVhdG1hcF9jb2xvciA9IHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvY29sb3IvaGVhdG1hcF9jb2xvciIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCnZhciBkZWZhdWx0cyA9IHsKICBjb2xvcjogdW5kZWZpbmVkLAogIC8vIHRvZG8KICBmaWxsQ29sb3I6IHVuZGVmaW5lZCAvLyB0b2RvCgp9OwovKioKICogTGluZSBDaGFydCBWaXN1YWxpemF0aW9uCiAqCiAqIEBjbGFzcyBIZWF0bWFwQ2hhcnQKICogQGNvbnN0cnVjdG9yCiAqIEBleHRlbmRzIENoYXJ0CiAqIEBwYXJhbSBoYW5kbGVyIHtPYmplY3R9IFJlZmVyZW5jZSB0byB0aGUgSGFuZGxlciBDbGFzcyBDb25zdHJ1Y3RvcgogKiBAcGFyYW0gZWwge0hUTUxFbGVtZW50fSBIVE1MIGVsZW1lbnQgdG8gd2hpY2ggdGhlIGNoYXJ0IHdpbGwgYmUgYXBwZW5kZWQKICogQHBhcmFtIGNoYXJ0RGF0YSB7T2JqZWN0fSBFbGFzdGljc2VhcmNoIHF1ZXJ5IHJlc3VsdHMgZm9yIHRoaXMgc3BlY2lmaWMgY2hhcnQKICovCgp2YXIgSGVhdG1hcENoYXJ0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1BvaW50U2VyaWVzKSB7CiAgX2luaGVyaXRzKEhlYXRtYXBDaGFydCwgX1BvaW50U2VyaWVzKTsKCiAgZnVuY3Rpb24gSGVhdG1hcENoYXJ0KGhhbmRsZXIsIGNoYXJ0RWwsIGNoYXJ0RGF0YSwgc2VyaWVzQ29uZmlnQXJncykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWF0bWFwQ2hhcnQpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEhlYXRtYXBDaGFydCkuY2FsbCh0aGlzLCBoYW5kbGVyLCBjaGFydEVsLCBjaGFydERhdGEsIHNlcmllc0NvbmZpZ0FyZ3MpKTsKICAgIF90aGlzLnNlcmllc0NvbmZpZyA9IF9sb2Rhc2guZGVmYXVsdC5kZWZhdWx0cyhzZXJpZXNDb25maWdBcmdzIHx8IHt9LCBkZWZhdWx0cyk7CgogICAgX3RoaXMuaGFuZGxlci52aXNDb25maWcuc2V0KCdsZWdlbmQnLCB7CiAgICAgIGxhYmVsczogX3RoaXMuZ2V0SGVhdG1hcExhYmVscyhfdGhpcy5oYW5kbGVyLnZpc0NvbmZpZyksCiAgICAgIGNvbG9yczogX3RoaXMuZ2V0SGVhdG1hcENvbG9ycyhfdGhpcy5oYW5kbGVyLnZpc0NvbmZpZykKICAgIH0pOwoKICAgIHZhciBjb2xvcnMgPSBfdGhpcy5oYW5kbGVyLnZpc0NvbmZpZy5nZXQoJ2xlZ2VuZC5jb2xvcnMnLCBudWxsKTsKCiAgICBpZiAoY29sb3JzKSB7CiAgICAgIF90aGlzLmhhbmRsZXIudmlzLnVpU3RhdGUuc2V0U2lsZW50KCd2aXMuZGVmYXVsdENvbG9ycycsIG51bGwpOwoKICAgICAgX3RoaXMuaGFuZGxlci52aXMudWlTdGF0ZS5zZXRTaWxlbnQoJ3Zpcy5kZWZhdWx0Q29sb3JzJywgY29sb3JzKTsKICAgIH0KCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSGVhdG1hcENoYXJ0LCBbewogICAga2V5OiAiZ2V0SGVhdG1hcExhYmVscyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGVhdG1hcExhYmVscyhjZmcpIHsKICAgICAgdmFyIHBlcmNlbnRhZ2VNb2RlID0gY2ZnLmdldCgncGVyY2VudGFnZU1vZGUnKTsKICAgICAgdmFyIGNvbG9yc051bWJlciA9IGNmZy5nZXQoJ2NvbG9yc051bWJlcicpOwogICAgICB2YXIgY29sb3JzUmFuZ2UgPSBjZmcuZ2V0KCdjb2xvcnNSYW5nZScpOwogICAgICB2YXIgekF4aXNDb25maWcgPSB0aGlzLmdldFZhbHVlQXhpcygpLmF4aXNDb25maWc7CiAgICAgIHZhciB6QXhpc0Zvcm1hdHRlciA9IHpBeGlzQ29uZmlnLmdldCgnbGFiZWxzLmF4aXNGb3JtYXR0ZXInKTsKICAgICAgdmFyIHpTY2FsZSA9IHRoaXMuZ2V0VmFsdWVBeGlzKCkuZ2V0U2NhbGUoKTsKCiAgICAgIHZhciBfelNjYWxlJGRvbWFpbiA9IHpTY2FsZS5kb21haW4oKSwKICAgICAgICAgIF96U2NhbGUkZG9tYWluMiA9IF9zbGljZWRUb0FycmF5KF96U2NhbGUkZG9tYWluLCAyKSwKICAgICAgICAgIG1pbiA9IF96U2NhbGUkZG9tYWluMlswXSwKICAgICAgICAgIG1heCA9IF96U2NhbGUkZG9tYWluMlsxXTsKCiAgICAgIHZhciBsYWJlbHMgPSBbXTsKICAgICAgdmFyIG1heENvbG9yQ250ID0gMTA7CgogICAgICBpZiAoY2ZnLmdldCgnc2V0Q29sb3JSYW5nZScpKSB7CiAgICAgICAgY29sb3JzUmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICAgIHZhciBmcm9tID0gaXNGaW5pdGUocmFuZ2UuZnJvbSkgPyB6QXhpc0Zvcm1hdHRlcihyYW5nZS5mcm9tKSA6IHJhbmdlLmZyb207CiAgICAgICAgICB2YXIgdG8gPSBpc0Zpbml0ZShyYW5nZS50bykgPyB6QXhpc0Zvcm1hdHRlcihyYW5nZS50bykgOiByYW5nZS50bzsKICAgICAgICAgIGxhYmVscy5wdXNoKCIiLmNvbmNhdChmcm9tLCAiIC0gIikuY29uY2F0KHRvKSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG1heCA9PT0gbWluKSB7CiAgICAgICAgICByZXR1cm4gW21pbi50b1N0cmluZygpXTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JzTnVtYmVyOyBpKyspIHsKICAgICAgICAgIHZhciBsYWJlbCA9IHZvaWQgMDsKICAgICAgICAgIHZhciB2YWwgPSBpIC8gY29sb3JzTnVtYmVyOwogICAgICAgICAgdmFyIG5leHRWYWwgPSAoaSArIDEpIC8gY29sb3JzTnVtYmVyOwoKICAgICAgICAgIGlmIChwZXJjZW50YWdlTW9kZSkgewogICAgICAgICAgICB2YWwgPSBNYXRoLmNlaWwodmFsICogMTAwKTsKICAgICAgICAgICAgbmV4dFZhbCA9IE1hdGguY2VpbChuZXh0VmFsICogMTAwKTsKICAgICAgICAgICAgbGFiZWwgPSAiIi5jb25jYXQodmFsLCAiJSAtICIpLmNvbmNhdChuZXh0VmFsLCAiJSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFsID0gdmFsICogKG1heCAtIG1pbikgKyBtaW47CiAgICAgICAgICAgIG5leHRWYWwgPSBuZXh0VmFsICogKG1heCAtIG1pbikgKyBtaW47CgogICAgICAgICAgICBpZiAobWF4IC0gbWluID4gbWF4Q29sb3JDbnQpIHsKICAgICAgICAgICAgICB2YXIgdmFsSW50ID0gTWF0aC5jZWlsKHZhbCk7CgogICAgICAgICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICAgICAgICB2YWwgPSB2YWxJbnQgPT09IHZhbCA/IHZhbCA6IHZhbEludCAtIDE7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhbCA9IHZhbEludDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG5leHRWYWwgPSBNYXRoLmNlaWwobmV4dFZhbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChpc0Zpbml0ZSh2YWwpKSB2YWwgPSB6QXhpc0Zvcm1hdHRlcih2YWwpOwogICAgICAgICAgICBpZiAoaXNGaW5pdGUobmV4dFZhbCkpIG5leHRWYWwgPSB6QXhpc0Zvcm1hdHRlcihuZXh0VmFsKTsKICAgICAgICAgICAgbGFiZWwgPSAiIi5jb25jYXQodmFsLCAiIC0gIikuY29uY2F0KG5leHRWYWwpOwogICAgICAgICAgfQoKICAgICAgICAgIGxhYmVscy5wdXNoKGxhYmVsKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBsYWJlbHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SGVhdG1hcENvbG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGVhdG1hcENvbG9ycyhjZmcpIHsKICAgICAgdmFyIGludmVydENvbG9ycyA9IGNmZy5nZXQoJ2ludmVydENvbG9ycycpOwogICAgICB2YXIgY29sb3JTY2hlbWEgPSBjZmcuZ2V0KCdjb2xvclNjaGVtYScpOwogICAgICB2YXIgbGFiZWxzID0gdGhpcy5nZXRIZWF0bWFwTGFiZWxzKGNmZyk7CiAgICAgIHZhciBjb2xvcnMgPSB7fTsKCiAgICAgIGZvciAodmFyIGkgaW4gbGFiZWxzKSB7CiAgICAgICAgaWYgKGxhYmVsc1tpXSkgewogICAgICAgICAgdmFyIHZhbCA9IGludmVydENvbG9ycyA/IDEgLSBpIC8gbGFiZWxzLmxlbmd0aCA6IGkgLyBsYWJlbHMubGVuZ3RoOwogICAgICAgICAgY29sb3JzW2xhYmVsc1tpXV0gPSAoMCwgX2hlYXRtYXBfY29sb3IuZ2V0SGVhdG1hcENvbG9ycykodmFsLCBjb2xvclNjaGVtYSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gY29sb3JzOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFNxdWFyZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNxdWFyZXMoc3ZnLCBkYXRhKSB7CiAgICAgIHZhciB4U2NhbGUgPSB0aGlzLmdldENhdGVnb3J5QXhpcygpLmdldFNjYWxlKCk7CiAgICAgIHZhciB5U2NhbGUgPSB0aGlzLmhhbmRsZXIuY2F0ZWdvcnlBeGVzWzFdLmdldFNjYWxlKCk7CiAgICAgIHZhciB6U2NhbGUgPSB0aGlzLmdldFZhbHVlQXhpcygpLmdldFNjYWxlKCk7CiAgICAgIHZhciB0b29sdGlwID0gdGhpcy5iYXNlQ2hhcnQudG9vbHRpcDsKICAgICAgdmFyIGlzVG9vbHRpcCA9IHRoaXMuaGFuZGxlci52aXNDb25maWcuZ2V0KCd0b29sdGlwLnNob3cnKTsKICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMuZ2V0Q2F0ZWdvcnlBeGlzKCkuYXhpc0NvbmZpZy5pc0hvcml6b250YWwoKTsKICAgICAgdmFyIGNvbG9yc051bWJlciA9IHRoaXMuaGFuZGxlci52aXNDb25maWcuZ2V0KCdjb2xvcnNOdW1iZXInKTsKICAgICAgdmFyIHNldENvbG9yUmFuZ2UgPSB0aGlzLmhhbmRsZXIudmlzQ29uZmlnLmdldCgnc2V0Q29sb3JSYW5nZScpOwogICAgICB2YXIgY29sb3JzUmFuZ2UgPSB0aGlzLmhhbmRsZXIudmlzQ29uZmlnLmdldCgnY29sb3JzUmFuZ2UnKTsKICAgICAgdmFyIGNvbG9yID0gdGhpcy5oYW5kbGVyLmRhdGEuZ2V0Q29sb3JGdW5jKCk7CiAgICAgIHZhciBsYWJlbHMgPSB0aGlzLmhhbmRsZXIudmlzQ29uZmlnLmdldCgnbGVnZW5kLmxhYmVscycpOwogICAgICB2YXIgekF4aXNDb25maWcgPSB0aGlzLmdldFZhbHVlQXhpcygpLmF4aXNDb25maWc7CiAgICAgIHZhciB6QXhpc0Zvcm1hdHRlciA9IHpBeGlzQ29uZmlnLmdldCgnbGFiZWxzLmF4aXNGb3JtYXR0ZXInKTsKICAgICAgdmFyIHNob3dMYWJlbHMgPSB6QXhpc0NvbmZpZy5nZXQoJ2xhYmVscy5zaG93Jyk7CiAgICAgIHZhciBvdmVyd3JpdGVMYWJlbENvbG9yID0gekF4aXNDb25maWcuZ2V0KCdsYWJlbHMub3ZlcndyaXRlQ29sb3InLCBmYWxzZSk7CiAgICAgIHZhciBsYXllciA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdzZXJpZXMnKTsKICAgICAgdmFyIHNxdWFyZXMgPSBsYXllci5zZWxlY3RBbGwoJ2cuc3F1YXJlJykuZGF0YShkYXRhLnZhbHVlcyk7CiAgICAgIHNxdWFyZXMuZXhpdCgpLnJlbW92ZSgpOwogICAgICB2YXIgYmFyV2lkdGg7CgogICAgICBpZiAodGhpcy5nZXRDYXRlZ29yeUF4aXMoKS5heGlzQ29uZmlnLmlzVGltZURvbWFpbigpKSB7CiAgICAgICAgdmFyIF90aGlzJGhhbmRsZXIkZGF0YSRnZSA9IHRoaXMuaGFuZGxlci5kYXRhLmdldCgnb3JkZXJlZCcpLAogICAgICAgICAgICBfbWluID0gX3RoaXMkaGFuZGxlciRkYXRhJGdlLm1pbiwKICAgICAgICAgICAgaW50ZXJ2YWwgPSBfdGhpcyRoYW5kbGVyJGRhdGEkZ2UuaW50ZXJ2YWw7CgogICAgICAgIHZhciBzdGFydCA9IF9taW47CiAgICAgICAgdmFyIGVuZCA9ICgwLCBfbW9tZW50LmRlZmF1bHQpKF9taW4pLmFkZChpbnRlcnZhbCkudmFsdWVPZigpOwogICAgICAgIGJhcldpZHRoID0geFNjYWxlKGVuZCkgLSB4U2NhbGUoc3RhcnQpOwogICAgICAgIGlmICghaXNIb3Jpem9udGFsKSBiYXJXaWR0aCAqPSAtMTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24geChkKSB7CiAgICAgICAgcmV0dXJuIHhTY2FsZShkLngpOwogICAgICB9CgogICAgICBmdW5jdGlvbiB5KGQpIHsKICAgICAgICByZXR1cm4geVNjYWxlKGQuc2VyaWVzKTsKICAgICAgfQoKICAgICAgdmFyIF96U2NhbGUkZG9tYWluMyA9IHpTY2FsZS5kb21haW4oKSwKICAgICAgICAgIF96U2NhbGUkZG9tYWluNCA9IF9zbGljZWRUb0FycmF5KF96U2NhbGUkZG9tYWluMywgMiksCiAgICAgICAgICBtaW4gPSBfelNjYWxlJGRvbWFpbjRbMF0sCiAgICAgICAgICBtYXggPSBfelNjYWxlJGRvbWFpbjRbMV07CgogICAgICBmdW5jdGlvbiBnZXRDb2xvckJ1Y2tldChkKSB7CiAgICAgICAgdmFyIHZhbCA9IDA7CgogICAgICAgIGlmIChzZXRDb2xvclJhbmdlICYmIGNvbG9yc1JhbmdlLmxlbmd0aCkgewogICAgICAgICAgdmFyIGJ1Y2tldCA9IF9sb2Rhc2guZGVmYXVsdC5maW5kKGNvbG9yc1JhbmdlLCBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmZyb20gPD0gZC55ICYmIHJhbmdlLnRvID4gZC55OwogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuIGJ1Y2tldCA/IGNvbG9yc1JhbmdlLmluZGV4T2YoYnVja2V0KSA6IC0xOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoaXNOYU4obWluKSB8fCBpc05hTihtYXgpKSB7CiAgICAgICAgICAgIHZhbCA9IGNvbG9yc051bWJlciAtIDE7CiAgICAgICAgICB9IGVsc2UgaWYgKG1pbiA9PT0gbWF4KSB7CiAgICAgICAgICAgIHZhbCA9IDA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YWwgPSAoZC55IC0gbWluKSAvIChtYXggLSBtaW4pOwogICAgICAgICAgICAvKiBnZXQgdmFsIGZyb20gMCAtIDEgKi8KCiAgICAgICAgICAgIHZhbCA9IE1hdGgubWluKGNvbG9yc051bWJlciAtIDEsIE1hdGguZmxvb3IodmFsICogY29sb3JzTnVtYmVyKSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZC55ID09IG51bGwpIHsKICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAhaXNOYU4odmFsKSA/IHZhbCA6IC0xOwogICAgICB9CgogICAgICBmdW5jdGlvbiBsYWJlbChkKSB7CiAgICAgICAgdmFyIGNvbG9yQnVja2V0ID0gZ2V0Q29sb3JCdWNrZXQoZCk7IC8vIGNvbG9yQnVja2V0IGlkIHNob3VsZCBhbHdheXMgR1RFIDAKCiAgICAgICAgaWYgKGNvbG9yQnVja2V0IDwgMCkgZC5oaWRlID0gdHJ1ZTsKICAgICAgICByZXR1cm4gbGFiZWxzW2NvbG9yQnVja2V0XTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24geihkKSB7CiAgICAgICAgaWYgKGxhYmVsKGQpID09PSAnJykgcmV0dXJuICd0cmFuc3BhcmVudCc7CiAgICAgICAgcmV0dXJuIGNvbG9yKGxhYmVsKGQpKTsKICAgICAgfQoKICAgICAgdmFyIHNxdWFyZVdpZHRoID0gYmFyV2lkdGggfHwgeFNjYWxlLnJhbmdlQmFuZCgpOwogICAgICB2YXIgc3F1YXJlSGVpZ2h0ID0geVNjYWxlLnJhbmdlQmFuZCgpOwogICAgICBzcXVhcmVzLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnc3F1YXJlJyk7CiAgICAgIHNxdWFyZXMuYXBwZW5kKCdyZWN0JykuYXR0cigneCcsIHgpLmF0dHIoJ3dpZHRoJywgc3F1YXJlV2lkdGgpLmF0dHIoJ3knLCB5KS5hdHRyKCdoZWlnaHQnLCBzcXVhcmVIZWlnaHQpLmF0dHIoJ2RhdGEtbGFiZWwnLCBsYWJlbCkuYXR0cignZmlsbCcsIHopLmF0dHIoJ3N0eWxlJywgJ2N1cnNvcjogcG9pbnRlcjsgc3Ryb2tlOiBibGFjazsgc3Ryb2tlLXdpZHRoOiAwLjFweCcpLnN0eWxlKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5oaWRlID8gJ25vbmUnIDogJ2luaXRpYWwnOwogICAgICB9KTsgLy8gdG9kbzogdmVyaWZ5IHRoYXQgbG9uZ2VzdCBsYWJlbCBpcyBub3QgbG9uZ2VyIHRoYW4gdGhlIGJhcndpZHRoCiAgICAgIC8vIG9yIGJhcndpZHRoIGlzIG5vdCBzbWFsbGVyIHRoYW4gdGV4dGhlaWdodCAoYW5kIHZpY2UgdmVyc2EpCiAgICAgIC8vCgogICAgICBpZiAoc2hvd0xhYmVscykgewogICAgICAgIHZhciByb3RhdGUgPSB6QXhpc0NvbmZpZy5nZXQoJ2xhYmVscy5yb3RhdGUnKTsKICAgICAgICB2YXIgcm90YXRlUmFkID0gcm90YXRlICogTWF0aC5QSSAvIDE4MDsKICAgICAgICB2YXIgY2VsbFBhZGRpbmcgPSA1OwogICAgICAgIHZhciBtYXhMZW5ndGggPSBNYXRoLm1pbihNYXRoLmFicyhzcXVhcmVXaWR0aCAvIE1hdGguY29zKHJvdGF0ZVJhZCkpLCBNYXRoLmFicyhzcXVhcmVIZWlnaHQgLyBNYXRoLnNpbihyb3RhdGVSYWQpKSkgLSBjZWxsUGFkZGluZzsKICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5hYnMoc3F1YXJlV2lkdGggLyBNYXRoLnNpbihyb3RhdGVSYWQpKSwgTWF0aC5hYnMoc3F1YXJlSGVpZ2h0IC8gTWF0aC5jb3Mocm90YXRlUmFkKSkpIC0gY2VsbFBhZGRpbmc7CiAgICAgICAgdmFyIGxhYmVsQ29sb3I7CgogICAgICAgIGlmIChvdmVyd3JpdGVMYWJlbENvbG9yKSB7CiAgICAgICAgICAvLyBJZiBvdmVyd3JpdGVMYWJlbENvbG9yIGlzIHRydWUsIHVzZSB0aGUgbWFudWFsIHNwZWNpZmllZCBjb2xvcgogICAgICAgICAgbGFiZWxDb2xvciA9IHpBeGlzQ29uZmlnLmdldCgnbGFiZWxzLmNvbG9yJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIE90aGVyd2lzZSBwcm92aWRlIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNhbGN1bGF0ZSBhIGxpZ2h0IG9yIGRhcmsgY29sb3IKICAgICAgICAgIGxhYmVsQ29sb3IgPSBmdW5jdGlvbiBsYWJlbENvbG9yKGQpIHsKICAgICAgICAgICAgdmFyIGJnQ29sb3IgPSB6KGQpOwogICAgICAgICAgICB2YXIgY29sb3IgPSAvcmdiXChccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKlwpLy5leGVjKGJnQ29sb3IpOwogICAgICAgICAgICByZXR1cm4gY29sb3IgJiYgKDAsIF9ldWkuaXNDb2xvckRhcmspKHBhcnNlSW50KGNvbG9yWzFdKSwgcGFyc2VJbnQoY29sb3JbMl0pLCBwYXJzZUludChjb2xvclszXSkpID8gJyNGRkYnIDogJyMyMjInOwogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHZhciBoaWRkZW5MYWJlbHMgPSBmYWxzZTsKICAgICAgICBzcXVhcmVzLmFwcGVuZCgndGV4dCcpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiB6QXhpc0Zvcm1hdHRlcihkLnkpOwogICAgICAgIH0pLnN0eWxlKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGhpcy5nZXRCQm94KCkud2lkdGg7CiAgICAgICAgICB2YXIgdGV4dEhlaWdodCA9IHRoaXMuZ2V0QkJveCgpLmhlaWdodDsKICAgICAgICAgIHZhciB0ZXh0VG9vTG9uZyA9IHRleHRMZW5ndGggPiBtYXhMZW5ndGg7CiAgICAgICAgICB2YXIgdGV4dFRvb1dpZGUgPSB0ZXh0SGVpZ2h0ID4gbWF4SGVpZ2h0OwoKICAgICAgICAgIGlmICghZC5oaWRlICYmICh0ZXh0VG9vTG9uZyB8fCB0ZXh0VG9vV2lkZSkpIHsKICAgICAgICAgICAgaGlkZGVuTGFiZWxzID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZC5oaWRlIHx8IHRleHRUb29Mb25nIHx8IHRleHRUb29XaWRlID8gJ25vbmUnIDogJ2luaXRpYWwnOwogICAgICAgIH0pLnN0eWxlKCdkb21pbmFudC1iYXNlbGluZScsICdjZW50cmFsJykuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLnN0eWxlKCdmaWxsJywgbGFiZWxDb2xvcikuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICB2YXIgY2VudGVyID0geChkKSArIHNxdWFyZVdpZHRoIC8gMjsKICAgICAgICAgIHJldHVybiBjZW50ZXI7CiAgICAgICAgfSkuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICB2YXIgY2VudGVyID0geShkKSArIHNxdWFyZUhlaWdodCAvIDI7CiAgICAgICAgICByZXR1cm4gY2VudGVyOwogICAgICAgIH0pLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICB2YXIgaG9yaXpvbnRhbENlbnRlciA9IHgoZCkgKyBzcXVhcmVXaWR0aCAvIDI7CiAgICAgICAgICB2YXIgdmVydGljYWxDZW50ZXIgPSB5KGQpICsgc3F1YXJlSGVpZ2h0IC8gMjsKICAgICAgICAgIHJldHVybiAicm90YXRlKCIuY29uY2F0KHJvdGF0ZSwgIiwiKS5jb25jYXQoaG9yaXpvbnRhbENlbnRlciwgIiwiKS5jb25jYXQodmVydGljYWxDZW50ZXIsICIpIik7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChoaWRkZW5MYWJlbHMpIHsKICAgICAgICAgIHRoaXMuYmFzZUNoYXJ0LmhhbmRsZXIuYWxlcnRzLnNob3coJ1NvbWUgbGFiZWxzIHdlcmUgaGlkZGVuIGR1ZSB0byBzaXplIGNvbnN0cmFpbnRzJyk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaXNUb29sdGlwKSB7CiAgICAgICAgc3F1YXJlcy5jYWxsKHRvb2x0aXAucmVuZGVyKCkpOwogICAgICB9CgogICAgICByZXR1cm4gc3F1YXJlcy5zZWxlY3RBbGwoJ3JlY3QnKTsKICAgIH0KICAgIC8qKgogICAgICogUmVuZGVycyBkMyB2aXN1YWxpemF0aW9uCiAgICAgKgogICAgICogQG1ldGhvZCBkcmF3CiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IENyZWF0ZXMgdGhlIGxpbmUgY2hhcnQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkcmF3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7CiAgICAgICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHN2ZyA9IHNlbGYuY2hhcnRFbC5hcHBlbmQoJ2cnKTsKICAgICAgICAgIHN2Zy5kYXRhKFtzZWxmLmNoYXJ0RGF0YV0pOwogICAgICAgICAgdmFyIHNxdWFyZXMgPSBzZWxmLmFkZFNxdWFyZXMoc3ZnLCBzZWxmLmNoYXJ0RGF0YSk7CiAgICAgICAgICBzZWxmLmFkZENpcmNsZUV2ZW50cyhzcXVhcmVzKTsKICAgICAgICAgIHNlbGYuZXZlbnRzLmVtaXQoJ3JlbmRlcmVkJywgewogICAgICAgICAgICBjaGFydDogc2VsZi5jaGFydERhdGEKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHN2ZzsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIZWF0bWFwQ2hhcnQ7Cn0oX3BvaW50X3Nlcmllcy5Qb2ludFNlcmllcyk7CgpleHBvcnRzLkhlYXRtYXBDaGFydCA9IEhlYXRtYXBDaGFydDs="},null]}