{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/plugins/data/common/expressions/interpreter_provider.js","dependencies":[{"path":"src/plugins/data/common/expressions/interpreter_provider.js","mtime":1572296413556},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5pbnRlcnByZXRlclByb3ZpZGVyID0gaW50ZXJwcmV0ZXJQcm92aWRlcjsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJjcmVhdGVFcnJvciIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9jcmVhdGVfZXJyb3IuY3JlYXRlRXJyb3I7CiAgfQp9KTsKCnZhciBfbG9kYXNoID0gcmVxdWlyZSgibG9kYXNoIik7Cgp2YXIgX2NvbW1vbiA9IHJlcXVpcmUoIkBrYm4vaW50ZXJwcmV0ZXIvY29tbW9uIik7Cgp2YXIgX2NyZWF0ZV9lcnJvciA9IHJlcXVpcmUoIi4vY3JlYXRlX2Vycm9yIik7Ci8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcyAqLwovLyBAdHMtaWdub3JlCgoKZnVuY3Rpb24gaW50ZXJwcmV0ZXJQcm92aWRlcihjb25maWcpIHsKICB2YXIgZnVuY3Rpb25zID0gY29uZmlnLmZ1bmN0aW9ucywKICAgICAgdHlwZXMgPSBjb25maWcudHlwZXM7CgogIHZhciBoYW5kbGVycyA9IF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZy5oYW5kbGVycywgewogICAgdHlwZXM6IHR5cGVzCiAgfSk7CgogIHZhciBjYXN0ID0gKDAsIF9jb21tb24uY2FzdFByb3ZpZGVyKSh0eXBlcyk7CiAgcmV0dXJuIGludGVycHJldDsKCiAgZnVuY3Rpb24gaW50ZXJwcmV0KF94KSB7CiAgICByZXR1cm4gX2ludGVycHJldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gX2ludGVycHJldCgpIHsKICAgIF9pbnRlcnByZXQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobm9kZSkgewogICAgICB2YXIgY29udGV4dCwKICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29udGV4dCA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDogbnVsbDsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9ICgwLCBfY29tbW9uLmdldFR5cGUpKG5vZGUpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSBfY29udGV4dC50MCA9PT0gJ2V4cHJlc3Npb24nID8gNCA6IF9jb250ZXh0LnQwID09PSAnc3RyaW5nJyA/IDUgOiBfY29udGV4dC50MCA9PT0gJ251bWJlcicgPyA1IDogX2NvbnRleHQudDAgPT09ICdudWxsJyA/IDUgOiBfY29udGV4dC50MCA9PT0gJ2Jvb2xlYW4nID8gNSA6IDY7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgaW52b2tlQ2hhaW4obm9kZS5jaGFpbiwgY29udGV4dCkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5vZGUpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBBU1Qgb2JqZWN0OiAiLmNvbmNhdChKU09OLnN0cmluZ2lmeShub2RlKSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKICAgIHJldHVybiBfaW50ZXJwcmV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBpbnZva2VDaGFpbihfeDIsIF94MykgewogICAgcmV0dXJuIF9pbnZva2VDaGFpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gX2ludm9rZUNoYWluKCkgewogICAgX2ludm9rZUNoYWluID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjaGFpbkFyciwgY29udGV4dCkgewogICAgICB2YXIgY2hhaW4sIGxpbmssIGZuTmFtZSwgZm5BcmdzLCBmbkRlZiwgX3JlZiwgcmVzb2x2ZWRBcmdzLCBuZXdDb250ZXh0OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoY2hhaW5BcnIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlc29sdmUoY29udGV4dCkpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGlmICghKGhhbmRsZXJzLmFib3J0U2lnbmFsICYmIGhhbmRsZXJzLmFib3J0U2lnbmFsLmFib3J0ZWQpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAoMCwgX2NyZWF0ZV9lcnJvci5jcmVhdGVFcnJvcikoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBleHByZXNzaW9uIHdhcyBhYm9ydGVkLicsCiAgICAgICAgICAgICAgICBuYW1lOiAnQWJvcnRFcnJvcicKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2hhaW4gPSAoMCwgX2xvZGFzaC5jbG9uZSkoY2hhaW5BcnIpOwogICAgICAgICAgICAgIGxpbmsgPSBjaGFpbi5zaGlmdCgpOyAvLyBFdmVyeSB0aGluZyBpbiB0aGUgY2hhaW4gd2lsbCBhbHdheXMgYmUgYSBmdW5jdGlvbiByaWdodD8KCiAgICAgICAgICAgICAgZm5OYW1lID0gbGluay5mdW5jdGlvbiwgZm5BcmdzID0gbGluay5hcmd1bWVudHM7CiAgICAgICAgICAgICAgZm5EZWYgPSAoMCwgX2NvbW1vbi5nZXRCeUFsaWFzKShmdW5jdGlvbnMsIGZuTmFtZSk7CgogICAgICAgICAgICAgIGlmIChmbkRlZikgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsICgwLCBfY3JlYXRlX2Vycm9yLmNyZWF0ZUVycm9yKSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAiRnVuY3Rpb24gIi5jb25jYXQoZm5OYW1lLCAiIGNvdWxkIG5vdCBiZSBmb3VuZC4iKQogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiByZXNvbHZlQXJncyhmbkRlZiwgY29udGV4dCwgZm5BcmdzKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX3JlZiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHJlc29sdmVkQXJncyA9IF9yZWYucmVzb2x2ZWRBcmdzOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmN0aW9uKGZuRGVmLCBjb250ZXh0LCByZXNvbHZlZEFyZ3MpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBuZXdDb250ZXh0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKCgwLCBfY29tbW9uLmdldFR5cGUpKG5ld0NvbnRleHQpID09PSAnZXJyb3InKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ld0NvbnRleHQpOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgaW52b2tlQ2hhaW4oY2hhaW4sIG5ld0NvbnRleHQpKTsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyMzsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMTApOwogICAgICAgICAgICAgIC8vIEV2ZXJ5dGhpbmcgdGhhdCB0aHJvd3MgZnJvbSBhIGZ1bmN0aW9uIHdpbGwgaGl0IHRoaXMKICAgICAgICAgICAgICAvLyBUaGUgaW50ZXJwcmV0ZXIgc2hvdWxkICpuZXZlciogZmFpbC4gSXQgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSBge3R5cGU6IGVycm9yfWAgb24gZmFpbHVyZQogICAgICAgICAgICAgIF9jb250ZXh0Mi50MC5tZXNzYWdlID0gIlsiLmNvbmNhdChmbk5hbWUsICJdID4gIikuY29uY2F0KF9jb250ZXh0Mi50MC5tZXNzYWdlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgKDAsIF9jcmVhdGVfZXJyb3IuY3JlYXRlRXJyb3IpKF9jb250ZXh0Mi50MCkpOwoKICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEwLCAyM11dKTsKICAgIH0pKTsKICAgIHJldHVybiBfaW52b2tlQ2hhaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uKF94NCwgX3g1LCBfeDYpIHsKICAgIHJldHVybiBfaW52b2tlRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9IC8vIFByb2Nlc3NlcyB0aGUgbXVsdGktdmFsdWVkIEFTVCBhcmd1bWVudCB2YWx1ZXMgaW50byBhcmd1bWVudHMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbgoKCiAgZnVuY3Rpb24gX2ludm9rZUZ1bmN0aW9uKCkgewogICAgX2ludm9rZUZ1bmN0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhmbkRlZiwgY29udGV4dCwgYXJncykgewogICAgICB2YXIgYWNjZXB0YWJsZUNvbnRleHQsIGZuT3V0cHV0LCByZXR1cm5UeXBlLCBleHBlY3RlZFR5cGUsIHR5cGU7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgLy8gQ2hlY2sgZnVuY3Rpb24gaW5wdXQuCiAgICAgICAgICAgICAgYWNjZXB0YWJsZUNvbnRleHQgPSBjYXN0KGNvbnRleHQsIGZuRGVmLmNvbnRleHQudHlwZXMpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZm5EZWYuZm4oYWNjZXB0YWJsZUNvbnRleHQsIGFyZ3MsIGhhbmRsZXJzKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBmbk91dHB1dCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgdGhlIGZ1bmN0aW9uIHJldHVybmVkIHRoZSB0eXBlIGl0IHNhaWQgaXQgd291bGQuCiAgICAgICAgICAgICAgLy8gVGhpcyBpc24ndCByZWFsbHkgcmVxdWlyZWQsIGJ1dCBpdCBrZWVwcyBmdW5jdGlvbiBkZXZlbG9wZXJzIGhvbmVzdC4KICAgICAgICAgICAgICByZXR1cm5UeXBlID0gKDAsIF9jb21tb24uZ2V0VHlwZSkoZm5PdXRwdXQpOwogICAgICAgICAgICAgIGV4cGVjdGVkVHlwZSA9IGZuRGVmLnR5cGU7CgogICAgICAgICAgICAgIGlmICghKGV4cGVjdGVkVHlwZSAmJiByZXR1cm5UeXBlICE9PSBleHBlY3RlZFR5cGUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRnVuY3Rpb24gJyIuY29uY2F0KGZuRGVmLm5hbWUsICInIHNob3VsZCByZXR1cm4gJyIpLmNvbmNhdChleHBlY3RlZFR5cGUsICInLCIpICsgIiBhY3R1YWxseSByZXR1cm5lZCAnIi5jb25jYXQocmV0dXJuVHlwZSwgIiciKSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhlIGZ1bmN0aW9uIG91dHB1dCBhZ2FpbnN0IHRoZSB0eXBlIGRlZmluaXRpb24ncyB2YWxpZGF0ZSBmdW5jdGlvbgogICAgICAgICAgICAgIHR5cGUgPSBoYW5kbGVycy50eXBlc1tmbkRlZi50eXBlXTsKCiAgICAgICAgICAgICAgaWYgKCEodHlwZSAmJiB0eXBlLnZhbGlkYXRlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMDsKICAgICAgICAgICAgICB0eXBlLnZhbGlkYXRlKGZuT3V0cHV0KTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE0OwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxMCk7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJPdXRwdXQgb2YgJyIuY29uY2F0KGZuRGVmLm5hbWUsICInIGlzIG5vdCBhIHZhbGlkIHR5cGUgJyIpLmNvbmNhdChmbkRlZi50eXBlLCAiJzogIikuY29uY2F0KF9jb250ZXh0My50MCkpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZm5PdXRwdXQpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEwLCAxNF1dKTsKICAgIH0pKTsKICAgIHJldHVybiBfaW52b2tlRnVuY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIHJlc29sdmVBcmdzKF94NywgX3g4LCBfeDkpIHsKICAgIHJldHVybiBfcmVzb2x2ZUFyZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIF9yZXNvbHZlQXJncygpIHsKICAgIF9yZXNvbHZlQXJncyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZm5EZWYsIGNvbnRleHQsIGFyZ0FzdHMpIHsKICAgICAgdmFyIGFyZ0RlZnMsIGRlYWxpYXNlZEFyZ0FzdHMsIGFyZ0FzdHNXaXRoRGVmYXVsdHMsIHJlc29sdmVBcmdGbnMsIGFyZ05hbWVzLCByZXNvbHZlZEFyZ1ZhbHVlcywgcmVzb2x2ZWRNdWx0aUFyZ3MsIHJlc29sdmVkQXJnczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBhcmdEZWZzID0gZm5EZWYuYXJnczsgLy8gVXNlIHRoZSBub24tYWxpYXMgbmFtZSBmcm9tIHRoZSBhcmd1bWVudCBkZWZpbml0aW9uCgogICAgICAgICAgICAgIGRlYWxpYXNlZEFyZ0FzdHMgPSAoMCwgX2xvZGFzaC5yZWR1Y2UpKGFyZ0FzdHMsIGZ1bmN0aW9uIChhY2MsIGFyZ0FzdCwgYXJnTmFtZSkgewogICAgICAgICAgICAgICAgdmFyIGFyZ0RlZiA9ICgwLCBfY29tbW9uLmdldEJ5QWxpYXMpKGFyZ0RlZnMsIGFyZ05hbWUpOyAvLyBUT0RPOiBJbXBsZW1lbnQgYSBzeXN0ZW0gdG8gYWxsb3cgZm9yIHVuZGVjbGFyZWQgYXJndW1lbnRzCgogICAgICAgICAgICAgICAgaWYgKCFhcmdEZWYpIHsKICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGFyZ3VtZW50ICciLmNvbmNhdChhcmdOYW1lLCAiJyBwYXNzZWQgdG8gZnVuY3Rpb24gJyIpLmNvbmNhdChmbkRlZi5uYW1lLCAiJyIpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhY2NbYXJnRGVmLm5hbWVdID0gKGFjY1thcmdEZWYubmFtZV0gfHwgW10pLmNvbmNhdChhcmdBc3QpOwogICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgICAgICAgICB9LCB7fSk7IC8vIENoZWNrIGZvciBtaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cwoKICAgICAgICAgICAgICAoMCwgX2xvZGFzaC5lYWNoKShhcmdEZWZzLCBmdW5jdGlvbiAoYXJnRGVmKSB7CiAgICAgICAgICAgICAgICB2YXIgYWxpYXNlcyA9IGFyZ0RlZi5hbGlhc2VzLAogICAgICAgICAgICAgICAgICAgIGFyZ0RlZmF1bHQgPSBhcmdEZWYuZGVmYXVsdCwKICAgICAgICAgICAgICAgICAgICBhcmdOYW1lID0gYXJnRGVmLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQgPSBhcmdEZWYucmVxdWlyZWQ7CgogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdEZWZhdWx0ID09PSAndW5kZWZpbmVkJyAmJiByZXF1aXJlZCAmJiB0eXBlb2YgZGVhbGlhc2VkQXJnQXN0c1thcmdOYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgaWYgKGFsaWFzZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCIiLmNvbmNhdChmbkRlZi5uYW1lLCAiIHJlcXVpcmVzIGFuIGFyZ3VtZW50IikpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckFyZyA9IGFyZ05hbWUgPT09ICdfJyA/IGFsaWFzZXNbMF0gOiBhcmdOYW1lOyAvLyB1c2UgYW4gYWxpYXMgaWYgXyBpcyB0aGUgbWlzc2luZyBhcmcKCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCIiLmNvbmNhdChmbkRlZi5uYW1lLCAiIHJlcXVpcmVzIGFuIFwiIikuY29uY2F0KGVycm9yQXJnLCAiXCIgYXJndW1lbnQiKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsgLy8gRmlsbCBpbiBkZWZhdWx0IHZhbHVlcyBmcm9tIGFyZ3VtZW50IGRlZmluaXRpb24KCiAgICAgICAgICAgICAgYXJnQXN0c1dpdGhEZWZhdWx0cyA9ICgwLCBfbG9kYXNoLnJlZHVjZSkoYXJnRGVmcywgZnVuY3Rpb24gKGFjYywgYXJnRGVmLCBhcmdOYW1lKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjY1thcmdOYW1lXSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGFyZ0RlZi5kZWZhdWx0ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBhY2NbYXJnTmFtZV0gPSBbKDAsIF9jb21tb24uZnJvbUV4cHJlc3Npb24pKGFyZ0RlZi5kZWZhdWx0LCAnYXJndW1lbnQnKV07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgICAgICAgICB9LCBkZWFsaWFzZWRBcmdBc3RzKTsgLy8gQ3JlYXRlIHRoZSBmdW5jdGlvbnMgdG8gcmVzb2x2ZSB0aGUgYXJndW1lbnQgQVNUcyBpbnRvIHZhbHVlcwogICAgICAgICAgICAgIC8vIFRoZXNlIGFyZSB3aGF0IGFyZSBwYXNzZWQgdG8gdGhlIGFjdHVhbCBmdW5jdGlvbnMgaWYgeW91IG9wdCBvdXQgb2YgcmVzb2x2aW5nCgogICAgICAgICAgICAgIHJlc29sdmVBcmdGbnMgPSAoMCwgX2xvZGFzaC5tYXBWYWx1ZXMpKGFyZ0FzdHNXaXRoRGVmYXVsdHMsIGZ1bmN0aW9uIChhc3RzLCBhcmdOYW1lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYXN0cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICAgICAgX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICAgICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50czsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eCA9IF9hcmdzNC5sZW5ndGggPiAwICYmIF9hcmdzNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzBdIDogY29udGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJwcmV0KGl0ZW0sIGN0eCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZXh0ID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgoMCwgX2NvbW1vbi5nZXRUeXBlKShuZXdDb250ZXh0KSA9PT0gJ2Vycm9yJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ld0NvbnRleHQuZXJyb3I7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgY2FzdChuZXdDb250ZXh0LCBhcmdEZWZzW2FyZ05hbWVdLnR5cGVzKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhcmdOYW1lcyA9ICgwLCBfbG9kYXNoLmtleXMpKHJlc29sdmVBcmdGbnMpOyAvLyBBY3R1YWxseSByZXNvbHZlIHVubGVzcyB0aGUgYXJndW1lbnQgZGVmaW5pdGlvbiBzYXlzIG5vdCB0bwoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ05hbWVzLm1hcChmdW5jdGlvbiAoYXJnTmFtZSkgewogICAgICAgICAgICAgICAgdmFyIGludGVycHJldEZucyA9IHJlc29sdmVBcmdGbnNbYXJnTmFtZV07CiAgICAgICAgICAgICAgICBpZiAoIWFyZ0RlZnNbYXJnTmFtZV0ucmVzb2x2ZSkgcmV0dXJuIGludGVycHJldEZuczsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpbnRlcnByZXRGbnMubWFwKGZ1bmN0aW9uIChmbikgewogICAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgcmVzb2x2ZWRBcmdWYWx1ZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICByZXNvbHZlZE11bHRpQXJncyA9ICgwLCBfbG9kYXNoLnppcE9iamVjdCkoYXJnTmFtZXMsIHJlc29sdmVkQXJnVmFsdWVzKTsgLy8gSnVzdCByZXR1cm4gdGhlIGxhc3QgdW5sZXNzIHRoZSBhcmd1bWVudCBkZWZpbml0aW9uIGFsbG93cyBtdWx0aXBsZQoKICAgICAgICAgICAgICByZXNvbHZlZEFyZ3MgPSAoMCwgX2xvZGFzaC5tYXBWYWx1ZXMpKHJlc29sdmVkTXVsdGlBcmdzLCBmdW5jdGlvbiAoYXJnVmFsdWVzLCBhcmdOYW1lKSB7CiAgICAgICAgICAgICAgICBpZiAoYXJnRGVmc1thcmdOYW1lXS5tdWx0aSkgcmV0dXJuIGFyZ1ZhbHVlczsKICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX2xvZGFzaC5sYXN0KShhcmdWYWx1ZXMpOwogICAgICAgICAgICAgIH0pOyAvLyBSZXR1cm4gYW4gb2JqZWN0IGhlcmUgYmVjYXVzZSB0aGUgYXJndW1lbnRzIHRoZW1zZWx2ZXMgbWlnaHQgYWN0dWFsbHkgaGF2ZSBhICd0aGVuJwogICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHdoaWNoIHdvdWxkIGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlCgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICByZXNvbHZlZEFyZ3M6IHJlc29sdmVkQXJncwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKTsKICAgIHJldHVybiBfcmVzb2x2ZUFyZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Cn0="},null]}