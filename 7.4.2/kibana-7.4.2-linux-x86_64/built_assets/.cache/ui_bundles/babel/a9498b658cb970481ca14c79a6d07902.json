{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/timefilter/timefilter.js","dependencies":[{"path":"src/legacy/ui/public/timefilter/timefilter.js","mtime":1572296413064},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnJlZ2lzdGVyVGltZWZpbHRlcldpdGhHbG9iYWxTdGF0ZSA9IGV4cG9ydHMudGltZWZpbHRlciA9IGV4cG9ydHMuVGltZWZpbHRlciA9IHZvaWQgMDsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX3J4anMgPSByZXF1aXJlKCJyeGpzIik7Cgp2YXIgX21vbWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibW9tZW50IikpOwoKdmFyIF9zdWJzY3JpYmVfd2l0aF9zY29wZSA9IHJlcXVpcmUoInVpL3V0aWxzL3N1YnNjcmliZV93aXRoX3Njb3BlIik7Cgp2YXIgX2Nocm9tZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgidWkvY2hyb21lIikpOwoKdmFyIF90aW1lX2hpc3RvcnkgPSByZXF1aXJlKCIuL3RpbWVfaGlzdG9yeSIpOwoKdmFyIF9kaWZmX3RpbWVfcGlja2VyX3ZhbHMgPSByZXF1aXJlKCIuL2xpYi9kaWZmX3RpbWVfcGlja2VyX3ZhbHMiKTsKCnZhciBfcm91dGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9yb3V0ZXMiKSk7Cgp2YXIgX3BhcnNlX3F1ZXJ5c3RyaW5nID0gcmVxdWlyZSgiLi9saWIvcGFyc2VfcXVlcnlzdHJpbmciKTsKCnZhciBfZ2V0X3RpbWUgPSByZXF1aXJlKCIuL2dldF90aW1lIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICB9KTsKICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICB9CgogIHJldHVybiBrZXlzOwp9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICBpZiAoaSAlIDIpIHsKICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgIH0gZWxzZSB7CiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGFyZ2V0Owp9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogIH0KfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogIGlmIChrZXkgaW4gb2JqKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICB9KTsKICB9IGVsc2UgewogICAgb2JqW2tleV0gPSB2YWx1ZTsKICB9CgogIHJldHVybiBvYmo7Cn0KCnZhciBUaW1lZmlsdGVyID0gLy8gRmlyZWQgd2hlbiBpc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCBcIGlzQXV0b1JlZnJlc2hTZWxlY3RvckVuYWJsZWQgYXJlIHRvZ2dsZWQKLy8gRmlyZWQgd2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgdGltZXJhbmdlCi8vIEZpcmVkIHdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIHRoZSBhdXRvcmVmcmVzaCBzZXR0aW5ncwovLyBVc2VkIHdoZW4gc2VhcmNoIHBvbGwgdHJpZ2dlcnMgYW4gYXV0byByZWZyZXNoCmZ1bmN0aW9uIFRpbWVmaWx0ZXIodWlTZXR0aW5ncykgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lZmlsdGVyKTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJlbmFibGVkVXBkYXRlZCQiLCBuZXcgX3J4anMuQmVoYXZpb3JTdWJqZWN0KGZhbHNlKSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidGltZVVwZGF0ZSQiLCBuZXcgX3J4anMuU3ViamVjdCgpKTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJyZWZyZXNoSW50ZXJ2YWxVcGRhdGUkIiwgbmV3IF9yeGpzLlN1YmplY3QoKSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiYXV0b1JlZnJlc2hGZXRjaCQiLCBuZXcgX3J4anMuU3ViamVjdCgpKTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJmZXRjaCQiLCBuZXcgX3J4anMuU3ViamVjdCgpKTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfdGltZSIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX3JlZnJlc2hJbnRlcnZhbCIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaXNUaW1lUmFuZ2VTZWxlY3RvckVuYWJsZWQiLCBmYWxzZSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZCIsIGZhbHNlKTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRFbmFibGVkVXBkYXRlZCQiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLmFzT2JzZXJ2YWJsZSgpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldFRpbWVVcGRhdGUkIiwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF90aGlzLnRpbWVVcGRhdGUkLmFzT2JzZXJ2YWJsZSgpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldFJlZnJlc2hJbnRlcnZhbFVwZGF0ZSQiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMucmVmcmVzaEludGVydmFsVXBkYXRlJC5hc09ic2VydmFibGUoKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRBdXRvUmVmcmVzaEZldGNoJCIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfdGhpcy5hdXRvUmVmcmVzaEZldGNoJC5hc09ic2VydmFibGUoKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRGZXRjaCQiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMuZmV0Y2gkLmFzT2JzZXJ2YWJsZSgpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldFRpbWUiLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3RoaXMkX3RpbWUgPSBfdGhpcy5fdGltZSwKICAgICAgICBmcm9tID0gX3RoaXMkX3RpbWUuZnJvbSwKICAgICAgICB0byA9IF90aGlzJF90aW1lLnRvOwogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIF90aGlzLl90aW1lLCB7CiAgICAgIGZyb206IF9tb21lbnQuZGVmYXVsdC5pc01vbWVudChmcm9tKSA/IGZyb20udG9JU09TdHJpbmcoKSA6IGZyb20sCiAgICAgIHRvOiBfbW9tZW50LmRlZmF1bHQuaXNNb21lbnQodG8pID8gdG8udG9JU09TdHJpbmcoKSA6IHRvCiAgICB9KTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXRUaW1lIiwgZnVuY3Rpb24gKHRpbWUpIHsKICAgIC8vIE9iamVjdC5hc3NpZ24gdXNlZCBmb3IgcGFydGlhbGx5IGNvbXBvc2VkIHVwZGF0ZXMKICAgIHZhciBuZXdUaW1lID0gT2JqZWN0LmFzc2lnbihfdGhpcy5nZXRUaW1lKCksIHRpbWUpOwoKICAgIGlmICgoMCwgX2RpZmZfdGltZV9waWNrZXJfdmFscy5hcmVUaW1lUmFuZ2VzRGlmZmVyZW50KShfdGhpcy5nZXRUaW1lKCksIG5ld1RpbWUpKSB7CiAgICAgIF90aGlzLl90aW1lID0gewogICAgICAgIGZyb206IG5ld1RpbWUuZnJvbSwKICAgICAgICB0bzogbmV3VGltZS50bwogICAgICB9OwoKICAgICAgX3RpbWVfaGlzdG9yeS50aW1lSGlzdG9yeS5hZGQoX3RoaXMuX3RpbWUpOwoKICAgICAgX3RoaXMudGltZVVwZGF0ZSQubmV4dCgpOwoKICAgICAgX3RoaXMuZmV0Y2gkLm5leHQoKTsKICAgIH0KICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRSZWZyZXNoSW50ZXJ2YWwiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX2xvZGFzaC5kZWZhdWx0LmNsb25lKF90aGlzLl9yZWZyZXNoSW50ZXJ2YWwpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgInNldFJlZnJlc2hJbnRlcnZhbCIsIGZ1bmN0aW9uIChyZWZyZXNoSW50ZXJ2YWwpIHsKICAgIHZhciBwcmV2UmVmcmVzaEludGVydmFsID0gX3RoaXMuZ2V0UmVmcmVzaEludGVydmFsKCk7CgogICAgdmFyIG5ld1JlZnJlc2hJbnRlcnZhbCA9IF9vYmplY3RTcHJlYWQoe30sIHByZXZSZWZyZXNoSW50ZXJ2YWwsIHt9LCByZWZyZXNoSW50ZXJ2YWwpOyAvLyBJZiB0aGUgcmVmcmVzaCBpbnRlcnZhbCBpcyA8PSAwIGhhbmRsZSB0aGF0IGFzIGEgcGF1c2VkIHJlZnJlc2gKCgogICAgaWYgKG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSA8PSAwKSB7CiAgICAgIG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSA9IDA7CiAgICAgIG5ld1JlZnJlc2hJbnRlcnZhbC5wYXVzZSA9IHRydWU7CiAgICB9CgogICAgX3RoaXMuX3JlZnJlc2hJbnRlcnZhbCA9IHsKICAgICAgdmFsdWU6IG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSwKICAgICAgcGF1c2U6IG5ld1JlZnJlc2hJbnRlcnZhbC5wYXVzZQogICAgfTsgLy8gT25seSBzZW5kIG91dCBhbiBldmVudCBpZiB3ZSBhbHJlYWR5IGhhZCBhIHByZXZpb3VzIHJlZnJlc2ggaW50ZXJ2YWwgKG5vdCBmb3IgdGhlIGluaXRpYWwgc2V0KQogICAgLy8gYW5kIHRoZSBvbGQgYW5kIG5ldyByZWZyZXNoIGludGVydmFsIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQuCgogICAgaWYgKHByZXZSZWZyZXNoSW50ZXJ2YWwgJiYgKDAsIF9kaWZmX3RpbWVfcGlja2VyX3ZhbHMuYXJlUmVmcmVzaEludGVydmFsc0RpZmZlcmVudCkocHJldlJlZnJlc2hJbnRlcnZhbCwgbmV3UmVmcmVzaEludGVydmFsKSkgewogICAgICBfdGhpcy5yZWZyZXNoSW50ZXJ2YWxVcGRhdGUkLm5leHQoKTsKCiAgICAgIGlmICghbmV3UmVmcmVzaEludGVydmFsLnBhdXNlICYmIG5ld1JlZnJlc2hJbnRlcnZhbC52YWx1ZSAhPT0gMCkgewogICAgICAgIF90aGlzLmZldGNoJC5uZXh0KCk7CiAgICAgIH0KICAgIH0KICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ0b2dnbGVSZWZyZXNoIiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuc2V0UmVmcmVzaEludGVydmFsKHsKICAgICAgcGF1c2U6ICFfdGhpcy5fcmVmcmVzaEludGVydmFsLnBhdXNlLAogICAgICB2YWx1ZTogX3RoaXMuX3JlZnJlc2hJbnRlcnZhbC52YWx1ZQogICAgfSk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY3JlYXRlRmlsdGVyIiwgZnVuY3Rpb24gKGluZGV4UGF0dGVybiwgdGltZVJhbmdlKSB7CiAgICByZXR1cm4gKDAsIF9nZXRfdGltZS5nZXRUaW1lKShpbmRleFBhdHRlcm4sIHRpbWVSYW5nZSA/IHRpbWVSYW5nZSA6IF90aGlzLl90aW1lLCBfdGhpcy5nZXRGb3JjZU5vdygpKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRCb3VuZHMiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMuY2FsY3VsYXRlQm91bmRzKF90aGlzLl90aW1lKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRGb3JjZU5vdyIsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBmb3JjZU5vdyA9ICgwLCBfcGFyc2VfcXVlcnlzdHJpbmcucGFyc2VRdWVyeVN0cmluZykoKS5mb3JjZU5vdzsKCiAgICBpZiAoIWZvcmNlTm93KSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgdGlja3MgPSBEYXRlLnBhcnNlKGZvcmNlTm93KTsKCiAgICBpZiAoaXNOYU4odGlja3MpKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiZm9yY2VOb3cgcXVlcnkgcGFyYW1ldGVyLCAiLmNvbmNhdChmb3JjZU5vdywgIiwgY2FuJ3QgYmUgcGFyc2VkIGJ5IERhdGUucGFyc2UiKSk7CiAgICB9CgogICAgcmV0dXJuIG5ldyBEYXRlKHRpY2tzKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJjYWxjdWxhdGVCb3VuZHMiLCBmdW5jdGlvbiAodGltZVJhbmdlKSB7CiAgICByZXR1cm4gKDAsIF9nZXRfdGltZS5jYWxjdWxhdGVCb3VuZHMpKHRpbWVSYW5nZSwgewogICAgICBmb3JjZU5vdzogX3RoaXMuZ2V0Rm9yY2VOb3coKQogICAgfSk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0QWN0aXZlQm91bmRzIiwgZnVuY3Rpb24gKCkgewogICAgaWYgKF90aGlzLmlzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRCb3VuZHMoKTsKICAgIH0KICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJlbmFibGVUaW1lUmFuZ2VTZWxlY3RvciIsIGZ1bmN0aW9uICgpIHsKICAgIF90aGlzLmlzVGltZVJhbmdlU2VsZWN0b3JFbmFibGVkID0gdHJ1ZTsKCiAgICBfdGhpcy5lbmFibGVkVXBkYXRlZCQubmV4dCh0cnVlKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJkaXNhYmxlVGltZVJhbmdlU2VsZWN0b3IiLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5pc1RpbWVSYW5nZVNlbGVjdG9yRW5hYmxlZCA9IGZhbHNlOwoKICAgIF90aGlzLmVuYWJsZWRVcGRhdGVkJC5uZXh0KGZhbHNlKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJlbmFibGVBdXRvUmVmcmVzaFNlbGVjdG9yIiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuaXNBdXRvUmVmcmVzaFNlbGVjdG9yRW5hYmxlZCA9IHRydWU7CgogICAgX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLm5leHQodHJ1ZSk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZGlzYWJsZUF1dG9SZWZyZXNoU2VsZWN0b3IiLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5pc0F1dG9SZWZyZXNoU2VsZWN0b3JFbmFibGVkID0gZmFsc2U7CgogICAgX3RoaXMuZW5hYmxlZFVwZGF0ZWQkLm5leHQoZmFsc2UpOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgIm5vdGlmeVNob3VsZEZldGNoIiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuYXV0b1JlZnJlc2hGZXRjaCQubmV4dCgpOwogIH0pOwoKICB0aGlzLl90aW1lID0gdWlTZXR0aW5ncy5nZXQoJ3RpbWVwaWNrZXI6dGltZURlZmF1bHRzJyk7CiAgdGhpcy5zZXRSZWZyZXNoSW50ZXJ2YWwodWlTZXR0aW5ncy5nZXQoJ3RpbWVwaWNrZXI6cmVmcmVzaEludGVydmFsRGVmYXVsdHMnKSk7Cn07CgpleHBvcnRzLlRpbWVmaWx0ZXIgPSBUaW1lZmlsdGVyOwp2YXIgdGltZWZpbHRlciA9IG5ldyBUaW1lZmlsdGVyKF9jaHJvbWUuZGVmYXVsdC5nZXRVaVNldHRpbmdzQ2xpZW50KCkpOyAvLyBUT0RPCi8vIHJlbW92ZSBldmVyeXRoaW5nIHVuZGVybmVhdGggb25jZSBnbG9iYWxTdGF0ZSBpcyBubyBsb25nZXIgYW4gYW5ndWxhciBzZXJ2aWNlCi8vIGFuZCBsaXN0ZW5lciBjYW4gYmUgcmVnaXN0ZXJlZCB3aXRob3V0IGFuZ3VsYXIuCgpleHBvcnRzLnRpbWVmaWx0ZXIgPSB0aW1lZmlsdGVyOwoKZnVuY3Rpb24gY29udmVydElTTzg2MDEoc3RyaW5nVGltZSkgewogIHZhciBvYmogPSAoMCwgX21vbWVudC5kZWZhdWx0KShzdHJpbmdUaW1lLCAnWVlZWS1NTS1ERFRISDptbTpzcy5TU1NaJywgdHJ1ZSk7CiAgcmV0dXJuIG9iai5pc1ZhbGlkKCkgPyBvYmoudG9JU09TdHJpbmcoKSA6IHN0cmluZ1RpbWU7Cn0gLy8gQ3VycmVudGx5IHNvbWUgcGFydHMgb2YgS2liYW5hIChpbmRleCBwYXR0ZXJucywgdGltZWZpbHRlcikgcmVseSBvbiBhZGRTZXR1cFdvcmsgaW4gdGhlIHVpUm91dGVyCi8vIGFuZCByZXF1aXJlIGl0IHRvIGJlIGV4ZWN1dGVkIHRvIHByb3Blcmx5IGZ1bmN0aW9uLgovLyBUaGlzIGZ1bmN0aW9uIGlzIGV4cG9zZWQgZm9yIGFwcGxpY2F0aW9ucyB0aGF0IGRvIG5vdCB1c2UgdWlSb3V0ZXMgbGlrZSBBUE0KLy8gS2liYW5hIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGFzdGljL2tpYmFuYS9pc3N1ZXMvMTkxMTAgdHJhY2tzIHRoZSByZW1vdmFsIG9mIHRoaXMgZGVwZW5kZW5jeSBvbiB1aVJvdXRlcgoKCnZhciByZWdpc3RlclRpbWVmaWx0ZXJXaXRoR2xvYmFsU3RhdGUgPSBfbG9kYXNoLmRlZmF1bHQub25jZShmdW5jdGlvbiAoZ2xvYmFsU3RhdGUsICRyb290U2NvcGUpIHsKICB2YXIgdWlTZXR0aW5ncyA9IF9jaHJvbWUuZGVmYXVsdC5nZXRVaVNldHRpbmdzQ2xpZW50KCk7CgogIHZhciB0aW1lRGVmYXVsdHMgPSB1aVNldHRpbmdzLmdldCgndGltZXBpY2tlcjp0aW1lRGVmYXVsdHMnKTsKICB2YXIgcmVmcmVzaEludGVydmFsRGVmYXVsdHMgPSB1aVNldHRpbmdzLmdldCgndGltZXBpY2tlcjpyZWZyZXNoSW50ZXJ2YWxEZWZhdWx0cycpOwogIHRpbWVmaWx0ZXIuc2V0VGltZShfbG9kYXNoLmRlZmF1bHQuZGVmYXVsdHMoZ2xvYmFsU3RhdGUudGltZSB8fCB7fSwgdGltZURlZmF1bHRzKSk7CiAgdGltZWZpbHRlci5zZXRSZWZyZXNoSW50ZXJ2YWwoX2xvZGFzaC5kZWZhdWx0LmRlZmF1bHRzKGdsb2JhbFN0YXRlLnJlZnJlc2hJbnRlcnZhbCB8fCB7fSwgcmVmcmVzaEludGVydmFsRGVmYXVsdHMpKTsKICBnbG9iYWxTdGF0ZS5vbignZmV0Y2hfd2l0aF9jaGFuZ2VzJywgZnVuY3Rpb24gKCkgewogICAgLy8gY2xvbmUgYW5kIGRlZmF1bHQgdG8ge30gaW4gb25lCiAgICB2YXIgbmV3VGltZSA9IF9sb2Rhc2guZGVmYXVsdC5kZWZhdWx0cyh7fSwgZ2xvYmFsU3RhdGUudGltZSwgdGltZURlZmF1bHRzKTsKCiAgICB2YXIgbmV3UmVmcmVzaEludGVydmFsID0gX2xvZGFzaC5kZWZhdWx0LmRlZmF1bHRzKHt9LCBnbG9iYWxTdGF0ZS5yZWZyZXNoSW50ZXJ2YWwsIHJlZnJlc2hJbnRlcnZhbERlZmF1bHRzKTsKCiAgICBpZiAobmV3VGltZSkgewogICAgICBpZiAobmV3VGltZS50bykgbmV3VGltZS50byA9IGNvbnZlcnRJU084NjAxKG5ld1RpbWUudG8pOwogICAgICBpZiAobmV3VGltZS5mcm9tKSBuZXdUaW1lLmZyb20gPSBjb252ZXJ0SVNPODYwMShuZXdUaW1lLmZyb20pOwogICAgfQoKICAgIHRpbWVmaWx0ZXIuc2V0VGltZShuZXdUaW1lKTsKICAgIHRpbWVmaWx0ZXIuc2V0UmVmcmVzaEludGVydmFsKG5ld1JlZnJlc2hJbnRlcnZhbCk7CiAgfSk7CgogIHZhciB1cGRhdGVHbG9iYWxTdGF0ZVdpdGhUaW1lID0gZnVuY3Rpb24gdXBkYXRlR2xvYmFsU3RhdGVXaXRoVGltZSgpIHsKICAgIGdsb2JhbFN0YXRlLnRpbWUgPSB0aW1lZmlsdGVyLmdldFRpbWUoKTsKICAgIGdsb2JhbFN0YXRlLnJlZnJlc2hJbnRlcnZhbCA9IHRpbWVmaWx0ZXIuZ2V0UmVmcmVzaEludGVydmFsKCk7CiAgICBnbG9iYWxTdGF0ZS5zYXZlKCk7CiAgfTsKCiAgKDAsIF9zdWJzY3JpYmVfd2l0aF9zY29wZS5zdWJzY3JpYmVXaXRoU2NvcGUpKCRyb290U2NvcGUsIHRpbWVmaWx0ZXIuZ2V0UmVmcmVzaEludGVydmFsVXBkYXRlJCgpLCB7CiAgICBuZXh0OiB1cGRhdGVHbG9iYWxTdGF0ZVdpdGhUaW1lCiAgfSk7CiAgKDAsIF9zdWJzY3JpYmVfd2l0aF9zY29wZS5zdWJzY3JpYmVXaXRoU2NvcGUpKCRyb290U2NvcGUsIHRpbWVmaWx0ZXIuZ2V0VGltZVVwZGF0ZSQoKSwgewogICAgbmV4dDogdXBkYXRlR2xvYmFsU3RhdGVXaXRoVGltZQogIH0pOwp9KTsKCmV4cG9ydHMucmVnaXN0ZXJUaW1lZmlsdGVyV2l0aEdsb2JhbFN0YXRlID0gcmVnaXN0ZXJUaW1lZmlsdGVyV2l0aEdsb2JhbFN0YXRlOwoKX3JvdXRlcy5kZWZhdWx0LmFkZFNldHVwV29yayhmdW5jdGlvbiAoZ2xvYmFsU3RhdGUsICRyb290U2NvcGUpIHsKICByZXR1cm4gcmVnaXN0ZXJUaW1lZmlsdGVyV2l0aEdsb2JhbFN0YXRlKGdsb2JhbFN0YXRlLCAkcm9vdFNjb3BlKTsKfSk7"},null]}