{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/angular-bootstrap/tooltip/tooltip.js","dependencies":[{"path":"src/legacy/ui/public/angular-bootstrap/tooltip/tooltip.js","mtime":1572296412264},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiLi9wb3NpdGlvbiIpOwoKLyoqCiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYQogKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuCiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLgogKi8KYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nXSkKLyoqCiAqIFRoZSAkdG9vbHRpcCBzZXJ2aWNlIGNyZWF0ZXMgdG9vbHRpcC0gYW5kIHBvcG92ZXItbGlrZSBkaXJlY3RpdmVzIGFzIHdlbGwgYXMKICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLgogKi8KLnByb3ZpZGVyKCckdG9vbHRpcCcsIGZ1bmN0aW9uICgpIHsKICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuCiAgdmFyIGRlZmF1bHRPcHRpb25zID0gewogICAgcGxhY2VtZW50OiAndG9wJywKICAgIGFuaW1hdGlvbjogdHJ1ZSwKICAgIHBvcHVwRGVsYXk6IDAKICB9OyAvLyBEZWZhdWx0IGhpZGUgdHJpZ2dlcnMgZm9yIGVhY2ggc2hvdyB0cmlnZ2VyCgogIHZhciB0cmlnZ2VyTWFwID0gewogICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsCiAgICAnY2xpY2snOiAnY2xpY2snLAogICAgJ2ZvY3VzJzogJ2JsdXInCiAgfTsgLy8gVGhlIG9wdGlvbnMgc3BlY2lmaWVkIHRvIHRoZSBwcm92aWRlciBnbG9iYWxseS4KCiAgdmFyIGdsb2JhbE9wdGlvbnMgPSB7fTsKICAvKioKICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlCiAgICogYXBwbGljYXRpb24uCiAgICoKICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7CiAgICogICAgIC8vIHBsYWNlIHRvb2x0aXBzIGxlZnQgaW5zdGVhZCBvZiB0b3AgYnkgZGVmYXVsdAogICAqICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoIHsgcGxhY2VtZW50OiAnbGVmdCcgfSApOwogICAqICAgfSk7CiAgICovCgogIHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgYW5ndWxhci5leHRlbmQoZ2xvYmFsT3B0aW9ucywgdmFsdWUpOwogIH07CiAgLyoqCiAgICogVGhpcyBhbGxvd3MgeW91IHRvIGV4dGVuZCB0aGUgc2V0IG9mIHRyaWdnZXIgbWFwcGluZ3MgYXZhaWxhYmxlLiBFLmcuOgogICAqCiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApOwogICAqLwoKCiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzKHRyaWdnZXJzKSB7CiAgICBhbmd1bGFyLmV4dGVuZCh0cmlnZ2VyTWFwLCB0cmlnZ2Vycyk7CiAgfTsKICAvKioKICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlLWNhc2UuCiAgICovCgoKICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpIHsKICAgIHZhciByZWdleHAgPSAvW0EtWl0vZzsKICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7CiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24gKGxldHRlciwgcG9zKSB7CiAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7CiAgICB9KTsKICB9CiAgLyoqCiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLgogICAqIFRPRE8gc3VwcG9ydCBtdWx0aXBsZSB0cmlnZ2VycwogICAqLwoKCiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCR3aW5kb3csICRjb21waWxlLCAkdGltZW91dCwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwKHR5cGUsIHByZWZpeCwgZGVmYXVsdFRyaWdnZXJTaG93KSB7CiAgICAgIHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBnbG9iYWxPcHRpb25zKTsKICAgICAgLyoqCiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuCiAgICAgICAqCiAgICAgICAqIElmIGEgdHJpZ2dlciBpcyBzdXBwbGllZCwKICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmAKICAgICAgICogb3B0aW9uIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kOyBlbHNlIGl0IHdpbGwKICAgICAgICogZGVmYXVsdCB0byB0aGUgdHJpZ2dlciBzdXBwbGllZCB0byB0aGlzIGRpcmVjdGl2ZSBmYWN0b3J5LgogICAgICAgKgogICAgICAgKiBUaGUgaGlkZSB0cmlnZ2VyIGlzIGJhc2VkIG9uIHRoZSBzaG93IHRyaWdnZXIuIElmIHRoZSBgdHJpZ2dlcmAgb3B0aW9uCiAgICAgICAqIHdhcyBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZCwgaXQgd2lsbCB1c2UgdGhlCiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzCiAgICAgICAqIHVuZGVmaW5lZDsgb3RoZXJ3aXNlLCBpdCB1c2VzIHRoZSBgdHJpZ2dlck1hcGAgdmFsdWUgb2YgdGhlIHNob3cKICAgICAgICogdHJpZ2dlcjsgZWxzZSBpdCB3aWxsIGp1c3QgdXNlIHRoZSBzaG93IHRyaWdnZXIuCiAgICAgICAqLwoKICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnModHJpZ2dlcikgewogICAgICAgIHZhciBzaG93ID0gdHJpZ2dlciB8fCBvcHRpb25zLnRyaWdnZXIgfHwgZGVmYXVsdFRyaWdnZXJTaG93OwogICAgICAgIHZhciBoaWRlID0gdHJpZ2dlck1hcFtzaG93XSB8fCBzaG93OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzaG93OiBzaG93LAogICAgICAgICAgaGlkZTogaGlkZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSh0eXBlKTsKICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7CiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7CiAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2ICcgKyBkaXJlY3RpdmVOYW1lICsgJy1wb3B1cCAnICsgJ3RpdGxlPSInICsgc3RhcnRTeW0gKyAndGl0bGUnICsgZW5kU3ltICsgJyIgJyArICdjb250ZW50PSInICsgc3RhcnRTeW0gKyAnY29udGVudCcgKyBlbmRTeW0gKyAnIiAnICsgJ3BsYWNlbWVudD0iJyArIHN0YXJ0U3ltICsgJ3BsYWNlbWVudCcgKyBlbmRTeW0gKyAnIiAnICsgJ2FuaW1hdGlvbj0iYW5pbWF0aW9uIiAnICsgJ2lzLW9wZW49ImlzT3BlbiInICsgJz4nICsgJzwvZGl2Pic7CiAgICAgIHJldHVybiB7CiAgICAgICAgcmVzdHJpY3Q6ICdFQScsCiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZSh0RWxlbSwgdEF0dHJzKSB7CiAgICAgICAgICB2YXIgdG9vbHRpcExpbmtlciA9ICRjb21waWxlKHRlbXBsYXRlKTsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykgewogICAgICAgICAgICB2YXIgdG9vbHRpcDsKICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZWRTY29wZTsKICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0OwogICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0OwogICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTsKICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModW5kZWZpbmVkKTsKICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSk7CiAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTsKCiAgICAgICAgICAgIHZhciBwb3NpdGlvblRvb2x0aXAgPSBmdW5jdGlvbiBwb3NpdGlvblRvb2x0aXAoKSB7CiAgICAgICAgICAgICAgdmFyIHR0UG9zaXRpb24gPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhlbGVtZW50LCB0b29sdGlwLCB0dFNjb3BlLnBsYWNlbWVudCwgYXBwZW5kVG9Cb2R5KTsKICAgICAgICAgICAgICB0dFBvc2l0aW9uLnRvcCArPSAncHgnOwogICAgICAgICAgICAgIHR0UG9zaXRpb24ubGVmdCArPSAncHgnOyAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nLgoKICAgICAgICAgICAgICB0b29sdGlwLmNzcyh0dFBvc2l0aW9uKTsKICAgICAgICAgICAgfTsgLy8gQnkgZGVmYXVsdCwgdGhlIHRvb2x0aXAgaXMgbm90IG9wZW4uCiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWQKCgogICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQoKSB7CiAgICAgICAgICAgICAgaWYgKCF0dFNjb3BlLmlzT3BlbikgewogICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSAvLyBTaG93IHRoZSB0b29sdGlwIHdpdGggZGVsYXkgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugc2hvdyBpdCBpbW1lZGlhdGVseQoKCiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpIHsKICAgICAgICAgICAgICBpZiAoaGFzRW5hYmxlRXhwICYmICFzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnRW5hYmxlJ10pKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBwcmVwYXJlVG9vbHRpcCgpOwoKICAgICAgICAgICAgICBpZiAodHRTY29wZS5wb3B1cERlbGF5KSB7CiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSB0b29sdGlwIHdhcyBhbHJlYWR5IHNjaGVkdWxlZCB0byBwb3AtdXAuCiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC4KICAgICAgICAgICAgICAgIGlmICghcG9wdXBUaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9ICR0aW1lb3V0KHNob3csIHR0U2NvcGUucG9wdXBEZWxheSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQudGhlbihmdW5jdGlvbiAocmVwb3NpdGlvbikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0aW9uKCk7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0aW1lb3V0IGlzIGNhbmNlbGVkIHRoZW4gdGhlIHN0cmluZyBgY2FuY2VsZWRgIGlzIHRocm93bi4gVG8gcHJldmVudAogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgZnJvbSB0cmlnZ2VyaW5nIGFuICd1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nIGluIGFuZ3VsYXIgMS41KyB0aGUKICAgICAgICAgICAgICAgICAgICAvLyAkdGltZW91dCBzZXJ2aWNlIGV4cGxpY2l0bHkgdGVsbHMgJHEgdGhhdCB0aGUgcHJvbWlzZSBpdCBnZW5lcmF0ZWQgaXMgImhhbmRsZWQiCiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHRoYXQgZG9lcyBub3QgaW5jbHVkZSBkb3duIGNoYWluIHByb21pc2VzIGxpa2UgdGhlIG9uZSBjcmVhdGVkIGJ5IGNhbGxpbmcKICAgICAgICAgICAgICAgICAgICAvLyBgcG9wdXBUaW1lb3V0LnRoZW4oKWAuIEJlY2F1c2Ugb2YgdGhpcyB3ZSBuZWVkIHRvIGlnbm9yZSB0aGUgImNhbmNlbGVkIiBzdHJpbmcKICAgICAgICAgICAgICAgICAgICAvLyBhbmQgb25seSBwcm9wYWdhdGUgcmVhbCBlcnJvcnMKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgIT09ICdjYW5jZWxlZCcpIHsKICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3coKSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kKCkgewogICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaGlkZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IC8vIFNob3cgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC4KCgogICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkgewogICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7IC8vIElmIHRoZXJlIGlzIGEgcGVuZGluZyByZW1vdmUgdHJhbnNpdGlvbiwgd2UgbXVzdCBjYW5jZWwgaXQsIGxlc3QgdGhlCiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC4KCiAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpOwogICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsOwogICAgICAgICAgICAgIH0gLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy4KCgogICAgICAgICAgICAgIGlmICghdHRTY29wZS5jb250ZW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5ub29wOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY3JlYXRlVG9vbHRpcCgpOyAvLyBTZXQgdGhlIGluaXRpYWwgcG9zaXRpb25pbmcuCgogICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsKICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgIGxlZnQ6IDAsCiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHRTY29wZS4kZGlnZXN0KCk7CiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7IC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLgoKICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IHRydWU7CiAgICAgICAgICAgICAgdHRTY29wZS4kZGlnZXN0KCk7IC8vIGRpZ2VzdCByZXF1aXJlZCBhcyAkYXBwbHkgaXMgbm90IGNhbGxlZAogICAgICAgICAgICAgIC8vIFJldHVybiBwb3NpdGlvbmluZyBmdW5jdGlvbiBhcyBwcm9taXNlIGNhbGxiYWNrIGZvciBjb3JyZWN0CiAgICAgICAgICAgICAgLy8gcG9zaXRpb25pbmcgYWZ0ZXIgZHJhdy4KCiAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uVG9vbHRpcDsKICAgICAgICAgICAgfSAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuCgoKICAgICAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgICAgICAgICAvLyBGaXJzdCB0aGluZ3MgZmlyc3Q6IHdlIGRvbid0IHNob3cgaXQgYW55bW9yZS4KICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlOyAvL2lmIHRvb2x0aXAgaXMgZ29pbmcgdG8gYmUgc2hvd24gYWZ0ZXIgZGVsYXksIHdlIG11c3QgY2FuY2VsIHRoaXMKCiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7CiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDsgLy8gQW5kIG5vdyB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgRE9NLiBIb3dldmVyLCBpZiB3ZSBoYXZlIGFuaW1hdGlvbiwgd2UKICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLgogICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS4KCiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuYW5pbWF0aW9uKSB7CiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7CiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gJHRpbWVvdXQocmVtb3ZlVG9vbHRpcCwgNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpIHsKICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS4KICAgICAgICAgICAgICBpZiAodG9vbHRpcCkgewogICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gdHRTY29wZS4kbmV3KCk7CiAgICAgICAgICAgICAgdG9vbHRpcCA9IHRvb2x0aXBMaW5rZXIodG9vbHRpcExpbmtlZFNjb3BlLCBmdW5jdGlvbiAodG9vbHRpcCkgewogICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkgewogICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCh0b29sdGlwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodG9vbHRpcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7CiAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsOwoKICAgICAgICAgICAgICBpZiAodG9vbHRpcCkgewogICAgICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHRvb2x0aXBMaW5rZWRTY29wZSkgewogICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiRkZXN0cm95KCk7CiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcHJlcGFyZVRvb2x0aXAoKSB7CiAgICAgICAgICAgICAgcHJlcFBsYWNlbWVudCgpOwogICAgICAgICAgICAgIHByZXBQb3B1cERlbGF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIE9ic2VydmUgdGhlIHJlbGV2YW50IGF0dHJpYnV0ZXMuCiAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHR5cGUsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnQgPSB2YWw7CgogICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7CiAgICAgICAgICAgICAgICBoaWRlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUocHJlZml4ICsgJ1RpdGxlJywgZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgIHR0U2NvcGUudGl0bGUgPSB2YWw7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHsKICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BsYWNlbWVudCddOwogICAgICAgICAgICAgIHR0U2NvcGUucGxhY2VtZW50ID0gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IG9wdGlvbnMucGxhY2VtZW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBEZWxheSgpIHsKICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BvcHVwRGVsYXknXTsKICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCh2YWwsIDEwKTsKICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwRGVsYXkgPSAhaXNOYU4oZGVsYXkpID8gZGVsYXkgOiBvcHRpb25zLnBvcHVwRGVsYXk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJpZ2dlcnMoKSB7CiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdywgc2hvd1Rvb2x0aXBCaW5kKTsKICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5oaWRlLCBoaWRlVG9vbHRpcEJpbmQpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFRyaWdnZXJzKCkgewogICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnVHJpZ2dlciddOwogICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpOwogICAgICAgICAgICAgIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModmFsKTsKCiAgICAgICAgICAgICAgaWYgKHRyaWdnZXJzLnNob3cgPT09IHRyaWdnZXJzLmhpZGUpIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5zaG93LCB0b2dnbGVUb29sdGlwQmluZCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCh0cmlnZ2Vycy5zaG93LCBzaG93VG9vbHRpcEJpbmQpOwogICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKHRyaWdnZXJzLmhpZGUsIGhpZGVUb29sdGlwQmluZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBwcmVwVHJpZ2dlcnMoKTsKICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdBbmltYXRpb24nXSk7CiAgICAgICAgICAgIHR0U2NvcGUuYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247CiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pOwogICAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhcHBlbmRUb0JvZHlWYWwpID8gYXBwZW5kVG9Cb2R5VmFsIDogYXBwZW5kVG9Cb2R5OyAvLyBpZiBhIHRvb2x0aXAgaXMgYXR0YWNoZWQgdG8gPGJvZHk+IHdlIG5lZWQgdG8gcmVtb3ZlIGl0IG9uCiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGNoYW5nZSBhcyBpdHMgcGFyZW50IHNjb3BlIHdpbGwgcHJvYmFibHkgbm90IGJlIGRlc3Ryb3llZAogICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLgoKICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkgewogICAgICAgICAgICAgIHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIGNsb3NlVG9vbHRpcE9uTG9jYXRpb25DaGFuZ2VTdWNjZXNzKCkgewogICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7CiAgICAgICAgICAgICAgICAgIGhpZGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSAvLyBNYWtlIHN1cmUgdG9vbHRpcCBpcyBkZXN0cm95ZWQgYW5kIHJlbW92ZWQuCgoKICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIG9uRGVzdHJveVRvb2x0aXAoKSB7CiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTsKICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTsKICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTsKICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7CiAgICAgICAgICAgICAgdHRTY29wZSA9IG51bGw7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH07CiAgICB9OwogIH1dOwp9KS5kaXJlY3RpdmUoJ3Rvb2x0aXAnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24gKCR0b29sdGlwKSB7CiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpOwp9XSkuZGlyZWN0aXZlKCd0b29sdGlwUG9wdXAnLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHsKICAgIHJlc3RyaWN0OiAnRUEnLAogICAgcmVwbGFjZTogdHJ1ZSwKICAgIHNjb3BlOiB7CiAgICAgIGNvbnRlbnQ6ICdAJywKICAgICAgcGxhY2VtZW50OiAnQCcsCiAgICAgIGFuaW1hdGlvbjogJyYnLAogICAgICBpc09wZW46ICcmJwogICAgfSwKICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwnCiAgfTsKfSkuZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbiAoJHRvb2x0aXApIHsKICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpOwp9XSkuZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZVBvcHVwJywgZnVuY3Rpb24gKCkgewogIHJldHVybiB7CiAgICByZXN0cmljdDogJ0VBJywKICAgIHJlcGxhY2U6IHRydWUsCiAgICBzY29wZTogewogICAgICBjb250ZW50OiAnQCcsCiAgICAgIHBsYWNlbWVudDogJ0AnLAogICAgICBhbmltYXRpb246ICcmJywKICAgICAgaXNPcGVuOiAnJicKICAgIH0sCiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sJwogIH07Cn0pOw=="},null]}