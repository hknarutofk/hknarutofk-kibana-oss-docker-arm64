{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/timelion/public/directives/timelion_expression_suggestions/arg_value_suggestions.js","dependencies":[{"path":"src/legacy/core_plugins/timelion/public/directives/timelion_expression_suggestions/arg_value_suggestions.js","mtime":1572296411384},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkFyZ1ZhbHVlU3VnZ2VzdGlvbnNQcm92aWRlciA9IEFyZ1ZhbHVlU3VnZ2VzdGlvbnNQcm92aWRlcjsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX3NhdmVkX29iamVjdHMgPSByZXF1aXJlKCJ1aS9zYXZlZF9vYmplY3RzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIEFyZ1ZhbHVlU3VnZ2VzdGlvbnNQcm92aWRlcihQcml2YXRlLCBpbmRleFBhdHRlcm5zKSB7CiAgdmFyIHNhdmVkT2JqZWN0c0NsaWVudCA9IFByaXZhdGUoX3NhdmVkX29iamVjdHMuU2F2ZWRPYmplY3RzQ2xpZW50UHJvdmlkZXIpOwoKICBmdW5jdGlvbiBnZXRJbmRleFBhdHRlcm4oX3gpIHsKICAgIHJldHVybiBfZ2V0SW5kZXhQYXR0ZXJuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBfZ2V0SW5kZXhQYXR0ZXJuKCkgewogICAgX2dldEluZGV4UGF0dGVybiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoZnVuY3Rpb25BcmdzKSB7CiAgICAgIHZhciBpbmRleFBhdHRlcm5BcmcsIGluZGV4UGF0dGVyblRpdGxlLCByZXNwLCBpbmRleFBhdHRlcm5TYXZlZE9iamVjdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpbmRleFBhdHRlcm5BcmcgPSBmdW5jdGlvbkFyZ3MuZmluZChmdW5jdGlvbiAoYXJndW1lbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudC5uYW1lID09PSAnaW5kZXgnOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBpZiAoaW5kZXhQYXR0ZXJuQXJnKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBpbmRleFBhdHRlcm5UaXRsZSA9IF9sb2Rhc2guZGVmYXVsdC5nZXQoaW5kZXhQYXR0ZXJuQXJnLCAndmFsdWUudGV4dCcpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRPYmplY3RzQ2xpZW50LmZpbmQoewogICAgICAgICAgICAgICAgdHlwZTogJ2luZGV4LXBhdHRlcm4nLAogICAgICAgICAgICAgICAgZmllbGRzOiBbJ3RpdGxlJ10sCiAgICAgICAgICAgICAgICBzZWFyY2g6ICJcIiIuY29uY2F0KGluZGV4UGF0dGVyblRpdGxlLCAiXCIiKSwKICAgICAgICAgICAgICAgIHNlYXJjaF9maWVsZHM6IFsndGl0bGUnXSwKICAgICAgICAgICAgICAgIHBlclBhZ2U6IDEwCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgIGluZGV4UGF0dGVyblNhdmVkT2JqZWN0ID0gcmVzcC5zYXZlZE9iamVjdHMuZmluZChmdW5jdGlvbiAoc2F2ZWRPYmplY3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZE9iamVjdC5hdHRyaWJ1dGVzLnRpdGxlID09PSBpbmRleFBhdHRlcm5UaXRsZTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGluZGV4UGF0dGVyblNhdmVkT2JqZWN0KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIGluZGV4UGF0dGVybnMuZ2V0KGluZGV4UGF0dGVyblNhdmVkT2JqZWN0LmlkKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Ni5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNik7CiAgICB9KSk7CiAgICByZXR1cm4gX2dldEluZGV4UGF0dGVybi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gY29udGFpbnNGaWVsZE5hbWUocGFydGlhbCwgZmllbGQpIHsKICAgIGlmICghcGFydGlhbCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gZmllbGQubmFtZS5pbmNsdWRlcyhwYXJ0aWFsKTsKICB9IC8vIEFyZ3VtZW50IHZhbHVlIHN1Z2dlc3Rpb24gaGFuZGxlcnMgcmVxdWlyaW5nIGN1c3RvbSBjbGllbnQgc2lkZSBjb2RlCiAgLy8gQ291bGQgbm90IHB1dCB3aXRoIGZ1bmN0aW9uIGRlZmluaXRpb24gc2luY2UgZnVuY3Rpb25zIGFyZSBkZWZpbmVkIG9uIHNlcnZlcgoKCiAgdmFyIGN1c3RvbUhhbmRsZXJzID0gewogICAgZXM6IHsKICAgICAgaW5kZXg6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2luZGV4ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGFydGlhbCkgewogICAgICAgICAgdmFyIHNlYXJjaCwgcmVzcDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgc2VhcmNoID0gcGFydGlhbCA/ICIiLmNvbmNhdChwYXJ0aWFsLCAiKiIpIDogJyonOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkT2JqZWN0c0NsaWVudC5maW5kKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5kZXgtcGF0dGVybicsCiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBbJ3RpdGxlJywgJ3R5cGUnXSwKICAgICAgICAgICAgICAgICAgICBzZWFyY2g6ICIiLmNvbmNhdChzZWFyY2gpLAogICAgICAgICAgICAgICAgICAgIHNlYXJjaF9maWVsZHM6IFsndGl0bGUnXSwKICAgICAgICAgICAgICAgICAgICBwZXJQYWdlOiAyNQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNwLnNhdmVkT2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24gKHNhdmVkT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFzYXZlZE9iamVjdC5nZXQoJ3R5cGUnKTsKICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChzYXZlZE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzYXZlZE9iamVjdC5hdHRyaWJ1dGVzLnRpdGxlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIGZ1bmN0aW9uIGluZGV4KF94MikgewogICAgICAgICAgcmV0dXJuIF9pbmRleC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGluZGV4OwogICAgICB9KCksCiAgICAgIG1ldHJpYzogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfbWV0cmljID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHBhcnRpYWwsIGZ1bmN0aW9uQXJncykgewogICAgICAgICAgdmFyIGluZGV4UGF0dGVybiwgdmFsdWVTcGxpdDsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghKCFwYXJ0aWFsIHx8ICFwYXJ0aWFsLmluY2x1ZGVzKCc6JykpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgW3sKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYXZnOicKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjYXJkaW5hbGl0eTonCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY291bnQnCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWF4OicKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtaW46JwogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BlcmNlbnRpbGVzOicKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzdW06JwogICAgICAgICAgICAgICAgICB9XSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRJbmRleFBhdHRlcm4oZnVuY3Rpb25BcmdzKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIGluZGV4UGF0dGVybiA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKGluZGV4UGF0dGVybikgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIFtdKTsKCiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIHZhbHVlU3BsaXQgPSBwYXJ0aWFsLnNwbGl0KCc6Jyk7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBpbmRleFBhdHRlcm4uZmllbGRzLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmllbGQuYWdncmVnYXRhYmxlICYmICdudW1iZXInID09PSBmaWVsZC50eXBlICYmIGNvbnRhaW5zRmllbGROYW1lKHZhbHVlU3BsaXRbMV0sIGZpZWxkKTsKICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiIi5jb25jYXQodmFsdWVTcGxpdFswXSwgIjoiKS5jb25jYXQoZmllbGQubmFtZSksCiAgICAgICAgICAgICAgICAgICAgICBoZWxwOiBmaWVsZC50eXBlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKCiAgICAgICAgZnVuY3Rpb24gbWV0cmljKF94MywgX3g0KSB7CiAgICAgICAgICByZXR1cm4gX21ldHJpYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG1ldHJpYzsKICAgICAgfSgpLAogICAgICBzcGxpdDogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3BsaXQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFydGlhbCwgZnVuY3Rpb25BcmdzKSB7CiAgICAgICAgICB2YXIgaW5kZXhQYXR0ZXJuOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SW5kZXhQYXR0ZXJuKGZ1bmN0aW9uQXJncyk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBpbmRleFBhdHRlcm4gPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICAgIGlmIChpbmRleFBhdHRlcm4pIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBbXSk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgaW5kZXhQYXR0ZXJuLmZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLmFnZ3JlZ2F0YWJsZSAmJiBbJ251bWJlcicsICdib29sZWFuJywgJ2RhdGUnLCAnaXAnLCAnc3RyaW5nJ10uaW5jbHVkZXMoZmllbGQudHlwZSkgJiYgY29udGFpbnNGaWVsZE5hbWUocGFydGlhbCwgZmllbGQpOwogICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpZWxkLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBoZWxwOiBmaWVsZC50eXBlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKTsKCiAgICAgICAgZnVuY3Rpb24gc3BsaXQoX3g1LCBfeDYpIHsKICAgICAgICAgIHJldHVybiBfc3BsaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzcGxpdDsKICAgICAgfSgpLAogICAgICB0aW1lZmllbGQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RpbWVmaWVsZCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChwYXJ0aWFsLCBmdW5jdGlvbkFyZ3MpIHsKICAgICAgICAgIHZhciBpbmRleFBhdHRlcm47CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRJbmRleFBhdHRlcm4oZnVuY3Rpb25BcmdzKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIGluZGV4UGF0dGVybiA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgICAgaWYgKGluZGV4UGF0dGVybikgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIFtdKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBpbmRleFBhdHRlcm4uZmllbGRzLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2RhdGUnID09PSBmaWVsZC50eXBlICYmIGNvbnRhaW5zRmllbGROYW1lKHBhcnRpYWwsIGZpZWxkKTsKICAgICAgICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmaWVsZC5uYW1lCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgIH0pKTsKCiAgICAgICAgZnVuY3Rpb24gdGltZWZpZWxkKF94NywgX3g4KSB7CiAgICAgICAgICByZXR1cm4gX3RpbWVmaWVsZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRpbWVmaWVsZDsKICAgICAgfSgpCiAgICB9CiAgfTsKICByZXR1cm4gewogICAgLyoqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnVuY3Rpb25OYW1lIC0gdXNlciBwcm92aWRlZCBmdW5jdGlvbiBuYW1lIGNvbnRhaW5pbmcgYXJndW1lbnQKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdOYW1lIC0gdXNlciBwcm92aWRlZCBhcmd1bWVudCBuYW1lCiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIHdoZW4gZHluYW1pYyBzdWdnZXN0aW9uIGhhbmRsZXIgcHJvdmlkZWQgZm9yIGZ1bmN0aW9uIGFyZ3VtZW50CiAgICAgKi8KICAgIGhhc0R5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50OiBmdW5jdGlvbiBoYXNEeW5hbWljU3VnZ2VzdGlvbnNGb3JBcmd1bWVudChmdW5jdGlvbk5hbWUsIGFyZ05hbWUpIHsKICAgICAgcmV0dXJuIGN1c3RvbUhhbmRsZXJzW2Z1bmN0aW9uTmFtZV0gJiYgY3VzdG9tSGFuZGxlcnNbZnVuY3Rpb25OYW1lXVthcmdOYW1lXTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnVuY3Rpb25OYW1lIC0gdXNlciBwcm92aWRlZCBmdW5jdGlvbiBuYW1lIGNvbnRhaW5pbmcgYXJndW1lbnQKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdOYW1lIC0gdXNlciBwcm92aWRlZCBhcmd1bWVudCBuYW1lCiAgICAgKiBAcGFyYW0ge29iamVjdH0gZnVuY3Rpb25BcmdzIC0gdXNlciBwcm92aWRlZCBmdW5jdGlvbiBhcmd1bWVudHMgcGFyc2VkIGFoZWFkIG9mIGN1cnJlbnQgYXJndW1lbnQKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJ0aWFsIC0gdXNlciBwcm92aWRlZCBhcmd1bWVudCB2YWx1ZQogICAgICogQHJldHVybiB7YXJyYXl9IGFycmF5IG9mIGR5bmFtaWMgc3VnZ2VzdGlvbnMgbWF0Y2hpbmcgcGFydGlhbAogICAgICovCiAgICBnZXREeW5hbWljU3VnZ2VzdGlvbnNGb3JBcmd1bWVudDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldER5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZnVuY3Rpb25OYW1lLCBhcmdOYW1lLCBmdW5jdGlvbkFyZ3MpIHsKICAgICAgICB2YXIgcGFydGlhbElucHV0LAogICAgICAgICAgICBfYXJnczUgPSBhcmd1bWVudHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcnRpYWxJbnB1dCA9IF9hcmdzNS5sZW5ndGggPiAzICYmIF9hcmdzNVszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1WzNdIDogJyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tSGFuZGxlcnNbZnVuY3Rpb25OYW1lXVthcmdOYW1lXShwYXJ0aWFsSW5wdXQsIGZ1bmN0aW9uQXJncyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDUuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldER5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50KF94OSwgX3gxMCwgX3gxMSkgewogICAgICAgIHJldHVybiBfZ2V0RHluYW1pY1N1Z2dlc3Rpb25zRm9yQXJndW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldER5bmFtaWNTdWdnZXN0aW9uc0ZvckFyZ3VtZW50OwogICAgfSgpLAoKICAgIC8qKgogICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcnRpYWwgLSB1c2VyIHByb3ZpZGVkIGFyZ3VtZW50IHZhbHVlCiAgICAgKiBAcGFyYW0ge2FycmF5fSBzdGF0aWNTdWdnZXN0aW9ucyAtIGFyZ3VtZW50IHZhbHVlIHN1Z2dlc3Rpb25zCiAgICAgKiBAcmV0dXJuIHthcnJheX0gYXJyYXkgb2Ygc3RhdGljIHN1Z2dlc3Rpb25zIG1hdGNoaW5nIHBhcnRpYWwKICAgICAqLwogICAgZ2V0U3RhdGljU3VnZ2VzdGlvbnNGb3JJbnB1dDogZnVuY3Rpb24gZ2V0U3RhdGljU3VnZ2VzdGlvbnNGb3JJbnB1dCgpIHsKICAgICAgdmFyIHBhcnRpYWxJbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICAgIHZhciBzdGF0aWNTdWdnZXN0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107CgogICAgICBpZiAocGFydGlhbElucHV0KSB7CiAgICAgICAgcmV0dXJuIHN0YXRpY1N1Z2dlc3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoc3VnZ2VzdGlvbikgewogICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb24ubmFtZS5pbmNsdWRlcyhwYXJ0aWFsSW5wdXQpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gc3RhdGljU3VnZ2VzdGlvbnM7CiAgICB9CiAgfTsKfQ=="},null]}