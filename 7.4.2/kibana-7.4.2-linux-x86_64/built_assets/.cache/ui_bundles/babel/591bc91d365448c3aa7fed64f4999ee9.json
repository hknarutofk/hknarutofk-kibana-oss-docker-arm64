{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/management/sections/index_patterns/create_index_pattern_wizard/components/step_time_field/step_time_field.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/management/sections/index_patterns/create_index_pattern_wizard/components/step_time_field/step_time_field.js","mtime":1572296410552},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlN0ZXBUaW1lRmllbGQgPSBleHBvcnRzLlN0ZXBUaW1lRmllbGRDb21wb25lbnQgPSB2b2lkIDA7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVhY3QiKSk7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfbGliID0gcmVxdWlyZSgiLi4vLi4vbGliIik7Cgp2YXIgX2hlYWRlciA9IHJlcXVpcmUoIi4vY29tcG9uZW50cy9oZWFkZXIiKTsKCnZhciBfdGltZV9maWVsZCA9IHJlcXVpcmUoIi4vY29tcG9uZW50cy90aW1lX2ZpZWxkIik7Cgp2YXIgX2FkdmFuY2VkX29wdGlvbnMgPSByZXF1aXJlKCIuL2NvbXBvbmVudHMvYWR2YW5jZWRfb3B0aW9ucyIpOwoKdmFyIF9hY3Rpb25fYnV0dG9ucyA9IHJlcXVpcmUoIi4vY29tcG9uZW50cy9hY3Rpb25fYnV0dG9ucyIpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9Cgp2YXIgU3RlcFRpbWVGaWVsZENvbXBvbmVudCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoU3RlcFRpbWVGaWVsZENvbXBvbmVudCwgX0NvbXBvbmVudCk7CgogIGZ1bmN0aW9uIFN0ZXBUaW1lRmllbGRDb21wb25lbnQocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RlcFRpbWVGaWVsZENvbXBvbmVudCk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoU3RlcFRpbWVGaWVsZENvbXBvbmVudCkuY2FsbCh0aGlzLCBwcm9wcykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm1vdW50ZWQiLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZmV0Y2hUaW1lRmllbGRzIiwKICAgIC8qI19fUFVSRV9fKi8KICAgIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF90aGlzJHByb3BzLCBpbmRleFBhdHRlcm5zU2VydmljZSwgcGF0dGVybiwgZ2V0RmV0Y2hGb3JXaWxkY2FyZE9wdGlvbnMsIGluZGV4UGF0dGVybiwgZmllbGRzLCB0aW1lRmllbGRzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsIGluZGV4UGF0dGVybnNTZXJ2aWNlID0gX3RoaXMkcHJvcHMuaW5kZXhQYXR0ZXJuc1NlcnZpY2UsIHBhdHRlcm4gPSBfdGhpcyRwcm9wcy5pbmRleFBhdHRlcm47CiAgICAgICAgICAgICAgZ2V0RmV0Y2hGb3JXaWxkY2FyZE9wdGlvbnMgPSBfdGhpcy5wcm9wcy5pbmRleFBhdHRlcm5DcmVhdGlvblR5cGUuZ2V0RmV0Y2hGb3JXaWxkY2FyZE9wdGlvbnM7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGluZGV4UGF0dGVybnNTZXJ2aWNlLm1ha2UoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBpbmRleFBhdHRlcm4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGluZGV4UGF0dGVybi50aXRsZSA9IHBhdHRlcm47CgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIGlzRmV0Y2hpbmdUaW1lRmllbGRzOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiAoMCwgX2xpYi5lbnN1cmVNaW5pbXVtVGltZSkoaW5kZXhQYXR0ZXJuLmZpZWxkc0ZldGNoZXIuZmV0Y2hGb3JXaWxkY2FyZChwYXR0ZXJuLCBnZXRGZXRjaEZvcldpbGRjYXJkT3B0aW9ucygpKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgZmllbGRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICB0aW1lRmllbGRzID0gKDAsIF9saWIuZXh0cmFjdFRpbWVGaWVsZHMpKGZpZWxkcyk7CgogICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgIHRpbWVGaWVsZHM6IHRpbWVGaWVsZHMsCiAgICAgICAgICAgICAgICBpc0ZldGNoaW5nVGltZUZpZWxkczogZmFsc2UKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvblRpbWVGaWVsZENoYW5nZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTsgLy8gRmluZCB0aGUgdGltZSBmaWVsZCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgdmFsdWUKCiAgICAgIHZhciB0aW1lRmllbGQgPSBfdGhpcy5zdGF0ZS50aW1lRmllbGRzLmZpbmQoZnVuY3Rpb24gKHRpbWVGaWVsZCkgewogICAgICAgIHJldHVybiB0aW1lRmllbGQuZmllbGROYW1lID09PSB2YWx1ZTsKICAgICAgfSk7IC8vIElmIHRoZSB2YWx1ZSBpcyBhbiBlbXB0eSBzdHJpbmcsIGl0J3Mgbm90IGEgdmFsaWQgc2VsZWN0aW9uCgoKICAgICAgdmFyIHZhbGlkU2VsZWN0aW9uID0gdmFsdWUgIT09ICcnOwoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHNlbGVjdGVkVGltZUZpZWxkOiB0aW1lRmllbGQgPyB0aW1lRmllbGQuZmllbGROYW1lIDogdW5kZWZpbmVkLAogICAgICAgIHRpbWVGaWVsZFNldDogdmFsaWRTZWxlY3Rpb24KICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkNoYW5nZUluZGV4UGF0dGVybklkIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGluZGV4UGF0dGVybklkOiBlLnRhcmdldC52YWx1ZQogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvZ2dsZUFkdmFuY2VkT3B0aW9ucyIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlzQWR2YW5jZWRPcHRpb25zVmlzaWJsZTogIXN0YXRlLmlzQWR2YW5jZWRPcHRpb25zVmlzaWJsZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY3JlYXRlSW5kZXhQYXR0ZXJuIiwKICAgIC8qI19fUFVSRV9fKi8KICAgIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjcmVhdGVJbmRleFBhdHRlcm4sIF90aGlzJHN0YXRlLCBzZWxlY3RlZFRpbWVGaWVsZCwgaW5kZXhQYXR0ZXJuSWQ7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNyZWF0ZUluZGV4UGF0dGVybiA9IF90aGlzLnByb3BzLmNyZWF0ZUluZGV4UGF0dGVybjsKICAgICAgICAgICAgICBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLCBzZWxlY3RlZFRpbWVGaWVsZCA9IF90aGlzJHN0YXRlLnNlbGVjdGVkVGltZUZpZWxkLCBpbmRleFBhdHRlcm5JZCA9IF90aGlzJHN0YXRlLmluZGV4UGF0dGVybklkOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgICBpc0NyZWF0aW5nOiB0cnVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUluZGV4UGF0dGVybihzZWxlY3RlZFRpbWVGaWVsZCwgaW5kZXhQYXR0ZXJuSWQpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgzKTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzLm1vdW50ZWQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgZXJyb3I6IF9jb250ZXh0Mi50MCBpbnN0YW5jZW9mIEVycm9yID8gX2NvbnRleHQyLnQwLm1lc3NhZ2UgOiBTdHJpbmcoX2NvbnRleHQyLnQwKSwKICAgICAgICAgICAgICAgIGlzQ3JlYXRpbmc6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMywgOF1dKTsKICAgIH0pKSk7CgogICAgdmFyIF9wcm9wcyRpbmRleFBhdHRlcm5DciA9IHByb3BzLmluZGV4UGF0dGVybkNyZWF0aW9uVHlwZSwKICAgICAgICBnZXRJbmRleFBhdHRlcm5UeXBlID0gX3Byb3BzJGluZGV4UGF0dGVybkNyLmdldEluZGV4UGF0dGVyblR5cGUsCiAgICAgICAgZ2V0SW5kZXhQYXR0ZXJuTmFtZSA9IF9wcm9wcyRpbmRleFBhdHRlcm5Dci5nZXRJbmRleFBhdHRlcm5OYW1lOwogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIGVycm9yOiAnJywKICAgICAgdGltZUZpZWxkczogW10sCiAgICAgIHNlbGVjdGVkVGltZUZpZWxkOiB1bmRlZmluZWQsCiAgICAgIHRpbWVGaWVsZFNldDogZmFsc2UsCiAgICAgIGlzQWR2YW5jZWRPcHRpb25zVmlzaWJsZTogZmFsc2UsCiAgICAgIGlzRmV0Y2hpbmdUaW1lRmllbGRzOiBmYWxzZSwKICAgICAgaXNDcmVhdGluZzogZmFsc2UsCiAgICAgIGluZGV4UGF0dGVybklkOiAnJywKICAgICAgaW5kZXhQYXR0ZXJuVHlwZTogZ2V0SW5kZXhQYXR0ZXJuVHlwZSgpLAogICAgICBpbmRleFBhdHRlcm5OYW1lOiBnZXRJbmRleFBhdHRlcm5OYW1lKCkKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU3RlcFRpbWVGaWVsZENvbXBvbmVudCwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTsKICAgICAgdGhpcy5mZXRjaFRpbWVGaWVsZHMoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnRXaWxsVW5tb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7CiAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImZvcm1hdEVycm9yTWVzc2FnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0RXJyb3JNZXNzYWdlKG1lc3NhZ2UpIHsKICAgICAgLy8gYGNyZWF0ZUluZGV4UGF0dGVybmAgdGhyb3dzICJDb25mbGljdCIgd2hlbiBpbmRleCBwYXR0ZXJuIElEIGFscmVhZHkgZXhpc3RzLgogICAgICByZXR1cm4gbWVzc2FnZSA9PT0gJ0NvbmZsaWN0JyA/IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgaWQ6ICJrYm4ubWFuYWdlbWVudC5jcmVhdGVJbmRleFBhdHRlcm4uc3RlcFRpbWUucGF0dGVyQWxyZWFkeUV4aXN0cyIsCiAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDdXN0b20gaW5kZXggcGF0dGVybiBJRCBhbHJlYWR5IGV4aXN0cy4iCiAgICAgIH0pIDogbWVzc2FnZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsCiAgICAgICAgICB0aW1lRmllbGRzID0gX3RoaXMkc3RhdGUyLnRpbWVGaWVsZHMsCiAgICAgICAgICBzZWxlY3RlZFRpbWVGaWVsZCA9IF90aGlzJHN0YXRlMi5zZWxlY3RlZFRpbWVGaWVsZCwKICAgICAgICAgIHRpbWVGaWVsZFNldCA9IF90aGlzJHN0YXRlMi50aW1lRmllbGRTZXQsCiAgICAgICAgICBpc0FkdmFuY2VkT3B0aW9uc1Zpc2libGUgPSBfdGhpcyRzdGF0ZTIuaXNBZHZhbmNlZE9wdGlvbnNWaXNpYmxlLAogICAgICAgICAgaW5kZXhQYXR0ZXJuSWQgPSBfdGhpcyRzdGF0ZTIuaW5kZXhQYXR0ZXJuSWQsCiAgICAgICAgICBpc0NyZWF0aW5nID0gX3RoaXMkc3RhdGUyLmlzQ3JlYXRpbmcsCiAgICAgICAgICBpc0ZldGNoaW5nVGltZUZpZWxkcyA9IF90aGlzJHN0YXRlMi5pc0ZldGNoaW5nVGltZUZpZWxkcywKICAgICAgICAgIGluZGV4UGF0dGVybk5hbWUgPSBfdGhpcyRzdGF0ZTIuaW5kZXhQYXR0ZXJuTmFtZTsKCiAgICAgIGlmIChpc0NyZWF0aW5nKSB7CiAgICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYW5lbCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZsZXhHcm91cCwgewogICAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpRmxleEl0ZW0sIHsKICAgICAgICAgIGdyb3c6IGZhbHNlCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUxvYWRpbmdTcGlubmVyLCBudWxsKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlGbGV4SXRlbSwgewogICAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpVGV4dCwgbnVsbCwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QyLkZvcm1hdHRlZE1lc3NhZ2UsIHsKICAgICAgICAgIGlkOiAia2JuLm1hbmFnZW1lbnQuY3JlYXRlSW5kZXhQYXR0ZXJuLnN0ZXBUaW1lLmNyZWF0aW5nTGFiZWwiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJDcmVhdGluZyBpbmRleCBwYXR0ZXJuXHUyMDI2IgogICAgICAgIH0pKSkpKTsKICAgICAgfQoKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBpbmRleFBhdHRlcm4gPSBfdGhpcyRwcm9wczIuaW5kZXhQYXR0ZXJuLAogICAgICAgICAgZ29Ub1ByZXZpb3VzU3RlcCA9IF90aGlzJHByb3BzMi5nb1RvUHJldmlvdXNTdGVwOwogICAgICB2YXIgdGltZUZpZWxkT3B0aW9ucyA9IHRpbWVGaWVsZHMgPyBbewogICAgICAgIHRleHQ6ICcnLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRpbWVGaWVsZHMubWFwKGZ1bmN0aW9uICh0aW1lRmllbGQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdGV4dDogdGltZUZpZWxkLmRpc3BsYXksCiAgICAgICAgICB2YWx1ZTogdGltZUZpZWxkLmZpZWxkTmFtZSwKICAgICAgICAgIGRpc2FibGVkOiB0aW1lRmllbGRzLmlzRGlzYWJsZWQKICAgICAgICB9OwogICAgICB9KSkpIDogW107CiAgICAgIHZhciBzaG93VGltZUZpZWxkID0gIXRpbWVGaWVsZHMgfHwgdGltZUZpZWxkcy5sZW5ndGggPiAxOwogICAgICB2YXIgc3VibWl0dGFibGUgPSAhc2hvd1RpbWVGaWVsZCB8fCB0aW1lRmllbGRTZXQ7CiAgICAgIHZhciBlcnJvciA9IHRoaXMuc3RhdGUuZXJyb3IgPyBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdC5kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpQ2FsbE91dCwgewogICAgICAgIHRpdGxlOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgaWQ6ICJrYm4ubWFuYWdlbWVudC5jcmVhdGVJbmRleFBhdHRlcm4uc3RlcFRpbWUuZXJyb3IiLAogICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFcnJvciIKICAgICAgICB9KSwKICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgaWNvblR5cGU6ICJjcm9zcyIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIHRoaXMuZm9ybWF0RXJyb3JNZXNzYWdlKHRoaXMuc3RhdGUuZXJyb3IpKSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSkpIDogbnVsbDsKICAgICAgcmV0dXJuIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlQYW5lbCwgewogICAgICAgIHBhZGRpbmdTaXplOiAibCIKICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaGVhZGVyLkhlYWRlciwgewogICAgICAgIGluZGV4UGF0dGVybjogaW5kZXhQYXR0ZXJuLAogICAgICAgIGluZGV4UGF0dGVybk5hbWU6IGluZGV4UGF0dGVybk5hbWUKICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlTcGFjZXIsIHsKICAgICAgICBzaXplOiAibSIKICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3RpbWVfZmllbGQuVGltZUZpZWxkLCB7CiAgICAgICAgaXNWaXNpYmxlOiBzaG93VGltZUZpZWxkLAogICAgICAgIGZldGNoVGltZUZpZWxkczogdGhpcy5mZXRjaFRpbWVGaWVsZHMsCiAgICAgICAgdGltZUZpZWxkT3B0aW9uczogdGltZUZpZWxkT3B0aW9ucywKICAgICAgICBpc0xvYWRpbmc6IGlzRmV0Y2hpbmdUaW1lRmllbGRzLAogICAgICAgIHNlbGVjdGVkVGltZUZpZWxkOiBzZWxlY3RlZFRpbWVGaWVsZCwKICAgICAgICBvblRpbWVGaWVsZENoYW5nZWQ6IHRoaXMub25UaW1lRmllbGRDaGFuZ2VkCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9ldWkuRXVpU3BhY2VyLCB7CiAgICAgICAgc2l6ZTogInMiCiAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hZHZhbmNlZF9vcHRpb25zLkFkdmFuY2VkT3B0aW9ucywgewogICAgICAgIGlzVmlzaWJsZTogaXNBZHZhbmNlZE9wdGlvbnNWaXNpYmxlLAogICAgICAgIGluZGV4UGF0dGVybklkOiBpbmRleFBhdHRlcm5JZCwKICAgICAgICB0b2dnbGVBZHZhbmNlZE9wdGlvbnM6IHRoaXMudG9nZ2xlQWR2YW5jZWRPcHRpb25zLAogICAgICAgIG9uQ2hhbmdlSW5kZXhQYXR0ZXJuSWQ6IHRoaXMub25DaGFuZ2VJbmRleFBhdHRlcm5JZAogICAgICB9KSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJtIgogICAgICB9KSwgZXJyb3IsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2FjdGlvbl9idXR0b25zLkFjdGlvbkJ1dHRvbnMsIHsKICAgICAgICBnb1RvUHJldmlvdXNTdGVwOiBnb1RvUHJldmlvdXNTdGVwLAogICAgICAgIHN1Ym1pdHRhYmxlOiBzdWJtaXR0YWJsZSwKICAgICAgICBjcmVhdGVJbmRleFBhdHRlcm46IHRoaXMuY3JlYXRlSW5kZXhQYXR0ZXJuCiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTdGVwVGltZUZpZWxkQ29tcG9uZW50Owp9KF9yZWFjdC5Db21wb25lbnQpOwoKZXhwb3J0cy5TdGVwVGltZUZpZWxkQ29tcG9uZW50ID0gU3RlcFRpbWVGaWVsZENvbXBvbmVudDsKCl9kZWZpbmVQcm9wZXJ0eShTdGVwVGltZUZpZWxkQ29tcG9uZW50LCAicHJvcFR5cGVzIiwgewogIGluZGV4UGF0dGVybjogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZy5pc1JlcXVpcmVkLAogIGluZGV4UGF0dGVybnNTZXJ2aWNlOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsCiAgZ29Ub1ByZXZpb3VzU3RlcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCwKICBjcmVhdGVJbmRleFBhdHRlcm46IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsCiAgaW5kZXhQYXR0ZXJuQ3JlYXRpb25UeXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQKfSk7Cgp2YXIgU3RlcFRpbWVGaWVsZCA9ICgwLCBfcmVhY3QyLmluamVjdEkxOG4pKFN0ZXBUaW1lRmllbGRDb21wb25lbnQpOwpleHBvcnRzLlN0ZXBUaW1lRmllbGQgPSBTdGVwVGltZUZpZWxkOw=="},null]}