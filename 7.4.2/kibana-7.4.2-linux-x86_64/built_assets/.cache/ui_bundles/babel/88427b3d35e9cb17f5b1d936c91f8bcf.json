{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/core/public/core_system.js","dependencies":[{"path":"src/core/public/core_system.js","mtime":1572296408376},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkNvcmVTeXN0ZW0gPSB2b2lkIDA7CgpyZXF1aXJlKCIuL2NvcmUuY3NzIik7Cgp2YXIgX2Nocm9tZSA9IHJlcXVpcmUoIi4vY2hyb21lIik7Cgp2YXIgX2ZhdGFsX2Vycm9ycyA9IHJlcXVpcmUoIi4vZmF0YWxfZXJyb3JzIik7Cgp2YXIgX2h0dHAgPSByZXF1aXJlKCIuL2h0dHAiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIi4vaTE4biIpOwoKdmFyIF9pbmplY3RlZF9tZXRhZGF0YSA9IHJlcXVpcmUoIi4vaW5qZWN0ZWRfbWV0YWRhdGEiKTsKCnZhciBfbGVnYWN5ID0gcmVxdWlyZSgiLi9sZWdhY3kiKTsKCnZhciBfbm90aWZpY2F0aW9ucyA9IHJlcXVpcmUoIi4vbm90aWZpY2F0aW9ucyIpOwoKdmFyIF9vdmVybGF5cyA9IHJlcXVpcmUoIi4vb3ZlcmxheXMiKTsKCnZhciBfcGx1Z2lucyA9IHJlcXVpcmUoIi4vcGx1Z2lucyIpOwoKdmFyIF91aV9zZXR0aW5ncyA9IHJlcXVpcmUoIi4vdWlfc2V0dGluZ3MiKTsKCnZhciBfYXBwbGljYXRpb24gPSByZXF1aXJlKCIuL2FwcGxpY2F0aW9uIik7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgiLi4vdXRpbHMvIik7Cgp2YXIgX2RvY19saW5rcyA9IHJlcXVpcmUoIi4vZG9jX2xpbmtzIik7Cgp2YXIgX3JlbmRlcmluZyA9IHJlcXVpcmUoIi4vcmVuZGVyaW5nIik7Cgp2YXIgX3NhdmVkX29iamVjdHNfc2VydmljZSA9IHJlcXVpcmUoIi4vc2F2ZWRfb2JqZWN0cy9zYXZlZF9vYmplY3RzX3NlcnZpY2UiKTsKCnZhciBfY29udGV4dDMgPSByZXF1aXJlKCIuL2NvbnRleHQiKTsKCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsKICB0cnkgewogICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOwogICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmVqZWN0KGVycm9yKTsKICAgIHJldHVybjsKICB9CgogIGlmIChpbmZvLmRvbmUpIHsKICAgIHJlc29sdmUodmFsdWUpOwogIH0gZWxzZSB7CiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgfQp9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKCiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgfQoKICAgICAgX25leHQodW5kZWZpbmVkKTsKICAgIH0pOwogIH07Cn0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgfQp9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogIH0KfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICByZXR1cm4gQ29uc3RydWN0b3I7Cn0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICBpZiAoa2V5IGluIG9iaikgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICB3cml0YWJsZTogdHJ1ZQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG9ialtrZXldID0gdmFsdWU7CiAgfQoKICByZXR1cm4gb2JqOwp9Ci8qKgogKiBUaGUgQ29yZVN5c3RlbSBpcyB0aGUgcm9vdCBvZiB0aGUgbmV3IHBsYXRmb3JtLCBhbmQgc2V0dXBzIGFsbCBwYXJ0cwogKiBvZiBLaWJhbmEgaW4gdGhlIFVJLCBpbmNsdWRpbmcgdGhlIExlZ2FjeVBsYXRmb3JtIHdoaWNoIGlzIG1hbmFnZWQKICogYnkgdGhlIExlZ2FjeVBsYXRmb3JtU2VydmljZS4gQXMgd2UgbWlncmF0ZSBtb3JlIHRoaW5ncyB0byB0aGUgbmV3CiAqIHBsYXRmb3JtIHRoZSBDb3JlU3lzdGVtIHdpbGwgZ2V0IG1hbnkgbW9yZSBTZXJ2aWNlcy4KICoKICogQGludGVybmFsCiAqLwoKCnZhciBDb3JlU3lzdGVtID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ29yZVN5c3RlbShwYXJhbXMpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvcmVTeXN0ZW0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZmF0YWxFcnJvcnMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaW5qZWN0ZWRNZXRhZGF0YSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJsZWdhY3lQbGF0Zm9ybSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJub3RpZmljYXRpb25zIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImh0dHAiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic2F2ZWRPYmplY3RzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInVpU2V0dGluZ3MiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY2hyb21lIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImkxOG4iLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAib3ZlcmxheSIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJwbHVnaW5zIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImFwcGxpY2F0aW9uIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImRvY0xpbmtzIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInJlbmRlcmluZyIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJjb250ZXh0Iiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInJvb3REb21FbGVtZW50Iiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgImZhdGFsRXJyb3JzU2V0dXAiLCBudWxsKTsKCiAgICB2YXIgcm9vdERvbUVsZW1lbnQgPSBwYXJhbXMucm9vdERvbUVsZW1lbnQsCiAgICAgICAgYnJvd3NlclN1cHBvcnRzQ3NwID0gcGFyYW1zLmJyb3dzZXJTdXBwb3J0c0NzcCwKICAgICAgICBpbmplY3RlZE1ldGFkYXRhID0gcGFyYW1zLmluamVjdGVkTWV0YWRhdGEsCiAgICAgICAgcmVxdWlyZUxlZ2FjeUZpbGVzID0gcGFyYW1zLnJlcXVpcmVMZWdhY3lGaWxlcywKICAgICAgICB1c2VMZWdhY3lUZXN0SGFybmVzcyA9IHBhcmFtcy51c2VMZWdhY3lUZXN0SGFybmVzczsKICAgIHRoaXMucm9vdERvbUVsZW1lbnQgPSByb290RG9tRWxlbWVudDsKICAgIHRoaXMuaTE4biA9IG5ldyBfaTE4bi5JMThuU2VydmljZSgpOwogICAgdGhpcy5pbmplY3RlZE1ldGFkYXRhID0gbmV3IF9pbmplY3RlZF9tZXRhZGF0YS5JbmplY3RlZE1ldGFkYXRhU2VydmljZSh7CiAgICAgIGluamVjdGVkTWV0YWRhdGE6IGluamVjdGVkTWV0YWRhdGEKICAgIH0pOwogICAgdGhpcy5mYXRhbEVycm9ycyA9IG5ldyBfZmF0YWxfZXJyb3JzLkZhdGFsRXJyb3JzU2VydmljZShyb290RG9tRWxlbWVudCwgZnVuY3Rpb24gKCkgewogICAgICAvLyBTdG9wIENvcmUgYmVmb3JlIHJlbmRlcmluZyBhbnkgZmF0YWwgZXJyb3JzIGludG8gdGhlIERPTQogICAgICBfdGhpcy5zdG9wKCk7CiAgICB9KTsKICAgIHRoaXMubm90aWZpY2F0aW9ucyA9IG5ldyBfbm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25zU2VydmljZSgpOwogICAgdGhpcy5odHRwID0gbmV3IF9odHRwLkh0dHBTZXJ2aWNlKCk7CiAgICB0aGlzLnNhdmVkT2JqZWN0cyA9IG5ldyBfc2F2ZWRfb2JqZWN0c19zZXJ2aWNlLlNhdmVkT2JqZWN0c1NlcnZpY2UoKTsKICAgIHRoaXMudWlTZXR0aW5ncyA9IG5ldyBfdWlfc2V0dGluZ3MuVWlTZXR0aW5nc1NlcnZpY2UoKTsKICAgIHRoaXMub3ZlcmxheSA9IG5ldyBfb3ZlcmxheXMuT3ZlcmxheVNlcnZpY2UoKTsKICAgIHRoaXMuYXBwbGljYXRpb24gPSBuZXcgX2FwcGxpY2F0aW9uLkFwcGxpY2F0aW9uU2VydmljZSgpOwogICAgdGhpcy5jaHJvbWUgPSBuZXcgX2Nocm9tZS5DaHJvbWVTZXJ2aWNlKHsKICAgICAgYnJvd3NlclN1cHBvcnRzQ3NwOiBicm93c2VyU3VwcG9ydHNDc3AKICAgIH0pOwogICAgdGhpcy5kb2NMaW5rcyA9IG5ldyBfZG9jX2xpbmtzLkRvY0xpbmtzU2VydmljZSgpOwogICAgdGhpcy5yZW5kZXJpbmcgPSBuZXcgX3JlbmRlcmluZy5SZW5kZXJpbmdTZXJ2aWNlKCk7CiAgICB2YXIgY29yZSA9IHsKICAgICAgY29yZUlkOiBTeW1ib2woJ2NvcmUnKQogICAgfTsKICAgIHRoaXMuY29udGV4dCA9IG5ldyBfY29udGV4dDMuQ29udGV4dFNlcnZpY2UoY29yZSk7CiAgICB0aGlzLnBsdWdpbnMgPSBuZXcgX3BsdWdpbnMuUGx1Z2luc1NlcnZpY2UoY29yZSwgaW5qZWN0ZWRNZXRhZGF0YS51aVBsdWdpbnMpOwogICAgdGhpcy5sZWdhY3lQbGF0Zm9ybSA9IG5ldyBfbGVnYWN5LkxlZ2FjeVBsYXRmb3JtU2VydmljZSh7CiAgICAgIHJlcXVpcmVMZWdhY3lGaWxlczogcmVxdWlyZUxlZ2FjeUZpbGVzLAogICAgICB1c2VMZWdhY3lUZXN0SGFybmVzczogdXNlTGVnYWN5VGVzdEhhcm5lc3MKICAgIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENvcmVTeXN0ZW0sIFt7CiAgICBrZXk6ICJzZXR1cCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NldHVwID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaW5qZWN0ZWRNZXRhZGF0YSwgaHR0cCwgdWlTZXR0aW5ncywgbm90aWZpY2F0aW9ucywgYXBwbGljYXRpb24sIHBsdWdpbkRlcGVuZGVuY2llcywgY29udGV4dCwgY29yZSwgcGx1Z2luczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsgLy8gU2V0dXAgRmF0YWxFcnJvcnNTZXJ2aWNlIGFuZCBpdCdzIGRlcGVuZGVuY2llcyBmaXJzdCBzbyB0aGF0IHdlJ3JlCiAgICAgICAgICAgICAgICAvLyBhYmxlIHRvIHJlbmRlciBhbnkgZXJyb3JzLgoKICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGEgPSB0aGlzLmluamVjdGVkTWV0YWRhdGEuc2V0dXAoKTsKICAgICAgICAgICAgICAgIHRoaXMuZmF0YWxFcnJvcnNTZXR1cCA9IHRoaXMuZmF0YWxFcnJvcnMuc2V0dXAoewogICAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBpbmplY3RlZE1ldGFkYXRhLAogICAgICAgICAgICAgICAgICBpMThuOiB0aGlzLmkxOG4uZ2V0Q29udGV4dCgpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGh0dHAgPSB0aGlzLmh0dHAuc2V0dXAoewogICAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBpbmplY3RlZE1ldGFkYXRhLAogICAgICAgICAgICAgICAgICBmYXRhbEVycm9yczogdGhpcy5mYXRhbEVycm9yc1NldHVwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHVpU2V0dGluZ3MgPSB0aGlzLnVpU2V0dGluZ3Muc2V0dXAoewogICAgICAgICAgICAgICAgICBodHRwOiBodHRwLAogICAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBpbmplY3RlZE1ldGFkYXRhCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuc2V0dXAoewogICAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiB1aVNldHRpbmdzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uID0gdGhpcy5hcHBsaWNhdGlvbi5zZXR1cCgpOwogICAgICAgICAgICAgICAgcGx1Z2luRGVwZW5kZW5jaWVzID0gdGhpcy5wbHVnaW5zLmdldE9wYXF1ZUlkcygpOwogICAgICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuY29udGV4dC5zZXR1cCh7CiAgICAgICAgICAgICAgICAgIHBsdWdpbkRlcGVuZGVuY2llczogcGx1Z2luRGVwZW5kZW5jaWVzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvcmUgPSB7CiAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uOiBhcHBsaWNhdGlvbiwKICAgICAgICAgICAgICAgICAgY29udGV4dDogY29udGV4dCwKICAgICAgICAgICAgICAgICAgZmF0YWxFcnJvcnM6IHRoaXMuZmF0YWxFcnJvcnNTZXR1cCwKICAgICAgICAgICAgICAgICAgaHR0cDogaHR0cCwKICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YTogaW5qZWN0ZWRNZXRhZGF0YSwKICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uczogbm90aWZpY2F0aW9ucywKICAgICAgICAgICAgICAgICAgdWlTZXR0aW5nczogdWlTZXR0aW5ncwogICAgICAgICAgICAgICAgfTsgLy8gU2VydmljZXMgdGhhdCBkbyBub3QgZXhwb3NlIGNvbnRyYWN0cyBhdCBzZXR1cAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBsdWdpbnMuc2V0dXAoY29yZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBwbHVnaW5zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVBsYXRmb3JtLnNldHVwKHsKICAgICAgICAgICAgICAgICAgY29yZTogY29yZSwKICAgICAgICAgICAgICAgICAgcGx1Z2luczogKDAsIF91dGlscy5tYXBUb09iamVjdCkocGx1Z2lucy5jb250cmFjdHMpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgZmF0YWxFcnJvcnM6IHRoaXMuZmF0YWxFcnJvcnNTZXR1cAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhdGFsRXJyb3JzU2V0dXApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5mYXRhbEVycm9yc1NldHVwLmFkZChfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgRmF0YWxFcnJvcnNTZXJ2aWNlIGhhcyBub3QgeWV0IGJlZW4gc2V0dXAsIGxvZyBlcnJvciB0byBjb25zb2xlCiAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMCwgMThdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNldHVwKCkgewogICAgICAgIHJldHVybiBfc2V0dXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNldHVwOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdGFydCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBpbmplY3RlZE1ldGFkYXRhLCB1aVNldHRpbmdzLCBkb2NMaW5rcywgaHR0cCwgc2F2ZWRPYmplY3RzLCBpMThuLCBhcHBsaWNhdGlvbiwgY29yZVVpVGFyZ2V0RG9tRWxlbWVudCwgbm90aWZpY2F0aW9uc1RhcmdldERvbUVsZW1lbnQsIG92ZXJsYXlUYXJnZXREb21FbGVtZW50LCBvdmVybGF5cywgbm90aWZpY2F0aW9ucywgY2hyb21lLCBjb3JlLCBwbHVnaW5zLCByZW5kZXJpbmc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluamVjdGVkTWV0YWRhdGEuc3RhcnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaW5qZWN0ZWRNZXRhZGF0YSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudWlTZXR0aW5ncy5zdGFydCgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB1aVNldHRpbmdzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb2NMaW5rcy5zdGFydCh7CiAgICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGE6IGluamVjdGVkTWV0YWRhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBkb2NMaW5rcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh0dHAuc3RhcnQoewogICAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBpbmplY3RlZE1ldGFkYXRhLAogICAgICAgICAgICAgICAgICBmYXRhbEVycm9yczogdGhpcy5mYXRhbEVycm9yc1NldHVwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGh0dHAgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYXZlZE9iamVjdHMuc3RhcnQoewogICAgICAgICAgICAgICAgICBodHRwOiBodHRwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHNhdmVkT2JqZWN0cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmkxOG4uc3RhcnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGkxOG4gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5zdGFydCh7CiAgICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGE6IGluamVjdGVkTWV0YWRhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgYXBwbGljYXRpb24gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvcmVVaVRhcmdldERvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNvcmVVaVRhcmdldERvbUVsZW1lbnQuaWQgPSAna2liYW5hLWJvZHknOwogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc1RhcmdldERvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIG92ZXJsYXlUYXJnZXREb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IC8vIGVuc3VyZSB0aGUgcm9vdERvbUVsZW1lbnQgaXMgZW1wdHkKCiAgICAgICAgICAgICAgICB0aGlzLnJvb3REb21FbGVtZW50LnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICAgICAgICB0aGlzLnJvb3REb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NvcmVTeXN0ZW1Sb290RG9tRWxlbWVudCcpOwogICAgICAgICAgICAgICAgdGhpcy5yb290RG9tRWxlbWVudC5hcHBlbmRDaGlsZChjb3JlVWlUYXJnZXREb21FbGVtZW50KTsKICAgICAgICAgICAgICAgIHRoaXMucm9vdERvbUVsZW1lbnQuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uc1RhcmdldERvbUVsZW1lbnQpOwogICAgICAgICAgICAgICAgdGhpcy5yb290RG9tRWxlbWVudC5hcHBlbmRDaGlsZChvdmVybGF5VGFyZ2V0RG9tRWxlbWVudCk7CiAgICAgICAgICAgICAgICBvdmVybGF5cyA9IHRoaXMub3ZlcmxheS5zdGFydCh7CiAgICAgICAgICAgICAgICAgIGkxOG46IGkxOG4sCiAgICAgICAgICAgICAgICAgIHRhcmdldERvbUVsZW1lbnQ6IG92ZXJsYXlUYXJnZXREb21FbGVtZW50LAogICAgICAgICAgICAgICAgICB1aVNldHRpbmdzOiB1aVNldHRpbmdzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb25zLnN0YXJ0KHsKICAgICAgICAgICAgICAgICAgaTE4bjogaTE4biwKICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IG92ZXJsYXlzLAogICAgICAgICAgICAgICAgICB0YXJnZXREb21FbGVtZW50OiBub3RpZmljYXRpb25zVGFyZ2V0RG9tRWxlbWVudAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM3OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hyb21lLnN0YXJ0KHsKICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb246IGFwcGxpY2F0aW9uLAogICAgICAgICAgICAgICAgICBkb2NMaW5rczogZG9jTGlua3MsCiAgICAgICAgICAgICAgICAgIGh0dHA6IGh0dHAsCiAgICAgICAgICAgICAgICAgIGluamVjdGVkTWV0YWRhdGE6IGluamVjdGVkTWV0YWRhdGEsCiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IG5vdGlmaWNhdGlvbnMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgY2hyb21lID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb3JlID0gewogICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbjogYXBwbGljYXRpb24sCiAgICAgICAgICAgICAgICAgIGNocm9tZTogY2hyb21lLAogICAgICAgICAgICAgICAgICBkb2NMaW5rczogZG9jTGlua3MsCiAgICAgICAgICAgICAgICAgIGh0dHA6IGh0dHAsCiAgICAgICAgICAgICAgICAgIHNhdmVkT2JqZWN0czogc2F2ZWRPYmplY3RzLAogICAgICAgICAgICAgICAgICBpMThuOiBpMThuLAogICAgICAgICAgICAgICAgICBpbmplY3RlZE1ldGFkYXRhOiBpbmplY3RlZE1ldGFkYXRhLAogICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zOiBub3RpZmljYXRpb25zLAogICAgICAgICAgICAgICAgICBvdmVybGF5czogb3ZlcmxheXMsCiAgICAgICAgICAgICAgICAgIHVpU2V0dGluZ3M6IHVpU2V0dGluZ3MKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2lucy5zdGFydChjb3JlKTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIHBsdWdpbnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlbmRlcmluZyA9IHRoaXMucmVuZGVyaW5nLnN0YXJ0KHsKICAgICAgICAgICAgICAgICAgY2hyb21lOiBjaHJvbWUsCiAgICAgICAgICAgICAgICAgIHRhcmdldERvbUVsZW1lbnQ6IGNvcmVVaVRhcmdldERvbUVsZW1lbnQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0NTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVBsYXRmb3JtLnN0YXJ0KHsKICAgICAgICAgICAgICAgICAgY29yZTogY29yZSwKICAgICAgICAgICAgICAgICAgcGx1Z2luczogKDAsIF91dGlscy5tYXBUb09iamVjdCkocGx1Z2lucy5jb250cmFjdHMpLAogICAgICAgICAgICAgICAgICB0YXJnZXREb21FbGVtZW50OiByZW5kZXJpbmcubGVnYWN5VGFyZ2V0RG9tRWxlbWVudAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDUwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhdGFsRXJyb3JzU2V0dXApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5mYXRhbEVycm9yc1NldHVwLmFkZChfY29udGV4dDIudDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIEZhdGFsRXJyb3JzU2VydmljZSBoYXMgbm90IHlldCBiZWVuIHNldHVwLCBsb2cgZXJyb3IgdG8gY29uc29sZQogICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMCwgNDddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICAgIHJldHVybiBfc3RhcnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0YXJ0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAic3RvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgdGhpcy5sZWdhY3lQbGF0Zm9ybS5zdG9wKCk7CiAgICAgIHRoaXMucGx1Z2lucy5zdG9wKCk7CiAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zdG9wKCk7CiAgICAgIHRoaXMuaHR0cC5zdG9wKCk7CiAgICAgIHRoaXMudWlTZXR0aW5ncy5zdG9wKCk7CiAgICAgIHRoaXMuY2hyb21lLnN0b3AoKTsKICAgICAgdGhpcy5pMThuLnN0b3AoKTsKICAgICAgdGhpcy5yb290RG9tRWxlbWVudC50ZXh0Q29udGVudCA9ICcnOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENvcmVTeXN0ZW07Cn0oKTsKCmV4cG9ydHMuQ29yZVN5c3RlbSA9IENvcmVTeXN0ZW07"},null]}