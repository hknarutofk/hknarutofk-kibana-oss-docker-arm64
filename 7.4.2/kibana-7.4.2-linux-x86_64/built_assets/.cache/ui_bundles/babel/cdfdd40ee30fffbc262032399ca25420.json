{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/metrics/public/visualizations/components/timeseries_chart.js","dependencies":[{"path":"src/legacy/core_plugins/metrics/public/visualizations/components/timeseries_chart.js","mtime":1572296411112},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnNjYWxlVXAgPSBzY2FsZVVwOwpleHBvcnRzLnNjYWxlRG93biA9IHNjYWxlRG93bjsKZXhwb3J0cy5UaW1lc2VyaWVzQ2hhcnQgPSB2b2lkIDA7Cgp2YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvcC10eXBlcyIpKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfY2xhc3NuYW1lcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiY2xhc3NuYW1lcyIpKTsKCnZhciBfc2V0X2lzX3JldmVyc2VkID0gcmVxdWlyZSgiLi4vLi4vLi4vY29tbW9uL3NldF9pc19yZXZlcnNlZCIpOwoKdmFyIF9tb21lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm1vbWVudCIpKTsKCnZhciBfcmVhY3Rjc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInJlYWN0Y3NzIikpOwoKdmFyIF9mbG90X2NoYXJ0ID0gcmVxdWlyZSgiLi9mbG90X2NoYXJ0Iik7Cgp2YXIgX2Fubm90YXRpb24gPSByZXF1aXJlKCIuL2Fubm90YXRpb24iKTsKCnZhciBfZXVpID0gcmVxdWlyZSgiQGVsYXN0aWMvZXVpIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBzY2FsZVVwKHZhbHVlKSB7CiAgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICogdmFsdWU7Cn0KCmZ1bmN0aW9uIHNjYWxlRG93bih2YWx1ZSkgewogIHJldHVybiB2YWx1ZSAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOwp9Cgp2YXIgVGltZXNlcmllc0NoYXJ0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhUaW1lc2VyaWVzQ2hhcnQsIF9Db21wb25lbnQpOwoKICBmdW5jdGlvbiBUaW1lc2VyaWVzQ2hhcnQocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZXNlcmllc0NoYXJ0KTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihUaW1lc2VyaWVzQ2hhcnQpLmNhbGwodGhpcywgcHJvcHMpKTsKICAgIF90aGlzLnN0YXRlID0gewogICAgICBhbm5vdGF0aW9uczogW10sCiAgICAgIHNob3dUb29sdGlwOiBmYWxzZSwKICAgICAgbW91c2VIb3ZlclRpbWVyOiBmYWxzZQogICAgfTsKICAgIF90aGlzLmhhbmRsZU1vdXNlTGVhdmUgPSBfdGhpcy5oYW5kbGVNb3VzZUxlYXZlLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMuaGFuZGxlTW91c2VPdmVyID0gX3RoaXMuaGFuZGxlTW91c2VPdmVyLmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgX3RoaXMucmVuZGVyQW5ub3RhdGlvbnMgPSBfdGhpcy5yZW5kZXJBbm5vdGF0aW9ucy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgIF90aGlzLmhhbmRsZURyYXcgPSBfdGhpcy5oYW5kbGVEcmF3LmJpbmQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRpbWVzZXJpZXNDaGFydCwgW3sKICAgIGtleTogImNhbGN1bGF0ZUxlZnRSaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlTGVmdFJpZ2h0KGl0ZW0sIHBsb3QpIHsKICAgICAgdmFyIGNhbnZhcyA9IHBsb3QuZ2V0Q2FudmFzKCk7CiAgICAgIHZhciBwb2ludCA9IHBsb3QucG9pbnRPZmZzZXQoewogICAgICAgIHg6IGl0ZW0uZGF0YXBvaW50WzBdLAogICAgICAgIHk6IGl0ZW0uZGF0YXBvaW50WzFdCiAgICAgIH0pOwogICAgICB2YXIgZWRnZSA9IChzY2FsZVVwKHBvaW50LmxlZnQpICsgMTApIC8gY2FudmFzLndpZHRoOwogICAgICB2YXIgcmlnaHQ7CiAgICAgIHZhciBsZWZ0OwoKICAgICAgaWYgKGVkZ2UgPiAwLjUpIHsKICAgICAgICByaWdodCA9IHNjYWxlRG93bihjYW52YXMud2lkdGgpIC0gcG9pbnQubGVmdDsKICAgICAgICBsZWZ0ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICByaWdodCA9IG51bGw7CiAgICAgICAgbGVmdCA9IHBvaW50LmxlZnQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBbbGVmdCwgcmlnaHRdOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZURyYXciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZURyYXcocGxvdCkgewogICAgICBpZiAoIXBsb3QgfHwgIXRoaXMucHJvcHMuYW5ub3RhdGlvbnMpIHJldHVybjsKICAgICAgdmFyIGFubm90YXRpb25zID0gdGhpcy5wcm9wcy5hbm5vdGF0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgYW5ubykgewogICAgICAgIHJldHVybiBhY2MuY29uY2F0KGFubm8uc2VyaWVzLm1hcChmdW5jdGlvbiAoc2VyaWVzKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZXJpZXM6IHNlcmllcywKICAgICAgICAgICAgcGxvdDogcGxvdCwKICAgICAgICAgICAga2V5OiAiIi5jb25jYXQoYW5uby5pZCwgIi0iKS5jb25jYXQoc2VyaWVzWzBdKSwKICAgICAgICAgICAgaWNvbjogYW5uby5pY29uLAogICAgICAgICAgICBjb2xvcjogYW5uby5jb2xvcgogICAgICAgICAgfTsKICAgICAgICB9KSk7CiAgICAgIH0sIFtdKTsKICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgYW5ub3RhdGlvbnM6IGFubm90YXRpb25zCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZU1vdXNlT3ZlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VPdmVyKGUsIHBvcywgaXRlbSwgcGxvdCkgewogICAgICBpZiAodHlwZW9mIHRoaXMuc3RhdGUubW91c2VIb3ZlclRpbWVyID09PSAnbnVtYmVyJykgewogICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zdGF0ZS5tb3VzZUhvdmVyVGltZXIpOwogICAgICB9CgogICAgICBpZiAoaXRlbSkgewogICAgICAgIHZhciBwbG90T2Zmc2V0ID0gcGxvdC5nZXRQbG90T2Zmc2V0KCk7CiAgICAgICAgdmFyIHBvaW50ID0gcGxvdC5wb2ludE9mZnNldCh7CiAgICAgICAgICB4OiBpdGVtLmRhdGFwb2ludFswXSwKICAgICAgICAgIHk6IGl0ZW0uZGF0YXBvaW50WzFdCiAgICAgICAgfSk7CgogICAgICAgIHZhciBfdGhpcyRjYWxjdWxhdGVMZWZ0UmkgPSB0aGlzLmNhbGN1bGF0ZUxlZnRSaWdodChpdGVtLCBwbG90KSwKICAgICAgICAgICAgX3RoaXMkY2FsY3VsYXRlTGVmdFJpMiA9IF9zbGljZWRUb0FycmF5KF90aGlzJGNhbGN1bGF0ZUxlZnRSaSwgMiksCiAgICAgICAgICAgIGxlZnQgPSBfdGhpcyRjYWxjdWxhdGVMZWZ0UmkyWzBdLAogICAgICAgICAgICByaWdodCA9IF90aGlzJGNhbGN1bGF0ZUxlZnRSaTJbMV07CgogICAgICAgIHZhciB0b3AgPSBwb2ludC50b3A7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBzaG93VG9vbHRpcDogdHJ1ZSwKICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICBsZWZ0OiBsZWZ0LAogICAgICAgICAgcmlnaHQ6IHJpZ2h0LAogICAgICAgICAgdG9wOiB0b3AgKyAxMCwKICAgICAgICAgIGJvdHRvbTogcGxvdE9mZnNldC5ib3R0b20KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImhhbmRsZU1vdXNlTGVhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlTGVhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zdGF0ZS5tb3VzZUhvdmVyVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsKICAgICAgICAgIHNob3dUb29sdGlwOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9LCAyNTApOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlckFubm90YXRpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJBbm5vdGF0aW9ucyhhbm5vdGF0aW9uKSB7CiAgICAgIHJldHVybiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hbm5vdGF0aW9uLkFubm90YXRpb24sIHsKICAgICAgICBzZXJpZXM6IGFubm90YXRpb24uc2VyaWVzLAogICAgICAgIHBsb3Q6IGFubm90YXRpb24ucGxvdCwKICAgICAgICBrZXk6IGFubm90YXRpb24ua2V5LAogICAgICAgIGljb246IGFubm90YXRpb24uaWNvbiwKICAgICAgICBjb2xvcjogYW5ub3RhdGlvbi5jb2xvcgogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLAogICAgICAgICAgaXRlbSA9IF90aGlzJHN0YXRlLml0ZW0sCiAgICAgICAgICByaWdodCA9IF90aGlzJHN0YXRlLnJpZ2h0LAogICAgICAgICAgdG9wID0gX3RoaXMkc3RhdGUudG9wLAogICAgICAgICAgbGVmdCA9IF90aGlzJHN0YXRlLmxlZnQ7CiAgICAgIHZhciBzZXJpZXMgPSB0aGlzLnByb3BzLnNlcmllczsKICAgICAgdmFyIHRvb2x0aXA7CiAgICAgIHZhciBzdHlsZXMgPSAoMCwgX3JlYWN0Y3NzLmRlZmF1bHQpKHsKICAgICAgICBzaG93VG9vbHRpcDogewogICAgICAgICAgdG9vbHRpcENvbnRhaW5lcjogewogICAgICAgICAgICB0b3A6IHRvcCAtIDgsCiAgICAgICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgICAgIHJpZ2h0OiByaWdodAogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGlkZVRvb2x0aXA6IHsKICAgICAgICAgIHRvb2x0aXBDb250YWluZXI6IHsKICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgc2hvd1Rvb2x0aXA6IHRoaXMuc3RhdGUuc2hvd1Rvb2x0aXAsCiAgICAgICAgaGlkZVRvb2x0aXA6ICF0aGlzLnN0YXRlLnNob3dUb29sdGlwCiAgICAgIH0pOwoKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICB2YXIgbWV0cmljID0gc2VyaWVzLmZpbmQoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgIHJldHVybiByLmlkID09PSBpdGVtLnNlcmllcy5pZDsKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGZvcm1hdHRlciA9IG1ldHJpYyAmJiBtZXRyaWMudGlja0Zvcm1hdHRlciB8fCB0aGlzLnByb3BzLnRpY2tGb3JtYXR0ZXIgfHwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2OwogICAgICAgIH07CgogICAgICAgIHZhciB2YWx1ZSA9IGl0ZW0uZGF0YXBvaW50WzJdID8gaXRlbS5kYXRhcG9pbnRbMV0gLSBpdGVtLmRhdGFwb2ludFsyXSA6IGl0ZW0uZGF0YXBvaW50WzFdOwogICAgICAgIHRvb2x0aXAgPSBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0dmJUb29sdGlwX19jb250YWluZXIgdHZiVG9vbHRpcF9fY29udGFpbmVyLS0iLmNvbmNhdChyaWdodCA/ICdyaWdodCcgOiAnbGVmdCcpLAogICAgICAgICAgc3R5bGU6IHN0eWxlcy50b29sdGlwQ29udGFpbmVyCiAgICAgICAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInR2YlRvb2x0aXBfX2NhcmV0IgogICAgICAgIH0pLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0dmJUb29sdGlwIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInR2YlRvb2x0aXBfX3RpbWVzdGFtcCIKICAgICAgICB9LCAoMCwgX21vbWVudC5kZWZhdWx0KShpdGVtLmRhdGFwb2ludFswXSkuZm9ybWF0KHRoaXMucHJvcHMuZGF0ZUZvcm1hdCkpLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0dmJUb29sdGlwX19pdGVtIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlJY29uLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0dmJUb29sdGlwX19pY29uIiwKICAgICAgICAgIHR5cGU6ICJkb3QiLAogICAgICAgICAgY29sb3I6IGl0ZW0uc2VyaWVzLmNvbG9yCiAgICAgICAgfSksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInR2YlRvb2x0aXBfX2xhYmVsQ29udGFpbmVyIgogICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInR2YlRvb2x0aXBfX2xhYmVsIgogICAgICAgIH0sIGl0ZW0uc2VyaWVzLmxhYmVsKSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAidHZiVG9vbHRpcF9fdmFsdWUiCiAgICAgICAgfSwgZm9ybWF0dGVyKHZhbHVlKSkpKSkpOwogICAgICB9CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGNyb3NzaGFpcjogdGhpcy5wcm9wcy5jcm9zc2hhaXIsCiAgICAgICAgb25QbG90Q3JlYXRlOiB0aGlzLmhhbmRsZVBsb3RDcmVhdGUsCiAgICAgICAgb25CcnVzaDogdGhpcy5wcm9wcy5vbkJydXNoLAogICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5oYW5kbGVNb3VzZUxlYXZlLAogICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmhhbmRsZU1vdXNlT3ZlciwKICAgICAgICBvbkRyYXc6IHRoaXMuaGFuZGxlRHJhdywKICAgICAgICBvcHRpb25zOiB0aGlzLnByb3BzLm9wdGlvbnMsCiAgICAgICAgcGxvdGhvdmVyOiB0aGlzLnByb3BzLnBsb3Rob3ZlciwKICAgICAgICByZXZlcnNlZDogKDAsIF9zZXRfaXNfcmV2ZXJzZWQuaXNCYWNrZ3JvdW5kRGFyaykodGhpcy5wcm9wcy5iYWNrZ3JvdW5kQ29sb3IpLAogICAgICAgIHNlcmllczogdGhpcy5wcm9wcy5zZXJpZXMsCiAgICAgICAgYW5ub3RhdGlvbnM6IHRoaXMucHJvcHMuYW5ub3RhdGlvbnMsCiAgICAgICAgc2hvd0dyaWQ6IHRoaXMucHJvcHMuc2hvd0dyaWQsCiAgICAgICAgc2hvdzogdGhpcy5wcm9wcy5zaG93LAogICAgICAgIHRpY2tGb3JtYXR0ZXI6IHRoaXMucHJvcHMudGlja0Zvcm1hdHRlciwKICAgICAgICB5YXhlczogdGhpcy5wcm9wcy55YXhlcywKICAgICAgICB4QXhpc0Zvcm1hdHRlcjogdGhpcy5wcm9wcy54QXhpc0Zvcm1hdHRlcgogICAgICB9OwogICAgICB2YXIgYW5ub3RhdGlvbnMgPSB0aGlzLnN0YXRlLmFubm90YXRpb25zLm1hcCh0aGlzLnJlbmRlckFubm90YXRpb25zKTsKICAgICAgdmFyIGF4aXNMYWJlbENsYXNzID0gKDAsIF9jbGFzc25hbWVzLmRlZmF1bHQpKCd0dmJWaXNUaW1lU2VyaWVzX19heGlzTGFiZWwnLCB7CiAgICAgICAgJ3R2YlZpc1RpbWVTZXJpZXNfX2F4aXNMYWJlbC0tcmV2ZXJzZWQnOiAoMCwgX3NldF9pc19yZXZlcnNlZC5pc0JhY2tncm91bmRJbnZlcnRlZCkodGhpcy5wcm9wcy5iYWNrZ3JvdW5kQ29sb3IpCiAgICAgIH0pOwogICAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGVsKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLmNvbnRhaW5lciA9IGVsOwogICAgICAgIH0sCiAgICAgICAgY2xhc3NOYW1lOiAidHZiVmlzVGltZVNlcmllc19fY29udGFpbmVyIgogICAgICB9LCB0b29sdGlwLCBhbm5vdGF0aW9ucywgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZmxvdF9jaGFydC5GbG90Q2hhcnQsIHBhcmFtcyksIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBjbGFzc05hbWU6IGF4aXNMYWJlbENsYXNzCiAgICAgIH0sIHRoaXMucHJvcHMueGF4aXNMYWJlbCkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRpbWVzZXJpZXNDaGFydDsKfShfcmVhY3QuQ29tcG9uZW50KTsKCmV4cG9ydHMuVGltZXNlcmllc0NoYXJ0ID0gVGltZXNlcmllc0NoYXJ0OwpUaW1lc2VyaWVzQ2hhcnQuZGVmYXVsdFByb3BzID0gewogIHNob3dHcmlkOiB0cnVlLAogIGRhdGVGb3JtYXQ6ICdsbCBMVFMnCn07ClRpbWVzZXJpZXNDaGFydC5wcm9wVHlwZXMgPSB7CiAgY3Jvc3NoYWlyOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCwKICBvbkJydXNoOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICBvcHRpb25zOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LAogIHBsb3Rob3ZlcjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgYmFja2dyb3VuZENvbG9yOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogIHNlcmllczogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5LAogIGFubm90YXRpb25zOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXksCiAgc2hvdzogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5LAogIHRpY2tGb3JtYXR0ZXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogIHlheGVzOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXksCiAgc2hvd0dyaWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogIHhheGlzTGFiZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgZGF0ZUZvcm1hdDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZwp9Ow=="},null]}