{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/vislib/visualizations/gauges/meter.js","dependencies":[{"path":"src/legacy/ui/public/vislib/visualizations/gauges/meter.js","mtime":1572296413396},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLk1ldGVyR2F1Z2UgPSB2b2lkIDA7Cgp2YXIgX2QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImQzIikpOwoKdmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxvZGFzaCIpKTsKCnZhciBfaGVhdG1hcF9jb2xvciA9IHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvY29sb3IvaGVhdG1hcF9jb2xvciIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9Cgp2YXIgYXJjQW5nbGVzID0gewogIGFuZ2xlRmFjdG9yOiAwLjc1LAogIG1heEFuZ2xlOiAyICogTWF0aC5QSSAqIDEuMywKICBtaW5BbmdsZTogMiAqIE1hdGguUEkgKiAwLjcKfTsKdmFyIGNpcmNsZUFuZ2xlcyA9IHsKICBhbmdsZUZhY3RvcjogMSwKICBtYXhBbmdsZTogMiAqIE1hdGguUEksCiAgbWluQW5nbGU6IDAKfTsKdmFyIGRlZmF1bHRDb25maWcgPSB7CiAgc2hvd1Rvb2x0aXA6IHRydWUsCiAgcGVyY2VudGFnZU1vZGU6IHRydWUsCiAgaW5uZXJTcGFjZTogNSwKICBleHRlbnRzOiBbMCwgMTAwMDBdLAogIHNjYWxlOiB7CiAgICBzaG93OiB0cnVlLAogICAgY29sb3I6ICcjNjY2JywKICAgIHdpZHRoOiAyLAogICAgdGlja3M6IDEwLAogICAgdGlja0xlbmd0aDogOAogIH0sCiAgbGFiZWxzOiB7CiAgICBzaG93OiB0cnVlLAogICAgY29sb3I6ICcjNjY2JwogIH0sCiAgc3R5bGU6IHsKICAgIGJnV2lkdGg6IDAuNSwKICAgIHdpZHRoOiAwLjkKICB9Cn07Cgp2YXIgTWV0ZXJHYXVnZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIE1ldGVyR2F1Z2UoZ2F1Z2VDaGFydCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1ldGVyR2F1Z2UpOwoKICAgIHRoaXMuZ2F1Z2VDaGFydCA9IGdhdWdlQ2hhcnQ7CiAgICB0aGlzLmdhdWdlQ29uZmlnID0gZ2F1Z2VDaGFydC5nYXVnZUNvbmZpZzsKICAgIHRoaXMuZ2F1Z2VDb25maWcgPSBfbG9kYXNoLmRlZmF1bHQuZGVmYXVsdHNEZWVwKHRoaXMuZ2F1Z2VDb25maWcsIGRlZmF1bHRDb25maWcpOwogICAgdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzQ29uZmlnLnNldCgnbGVnZW5kJywgewogICAgICBsYWJlbHM6IHRoaXMuZ2V0TGFiZWxzKCksCiAgICAgIGNvbG9yczogdGhpcy5nZXRDb2xvcnMoKQogICAgfSk7CiAgICB2YXIgY29sb3JzID0gdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzQ29uZmlnLmdldCgnbGVnZW5kLmNvbG9ycycsIG51bGwpOwoKICAgIGlmIChjb2xvcnMpIHsKICAgICAgdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzLnVpU3RhdGUuc2V0U2lsZW50KCd2aXMuZGVmYXVsdENvbG9ycycsIG51bGwpOwogICAgICB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci52aXMudWlTdGF0ZS5zZXRTaWxlbnQoJ3Zpcy5kZWZhdWx0Q29sb3JzJywgY29sb3JzKTsKICAgIH0KCiAgICB0aGlzLmNvbG9yRnVuYyA9IHRoaXMuZ2F1Z2VDaGFydC5oYW5kbGVyLmRhdGEuZ2V0Q29sb3JGdW5jKCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTWV0ZXJHYXVnZSwgW3sKICAgIGtleTogImdldExhYmVscyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWxzKCkgewogICAgICB2YXIgaXNQZXJjZW50YWdlTW9kZSA9IHRoaXMuZ2F1Z2VDb25maWcucGVyY2VudGFnZU1vZGU7CiAgICAgIHZhciBjb2xvcnNSYW5nZSA9IHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2U7CgogICAgICB2YXIgbWF4ID0gX2xvZGFzaC5kZWZhdWx0Lmxhc3QoY29sb3JzUmFuZ2UpLnRvOwoKICAgICAgdmFyIGxhYmVscyA9IFtdOwogICAgICBjb2xvcnNSYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBmcm9tID0gaXNQZXJjZW50YWdlTW9kZSA/IE1hdGgucm91bmQoMTAwICogcmFuZ2UuZnJvbSAvIG1heCkgOiByYW5nZS5mcm9tOwogICAgICAgIHZhciB0byA9IGlzUGVyY2VudGFnZU1vZGUgPyBNYXRoLnJvdW5kKDEwMCAqIHJhbmdlLnRvIC8gbWF4KSA6IHJhbmdlLnRvOwogICAgICAgIGxhYmVscy5wdXNoKCIiLmNvbmNhdChmcm9tLCAiIC0gIikuY29uY2F0KHRvKSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGFiZWxzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldENvbG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3JzKCkgewogICAgICB2YXIgaW52ZXJ0Q29sb3JzID0gdGhpcy5nYXVnZUNvbmZpZy5pbnZlcnRDb2xvcnM7CiAgICAgIHZhciBjb2xvclNjaGVtYSA9IHRoaXMuZ2F1Z2VDb25maWcuY29sb3JTY2hlbWE7CiAgICAgIHZhciBjb2xvcnNSYW5nZSA9IHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2U7CiAgICAgIHZhciBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpOwogICAgICB2YXIgY29sb3JzID0ge307CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIHZhciBkaXZpZGVyID0gTWF0aC5tYXgoY29sb3JzUmFuZ2UubGVuZ3RoIC0gMSwgMSk7CiAgICAgICAgdmFyIHZhbCA9IGludmVydENvbG9ycyA/IDEgLSBpIC8gZGl2aWRlciA6IGkgLyBkaXZpZGVyOwogICAgICAgIGNvbG9yc1tsYWJlbHNbaV1dID0gKDAsIF9oZWF0bWFwX2NvbG9yLmdldEhlYXRtYXBDb2xvcnMpKHZhbCwgY29sb3JTY2hlbWEpOwogICAgICB9CgogICAgICByZXR1cm4gY29sb3JzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJ1Y2tldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnVja2V0KHZhbCkgewogICAgICB2YXIgYnVja2V0ID0gX2xvZGFzaC5kZWZhdWx0LmZpbmRJbmRleCh0aGlzLmdhdWdlQ29uZmlnLmNvbG9yc1JhbmdlLCBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gcmFuZ2UuZnJvbSA8PSB2YWwgJiYgcmFuZ2UudG8gPiB2YWw7CiAgICAgIH0pOwoKICAgICAgaWYgKGJ1Y2tldCA9PT0gLTEpIHsKICAgICAgICBpZiAodmFsIDwgdGhpcy5nYXVnZUNvbmZpZy5jb2xvcnNSYW5nZVswXS5mcm9tKSBidWNrZXQgPSAwO2Vsc2UgYnVja2V0ID0gdGhpcy5nYXVnZUNvbmZpZy5jb2xvcnNSYW5nZS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICByZXR1cm4gYnVja2V0OwogICAgfQogIH0sIHsKICAgIGtleTogImdldExhYmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYWJlbCh2YWwpIHsKICAgICAgdmFyIGJ1Y2tldCA9IHRoaXMuZ2V0QnVja2V0KHZhbCk7CiAgICAgIHZhciBsYWJlbHMgPSB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci52aXNDb25maWcuZ2V0KCdsZWdlbmQubGFiZWxzJyk7CiAgICAgIHJldHVybiBsYWJlbHNbYnVja2V0XTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRDb2xvckJ1Y2tldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3JCdWNrZXQodmFsKSB7CiAgICAgIHZhciBidWNrZXQgPSB0aGlzLmdldEJ1Y2tldCh2YWwpOwogICAgICB2YXIgbGFiZWxzID0gdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzQ29uZmlnLmdldCgnbGVnZW5kLmxhYmVscycpOwogICAgICByZXR1cm4gdGhpcy5jb2xvckZ1bmMobGFiZWxzW2J1Y2tldF0pOwogICAgfQogIH0sIHsKICAgIGtleTogImRyYXdTY2FsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd1NjYWxlKHN2ZywgcmFkaXVzLCBhbmdsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNjYWxlV2lkdGggPSB0aGlzLmdhdWdlQ29uZmlnLnNjYWxlLndpZHRoOwogICAgICB2YXIgdGlja0xlbmd0aCA9IHRoaXMuZ2F1Z2VDb25maWcuc2NhbGUudGlja0xlbmd0aDsKICAgICAgdmFyIHNjYWxlVGlja3MgPSB0aGlzLmdhdWdlQ29uZmlnLnNjYWxlLnRpY2tzOwogICAgICB2YXIgc2NhbGUgPSBzdmcuYXBwZW5kKCdnJyk7CiAgICAgIHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgY29sb3IgPSBfdGhpcy5nZXRDb2xvckJ1Y2tldChyYW5nZS5mcm9tKTsKCiAgICAgICAgdmFyIHNjYWxlQXJjID0gX2QuZGVmYXVsdC5zdmcuYXJjKCkuc3RhcnRBbmdsZShhbmdsZShyYW5nZS5mcm9tKSkuZW5kQW5nbGUoYW5nbGUocmFuZ2UudG8pKS5pbm5lclJhZGl1cyhyYWRpdXMpLm91dGVyUmFkaXVzKHJhZGl1cyArIHNjYWxlV2lkdGgpOwoKICAgICAgICBzY2FsZS5hcHBlbmQoJ3BhdGgnKS5hdHRyKCdkJywgc2NhbGVBcmMpLnN0eWxlKCdzdHJva2UnLCBjb2xvcikuc3R5bGUoJ2ZpbGwnLCBjb2xvcik7CiAgICAgIH0pOwogICAgICB2YXIgZXh0ZW50cyA9IGFuZ2xlLmRvbWFpbigpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2NhbGVUaWNrczsgaSsrKSB7CiAgICAgICAgdmFyIHZhbCA9IGkgKiAoZXh0ZW50c1sxXSAtIGV4dGVudHNbMF0pIC8gc2NhbGVUaWNrczsKICAgICAgICB2YXIgdGlja0FuZ2xlID0gYW5nbGUodmFsKSAtIE1hdGguUEkgLyAyOwogICAgICAgIHZhciB4MCA9IE1hdGguY29zKHRpY2tBbmdsZSkgKiByYWRpdXM7CiAgICAgICAgdmFyIHgxID0gTWF0aC5jb3ModGlja0FuZ2xlKSAqIChyYWRpdXMgLSB0aWNrTGVuZ3RoKTsKICAgICAgICB2YXIgeTAgPSBNYXRoLnNpbih0aWNrQW5nbGUpICogcmFkaXVzOwogICAgICAgIHZhciB5MSA9IE1hdGguc2luKHRpY2tBbmdsZSkgKiAocmFkaXVzIC0gdGlja0xlbmd0aCk7CiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5nZXRDb2xvckJ1Y2tldCh2YWwpOwogICAgICAgIHNjYWxlLmFwcGVuZCgnbGluZScpLmF0dHIoJ3gxJywgeDApLmF0dHIoJ3gyJywgeDEpLmF0dHIoJ3kxJywgeTApLmF0dHIoJ3kyJywgeTEpLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBzY2FsZVdpZHRoKS5zdHlsZSgnc3Ryb2tlJywgY29sb3IpOwogICAgICB9CgogICAgICByZXR1cm4gc2NhbGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJhd0dhdWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3R2F1Z2Uoc3ZnLCBkYXRhLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG1hcmdpbkZhY3RvciA9IDAuOTU7CiAgICAgIHZhciB0b29sdGlwID0gdGhpcy5nYXVnZUNoYXJ0LnRvb2x0aXA7CiAgICAgIHZhciBpc1Rvb2x0aXAgPSB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci52aXNDb25maWcuZ2V0KCdhZGRUb29sdGlwJyk7CiAgICAgIHZhciBpc0Rpc3BsYXlXYXJuaW5nID0gdGhpcy5nYXVnZUNoYXJ0LmhhbmRsZXIudmlzQ29uZmlnLmdldCgnaXNEaXNwbGF5V2FybmluZycsIGZhbHNlKTsKCiAgICAgIHZhciBfcmVmID0gdGhpcy5nYXVnZUNvbmZpZy5nYXVnZVR5cGUgPT09ICdDaXJjbGUnID8gY2lyY2xlQW5nbGVzIDogYXJjQW5nbGVzLAogICAgICAgICAgYW5nbGVGYWN0b3IgPSBfcmVmLmFuZ2xlRmFjdG9yLAogICAgICAgICAgbWF4QW5nbGUgPSBfcmVmLm1heEFuZ2xlLAogICAgICAgICAgbWluQW5nbGUgPSBfcmVmLm1pbkFuZ2xlOwoKICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQgLyBhbmdsZUZhY3RvcikgLyAyICogbWFyZ2luRmFjdG9yOwogICAgICB2YXIgZXh0ZW5kUmFuZ2UgPSB0aGlzLmdhdWdlQ29uZmlnLmV4dGVuZFJhbmdlOwoKICAgICAgdmFyIG1heFkgPSBfbG9kYXNoLmRlZmF1bHQubWF4KGRhdGEudmFsdWVzLCAneScpLnk7CgogICAgICB2YXIgbWluID0gdGhpcy5nYXVnZUNvbmZpZy5jb2xvcnNSYW5nZVswXS5mcm9tOwoKICAgICAgdmFyIG1heCA9IF9sb2Rhc2guZGVmYXVsdC5sYXN0KHRoaXMuZ2F1Z2VDb25maWcuY29sb3JzUmFuZ2UpLnRvOwoKICAgICAgdmFyIGFuZ2xlID0gX2QuZGVmYXVsdC5zY2FsZS5saW5lYXIoKS5yYW5nZShbbWluQW5nbGUsIG1heEFuZ2xlXSkuZG9tYWluKFttaW4sIGV4dGVuZFJhbmdlICYmIG1heCA8IG1heFkgPyBtYXhZIDogbWF4XSk7CgogICAgICB2YXIgcmFkaXVzID0gX2QuZGVmYXVsdC5zY2FsZS5saW5lYXIoKS5yYW5nZShbMCwgbWF4UmFkaXVzXSkuZG9tYWluKFt0aGlzLmdhdWdlQ29uZmlnLmlubmVyU3BhY2UgKyAxLCAwXSk7CgogICAgICB2YXIgdG90YWxXaWR0aCA9IE1hdGguYWJzKHJhZGl1cygwKSAtIHJhZGl1cygxKSk7CiAgICAgIHZhciBiZ1BhZGRpbmcgPSB0b3RhbFdpZHRoICogKDEgLSB0aGlzLmdhdWdlQ29uZmlnLnN0eWxlLmJnV2lkdGgpIC8gMjsKICAgICAgdmFyIGdhdWdlUGFkZGluZyA9IHRvdGFsV2lkdGggKiAoMSAtIHRoaXMuZ2F1Z2VDb25maWcuc3R5bGUud2lkdGgpIC8gMjsKICAgICAgLyoqCiAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgZnJlZSBzcGFjZSBpbiB0aGUgY2VudGVyIG9mIHRoZSBnYXVnZS4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQKICAgICAgICogd2hldGhlciB0aWNrcyBhcmUgZW5hYmxlZCBvciBub3QuCiAgICAgICAqCiAgICAgICAqIFRoaXMgaXMgY2FsY3VsYXRlZCB1c2luZyB0aGUgaW5uZXIgZGlhbWV0ZXIgKHJhZGl1cygxKSAqIDIpIG9mIHRoZSBnYXVnZS4KICAgICAgICogSWYgdGlja3Mvc2NhbGUgYXJlIGVuYWJsZWQgd2UgbmVlZCB0byBzdGlsbCBzdWJ0cmFjdCB0aGUgdGljayBsZW5ndGggKiAyIHRvIG1ha2Ugc3BhY2UgZm9yIGEgdGljawogICAgICAgKiBvbiBldmVyeSBzaWRlLiBJZiB0aWNrcy9zY2FsZSBhcmUgZGlzYWJsZWQsIHRoZSByYWRpdXMoMSkgZnVuY3Rpb24gYWN0dWFsbHkgbGVhdmVzIHNwYWNlIGZvciB0aGUgc2NhbGUsCiAgICAgICAqIHNvIHdlIGFkZCB0aGF0IGZyZWUgc3BhY2UgKHdoaWNoIGlzIGV4cHJlc3NlZCB2aWEgdGhlIHBhZGRpbmdzLCB3ZSBqdXN0IHVzZSB0aGUgbGFyZ2VyIG9mIHRob3NlKSB0byB0aGUgZGlhbWV0ZXIuCiAgICAgICAqLwoKICAgICAgdmFyIGdldElubmVyRnJlZVNwYWNlID0gZnVuY3Rpb24gZ2V0SW5uZXJGcmVlU3BhY2UoKSB7CiAgICAgICAgcmV0dXJuIHJhZGl1cygxKSAqIDIgLSAoX3RoaXMyLmdhdWdlQ29uZmlnLnNjYWxlLnNob3cgPyBfdGhpczIuZ2F1Z2VDb25maWcuc2NhbGUudGlja0xlbmd0aCAqIDIgOiAtTWF0aC5tYXgoYmdQYWRkaW5nLCBnYXVnZVBhZGRpbmcpICogMik7CiAgICAgIH07CgogICAgICB2YXIgYXJjID0gX2QuZGVmYXVsdC5zdmcuYXJjKCkuc3RhcnRBbmdsZShtaW5BbmdsZSkuZW5kQW5nbGUoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4obWF4QW5nbGUsIGFuZ2xlKE1hdGgubWF4KG1pbiwgZC55KSkpKTsKICAgICAgfSkuaW5uZXJSYWRpdXMoZnVuY3Rpb24gKGQsIGksIGopIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgcmFkaXVzKGogKyAxKSArIGdhdWdlUGFkZGluZyk7CiAgICAgIH0pLm91dGVyUmFkaXVzKGZ1bmN0aW9uIChkLCBpLCBqKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHJhZGl1cyhqKSAtIGdhdWdlUGFkZGluZyk7CiAgICAgIH0pOwoKICAgICAgdmFyIGJnQXJjID0gX2QuZGVmYXVsdC5zdmcuYXJjKCkuc3RhcnRBbmdsZShtaW5BbmdsZSkuZW5kQW5nbGUobWF4QW5nbGUpLmlubmVyUmFkaXVzKGZ1bmN0aW9uIChkLCBpLCBqKSB7CiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHJhZGl1cyhqICsgMSkgKyBiZ1BhZGRpbmcpOwogICAgICB9KS5vdXRlclJhZGl1cyhmdW5jdGlvbiAoZCwgaSwgaikgewogICAgICAgIHJldHVybiBNYXRoLm1heCgwLCByYWRpdXMoaikgLSBiZ1BhZGRpbmcpOwogICAgICB9KTsKCiAgICAgIHZhciBnYXVnZUhvbGRlcnMgPSBzdmcuc2VsZWN0QWxsKCdwYXRoJykuZGF0YShbZGF0YV0pLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignZGF0YS1sYWJlbCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRMYWJlbChkLnZhbHVlc1swXS55KTsKICAgICAgfSk7CiAgICAgIHZhciBnYXVnZXMgPSBnYXVnZUhvbGRlcnMuc2VsZWN0QWxsKCdnJykuZGF0YShmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnZhbHVlczsKICAgICAgfSkuZW50ZXIoKTsKICAgICAgZ2F1Z2VzLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2QnLCBiZ0FyYykuc3R5bGUoJ2ZpbGwnLCB0aGlzLmdhdWdlQ29uZmlnLnN0eWxlLmJnRmlsbCk7CiAgICAgIHZhciBzZXJpZXMgPSBnYXVnZXMuYXBwZW5kKCdwYXRoJykuYXR0cignZCcsIGFyYykuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBfdGhpczIuZ2V0Q29sb3JCdWNrZXQoTWF0aC5tYXgobWluLCBkLnkpKTsKICAgICAgfSk7CiAgICAgIHZhciBzbWFsbENvbnRhaW5lciA9IHN2Zy5ub2RlKCkuZ2V0QkJveCgpLmhlaWdodCA8IDcwOwogICAgICB2YXIgaGlkZGVuTGFiZWxzID0gc21hbGxDb250YWluZXI7IC8vIElmIHRoZSB2YWx1ZSBsYWJlbCBpcyBoaWRkZW4gd2UgbGF0ZXIgd2FudCB0byBoaWRlIGFsc28gYWxsIG90aGVyIGxhYmVscwogICAgICAvLyBzaW5jZSB0aGV5IGRvbid0IG1ha2Ugc2Vuc2UgYXMgbG9uZyBhcyB0aGUgYWN0dWFsIHZhbHVlIGlzIGhpZGRlbi4KCiAgICAgIHZhciB2YWx1ZUxhYmVsSGlkZGVuID0gZmFsc2U7CiAgICAgIGdhdWdlcy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdjaGFydC1sYWJlbCcpLmF0dHIoJ3knLCAtNSkudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgIGlmIChfdGhpczIuZ2F1Z2VDb25maWcucGVyY2VudGFnZU1vZGUpIHsKICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gKGQueSAtIG1pbikgLyAobWF4IC0gbWluKTsKICAgICAgICAgIHJldHVybiBkYXRhLnlBeGlzRm9ybWF0dGVyKHBlcmNlbnRhZ2UpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRhdGEueUF4aXNGb3JtYXR0ZXIoZC55KTsKICAgICAgfSkuYXR0cignc3R5bGUnLCAnZG9taW5hbnQtYmFzZWxpbmU6IGNlbnRyYWw7Jykuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLnN0eWxlKCdmb250LXNpemUnLCAnMmVtJykuc3R5bGUoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHRleHRMZW5ndGggPSB0aGlzLmdldEJCb3goKS53aWR0aDsgLy8gVGhlIHRleHQgaXMgdG9vIGxvbmcgaWYgaXQncyBsYXJnZXIgdGhhbiB0aGUgaW5uZXIgZnJlZSBzcGFjZSBtaW51cyBhIGNvdXBsZSBvZiByYW5kb20gcGl4ZWxzIGZvciBwYWRkaW5nLgoKICAgICAgICB2YXIgdGV4dFRvb0xvbmcgPSB0ZXh0TGVuZ3RoID49IGdldElubmVyRnJlZVNwYWNlKCkgLSA2OwoKICAgICAgICBpZiAodGV4dFRvb0xvbmcpIHsKICAgICAgICAgIGhpZGRlbkxhYmVscyA9IHRydWU7CiAgICAgICAgICB2YWx1ZUxhYmVsSGlkZGVuID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0ZXh0VG9vTG9uZyA/ICdub25lJyA6ICdpbml0aWFsJzsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5nYXVnZUNvbmZpZy5sYWJlbHMuc2hvdykgewogICAgICAgIHN2Zy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdjaGFydC1sYWJlbCcpLnRleHQoZGF0YS5sYWJlbCkuYXR0cigneScsIC0zMCkuYXR0cignc3R5bGUnLCAnZG9taW5hbnQtYmFzZWxpbmU6IGNlbnRyYWw7IHRleHQtYW5jaG9yOiBtaWRkbGU7Jykuc3R5bGUoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRoaXMuZ2V0QkJveCgpLndpZHRoOwogICAgICAgICAgdmFyIHRleHRUb29Mb25nID0gdGV4dExlbmd0aCA+IG1heFJhZGl1czsKCiAgICAgICAgICBpZiAodGV4dFRvb0xvbmcpIHsKICAgICAgICAgICAgaGlkZGVuTGFiZWxzID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gc21hbGxDb250YWluZXIgfHwgdGV4dFRvb0xvbmcgPyAnbm9uZScgOiAnaW5pdGlhbCc7CiAgICAgICAgfSk7CiAgICAgICAgc3ZnLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgJ2NoYXJ0LWxhYmVsJykudGV4dCh0aGlzLmdhdWdlQ29uZmlnLnN0eWxlLnN1YlRleHQpLmF0dHIoJ3knLCAyMCkuYXR0cignc3R5bGUnLCAnZG9taW5hbnQtYmFzZWxpbmU6IGNlbnRyYWw7IHRleHQtYW5jaG9yOiBtaWRkbGU7Jykuc3R5bGUoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRoaXMuZ2V0QkJveCgpLndpZHRoOwogICAgICAgICAgdmFyIHRleHRUb29Mb25nID0gdGV4dExlbmd0aCA+IG1heFJhZGl1czsKCiAgICAgICAgICBpZiAodGV4dFRvb0xvbmcpIHsKICAgICAgICAgICAgaGlkZGVuTGFiZWxzID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdmFsdWVMYWJlbEhpZGRlbiB8fCBzbWFsbENvbnRhaW5lciB8fCB0ZXh0VG9vTG9uZyA/ICdub25lJyA6ICdpbml0aWFsJzsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZ2F1Z2VDb25maWcuc2NhbGUuc2hvdykgewogICAgICAgIHRoaXMuZHJhd1NjYWxlKHN2ZywgcmFkaXVzKDEpLCBhbmdsZSk7CiAgICAgIH0KCiAgICAgIGlmIChpc1Rvb2x0aXApIHsKICAgICAgICBzZXJpZXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZ2F1Z2UgPSBfZC5kZWZhdWx0LnNlbGVjdCh0aGlzKTsKCiAgICAgICAgICBnYXVnZS5jYWxsKHRvb2x0aXAucmVuZGVyKCkpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoaGlkZGVuTGFiZWxzICYmIGlzRGlzcGxheVdhcm5pbmcpIHsKICAgICAgICB0aGlzLmdhdWdlQ2hhcnQuaGFuZGxlci5hbGVydHMuc2hvdygnU29tZSBsYWJlbHMgd2VyZSBoaWRkZW4gZHVlIHRvIHNpemUgY29uc3RyYWludHMnKTsKICAgICAgfSAvL2NlbnRlciB0aGUgdmlzdWFsaXphdGlvbgoKCiAgICAgIHZhciB0cmFuc2Zvcm1YID0gd2lkdGggLyAyOwogICAgICB2YXIgdHJhbnNmb3JtWSA9IGhlaWdodCAvIDIgPiBtYXhSYWRpdXMgPyBoZWlnaHQgLyAyIDogbWF4UmFkaXVzOwogICAgICBzdmcuYXR0cigndHJhbnNmb3JtJywgInRyYW5zbGF0ZSgiLmNvbmNhdCh0cmFuc2Zvcm1YLCAiLCAiKS5jb25jYXQodHJhbnNmb3JtWSwgIikiKSk7CiAgICAgIHJldHVybiBzZXJpZXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTWV0ZXJHYXVnZTsKfSgpOwoKZXhwb3J0cy5NZXRlckdhdWdlID0gTWV0ZXJHYXVnZTs="},null]}