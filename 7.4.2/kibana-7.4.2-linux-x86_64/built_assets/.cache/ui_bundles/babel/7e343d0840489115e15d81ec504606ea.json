{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/utils/streams/reduce_stream.js","dependencies":[{"path":"src/legacy/utils/streams/reduce_stream.js","mtime":1572296413532},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5jcmVhdGVSZWR1Y2VTdHJlYW0gPSBjcmVhdGVSZWR1Y2VTdHJlYW07Cgp2YXIgX3N0cmVhbSA9IHJlcXVpcmUoInN0cmVhbSIpOwovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8qKgogKiAgQ3JlYXRlIGEgdHJhbnNmb3JtIHN0cmVhbSB0aGF0IGNvbnN1bWVzIGVhY2ggY2h1bmsgaXQgcmVjZWl2ZXMKICogIGFuZCBwYXNzZXMgaXQgdG8gdGhlIHJlZHVjZXIsIHdoaWNoIHdpbGwgcmV0dXJuIHRoZSBuZXcgdmFsdWUKICogIGZvciB0aGUgc3RyZWFtLiBPbmNlIGFsbCBjaHVua3MgaGF2ZSBiZWVuIHJlY2VpdmVkIHRoZSByZWR1Y2UKICogIHN0cmVhbSBwcm92aWRlcyB0aGUgcmVzdWx0IG9mIGZpbmFsIGNhbGwgdG8gdGhlIHJlZHVjZXIgdG8KICogIHN1YnNjcmliZXJzLgogKgogKiAgQHBhcmFtICB7RnVuY3Rpb259CiAqICBAcGFyYW0gIHthbnl9IGluaXRpYWwgSW5pdGlhbCB2YWx1ZSBmb3IgdGhlIHN0cmVhbSwgaWYgdW5kZWZpbmVkCiAqICAgICAgICAgICAgICAgICAgICAgICAgdGhlbiB0aGUgZmlyc3QgY2h1bmsgcHJvdmlkZWQgaXMgdXNlZCBhcyB0aGUKICogICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsIHZhbHVlLgogKiAgQHJldHVybiB7VHJhbnNmb3JtfQogKi8KCgpmdW5jdGlvbiBjcmVhdGVSZWR1Y2VTdHJlYW0ocmVkdWNlciwgaW5pdGlhbCkgewogIHZhciBpID0gLTE7CiAgdmFyIHZhbHVlID0gaW5pdGlhbDsgLy8gaWYgdGhlIHJlZHVjZXIgdGhyb3dzIGFuIGVycm9yIHRoZW4gdGhlIHZhbHVlIGlzCiAgLy8gY29uc2lkZXJlZCBpbnZhbGlkIGFuZCB0aGUgc3RyZWFtIHdpbGwgbmV2ZXIgcHJvdmlkZQogIC8vIGl0IHRvIHN1YnNjcmliZXJzLiBXZSB3aWxsIGFsc28gc3RvcCBjYWxsaW5nIHRoZQogIC8vIHJlZHVjZXIgZm9yIGFueSBuZXcgZGF0YSB0aGF0IGlzIHByb3ZpZGVkIHRvIHVzCgogIHZhciBmYWlsZWQgPSBmYWxzZTsKCiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZWR1Y2VyIG11c3QgYmUgYSBmdW5jdGlvbicpOwogIH0KCiAgcmV0dXJuIG5ldyBfc3RyZWFtLlRyYW5zZm9ybSh7CiAgICByZWFkYWJsZU9iamVjdE1vZGU6IHRydWUsCiAgICB3cml0YWJsZU9iamVjdE1vZGU6IHRydWUsCiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90cmFuc2Zvcm0gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGNodW5rLCBlbmMsIGNhbGxiYWNrKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNhbGxiYWNrKCkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpICs9IDE7CgogICAgICAgICAgICAgICAgaWYgKCEoaSA9PT0gMCAmJiBpbml0aWFsID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YWx1ZSA9IGNodW5rOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiByZWR1Y2VyKHZhbHVlLCBjaHVuaywgZW5jKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBmYWlsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgY2FsbGJhY2soX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxNF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtKF94LCBfeDIsIF94MykgewogICAgICAgIHJldHVybiBfdHJhbnNmb3JtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cmFuc2Zvcm07CiAgICB9KCksCiAgICBmbHVzaDogZnVuY3Rpb24gZmx1c2goY2FsbGJhY2spIHsKICAgICAgaWYgKCFmYWlsZWQpIHsKICAgICAgICB0aGlzLnB1c2godmFsdWUpOwogICAgICB9CgogICAgICBjYWxsYmFjaygpOwogICAgfQogIH0pOwp9"},null]}