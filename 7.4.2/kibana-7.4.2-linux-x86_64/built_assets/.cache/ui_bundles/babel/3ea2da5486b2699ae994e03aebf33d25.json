{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/vis/editors/default/components/agg_params.js","dependencies":[{"path":"src/legacy/ui/public/vis/editors/default/components/agg_params.js","mtime":1572296413212},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLkRlZmF1bHRFZGl0b3JBZ2dQYXJhbXMgPSBEZWZhdWx0RWRpdG9yQWdnUGFyYW1zOwoKdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJlYWN0IikpOwoKdmFyIF9ldWkgPSByZXF1aXJlKCJAZWxhc3RpYy9ldWkiKTsKCnZhciBfaTE4biA9IHJlcXVpcmUoIkBrYm4vaTE4biIpOwoKdmFyIF9hZ2dfdHlwZXMgPSByZXF1aXJlKCJ1aS9hZ2dfdHlwZXMiKTsKCnZhciBfYWdnX3NlbGVjdCA9IHJlcXVpcmUoIi4vYWdnX3NlbGVjdCIpOwoKdmFyIF9hZ2dfcGFyYW0gPSByZXF1aXJlKCIuL2FnZ19wYXJhbSIpOwoKdmFyIF9hZ2dfcGFyYW1zX2hlbHBlciA9IHJlcXVpcmUoIi4vYWdnX3BhcmFtc19oZWxwZXIiKTsKCnZhciBfYWdnX3BhcmFtc19zdGF0ZSA9IHJlcXVpcmUoIi4vYWdnX3BhcmFtc19zdGF0ZSIpOwoKdmFyIF9lZGl0b3JfY29uZmlnX3Byb3ZpZGVycyA9IHJlcXVpcmUoIi4uLy4uL2NvbmZpZy9lZGl0b3JfY29uZmlnX3Byb3ZpZGVycyIpOwoKdmFyIF91c2VfdW5tb3VudCA9IHJlcXVpcmUoIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3BsdWdpbnMva2liYW5hX3JlYWN0L3B1YmxpYy91dGlsL3VzZV91bm1vdW50Iik7Cgp2YXIgX2FnZ19ncm91cHMgPSByZXF1aXJlKCIuLi9hZ2dfZ3JvdXBzIik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsKICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7CiAgICByZXR1cm4gb2JqOwogIH0gZWxzZSB7CiAgICB2YXIgbmV3T2JqID0ge307CgogICAgaWYgKG9iaiAhPSBudWxsKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgewogICAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307CgogICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIG5ld09iai5kZWZhdWx0ID0gb2JqOwogICAgcmV0dXJuIG5ld09iajsKICB9Cn0KCmZ1bmN0aW9uIF9leHRlbmRzKCkgewogIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOwoKICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7CiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfTsKCiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7Cn0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOwp9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgdmFyIF9hcnIgPSBbXTsKICB2YXIgX24gPSB0cnVlOwogIHZhciBfZCA9IGZhbHNlOwogIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kID0gdHJ1ZTsKICAgIF9lID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZCkgdGhyb3cgX2U7CiAgICB9CiAgfQoKICByZXR1cm4gX2FycjsKfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7Cn0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsKICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwp9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsKfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7CiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7Cn0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7CiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgfQoKICAgIHJldHVybiBhcnIyOwogIH0KfQoKdmFyIEZJWEVEX1ZBTFVFX1BST1AgPSAnZml4ZWRWYWx1ZSc7CnZhciBERUZBVUxUX1BST1AgPSAnZGVmYXVsdCc7CgpmdW5jdGlvbiBEZWZhdWx0RWRpdG9yQWdnUGFyYW1zKF9yZWYpIHsKICB2YXIgYWdnID0gX3JlZi5hZ2csCiAgICAgIGFnZ0Vycm9yID0gX3JlZi5hZ2dFcnJvciwKICAgICAgX3JlZiRhZ2dJbmRleCA9IF9yZWYuYWdnSW5kZXgsCiAgICAgIGFnZ0luZGV4ID0gX3JlZiRhZ2dJbmRleCA9PT0gdm9pZCAwID8gMCA6IF9yZWYkYWdnSW5kZXgsCiAgICAgIF9yZWYkYWdnSXNUb29Mb3cgPSBfcmVmLmFnZ0lzVG9vTG93LAogICAgICBhZ2dJc1Rvb0xvdyA9IF9yZWYkYWdnSXNUb29Mb3cgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRhZ2dJc1Rvb0xvdywKICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsCiAgICAgIGRpc2FibGVkUGFyYW1zID0gX3JlZi5kaXNhYmxlZFBhcmFtcywKICAgICAgZ3JvdXBOYW1lID0gX3JlZi5ncm91cE5hbWUsCiAgICAgIGZvcm1Jc1RvdWNoZWQgPSBfcmVmLmZvcm1Jc1RvdWNoZWQsCiAgICAgIGluZGV4UGF0dGVybiA9IF9yZWYuaW5kZXhQYXR0ZXJuLAogICAgICBtZXRyaWNBZ2dzID0gX3JlZi5tZXRyaWNBZ2dzLAogICAgICBfcmVmJHN0YXRlID0gX3JlZi5zdGF0ZSwKICAgICAgc3RhdGUgPSBfcmVmJHN0YXRlID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkc3RhdGUsCiAgICAgIG9uQWdnUGFyYW1zQ2hhbmdlID0gX3JlZi5vbkFnZ1BhcmFtc0NoYW5nZSwKICAgICAgb25BZ2dUeXBlQ2hhbmdlID0gX3JlZi5vbkFnZ1R5cGVDaGFuZ2UsCiAgICAgIHNldFRvdWNoZWQgPSBfcmVmLnNldFRvdWNoZWQsCiAgICAgIHNldFZhbGlkaXR5ID0gX3JlZi5zZXRWYWxpZGl0eTsKICB2YXIgZ3JvdXBlZEFnZ1R5cGVPcHRpb25zID0gKDAsIF9hZ2dfcGFyYW1zX2hlbHBlci5nZXRBZ2dUeXBlT3B0aW9ucykoYWdnLCBpbmRleFBhdHRlcm4sIGdyb3VwTmFtZSk7CiAgdmFyIGVycm9ycyA9ICgwLCBfYWdnX3BhcmFtc19oZWxwZXIuZ2V0RXJyb3IpKGFnZywgYWdnSXNUb29Mb3cpOwogIHZhciBlZGl0b3JDb25maWcgPSAoMCwgX3JlYWN0LnVzZU1lbW8pKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfZWRpdG9yX2NvbmZpZ19wcm92aWRlcnMuZWRpdG9yQ29uZmlnUHJvdmlkZXJzLmdldENvbmZpZ0ZvckFnZyhfYWdnX3R5cGVzLmFnZ1R5cGVzLmJ5VHlwZVtncm91cE5hbWVdLCBpbmRleFBhdHRlcm4sIGFnZyk7CiAgfSwgW2dyb3VwTmFtZSwgYWdnLnR5cGVdKTsKICB2YXIgcGFyYW1zID0gKDAsIF9hZ2dfcGFyYW1zX2hlbHBlci5nZXRBZ2dQYXJhbXNUb1JlbmRlcikoewogICAgYWdnOiBhZ2csCiAgICBlZGl0b3JDb25maWc6IGVkaXRvckNvbmZpZywKICAgIG1ldHJpY0FnZ3M6IG1ldHJpY0FnZ3MsCiAgICBzdGF0ZTogc3RhdGUKICB9KTsKICB2YXIgYWxsUGFyYW1zID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJhbXMuYmFzaWMpLCBfdG9Db25zdW1hYmxlQXJyYXkocGFyYW1zLmFkdmFuY2VkKSk7CgogIHZhciBfdXNlUmVkdWNlciA9ICgwLCBfcmVhY3QudXNlUmVkdWNlcikoX2FnZ19wYXJhbXNfc3RhdGUuYWdnUGFyYW1zUmVkdWNlciwgYWxsUGFyYW1zLCBfYWdnX3BhcmFtc19zdGF0ZS5pbml0QWdnUGFyYW1zU3RhdGUpLAogICAgICBfdXNlUmVkdWNlcjIgPSBfc2xpY2VkVG9BcnJheShfdXNlUmVkdWNlciwgMiksCiAgICAgIHBhcmFtc1N0YXRlID0gX3VzZVJlZHVjZXIyWzBdLAogICAgICBvbkNoYW5nZVBhcmFtc1N0YXRlID0gX3VzZVJlZHVjZXIyWzFdOwoKICB2YXIgX3VzZVJlZHVjZXIzID0gKDAsIF9yZWFjdC51c2VSZWR1Y2VyKShfYWdnX3BhcmFtc19zdGF0ZS5hZ2dUeXBlUmVkdWNlciwgewogICAgdG91Y2hlZDogZmFsc2UsCiAgICB2YWxpZDogdHJ1ZQogIH0pLAogICAgICBfdXNlUmVkdWNlcjQgPSBfc2xpY2VkVG9BcnJheShfdXNlUmVkdWNlcjMsIDIpLAogICAgICBhZ2dUeXBlID0gX3VzZVJlZHVjZXI0WzBdLAogICAgICBvbkNoYW5nZUFnZ1R5cGUgPSBfdXNlUmVkdWNlcjRbMV07CgogIHZhciBpc0Zvcm1WYWxpZCA9ICFlcnJvcnMubGVuZ3RoICYmIGFnZ1R5cGUudmFsaWQgJiYgT2JqZWN0LmVudHJpZXMocGFyYW1zU3RhdGUpLmV2ZXJ5KGZ1bmN0aW9uIChfcmVmMikgewogICAgdmFyIF9yZWYzID0gX3NsaWNlZFRvQXJyYXkoX3JlZjIsIDIpLAogICAgICAgIHBhcmFtU3RhdGUgPSBfcmVmM1sxXTsKCiAgICByZXR1cm4gcGFyYW1TdGF0ZS52YWxpZDsKICB9KTsKICB2YXIgaXNBbGxJbnZhbGlkUGFyYW1zVG91Y2hlZCA9ICEhZXJyb3JzLmxlbmd0aCB8fCAoMCwgX2FnZ19wYXJhbXNfaGVscGVyLmlzSW52YWxpZFBhcmFtc1RvdWNoZWQpKGFnZy50eXBlLCBhZ2dUeXBlLCBwYXJhbXNTdGF0ZSk7IC8vIHJlc2V0IHZhbGlkaXR5IGJlZm9yZSBjb21wb25lbnQgZGVzdHJveWVkCgogICgwLCBfdXNlX3VubW91bnQudXNlVW5tb3VudCkoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHNldFZhbGlkaXR5KHRydWUpOwogIH0pOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBPYmplY3QuZW50cmllcyhlZGl0b3JDb25maWcpLmZvckVhY2goZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgIHZhciBfcmVmNSA9IF9zbGljZWRUb0FycmF5KF9yZWY0LCAyKSwKICAgICAgICAgIHBhcmFtID0gX3JlZjVbMF0sCiAgICAgICAgICBwYXJhbUNvbmZpZyA9IF9yZWY1WzFdOwoKICAgICAgdmFyIHBhcmFtT3B0aW9ucyA9IGFnZy50eXBlLnBhcmFtcy5maW5kKGZ1bmN0aW9uIChwYXJhbU9wdGlvbikgewogICAgICAgIHJldHVybiBwYXJhbU9wdGlvbi5uYW1lID09PSBwYXJhbTsKICAgICAgfSk7CiAgICAgIHZhciBoYXNGaXhlZFZhbHVlID0gcGFyYW1Db25maWcuaGFzT3duUHJvcGVydHkoRklYRURfVkFMVUVfUFJPUCk7CiAgICAgIHZhciBoYXNEZWZhdWx0ID0gcGFyYW1Db25maWcuaGFzT3duUHJvcGVydHkoREVGQVVMVF9QUk9QKTsgLy8gSWYgdGhlIHBhcmFtZXRlciBoYXMgYSBmaXhlZCB2YWx1ZSBpbiB0aGUgY29uZmlnLCBzZXQgdGhpcyB2YWx1ZS4KICAgICAgLy8gQWxzbyBmb3IgYWxsIHN1cHBvcnRlZCBjb25maWdzIHdlIHNob3VsZCBmcmVlemUgdGhlIGVkaXRvciBmb3IgdGhpcyBwYXJhbS4KCiAgICAgIGlmIChoYXNGaXhlZFZhbHVlIHx8IGhhc0RlZmF1bHQpIHsKICAgICAgICB2YXIgbmV3VmFsdWU7CiAgICAgICAgdmFyIHByb3BlcnR5ID0gRklYRURfVkFMVUVfUFJPUDsKICAgICAgICB2YXIgdHlwZWRQYXJhbUNvbmZpZyA9IHBhcmFtQ29uZmlnOwoKICAgICAgICBpZiAoaGFzRGVmYXVsdCkgewogICAgICAgICAgcHJvcGVydHkgPSBERUZBVUxUX1BST1A7CiAgICAgICAgICB0eXBlZFBhcmFtQ29uZmlnID0gcGFyYW1Db25maWc7CiAgICAgICAgfQoKICAgICAgICBpZiAocGFyYW1PcHRpb25zICYmIHBhcmFtT3B0aW9ucy5kZXNlcmlhbGl6ZSkgewogICAgICAgICAgbmV3VmFsdWUgPSBwYXJhbU9wdGlvbnMuZGVzZXJpYWxpemUodHlwZWRQYXJhbUNvbmZpZ1twcm9wZXJ0eV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXdWYWx1ZSA9IHR5cGVkUGFyYW1Db25maWdbcHJvcGVydHldOwogICAgICAgIH0KCiAgICAgICAgb25BZ2dQYXJhbXNDaGFuZ2UoYWdnLnBhcmFtcywgcGFyYW0sIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSk7CiAgfSwgW2VkaXRvckNvbmZpZ10pOwogICgwLCBfcmVhY3QudXNlRWZmZWN0KShmdW5jdGlvbiAoKSB7CiAgICBzZXRUb3VjaGVkKGZhbHNlKTsKICB9LCBbYWdnLnR5cGVdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgc2V0VmFsaWRpdHkoaXNGb3JtVmFsaWQpOwogIH0sIFtpc0Zvcm1WYWxpZCwgYWdnLnR5cGVdKTsKICAoMCwgX3JlYWN0LnVzZUVmZmVjdCkoZnVuY3Rpb24gKCkgewogICAgLy8gd2hlbiBhbGwgaW52YWxpZCBjb250cm9scyB3ZXJlIHRvdWNoZWQgb3IgdGhleSBhcmUgdW50b3VjaGVkCiAgICBzZXRUb3VjaGVkKGlzQWxsSW52YWxpZFBhcmFtc1RvdWNoZWQpOwogIH0sIFtpc0FsbEludmFsaWRQYXJhbXNUb3VjaGVkXSk7CgogIHZhciByZW5kZXJQYXJhbSA9IGZ1bmN0aW9uIHJlbmRlclBhcmFtKHBhcmFtSW5zdGFuY2UsIG1vZGVsKSB7CiAgICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfYWdnX3BhcmFtLkRlZmF1bHRFZGl0b3JBZ2dQYXJhbSwgX2V4dGVuZHMoewogICAgICBrZXk6ICIiLmNvbmNhdChwYXJhbUluc3RhbmNlLmFnZ1BhcmFtLm5hbWUpLmNvbmNhdChhZ2cudHlwZSA/IGFnZy50eXBlLm5hbWUgOiAnJyksCiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFBhcmFtcyAmJiBkaXNhYmxlZFBhcmFtcy5pbmNsdWRlcyhwYXJhbUluc3RhbmNlLmFnZ1BhcmFtLm5hbWUpLAogICAgICBzaG93VmFsaWRhdGlvbjogZm9ybUlzVG91Y2hlZCB8fCBtb2RlbC50b3VjaGVkLAogICAgICBvbkNoYW5nZTogb25BZ2dQYXJhbXNDaGFuZ2UsCiAgICAgIHNldFZhbGlkaXR5OiBmdW5jdGlvbiBzZXRWYWxpZGl0eSh2YWxpZCkgewogICAgICAgIG9uQ2hhbmdlUGFyYW1zU3RhdGUoewogICAgICAgICAgdHlwZTogX2FnZ19wYXJhbXNfc3RhdGUuQUdHX1BBUkFNU19BQ1RJT05fS0VZUy5WQUxJRCwKICAgICAgICAgIHBhcmFtTmFtZTogcGFyYW1JbnN0YW5jZS5hZ2dQYXJhbS5uYW1lLAogICAgICAgICAgcGF5bG9hZDogdmFsaWQKICAgICAgICB9KTsKICAgICAgfSAvLyBzZXRUb3VjaGVkIGNhbiBiZSBjYWxsZWQgZnJvbSBzdWItYWdnIHdoaWNoIHBhc3NlcyBhIHBhcmFtZXRlcgogICAgICAsCiAgICAgIHNldFRvdWNoZWQ6IGZ1bmN0aW9uIHNldFRvdWNoZWQoKSB7CiAgICAgICAgdmFyIGlzVG91Y2hlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTsKICAgICAgICBvbkNoYW5nZVBhcmFtc1N0YXRlKHsKICAgICAgICAgIHR5cGU6IF9hZ2dfcGFyYW1zX3N0YXRlLkFHR19QQVJBTVNfQUNUSU9OX0tFWVMuVE9VQ0hFRCwKICAgICAgICAgIHBhcmFtTmFtZTogcGFyYW1JbnN0YW5jZS5hZ2dQYXJhbS5uYW1lLAogICAgICAgICAgcGF5bG9hZDogaXNUb3VjaGVkCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHN1YkFnZ1BhcmFtczogewogICAgICAgIG9uQWdnUGFyYW1zQ2hhbmdlOiBvbkFnZ1BhcmFtc0NoYW5nZSwKICAgICAgICBvbkFnZ1R5cGVDaGFuZ2U6IG9uQWdnVHlwZUNoYW5nZSwKICAgICAgICBmb3JtSXNUb3VjaGVkOiBmb3JtSXNUb3VjaGVkCiAgICAgIH0KICAgIH0sIHBhcmFtSW5zdGFuY2UpKTsKICB9OwoKICByZXR1cm4gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm0sIHsKICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLAogICAgaXNJbnZhbGlkOiAhIWVycm9ycy5sZW5ndGgsCiAgICBlcnJvcjogZXJyb3JzLAogICAgImRhdGEtdGVzdC1zdWJqIjogInZpc0FnZ0VkaXRvclBhcmFtcyIKICB9LCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hZ2dfc2VsZWN0LkRlZmF1bHRFZGl0b3JBZ2dTZWxlY3QsIHsKICAgIGFnZ0Vycm9yOiBhZ2dFcnJvciwKICAgIGlkOiBhZ2cuaWQsCiAgICBpbmRleFBhdHRlcm46IGluZGV4UGF0dGVybiwKICAgIHZhbHVlOiBhZ2cudHlwZSwKICAgIGFnZ1R5cGVPcHRpb25zOiBncm91cGVkQWdnVHlwZU9wdGlvbnMsCiAgICBpc1N1YkFnZ3JlZ2F0aW9uOiBhZ2dJbmRleCA+PSAxICYmIGdyb3VwTmFtZSA9PT0gX2FnZ19ncm91cHMuQWdnR3JvdXBOYW1lcy5CdWNrZXRzLAogICAgc2hvd1ZhbGlkYXRpb246IGZvcm1Jc1RvdWNoZWQgfHwgYWdnVHlwZS50b3VjaGVkLAogICAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7CiAgICAgIG9uQWdnVHlwZUNoYW5nZShhZ2csIHZhbHVlKTsgLy8gcmVzZXQgdG91Y2hlZCBhbmQgdmFsaWQgb2YgcGFyYW1zCgogICAgICBvbkNoYW5nZVBhcmFtc1N0YXRlKHsKICAgICAgICB0eXBlOiBfYWdnX3BhcmFtc19zdGF0ZS5BR0dfUEFSQU1TX0FDVElPTl9LRVlTLlJFU0VUCiAgICAgIH0pOwogICAgfSwKICAgIHNldFRvdWNoZWQ6IGZ1bmN0aW9uIHNldFRvdWNoZWQoKSB7CiAgICAgIHJldHVybiBvbkNoYW5nZUFnZ1R5cGUoewogICAgICAgIHR5cGU6IF9hZ2dfcGFyYW1zX3N0YXRlLkFHR19UWVBFX0FDVElPTl9LRVlTLlRPVUNIRUQsCiAgICAgICAgcGF5bG9hZDogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBzZXRWYWxpZGl0eTogZnVuY3Rpb24gc2V0VmFsaWRpdHkodmFsaWQpIHsKICAgICAgcmV0dXJuIG9uQ2hhbmdlQWdnVHlwZSh7CiAgICAgICAgdHlwZTogX2FnZ19wYXJhbXNfc3RhdGUuQUdHX1RZUEVfQUNUSU9OX0tFWVMuVkFMSUQsCiAgICAgICAgcGF5bG9hZDogdmFsaWQKICAgICAgfSk7CiAgICB9CiAgfSksIHBhcmFtcy5iYXNpYy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7CiAgICB2YXIgbW9kZWwgPSBwYXJhbXNTdGF0ZVtwYXJhbS5hZ2dQYXJhbS5uYW1lXSB8fCB7CiAgICAgIHRvdWNoZWQ6IGZhbHNlLAogICAgICB2YWxpZDogdHJ1ZQogICAgfTsKICAgIHJldHVybiByZW5kZXJQYXJhbShwYXJhbSwgbW9kZWwpOwogIH0pLCBwYXJhbXMuYWR2YW5jZWQubGVuZ3RoID8gX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aUZvcm1Sb3csIG51bGwsIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2V1aS5FdWlBY2NvcmRpb24sIHsKICAgIGlkOiAiYWR2YW5jZWRBY2NvcmRpb24iLAogICAgYnV0dG9uQ29udGVudDogX2kxOG4uaTE4bi50cmFuc2xhdGUoJ2NvbW1vbi51aS52aXMuZWRpdG9ycy5hZHZhbmNlZFRvZ2dsZS5hZHZhbmNlZExpbmtMYWJlbCcsIHsKICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdBZHZhbmNlZCcKICAgIH0pCiAgfSwgX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZXVpLkV1aVNwYWNlciwgewogICAgc2l6ZTogInMiCiAgfSksIHBhcmFtcy5hZHZhbmNlZC5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7CiAgICB2YXIgbW9kZWwgPSBwYXJhbXNTdGF0ZVtwYXJhbS5hZ2dQYXJhbS5uYW1lXSB8fCB7CiAgICAgIHRvdWNoZWQ6IGZhbHNlLAogICAgICB2YWxpZDogdHJ1ZQogICAgfTsKICAgIHJldHVybiByZW5kZXJQYXJhbShwYXJhbSwgbW9kZWwpOwogIH0pKSkgOiBudWxsKTsKfQ=="},null]}