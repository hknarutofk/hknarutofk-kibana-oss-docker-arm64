{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/kibana/public/context/api/context.js","dependencies":[{"path":"src/legacy/core_plugins/kibana/public/context/api/context.js","mtime":1572296409984},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZmV0Y2hDb250ZXh0UHJvdmlkZXIgPSBmZXRjaENvbnRleHRQcm92aWRlcjsKCnZhciBfY291cmllciA9IHJlcXVpcmUoInVpL2NvdXJpZXIiKTsKCnZhciBfc29ydGluZyA9IHJlcXVpcmUoIi4vdXRpbHMvc29ydGluZyIpOwoKdmFyIF9kYXRlX2NvbnZlcnNpb24gPSByZXF1aXJlKCIuL3V0aWxzL2RhdGVfY29udmVyc2lvbiIpOwoKdmFyIF9mZXRjaF9oaXRzX2luX2ludGVydmFsID0gcmVxdWlyZSgiLi91dGlscy9mZXRjaF9oaXRzX2luX2ludGVydmFsIik7Cgp2YXIgX2dlbmVyYXRlX2ludGVydmFscyA9IHJlcXVpcmUoIi4vdXRpbHMvZ2VuZXJhdGVfaW50ZXJ2YWxzIik7Cgp2YXIgX2dldF9lc19xdWVyeV9zZWFyY2hfYWZ0ZXIgPSByZXF1aXJlKCIuL3V0aWxzL2dldF9lc19xdWVyeV9zZWFyY2hfYWZ0ZXIiKTsKCnZhciBfZ2V0X2VzX3F1ZXJ5X3NvcnQgPSByZXF1aXJlKCIuL3V0aWxzL2dldF9lc19xdWVyeV9zb3J0Iik7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsKfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7Cn0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgewogIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwp9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgIH0KCiAgICByZXR1cm4gYXJyMjsKICB9Cn0KCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgX3R5cGVvZjIoU3ltYm9sLml0ZXJhdG9yKSA9PT0gInN5bWJvbCIpIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gX3R5cGVvZjIob2JqKTsKICAgIH07CiAgfSBlbHNlIHsKICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiBfdHlwZW9mMihvYmopOwogICAgfTsKICB9CgogIHJldHVybiBfdHlwZW9mKG9iaik7Cn0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsKICB0cnkgewogICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOwogICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmVqZWN0KGVycm9yKTsKICAgIHJldHVybjsKICB9CgogIGlmIChpbmZvLmRvbmUpIHsKICAgIHJlc29sdmUodmFsdWUpOwogIH0gZWxzZSB7CiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgfQp9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgewogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsKCiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7CiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikgewogICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsKICAgICAgfQoKICAgICAgX25leHQodW5kZWZpbmVkKTsKICAgIH0pOwogIH07Cn0KCnZhciBEQVlfTUlMTElTID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gbG9vayBmcm9tIDEgZGF5IHVwIHRvIDEwMDAwIGRheXMgaW50byB0aGUgcGFzdCBhbmQgZnV0dXJlCgp2YXIgTE9PS1VQX09GRlNFVFMgPSBbMCwgMSwgNywgMzAsIDM2NSwgMTAwMDBdLm1hcChmdW5jdGlvbiAoZGF5cykgewogIHJldHVybiBkYXlzICogREFZX01JTExJUzsKfSk7CgpmdW5jdGlvbiBmZXRjaENvbnRleHRQcm92aWRlcihpbmRleFBhdHRlcm5zLCBQcml2YXRlKSB7CiAgdmFyIFNlYXJjaFNvdXJjZVByaXZhdGUgPSBQcml2YXRlKF9jb3VyaWVyLlNlYXJjaFNvdXJjZVByb3ZpZGVyKTsKICByZXR1cm4gewogICAgZmV0Y2hTdXJyb3VuZGluZ0RvY3M6IGZldGNoU3Vycm91bmRpbmdEb2NzCiAgfTsKICAvKioKICAgKiBGZXRjaCBzdWNjZXNzb3Igb3IgcHJlZGVjZXNzb3IgZG9jdW1lbnRzIG9mIGEgZ2l2ZW4gYW5jaG9yIGRvY3VtZW50CiAgICoKICAgKiBAcGFyYW0ge1N1cnJEb2NUeXBlfSB0eXBlIC0gYHN1Y2Nlc3NvcnNgIG9yIGBwcmVkZWNlc3NvcnNgCiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGV4UGF0dGVybklkCiAgICogQHBhcmFtIHtFc0hpdFJlY29yZH0gYW5jaG9yIC0gYW5jaG9yIHJlY29yZAogICAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lRmllbGQgLSBuYW1lIG9mIHRoZSB0aW1lZmllbGQsIHRoYXQncyBzb3J0ZWQgb24KICAgKiBAcGFyYW0ge3N0cmluZ30gdGllQnJlYWtlckZpZWxkIC0gbmFtZSBvZiB0aGUgdGllIGJyZWFrZXIsIHRoZSAybmQgc29ydCBmaWVsZAogICAqIEBwYXJhbSB7U29ydERpcmVjdGlvbn0gc29ydERpciAtIGRpcmVjdGlvbiBvZiBzb3J0aW5nCiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBudW1iZXIgb2YgcmVjb3JkcyB0byByZXRyaWV2ZQogICAqIEBwYXJhbSB7RmlsdGVyW119IGZpbHRlcnMgLSB0byBhcHBseSBpbiB0aGUgZWxhc3RpYyBxdWVyeQogICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdFtdPn0KICAgKi8KCiAgZnVuY3Rpb24gZmV0Y2hTdXJyb3VuZGluZ0RvY3MoX3gsIF94MiwgX3gzLCBfeDQsIF94NSwgX3g2LCBfeDcsIF94OCkgewogICAgcmV0dXJuIF9mZXRjaFN1cnJvdW5kaW5nRG9jcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gX2ZldGNoU3Vycm91bmRpbmdEb2NzKCkgewogICAgX2ZldGNoU3Vycm91bmRpbmdEb2NzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHR5cGUsIGluZGV4UGF0dGVybklkLCBhbmNob3IsIHRpbWVGaWVsZCwgdGllQnJlYWtlckZpZWxkLCBzb3J0RGlyLCBzaXplLCBmaWx0ZXJzKSB7CiAgICAgIHZhciBpbmRleFBhdHRlcm4sIHNlYXJjaFNvdXJjZSwgc29ydERpclRvQXBwbHksIG5hbm9zLCB0aW1lVmFsdWVNaWxsaXMsIGludGVydmFscywgZG9jdW1lbnRzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGludGVydmFsLCByZW1haW5pbmdTaXplLCBzZWFyY2hBZnRlciwgc29ydCwgaGl0czsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIShfdHlwZW9mKGFuY2hvcikgIT09ICdvYmplY3QnIHx8IGFuY2hvciA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBbXSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGluZGV4UGF0dGVybnMuZ2V0KGluZGV4UGF0dGVybklkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBpbmRleFBhdHRlcm4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBjcmVhdGVTZWFyY2hTb3VyY2UoaW5kZXhQYXR0ZXJuLCBmaWx0ZXJzKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBzZWFyY2hTb3VyY2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHNvcnREaXJUb0FwcGx5ID0gdHlwZSA9PT0gJ3N1Y2Nlc3NvcnMnID8gc29ydERpciA6ICgwLCBfc29ydGluZy5yZXZlcnNlU29ydERpcikoc29ydERpcik7CiAgICAgICAgICAgICAgbmFub3MgPSBpbmRleFBhdHRlcm4uaXNUaW1lTmFub3NCYXNlZCgpID8gKDAsIF9kYXRlX2NvbnZlcnNpb24uZXh0cmFjdE5hbm9zKShhbmNob3IuX3NvdXJjZVt0aW1lRmllbGRdKSA6ICcnOwogICAgICAgICAgICAgIHRpbWVWYWx1ZU1pbGxpcyA9IG5hbm9zICE9PSAnJyA/ICgwLCBfZGF0ZV9jb252ZXJzaW9uLmNvbnZlcnRJc29Ub01pbGxpcykoYW5jaG9yLl9zb3VyY2VbdGltZUZpZWxkXSkgOiBhbmNob3Iuc29ydFswXTsKICAgICAgICAgICAgICBpbnRlcnZhbHMgPSAoMCwgX2dlbmVyYXRlX2ludGVydmFscy5nZW5lcmF0ZUludGVydmFscykoTE9PS1VQX09GRlNFVFMsIHRpbWVWYWx1ZU1pbGxpcywgdHlwZSwgc29ydERpcik7CiAgICAgICAgICAgICAgZG9jdW1lbnRzID0gW107CiAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gaW50ZXJ2YWxzW1N5bWJvbC5pdGVyYXRvcl0oKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgaWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGludGVydmFsID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgcmVtYWluaW5nU2l6ZSA9IHNpemUgLSBkb2N1bWVudHMubGVuZ3RoOwoKICAgICAgICAgICAgICBpZiAoIShyZW1haW5pbmdTaXplIDw9IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMzIpOwoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBzZWFyY2hBZnRlciA9ICgwLCBfZ2V0X2VzX3F1ZXJ5X3NlYXJjaF9hZnRlci5nZXRFc1F1ZXJ5U2VhcmNoQWZ0ZXIpKHR5cGUsIGRvY3VtZW50cywgdGltZUZpZWxkLCBhbmNob3IsIG5hbm9zKTsKICAgICAgICAgICAgICBzb3J0ID0gKDAsIF9nZXRfZXNfcXVlcnlfc29ydC5nZXRFc1F1ZXJ5U29ydCkodGltZUZpZWxkLCB0aWVCcmVha2VyRmllbGQsIHNvcnREaXJUb0FwcGx5KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgcmV0dXJuICgwLCBfZmV0Y2hfaGl0c19pbl9pbnRlcnZhbC5mZXRjaEhpdHNJbkludGVydmFsKShzZWFyY2hTb3VyY2UsIHRpbWVGaWVsZCwgc29ydCwgc29ydERpclRvQXBwbHksIGludGVydmFsLCBzZWFyY2hBZnRlciwgcmVtYWluaW5nU2l6ZSwgbmFub3MpOwoKICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBoaXRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkb2N1bWVudHMgPSB0eXBlID09PSAnc3VjY2Vzc29ycycgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGRvY3VtZW50cyksIF90b0NvbnN1bWFibGVBcnJheShoaXRzKSkgOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGhpdHMuc2xpY2UoKS5yZXZlcnNlKCkpLCBfdG9Db25zdW1hYmxlQXJyYXkoZG9jdW1lbnRzKSk7CgogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzQ7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxNik7CiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gX2NvbnRleHQudDA7CgogICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzODsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzk7CgogICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0MTsKCiAgICAgICAgICAgICAgaWYgKCFfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKCiAgICAgICAgICAgIGNhc2UgNDQ6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCg0MSk7CgogICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMzgpOwoKICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkb2N1bWVudHMpOwoKICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxNiwgMzQsIDM4LCA0Nl0sIFszOSwsIDQxLCA0NV1dKTsKICAgIH0pKTsKICAgIHJldHVybiBfZmV0Y2hTdXJyb3VuZGluZ0RvY3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFNvdXJjZShfeDksIF94MTApIHsKICAgIHJldHVybiBfY3JlYXRlU2VhcmNoU291cmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBfY3JlYXRlU2VhcmNoU291cmNlKCkgewogICAgX2NyZWF0ZVNlYXJjaFNvdXJjZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoaW5kZXhQYXR0ZXJuLCBmaWx0ZXJzKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ldyBTZWFyY2hTb3VyY2VQcml2YXRlKCkuc2V0UGFyZW50KGZhbHNlKS5zZXRGaWVsZCgnaW5kZXgnLCBpbmRleFBhdHRlcm4pLnNldEZpZWxkKCdmaWx0ZXInLCBmaWx0ZXJzKSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CiAgICByZXR1cm4gX2NyZWF0ZVNlYXJjaFNvdXJjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KfQ=="},null]}