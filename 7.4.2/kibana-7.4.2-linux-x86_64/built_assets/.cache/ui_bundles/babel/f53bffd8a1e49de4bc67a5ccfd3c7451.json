{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/core_plugins/metrics/public/request_handler.js","dependencies":[{"path":"src/legacy/core_plugins/metrics/public/request_handler.js","mtime":1572296411024},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmNyZWF0ZU1ldHJpY3NSZXF1ZXN0SGFuZGxlciA9IHZvaWQgMDsKCnZhciBfdmFsaWRhdGVfaW50ZXJ2YWwgPSByZXF1aXJlKCIuL2xpYi92YWxpZGF0ZV9pbnRlcnZhbCIpOwoKdmFyIF90aW1lem9uZSA9IHJlcXVpcmUoInVpL3Zpcy9saWIvdGltZXpvbmUiKTsKCnZhciBfdGltZWZpbHRlciA9IHJlcXVpcmUoInVpL3RpbWVmaWx0ZXIiKTsKCnZhciBfa2ZldGNoID0gcmVxdWlyZSgidWkva2ZldGNoIik7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgpmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTsgfSB9CgpmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgc2VsZiA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTsgZnVuY3Rpb24gX25leHQodmFsdWUpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAibmV4dCIsIHZhbHVlKTsgfSBmdW5jdGlvbiBfdGhyb3coZXJyKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgInRocm93IiwgZXJyKTsgfSBfbmV4dCh1bmRlZmluZWQpOyB9KTsgfTsgfQoKdmFyIGNyZWF0ZU1ldHJpY3NSZXF1ZXN0SGFuZGxlciA9IGZ1bmN0aW9uIGNyZWF0ZU1ldHJpY3NSZXF1ZXN0SGFuZGxlcihjb25maWcpIHsKICB2YXIgdGltZXpvbmUgPSAoMCwgX3RpbWV6b25lLnRpbWV6b25lUHJvdmlkZXIpKGNvbmZpZykoKTsKICByZXR1cm4gKAogICAgLyojX19QVVJFX18qLwogICAgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYpIHsKICAgICAgICB2YXIgdWlTdGF0ZSwgdGltZVJhbmdlLCBmaWx0ZXJzLCBxdWVyeSwgdmlzUGFyYW1zLCB1aVN0YXRlT2JqLCBwYXJzZWRUaW1lUmFuZ2UsIHNjYWxlZERhdGFGb3JtYXQsIGRhdGVGb3JtYXQsIG1heEJ1Y2tldHMsIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdWlTdGF0ZSA9IF9yZWYudWlTdGF0ZSwgdGltZVJhbmdlID0gX3JlZi50aW1lUmFuZ2UsIGZpbHRlcnMgPSBfcmVmLmZpbHRlcnMsIHF1ZXJ5ID0gX3JlZi5xdWVyeSwgdmlzUGFyYW1zID0gX3JlZi52aXNQYXJhbXM7CiAgICAgICAgICAgICAgICB1aVN0YXRlT2JqID0gdWlTdGF0ZS5nZXQodmlzUGFyYW1zLnR5cGUsIHt9KTsKICAgICAgICAgICAgICAgIHBhcnNlZFRpbWVSYW5nZSA9IF90aW1lZmlsdGVyLnRpbWVmaWx0ZXIuY2FsY3VsYXRlQm91bmRzKHRpbWVSYW5nZSk7CiAgICAgICAgICAgICAgICBzY2FsZWREYXRhRm9ybWF0ID0gY29uZmlnLmdldCgnZGF0ZUZvcm1hdDpzY2FsZWQnKTsKICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBjb25maWcuZ2V0KCdkYXRlRm9ybWF0Jyk7CgogICAgICAgICAgICAgICAgaWYgKCEodmlzUGFyYW1zICYmIHZpc1BhcmFtcy5pZCAmJiAhdmlzUGFyYW1zLmlzTW9kZWxJbnZhbGlkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgbWF4QnVja2V0cyA9IGNvbmZpZy5nZXQoJ21ldHJpY3M6bWF4X2J1Y2tldHMnKTsKICAgICAgICAgICAgICAgICgwLCBfdmFsaWRhdGVfaW50ZXJ2YWwudmFsaWRhdGVJbnRlcnZhbCkocGFyc2VkVGltZVJhbmdlLCB2aXNQYXJhbXMsIG1heEJ1Y2tldHMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfa2ZldGNoLmtmZXRjaCkoewogICAgICAgICAgICAgICAgICBwYXRobmFtZTogJy9hcGkvbWV0cmljcy92aXMvZGF0YScsCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgdGltZXJhbmdlOiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lOiB0aW1lem9uZQogICAgICAgICAgICAgICAgICAgIH0sIHBhcnNlZFRpbWVSYW5nZSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LAogICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsCiAgICAgICAgICAgICAgICAgICAgcGFuZWxzOiBbdmlzUGFyYW1zXSwKICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdWlTdGF0ZU9iagogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBkYXRlRm9ybWF0LAogICAgICAgICAgICAgICAgICBzY2FsZWREYXRhRm9ybWF0OiBzY2FsZWREYXRhRm9ybWF0LAogICAgICAgICAgICAgICAgICB0aW1lem9uZTogdGltZXpvbmUKICAgICAgICAgICAgICAgIH0sIHJlc3ApKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChfY29udGV4dC50MCkpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZXNvbHZlKHt9KSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzYsIDE1XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCkKICApOwp9OwoKZXhwb3J0cy5jcmVhdGVNZXRyaWNzUmVxdWVzdEhhbmRsZXIgPSBjcmVhdGVNZXRyaWNzUmVxdWVzdEhhbmRsZXI7"},null]}