{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/legacy_compat/angular_config.js","dependencies":[{"path":"src/legacy/ui/public/legacy_compat/angular_config.js","mtime":1572296412796},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLiRzZXR1cFhzcmZSZXF1ZXN0SW50ZXJjZXB0b3IgPSBleHBvcnRzLmNvbmZpZ3VyZUFwcEFuZ3VsYXJNb2R1bGUgPSB2b2lkIDA7Cgp2YXIgX2pxdWVyeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianF1ZXJ5IikpOwoKdmFyIF9sb2Rhc2ggPSByZXF1aXJlKCJsb2Rhc2giKTsKCnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBSeCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoInJ4anMiKSk7Cgp2YXIgX2kxOG4gPSByZXF1aXJlKCJAa2JuL2kxOG4iKTsKCnZhciBfcmVhY3QyID0gcmVxdWlyZSgiQGtibi9pMThuL3JlYWN0Iik7Cgp2YXIgX25vdGlmeSA9IHJlcXVpcmUoInVpL25vdGlmeSIpOwoKdmFyIF9jYXBhYmlsaXRpZXMgPSByZXF1aXJlKCJ1aS9jYXBhYmlsaXRpZXMiKTsKCnZhciBfdXJsID0gcmVxdWlyZSgidWkvdXJsIik7Cgp2YXIgX2Vycm9yX3VybF9vdmVyZmxvdyA9IHJlcXVpcmUoIi4uL2Vycm9yX3VybF9vdmVyZmxvdyIpOwoKdmFyIF9uZXdfcGxhdGZvcm0gPSByZXF1aXJlKCIuLi9uZXdfcGxhdGZvcm0iKTsKCnZhciBfbm90aWZ5MiA9IHJlcXVpcmUoIi4uL25vdGlmeSIpOwoKdmFyIF9zeXN0ZW1fYXBpID0gcmVxdWlyZSgiLi4vc3lzdGVtX2FwaSIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7CiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgewogICAgcmV0dXJuIG9iajsKICB9IGVsc2UgewogICAgdmFyIG5ld09iaiA9IHt9OwoKICAgIGlmIChvYmogIT0gbnVsbCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OwoKICAgICAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBuZXdPYmouZGVmYXVsdCA9IG9iajsKICAgIHJldHVybiBuZXdPYmo7CiAgfQp9CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgewogIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7CiAgICBkZWZhdWx0OiBvYmoKICB9Owp9Ci8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwovLyBAdHMtaWdub3JlCi8vIEB0cy1pZ25vcmUKLy8gQHRzLWlnbm9yZQoKCnZhciBVUkxfTElNSVRfV0FSTl9XSVRISU4gPSAxMDAwOwoKdmFyIGNvbmZpZ3VyZUFwcEFuZ3VsYXJNb2R1bGUgPSBmdW5jdGlvbiBjb25maWd1cmVBcHBBbmd1bGFyTW9kdWxlKGFuZ3VsYXJNb2R1bGUpIHsKICB2YXIgbmV3UGxhdGZvcm0gPSBfbmV3X3BsYXRmb3JtLm5wU3RhcnQuY29yZTsKICB2YXIgbGVnYWN5TWV0YWRhdGEgPSBuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldExlZ2FjeU1ldGFkYXRhKCk7CiAgKDAsIF9sb2Rhc2guZm9yT3duKShuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldEluamVjdGVkVmFycygpLCBmdW5jdGlvbiAodmFsLCBuYW1lKSB7CiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vIFRoZSBsZWdhY3kgcGxhdGZvcm0gbW9kaWZpZXMgc29tZSBvZiB0aGVzZSB2YWx1ZXMsIGNsb25lIHRvIGFuIHVuZnJvemVuIG9iamVjdC4KICAgICAgYW5ndWxhck1vZHVsZS52YWx1ZShuYW1lLCAoMCwgX2xvZGFzaC5jbG9uZURlZXApKHZhbCkpOwogICAgfQogIH0pOwogIGFuZ3VsYXJNb2R1bGUudmFsdWUoJ2tiblZlcnNpb24nLCBuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldEtpYmFuYVZlcnNpb24oKSkudmFsdWUoJ2J1aWxkTnVtJywgbGVnYWN5TWV0YWRhdGEuYnVpbGROdW0pLnZhbHVlKCdidWlsZFNoYScsIGxlZ2FjeU1ldGFkYXRhLmJ1aWxkU2hhKS52YWx1ZSgnc2VydmVyTmFtZScsIGxlZ2FjeU1ldGFkYXRhLnNlcnZlck5hbWUpLnZhbHVlKCdzZXNzaW9uSWQnLCBEYXRlLm5vdygpKS52YWx1ZSgnZXNVcmwnLCBnZXRFc1VybChuZXdQbGF0Zm9ybSkpLnZhbHVlKCd1aUNhcGFiaWxpdGllcycsIF9jYXBhYmlsaXRpZXMuY2FwYWJpbGl0aWVzLmdldCgpKS5jb25maWcoc2V0dXBDb21waWxlUHJvdmlkZXIobmV3UGxhdGZvcm0pKS5jb25maWcoc2V0dXBMb2NhdGlvblByb3ZpZGVyKG5ld1BsYXRmb3JtKSkuY29uZmlnKCRzZXR1cFhzcmZSZXF1ZXN0SW50ZXJjZXB0b3IobmV3UGxhdGZvcm0pKS5ydW4oY2FwdHVyZSRodHRwTG9hZGluZ0NvdW50KG5ld1BsYXRmb3JtKSkucnVuKCRzZXR1cEJyZWFkY3J1bWJzQXV0b0NsZWFyKG5ld1BsYXRmb3JtKSkucnVuKCRzZXR1cEJhZGdlQXV0b0NsZWFyKG5ld1BsYXRmb3JtKSkucnVuKCRzZXR1cEhlbHBFeHRlbnNpb25BdXRvQ2xlYXIobmV3UGxhdGZvcm0pKS5ydW4oJHNldHVwVXJsT3ZlcmZsb3dIYW5kbGluZyhuZXdQbGF0Zm9ybSkpOwp9OwoKZXhwb3J0cy5jb25maWd1cmVBcHBBbmd1bGFyTW9kdWxlID0gY29uZmlndXJlQXBwQW5ndWxhck1vZHVsZTsKCnZhciBnZXRFc1VybCA9IGZ1bmN0aW9uIGdldEVzVXJsKG5ld1BsYXRmb3JtKSB7CiAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgYS5ocmVmID0gbmV3UGxhdGZvcm0uaHR0cC5iYXNlUGF0aC5wcmVwZW5kKCcvZWxhc3RpY3NlYXJjaCcpOwogIHZhciBwcm90b2NvbFBvcnQgPSAvaHR0cHMvLnRlc3QoYS5wcm90b2NvbCkgPyA0NDMgOiA4MDsKICB2YXIgcG9ydCA9IGEucG9ydCB8fCBwcm90b2NvbFBvcnQ7CiAgcmV0dXJuIHsKICAgIGhvc3Q6IGEuaG9zdG5hbWUsCiAgICBwb3J0OiBwb3J0LAogICAgcHJvdG9jb2w6IGEucHJvdG9jb2wsCiAgICBwYXRobmFtZTogYS5wYXRobmFtZQogIH07Cn07Cgp2YXIgc2V0dXBDb21waWxlUHJvdmlkZXIgPSBmdW5jdGlvbiBzZXR1cENvbXBpbGVQcm92aWRlcihuZXdQbGF0Zm9ybSkgewogIHJldHVybiBmdW5jdGlvbiAoJGNvbXBpbGVQcm92aWRlcikgewogICAgaWYgKCFuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldExlZ2FjeU1ldGFkYXRhKCkuZGV2TW9kZSkgewogICAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpOwogICAgfQogIH07Cn07Cgp2YXIgc2V0dXBMb2NhdGlvblByb3ZpZGVyID0gZnVuY3Rpb24gc2V0dXBMb2NhdGlvblByb3ZpZGVyKG5ld1BsYXRmb3JtKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgkbG9jYXRpb25Qcm92aWRlcikgewogICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHsKICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgIHJlcXVpcmVCYXNlOiBmYWxzZSwKICAgICAgcmV3cml0ZUxpbmtzOiBmYWxzZQogICAgfSk7CiAgICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTsKICB9Owp9OwoKdmFyICRzZXR1cFhzcmZSZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAkc2V0dXBYc3JmUmVxdWVzdEludGVyY2VwdG9yKG5ld1BsYXRmb3JtKSB7CiAgdmFyIHZlcnNpb24gPSBuZXdQbGF0Zm9ybS5pbmplY3RlZE1ldGFkYXRhLmdldExlZ2FjeU1ldGFkYXRhKCkudmVyc2lvbjsgLy8gQ29uZmlndXJlIGpRdWVyeSBwcmVmaWx0ZXIKCiAgX2pxdWVyeS5kZWZhdWx0LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24gKF9yZWYsIG9yaWdpbmFsT3B0aW9ucywganFYSFIpIHsKICAgIHZhciBfcmVmJGtiblhzcmZUb2tlbiA9IF9yZWYua2JuWHNyZlRva2VuLAogICAgICAgIGtiblhzcmZUb2tlbiA9IF9yZWYka2JuWHNyZlRva2VuID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRrYm5Yc3JmVG9rZW47CgogICAgaWYgKGtiblhzcmZUb2tlbikgewogICAgICBqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCdrYm4tdmVyc2lvbicsIHZlcnNpb24pOwogICAgfQogIH0pOwoKICByZXR1cm4gZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHsKICAgIC8vIENvbmZpZ3VyZSAkaHR0cFByb3ZpZGVyIGludGVyY2VwdG9yCiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KG9wdHMpIHsKICAgICAgICAgIHZhciBfcmVmMiA9IG9wdHMsCiAgICAgICAgICAgICAgX3JlZjIka2JuWHNyZlRva2VuID0gX3JlZjIua2JuWHNyZlRva2VuLAogICAgICAgICAgICAgIGtiblhzcmZUb2tlbiA9IF9yZWYyJGtiblhzcmZUb2tlbiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYyJGtiblhzcmZUb2tlbjsKCiAgICAgICAgICBpZiAoa2JuWHNyZlRva2VuKSB7CiAgICAgICAgICAgICgwLCBfbG9kYXNoLnNldCkob3B0cywgWydoZWFkZXJzJywgJ2tibi12ZXJzaW9uJ10sIHZlcnNpb24pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBvcHRzOwogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH07Cn07Ci8qKgogKiBJbmplY3RlZCBpbnRvIGFuZ3VsYXIgbW9kdWxlIGJ5IHVpL2Nocm9tZSBhbmd1bGFyIGludGVncmF0aW9uCiAqIGFuZCBhZGRzIGEgcm9vdC1sZXZlbCB3YXRjaGVyIHRoYXQgd2lsbCBjYXB0dXJlIHRoZSBjb3VudCBvZgogKiBhY3RpdmUgJGh0dHAgcmVxdWVzdHMgb24gZWFjaCBkaWdlc3QgbG9vcCBhbmQgZXhwb3NlIHRoZSBjb3VudCB0bwogKiB0aGUgY29yZS5sb2FkaW5nQ291bnQgYXBpCiAqIEBwYXJhbSAge0FuZ3VsYXIuU2NvcGV9ICRyb290U2NvcGUKICogQHBhcmFtICB7SHR0cFNlcnZpY2V9ICRodHRwCiAqIEByZXR1cm4ge3VuZGVmaW5lZH0KICovCgoKZXhwb3J0cy4kc2V0dXBYc3JmUmVxdWVzdEludGVyY2VwdG9yID0gJHNldHVwWHNyZlJlcXVlc3RJbnRlcmNlcHRvcjsKCnZhciBjYXB0dXJlJGh0dHBMb2FkaW5nQ291bnQgPSBmdW5jdGlvbiBjYXB0dXJlJGh0dHBMb2FkaW5nQ291bnQobmV3UGxhdGZvcm0pIHsKICByZXR1cm4gZnVuY3Rpb24gKCRyb290U2NvcGUsICRodHRwKSB7CiAgICBuZXdQbGF0Zm9ybS5odHRwLmFkZExvYWRpbmdDb3VudChuZXcgUnguT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHsKICAgICAgdmFyIHVud2F0Y2ggPSAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlcXMgPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgfHwgW107CiAgICAgICAgb2JzZXJ2ZXIubmV4dChyZXFzLmZpbHRlcihmdW5jdGlvbiAocmVxKSB7CiAgICAgICAgICByZXR1cm4gISgwLCBfc3lzdGVtX2FwaS5pc1N5c3RlbUFwaVJlcXVlc3QpKHJlcSk7CiAgICAgICAgfSkubGVuZ3RoKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB1bndhdGNoOwogICAgfSkpOwogIH07Cn07Ci8qKgogKiBpbnRlcm5hbCBhbmd1bGFyIHJ1biBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYW5ndWxhciBib290c3RyYXBzIGFuZAogKiBsZXRzIHVzIGludGVncmF0ZSB3aXRoIHRoZSBhbmd1bGFyIHJvdXRlciBzbyB0aGF0IHdlIGNhbiBhdXRvbWF0aWNhbGx5IGNsZWFyCiAqIHRoZSBicmVhZGNydW1icyBpZiB3ZSBzd2l0Y2ggdG8gYSBLaWJhbmEgYXBwIHRoYXQgZG9lcyBub3QgdXNlIGJyZWFkY3J1bWJzIGNvcnJlY3RseQogKi8KCgp2YXIgJHNldHVwQnJlYWRjcnVtYnNBdXRvQ2xlYXIgPSBmdW5jdGlvbiAkc2V0dXBCcmVhZGNydW1ic0F1dG9DbGVhcihuZXdQbGF0Zm9ybSkgewogIHJldHVybiBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGluamVjdG9yKSB7CiAgICAvLyBBIGZsYWcgdXNlZCB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIGF1dG9tYXRpY2FsbHkKICAgIC8vIGNsZWFyIHRoZSBicmVhZGNydW1icyBiZXR3ZWVuIGFuZ3VsYXIgcm91dGUgY2hhbmdlcy4KICAgIHZhciBicmVhZGNydW1iU2V0U2luY2VSb3V0ZUNoYW5nZSA9IGZhbHNlOwogICAgdmFyICRyb3V0ZSA9ICRpbmplY3Rvci5oYXMoJyRyb3V0ZScpID8gJGluamVjdG9yLmdldCgnJHJvdXRlJykgOiB7fTsgLy8gcmVzZXQgYnJlYWRjcnVtYlNldFNpbmNlUm91dGVDaGFuZ2UgYW55IHRpbWUgdGhlIGJyZWFkY3J1bWJzIGNoYW5nZSwgZXZlbgogICAgLy8gaWYgaXQgd2FzIGRvbmUgZGlyZWN0bHkgdGhyb3VnaCB0aGUgbmV3IHBsYXRmb3JtCgogICAgbmV3UGxhdGZvcm0uY2hyb21lLmdldEJyZWFkY3J1bWJzJCgpLnN1YnNjcmliZSh7CiAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgYnJlYWRjcnVtYlNldFNpbmNlUm91dGVDaGFuZ2UgPSB0cnVlOwogICAgICB9CiAgICB9KTsKICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uICgpIHsKICAgICAgYnJlYWRjcnVtYlNldFNpbmNlUm91dGVDaGFuZ2UgPSBmYWxzZTsKICAgIH0pOwogICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQgfHwge307CgogICAgICBpZiAoYnJlYWRjcnVtYlNldFNpbmNlUm91dGVDaGFuZ2UgfHwgY3VycmVudC4kJHJvdXRlICYmIGN1cnJlbnQuJCRyb3V0ZS5yZWRpcmVjdFRvKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgazdCcmVhZGNydW1ic1Byb3ZpZGVyID0gY3VycmVudC5rN0JyZWFkY3J1bWJzOwoKICAgICAgaWYgKCFrN0JyZWFkY3J1bWJzUHJvdmlkZXIpIHsKICAgICAgICBuZXdQbGF0Zm9ybS5jaHJvbWUuc2V0QnJlYWRjcnVtYnMoW10pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdHJ5IHsKICAgICAgICBuZXdQbGF0Zm9ybS5jaHJvbWUuc2V0QnJlYWRjcnVtYnMoJGluamVjdG9yLmludm9rZShrN0JyZWFkY3J1bWJzUHJvdmlkZXIpKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShlcnJvcik7CiAgICAgIH0KICAgIH0pOwogIH07Cn07Ci8qKgogKiBpbnRlcm5hbCBhbmd1bGFyIHJ1biBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYW5ndWxhciBib290c3RyYXBzIGFuZAogKiBsZXRzIHVzIGludGVncmF0ZSB3aXRoIHRoZSBhbmd1bGFyIHJvdXRlciBzbyB0aGF0IHdlIGNhbiBhdXRvbWF0aWNhbGx5IGNsZWFyCiAqIHRoZSBiYWRnZSBpZiB3ZSBzd2l0Y2ggdG8gYSBLaWJhbmEgYXBwIHRoYXQgZG9lcyBub3QgdXNlIHRoZSBiYWRnZSBjb3JyZWN0bHkKICovCgoKdmFyICRzZXR1cEJhZGdlQXV0b0NsZWFyID0gZnVuY3Rpb24gJHNldHVwQmFkZ2VBdXRvQ2xlYXIobmV3UGxhdGZvcm0pIHsKICByZXR1cm4gZnVuY3Rpb24gKCRyb290U2NvcGUsICRpbmplY3RvcikgewogICAgLy8gQSBmbGFnIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBhdXRvbWF0aWNhbGx5CiAgICAvLyBjbGVhciB0aGUgYmFkZ2UgYmV0d2VlbiBhbmd1bGFyIHJvdXRlIGNoYW5nZXMuCiAgICB2YXIgYmFkZ2VTZXRTaW5jZVJvdXRlQ2hhbmdlID0gZmFsc2U7CiAgICB2YXIgJHJvdXRlID0gJGluamVjdG9yLmhhcygnJHJvdXRlJykgPyAkaW5qZWN0b3IuZ2V0KCckcm91dGUnKSA6IHt9OwogICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKCkgewogICAgICBiYWRnZVNldFNpbmNlUm91dGVDaGFuZ2UgPSBmYWxzZTsKICAgIH0pOwogICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQgfHwge307CgogICAgICBpZiAoYmFkZ2VTZXRTaW5jZVJvdXRlQ2hhbmdlIHx8IGN1cnJlbnQuJCRyb3V0ZSAmJiBjdXJyZW50LiQkcm91dGUucmVkaXJlY3RUbykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGJhZGdlUHJvdmlkZXIgPSBjdXJyZW50LmJhZGdlOwoKICAgICAgaWYgKCFiYWRnZVByb3ZpZGVyKSB7CiAgICAgICAgbmV3UGxhdGZvcm0uY2hyb21lLnNldEJhZGdlKHVuZGVmaW5lZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIG5ld1BsYXRmb3JtLmNocm9tZS5zZXRCYWRnZSgkaW5qZWN0b3IuaW52b2tlKGJhZGdlUHJvdmlkZXIpKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAoMCwgX25vdGlmeS5mYXRhbEVycm9yKShlcnJvcik7CiAgICAgIH0KICAgIH0pOwogIH07Cn07Ci8qKgogKiBpbnRlcm5hbCBhbmd1bGFyIHJ1biBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYW5ndWxhciBib290c3RyYXBzIGFuZAogKiBsZXRzIHVzIGludGVncmF0ZSB3aXRoIHRoZSBhbmd1bGFyIHJvdXRlciBzbyB0aGF0IHdlIGNhbiBhdXRvbWF0aWNhbGx5IGNsZWFyCiAqIHRoZSBoZWxwRXh0ZW5zaW9uIGlmIHdlIHN3aXRjaCB0byBhIEtpYmFuYSBhcHAgdGhhdCBkb2VzIG5vdCBzZXQgaXRzIG93bgogKiBoZWxwRXh0ZW5zaW9uCiAqLwoKCnZhciAkc2V0dXBIZWxwRXh0ZW5zaW9uQXV0b0NsZWFyID0gZnVuY3Rpb24gJHNldHVwSGVscEV4dGVuc2lvbkF1dG9DbGVhcihuZXdQbGF0Zm9ybSkgewogIHJldHVybiBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGluamVjdG9yKSB7CiAgICAvKioKICAgICAqIHJlc2V0IGhlbHBFeHRlbnNpb25TZXRTaW5jZVJvdXRlQ2hhbmdlIGFueSB0aW1lIHRoZSBoZWxwRXh0ZW5zaW9uIGNoYW5nZXMsIGV2ZW4KICAgICAqIGlmIGl0IHdhcyBkb25lIGRpcmVjdGx5IHRocm91Z2ggdGhlIG5ldyBwbGF0Zm9ybQogICAgICovCiAgICB2YXIgaGVscEV4dGVuc2lvblNldFNpbmNlUm91dGVDaGFuZ2UgPSBmYWxzZTsKICAgIG5ld1BsYXRmb3JtLmNocm9tZS5nZXRIZWxwRXh0ZW5zaW9uJCgpLnN1YnNjcmliZSh7CiAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgaGVscEV4dGVuc2lvblNldFNpbmNlUm91dGVDaGFuZ2UgPSB0cnVlOwogICAgICB9CiAgICB9KTsKICAgIHZhciAkcm91dGUgPSAkaW5qZWN0b3IuaGFzKCckcm91dGUnKSA/ICRpbmplY3Rvci5nZXQoJyRyb3V0ZScpIDoge307CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGhlbHBFeHRlbnNpb25TZXRTaW5jZVJvdXRlQ2hhbmdlID0gZmFsc2U7CiAgICB9KTsKICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgY3VycmVudCA9ICRyb3V0ZS5jdXJyZW50IHx8IHt9OwoKICAgICAgaWYgKGhlbHBFeHRlbnNpb25TZXRTaW5jZVJvdXRlQ2hhbmdlIHx8IGN1cnJlbnQuJCRyb3V0ZSAmJiBjdXJyZW50LiQkcm91dGUucmVkaXJlY3RUbykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbmV3UGxhdGZvcm0uY2hyb21lLnNldEhlbHBFeHRlbnNpb24oY3VycmVudC5oZWxwRXh0ZW5zaW9uKTsKICAgIH0pOwogIH07Cn07Cgp2YXIgJHNldHVwVXJsT3ZlcmZsb3dIYW5kbGluZyA9IGZ1bmN0aW9uICRzZXR1cFVybE92ZXJmbG93SGFuZGxpbmcobmV3UGxhdGZvcm0pIHsKICByZXR1cm4gZnVuY3Rpb24gKCRsb2NhdGlvbiwgJHJvb3RTY29wZSwgUHJpdmF0ZSwgY29uZmlnKSB7CiAgICB2YXIgdXJsT3ZlcmZsb3cgPSBuZXcgX2Vycm9yX3VybF9vdmVyZmxvdy5VcmxPdmVyZmxvd1NlcnZpY2UoKTsKCiAgICB2YXIgY2hlY2sgPSBmdW5jdGlvbiBjaGVjaygpIHsKICAgICAgLy8gZGlzYWJsZSBsb25nIHVybCBjaGVja3Mgd2hlbiBzdG9yaW5nIHN0YXRlIGluIHNlc3Npb24gc3RvcmFnZQogICAgICBpZiAoY29uZmlnLmdldCgnc3RhdGU6c3RvcmVJblNlc3Npb25TdG9yYWdlJykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICgkbG9jYXRpb24ucGF0aCgpID09PSAnL2Vycm9yL3VybC1vdmVyZmxvdycpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHVybE92ZXJmbG93LmNoZWNrKCRsb2NhdGlvbi5hYnNVcmwoKSkgPD0gVVJMX0xJTUlUX1dBUk5fV0lUSElOKSB7CiAgICAgICAgICBfbm90aWZ5Mi50b2FzdE5vdGlmaWNhdGlvbnMuYWRkV2FybmluZyh7CiAgICAgICAgICAgIHRpdGxlOiBfaTE4bi5pMThuLnRyYW5zbGF0ZSgnY29tbW9uLnVpLmNocm9tZS5iaWdVcmxXYXJuaW5nTm90aWZpY2F0aW9uVGl0bGUnLCB7CiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICdUaGUgVVJMIGlzIGJpZyBhbmQgS2liYW5hIG1pZ2h0IHN0b3Agd29ya2luZycKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHRleHQ6IF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0LkZyYWdtZW50LCBudWxsLCBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdDIuRm9ybWF0dGVkTWVzc2FnZSwgewogICAgICAgICAgICAgIGlkOiAiY29tbW9uLnVpLmNocm9tZS5iaWdVcmxXYXJuaW5nTm90aWZpY2F0aW9uTWVzc2FnZSIsCiAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U6ICJFaXRoZXIgZW5hYmxlIHRoZSB7c3RvcmVJblNlc3Npb25TdG9yYWdlUGFyYW19IG9wdGlvbiBpbiB7YWR2YW5jZWRTZXR0aW5nc0xpbmt9IG9yIHNpbXBsaWZ5IHRoZSBvbnNjcmVlbiB2aXN1YWxzLiIsCiAgICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgICBzdG9yZUluU2Vzc2lvblN0b3JhZ2VQYXJhbTogX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudCgiY29kZSIsIG51bGwsICJzdGF0ZTpzdG9yZUluU2Vzc2lvblN0b3JhZ2UiKSwKICAgICAgICAgICAgICAgIGFkdmFuY2VkU2V0dGluZ3NMaW5rOiBfcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJhIiwgewogICAgICAgICAgICAgICAgICBocmVmOiAiIy9tYW5hZ2VtZW50L2tpYmFuYS9zZXR0aW5ncyIKICAgICAgICAgICAgICAgIH0sIF9yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Mi5Gb3JtYXR0ZWRNZXNzYWdlLCB7CiAgICAgICAgICAgICAgICAgIGlkOiAiY29tbW9uLnVpLmNocm9tZS5iaWdVcmxXYXJuaW5nTm90aWZpY2F0aW9uTWVzc2FnZS5hZHZhbmNlZFNldHRpbmdzTGlua1RleHQiLAogICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZTogImFkdmFuY2VkIHNldHRpbmdzIgogICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSkKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gKDAsIF91cmwubW9kaWZ5VXJsKSh3aW5kb3cubG9jYXRpb24uaHJlZiwgZnVuY3Rpb24gKHBhcnRzKSB7CiAgICAgICAgICBwYXJ0cy5oYXNoID0gJyMvZXJyb3IvdXJsLW92ZXJmbG93JzsKICAgICAgICB9KTsgLy8gZm9yY2UgdGhlIGJyb3dzZXIgdG8gcmVsb2FkIHRvIHRoYXQgS2liYW5hJ3MgcG90ZW50aWFsbHkgdW5zdGFibGUgc3RhdGUgaXMgdW5sb2FkZWQKCiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9OwoKICAgICRyb290U2NvcGUuJG9uKCckcm91dGVVcGRhdGUnLCBjaGVjayk7CiAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3RhcnQnLCBjaGVjayk7CiAgfTsKfTs="},null]}