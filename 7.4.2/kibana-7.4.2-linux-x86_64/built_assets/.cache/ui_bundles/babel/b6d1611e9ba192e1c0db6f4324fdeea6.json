{"remainingRequest":"node_modules/thread-loader/dist/cjs.js??ref--8-1!node_modules/babel-loader/lib/index.js??ref--8-2!src/legacy/ui/public/vislib/visualizations/point_series.js","dependencies":[{"path":"src/legacy/ui/public/vislib/visualizations/point_series.js","mtime":1572296413396},{"path":"node_modules/cache-loader/dist/cjs.js","mtime":1572297165884},{"path":"node_modules/thread-loader/dist/cjs.js","mtime":1572297178034},{"path":"node_modules/babel-loader/lib/index.js","mtime":1572297165764}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlBvaW50U2VyaWVzID0gdm9pZCAwOwoKdmFyIF9kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJkMyIpKTsKCnZhciBfbG9kYXNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsb2Rhc2giKSk7Cgp2YXIgX2pxdWVyeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianF1ZXJ5IikpOwoKdmFyIF90b29sdGlwID0gcmVxdWlyZSgiLi4vLi4vdmlzL2NvbXBvbmVudHMvdG9vbHRpcCIpOwoKdmFyIF9jaGFydCA9IHJlcXVpcmUoIi4vX2NoYXJ0Iik7Cgp2YXIgX3RpbWVfbWFya2VyID0gcmVxdWlyZSgiLi90aW1lX21hcmtlciIpOwoKdmFyIF9zZXJpZXNfdHlwZXMgPSByZXF1aXJlKCIuL3BvaW50X3Nlcmllcy9zZXJpZXNfdHlwZXMiKTsKCnZhciBfdG91Y2hkb3duVG1wbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vcGFydGlhbHMvdG91Y2hkb3duLnRtcGwuaHRtbCIpKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9Cgp2YXIgc2VyaVR5cGVzID0gX3Nlcmllc190eXBlcy5zZXJpZXNUeXBlczsKCnZhciB0b3VjaGRvd25UbXBsID0gX2xvZGFzaC5kZWZhdWx0LnRlbXBsYXRlKF90b3VjaGRvd25UbXBsLmRlZmF1bHQpOwovKioKICogTGluZSBDaGFydCBWaXN1YWxpemF0aW9uCiAqCiAqIEBjbGFzcyBQb2ludFNlcmllcwogKiBAY29uc3RydWN0b3IKICogQGV4dGVuZHMgQ2hhcnQKICogQHBhcmFtIGhhbmRsZXIge09iamVjdH0gUmVmZXJlbmNlIHRvIHRoZSBIYW5kbGVyIENsYXNzIENvbnN0cnVjdG9yCiAqIEBwYXJhbSBlbCB7SFRNTEVsZW1lbnR9IEhUTUwgZWxlbWVudCB0byB3aGljaCB0aGUgY2hhcnQgd2lsbCBiZSBhcHBlbmRlZAogKiBAcGFyYW0gY2hhcnREYXRhIHtPYmplY3R9IEVsYXN0aWNzZWFyY2ggcXVlcnkgcmVzdWx0cyBmb3IgdGhpcyBzcGVjaWZpYyBjaGFydAogKi8KCgp2YXIgUG9pbnRTZXJpZXMgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ2hhcnQpIHsKICBfaW5oZXJpdHMoUG9pbnRTZXJpZXMsIF9DaGFydCk7CgogIGZ1bmN0aW9uIFBvaW50U2VyaWVzKGhhbmRsZXIsIGNoYXJ0RWwsIGNoYXJ0RGF0YSkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2ludFNlcmllcyk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUG9pbnRTZXJpZXMpLmNhbGwodGhpcywgaGFuZGxlciwgY2hhcnRFbCwgY2hhcnREYXRhKSk7CiAgICBfdGhpcy5oYW5kbGVyID0gaGFuZGxlcjsKICAgIF90aGlzLmNoYXJ0RGF0YSA9IGNoYXJ0RGF0YTsKICAgIF90aGlzLmNoYXJ0RWwgPSBjaGFydEVsOwogICAgX3RoaXMuY2hhcnRDb25maWcgPSBfdGhpcy5maW5kQ2hhcnRDb25maWcoKTsKICAgIF90aGlzLmhhbmRsZXIucG9pbnRTZXJpZXMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhQb2ludFNlcmllcywgW3sKICAgIGtleTogImZpbmRDaGFydENvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZENoYXJ0Q29uZmlnKCkgewogICAgICB2YXIgY2hhcnRzID0gdGhpcy5oYW5kbGVyLnZpc0NvbmZpZy5nZXQoJ2NoYXJ0cycpOwogICAgICB2YXIgY2hhcnRJbmRleCA9IHRoaXMuaGFuZGxlci5kYXRhLmNoYXJ0RGF0YSgpLmluZGV4T2YodGhpcy5jaGFydERhdGEpOwogICAgICByZXR1cm4gY2hhcnRzW2NoYXJ0SW5kZXhdOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNlcmllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VyaWVzKHNlcmllc0lkKSB7CiAgICAgIHJldHVybiB0aGlzLnNlcmllcy5maW5kKGZ1bmN0aW9uIChzZXJpZXMpIHsKICAgICAgICByZXR1cm4gc2VyaWVzLmNoYXJ0RGF0YS5hZ2dJZCA9PT0gc2VyaWVzSWQ7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZEJhY2tncm91bmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEJhY2tncm91bmQoc3ZnLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgIHZhciBzdGFydFggPSAwOwogICAgICB2YXIgc3RhcnRZID0gMDsKICAgICAgcmV0dXJuIHN2Zy5hcHBlbmQoJ3JlY3QnKS5hdHRyKCd4Jywgc3RhcnRYKS5hdHRyKCd5Jywgc3RhcnRZKS5hdHRyKCd3aWR0aCcsIHdpZHRoKS5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpLmF0dHIoJ2ZpbGwnLCAndHJhbnNwYXJlbnQnKS5hdHRyKCdjbGFzcycsICdiYWNrZ3JvdW5kJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkR3JpZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkR3JpZChzdmcpIHsKICAgICAgdmFyIF9zdmckbm9kZSRnZXRCQm94ID0gc3ZnLm5vZGUoKS5nZXRCQm94KCksCiAgICAgICAgICB3aWR0aCA9IF9zdmckbm9kZSRnZXRCQm94LndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gX3N2ZyRub2RlJGdldEJCb3guaGVpZ2h0OwoKICAgICAgcmV0dXJuIHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdncmlkJykuY2FsbCh0aGlzLmhhbmRsZXIuZ3JpZC5kcmF3KHdpZHRoLCBoZWlnaHQpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRDbGlwUGF0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2xpcFBhdGgoc3ZnKSB7CiAgICAgIHZhciBfc3ZnJG5vZGUkZ2V0QkJveDIgPSBzdmcubm9kZSgpLmdldEJCb3goKSwKICAgICAgICAgIHdpZHRoID0gX3N2ZyRub2RlJGdldEJCb3gyLndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gX3N2ZyRub2RlJGdldEJCb3gyLmhlaWdodDsKCiAgICAgIHZhciBzdGFydFggPSAwOwogICAgICB2YXIgc3RhcnRZID0gMDsKICAgICAgdGhpcy5jbGlwUGF0aElkID0gJ2NoYXJ0LWFyZWEnICsgX2xvZGFzaC5kZWZhdWx0LnVuaXF1ZUlkKCk7IC8vIENyZWF0aW5nIGNsaXBQYXRoCgogICAgICByZXR1cm4gc3ZnLmFwcGVuZCgnY2xpcFBhdGgnKS5hdHRyKCdpZCcsIHRoaXMuY2xpcFBhdGhJZCkuYXBwZW5kKCdyZWN0JykuYXR0cigneCcsIHN0YXJ0WCkuYXR0cigneScsIHN0YXJ0WSkuYXR0cignd2lkdGgnLCB3aWR0aCkuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRFdmVudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50cyhzdmcpIHsKICAgICAgdmFyIGlzQnJ1c2hhYmxlID0gdGhpcy5ldmVudHMuaXNCcnVzaGFibGUoKTsKCiAgICAgIGlmIChpc0JydXNoYWJsZSkgewogICAgICAgIHRoaXMuZXZlbnRzLmFkZEJydXNoRXZlbnQoc3ZnKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUVuZFpvbmVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVFbmRab25lcyhzdmcpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgeEF4aXMgPSB0aGlzLmhhbmRsZXIuY2F0ZWdvcnlBeGVzWzBdOwogICAgICB2YXIgeFNjYWxlID0geEF4aXMuZ2V0U2NhbGUoKTsKICAgICAgdmFyIG9yZGVyZWQgPSB4QXhpcy5vcmRlcmVkOwogICAgICB2YXIgaXNIb3Jpem9udGFsID0geEF4aXMuYXhpc0NvbmZpZy5pc0hvcml6b250YWwoKTsKCiAgICAgIHZhciBtaXNzaW5nTWluTWF4ID0gIW9yZGVyZWQgfHwgX2xvZGFzaC5kZWZhdWx0LmlzVW5kZWZpbmVkKG9yZGVyZWQubWluKSB8fCBfbG9kYXNoLmRlZmF1bHQuaXNVbmRlZmluZWQob3JkZXJlZC5tYXgpOwoKICAgICAgaWYgKG1pc3NpbmdNaW5NYXggfHwgb3JkZXJlZC5lbmR6b25lcyA9PT0gZmFsc2UpIHJldHVybjsKCiAgICAgIHZhciBfc3ZnJG5vZGUkZ2V0QkJveDMgPSBzdmcubm9kZSgpLmdldEJCb3goKSwKICAgICAgICAgIHdpZHRoID0gX3N2ZyRub2RlJGdldEJCb3gzLndpZHRoLAogICAgICAgICAgaGVpZ2h0ID0gX3N2ZyRub2RlJGdldEJCb3gzLmhlaWdodDsgLy8gd2UgZG9uJ3Qgd2FudCB0byBkcmF3IGVuZHpvbmVzIG92ZXIgb3VyIG1pbiBhbmQgbWF4IHZhbHVlcywgdGhleQogICAgICAvLyBhcmUgc3RpbGwgYSBwYXJ0IG9mIHRoZSBkYXRhc2V0LiBXZSB3YW50IHRvIHN0YXJ0IHRoZSBlbmR6b25lcyBqdXN0CiAgICAgIC8vIG91dHNpZGUgb2YgdGhlbSBzbyB3ZSB3aWxsIHVzZSB0aGVzZSB2YWx1ZXMgcmF0aGVyIHRoYW4gb3JkZXJlZC5taW4vbWF4CgoKICAgICAgdmFyIG9uZVVuaXQgPSAob3JkZXJlZC51bml0cyB8fCBfbG9kYXNoLmRlZmF1bHQuaWRlbnRpdHkpKDEpOwoKICAgICAgdmFyIGRyYXdJbnZlcnRlZCA9IGlzSG9yaXpvbnRhbCB8fCB4QXhpcy5heGlzQ29uZmlnLmdldCgnc2NhbGUuaW52ZXJ0ZWQnLCBmYWxzZSk7CiAgICAgIHZhciBzaXplID0gaXNIb3Jpem9udGFsID8gd2lkdGggOiBoZWlnaHQ7IC8vIHBvaW50cyBvbiB0aGlzIGF4aXMgcmVwcmVzZW50IHRoZSBhbW91bnQgb2YgdGltZSB0aGV5IGNvdmVyLAogICAgICAvLyBzbyBkcmF3IHRoZSBlbmR6b25lcyBhdCB0aGUgYWN0dWFsIHRpbWUgYm91bmRzCgogICAgICB2YXIgbGVmdEVuZHpvbmUgPSB7CiAgICAgICAgeDogZHJhd0ludmVydGVkID8gMCA6IE1hdGgubWF4KHhTY2FsZShvcmRlcmVkLm1pbiksIDApLAogICAgICAgIHc6IGRyYXdJbnZlcnRlZCA/IE1hdGgubWF4KHhTY2FsZShvcmRlcmVkLm1pbiksIDApIDogaGVpZ2h0IC0gTWF0aC5tYXgoeFNjYWxlKG9yZGVyZWQubWluKSwgMCkKICAgICAgfTsKICAgICAgdmFyIGV4cGFuZExhc3RCdWNrZXQgPSB4QXhpcy5heGlzQ29uZmlnLmdldCgnc2NhbGUuZXhwYW5kTGFzdEJ1Y2tldCcpOwogICAgICB2YXIgcmlnaHRMYXN0VmFsID0gZXhwYW5kTGFzdEJ1Y2tldCA/IG9yZGVyZWQubWF4IDogTWF0aC5taW4ob3JkZXJlZC5tYXgsIF9sb2Rhc2guZGVmYXVsdC5sYXN0KHhBeGlzLnZhbHVlcykpOwogICAgICB2YXIgcmlnaHRTdGFydCA9IHJpZ2h0TGFzdFZhbCArIG9uZVVuaXQ7CiAgICAgIHZhciByaWdodEVuZHpvbmUgPSB7CiAgICAgICAgeDogZHJhd0ludmVydGVkID8geFNjYWxlKHJpZ2h0U3RhcnQpIDogMCwKICAgICAgICB3OiBkcmF3SW52ZXJ0ZWQgPyBNYXRoLm1heChzaXplIC0geFNjYWxlKHJpZ2h0U3RhcnQpLCAwKSA6IHhTY2FsZShyaWdodFN0YXJ0KQogICAgICB9OwogICAgICB0aGlzLmVuZHpvbmVzID0gc3ZnLnNlbGVjdEFsbCgnLmxheWVyJykuZGF0YShbbGVmdEVuZHpvbmUsIHJpZ2h0RW5kem9uZV0pLmVudGVyKCkuaW5zZXJ0KCdnJywgJy5icnVzaCcpLmF0dHIoJ2NsYXNzJywgJ2VuZHpvbmUnKS5hcHBlbmQoJ3JlY3QnKS5hdHRyKCdjbGFzcycsICd6b25lJykuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGlzSG9yaXpvbnRhbCA/IGQueCA6IDA7CiAgICAgIH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBpc0hvcml6b250YWwgPyAwIDogZC54OwogICAgICB9KS5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBpc0hvcml6b250YWwgPyBoZWlnaHQgOiBkLnc7CiAgICAgIH0pLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gaXNIb3Jpem9udGFsID8gZC53IDogd2lkdGg7CiAgICAgIH0pOwoKICAgICAgZnVuY3Rpb24gY2FsbFBsYXkoZXZlbnQpIHsKICAgICAgICB2YXIgYm91bmREYXRhID0gZXZlbnQudGFyZ2V0Ll9fZGF0YV9fOwogICAgICAgIHZhciBtb3VzZUNoYXJ0WENvb3JkID0gZXZlbnQuY2xpZW50WCAtIHNlbGYuY2hhcnRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0OwogICAgICAgIHZhciBtb3VzZUNoYXJ0WUNvb3JkID0gZXZlbnQuY2xpZW50WSAtIHNlbGYuY2hhcnRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CiAgICAgICAgdmFyIHdob2xlQnVja2V0ID0gYm91bmREYXRhICYmIGJvdW5kRGF0YS54ICE9IG51bGw7IC8vIHRoZSBtaW4gYW5kIG1heCB0aGF0IHRoZSBlbmR6b25lcyBzdGFydCBpbgoKICAgICAgICB2YXIgbWluID0gZHJhd0ludmVydGVkID8gbGVmdEVuZHpvbmUudyA6IHJpZ2h0RW5kem9uZS53OwogICAgICAgIHZhciBtYXggPSBkcmF3SW52ZXJ0ZWQgPyByaWdodEVuZHpvbmUueCA6IGxlZnRFbmR6b25lLng7IC8vIGJvdW5kcyBvZiB0aGUgY3Vyc29yIHRvIGNvbnNpZGVyCgogICAgICAgIHZhciB4TGVmdCA9IGlzSG9yaXpvbnRhbCA/IG1vdXNlQ2hhcnRYQ29vcmQgOiBtb3VzZUNoYXJ0WUNvb3JkOwogICAgICAgIHZhciB4UmlnaHQgPSBpc0hvcml6b250YWwgPyBtb3VzZUNoYXJ0WENvb3JkIDogbW91c2VDaGFydFlDb29yZDsKCiAgICAgICAgaWYgKHdob2xlQnVja2V0KSB7CiAgICAgICAgICB4TGVmdCA9IHhTY2FsZShib3VuZERhdGEueCk7CiAgICAgICAgICB4UmlnaHQgPSB4U2NhbGUoeEF4aXMuYWRkSW50ZXJ2YWwoYm91bmREYXRhLngpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aG9sZUJ1Y2tldDogd2hvbGVCdWNrZXQsCiAgICAgICAgICB0b3VjaGRvd246IG1pbiA+IHhMZWZ0IHx8IG1heCA8IHhSaWdodAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHRleHRGb3JtYXR0ZXIoKSB7CiAgICAgICAgcmV0dXJuIHRvdWNoZG93blRtcGwoY2FsbFBsYXkoX2QuZGVmYXVsdC5ldmVudCkpOwogICAgICB9CgogICAgICB2YXIgZW5kem9uZVRUID0gbmV3IF90b29sdGlwLlRvb2x0aXAoJ2VuZHpvbmVzJywgdGhpcy5oYW5kbGVyLmVsLCB0ZXh0Rm9ybWF0dGVyLCBudWxsKTsKICAgICAgdGhpcy50b29sdGlwcy5wdXNoKGVuZHpvbmVUVCk7CiAgICAgIGVuZHpvbmVUVC5vcmRlciA9IDA7CgogICAgICBlbmR6b25lVFQuc2hvd0NvbmRpdGlvbiA9IGZ1bmN0aW9uIGluRW5kem9uZSgpIHsKICAgICAgICByZXR1cm4gY2FsbFBsYXkoX2QuZGVmYXVsdC5ldmVudCkudG91Y2hkb3duOwogICAgICB9OwoKICAgICAgZW5kem9uZVRULnJlbmRlcigpKHN2Zyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FsY3VsYXRlUmFkaXVzTGltaXRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVSYWRpdXNMaW1pdHMoZGF0YSkgewogICAgICB0aGlzLnJhZGlpID0gKDAsIF9sb2Rhc2guZGVmYXVsdCkoZGF0YS5zZXJpZXMpLm1hcChmdW5jdGlvbiAoc2VyaWVzKSB7CiAgICAgICAgcmV0dXJuIF9sb2Rhc2guZGVmYXVsdC5tYXAoc2VyaWVzLnZhbHVlcywgJ3onKTsKICAgICAgfSkuZmxhdHRlbkRlZXAoKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgdmFsKSB7CiAgICAgICAgaWYgKHJlc3VsdC5taW4gPiB2YWwpIHJlc3VsdC5taW4gPSB2YWw7CiAgICAgICAgaWYgKHJlc3VsdC5tYXggPCB2YWwpIHJlc3VsdC5tYXggPSB2YWw7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSwgewogICAgICAgIG1pbjogSW5maW5pdHksCiAgICAgICAgbWF4OiAtSW5maW5pdHkKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJhdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgJGVsZW0gPSAoMCwgX2pxdWVyeS5kZWZhdWx0KSh0aGlzLmNoYXJ0RWwpOwogICAgICB2YXIgd2lkdGggPSB0aGlzLmNoYXJ0Q29uZmlnLndpZHRoID0gJGVsZW0ud2lkdGgoKTsKICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2hhcnRDb25maWcuaGVpZ2h0ID0gJGVsZW0uaGVpZ2h0KCk7CiAgICAgIHZhciB4U2NhbGUgPSB0aGlzLmhhbmRsZXIuY2F0ZWdvcnlBeGVzWzBdLmdldFNjYWxlKCk7CiAgICAgIHZhciBhZGRUaW1lTWFya2VyID0gdGhpcy5jaGFydENvbmZpZy5hZGRUaW1lTWFya2VyOwogICAgICB2YXIgdGltZXMgPSB0aGlzLmNoYXJ0Q29uZmlnLnRpbWVzIHx8IFtdOwogICAgICB2YXIgZGl2OwogICAgICB2YXIgc3ZnOwogICAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGVjdGlvbikgewogICAgICAgIHNlbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICB2YXIgZWwgPSB0aGlzOwogICAgICAgICAgZGl2ID0gX2QuZGVmYXVsdC5zZWxlY3QoZWwpOwogICAgICAgICAgc3ZnID0gZGl2LmFwcGVuZCgnc3ZnJykuYXR0cignZm9jdXNhYmxlJywgJ2ZhbHNlJykuYXR0cignd2lkdGgnLCB3aWR0aCkuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTsKICAgICAgICAgIHNlbGYuYWRkQmFja2dyb3VuZChzdmcsIHdpZHRoLCBoZWlnaHQpOwogICAgICAgICAgc2VsZi5hZGRHcmlkKHN2Zyk7CiAgICAgICAgICBzZWxmLmFkZENsaXBQYXRoKHN2Zyk7CiAgICAgICAgICBzZWxmLmFkZEV2ZW50cyhzdmcpOwogICAgICAgICAgc2VsZi5jcmVhdGVFbmRab25lcyhzdmcpOwogICAgICAgICAgc2VsZi5jYWxjdWxhdGVSYWRpdXNMaW1pdHMoZGF0YSk7CiAgICAgICAgICBzZWxmLnNlcmllcyA9IFtdOwoKICAgICAgICAgIF9sb2Rhc2guZGVmYXVsdC5lYWNoKHNlbGYuY2hhcnRDb25maWcuc2VyaWVzLCBmdW5jdGlvbiAoc2VyaUFyZ3MsIGkpIHsKICAgICAgICAgICAgaWYgKCFzZXJpQXJncy5zaG93KSByZXR1cm47CiAgICAgICAgICAgIHZhciBTZXJpQ2xhc3MgPSBzZXJpVHlwZXNbc2VyaUFyZ3MudHlwZSB8fCBzZWxmLmhhbmRsZXIudmlzQ29uZmlnLmdldCgnY2hhcnQudHlwZScpXSB8fCBzZXJpVHlwZXMubGluZTsKICAgICAgICAgICAgdmFyIHNlcmllcyA9IG5ldyBTZXJpQ2xhc3Moc2VsZi5oYW5kbGVyLCBzdmcsIGRhdGEuc2VyaWVzW2ldLCBzZXJpQXJncyk7CiAgICAgICAgICAgIHNlcmllcy5ldmVudHMgPSBzZWxmLmV2ZW50czsKICAgICAgICAgICAgc3ZnLmNhbGwoc2VyaWVzLmRyYXcoKSk7CiAgICAgICAgICAgIHNlbGYuc2VyaWVzLnB1c2goc2VyaWVzKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChhZGRUaW1lTWFya2VyKSB7CiAgICAgICAgICAgIC8vRG9tYWluIGVuZCBvZiAnbm93JyB3aWxsIGJlIG1pbGxpc2Vjb25kcyBiZWhpbmQgY3VycmVudCB0aW1lCiAgICAgICAgICAgIC8vRXh0ZW5kIHRvVGltZSBieSAxIG1pbnV0ZSB0byBlbnN1cmUgdGhvc2UgY2FzZXMgaGF2ZSBhIFRpbWVNYXJrZXIKICAgICAgICAgICAgdmFyIHRvVGltZSA9IG5ldyBEYXRlKHhTY2FsZS5kb21haW4oKVsxXS5nZXRUaW1lKCkgKyA2MDAwMCk7CiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7CgogICAgICAgICAgICBpZiAodG9UaW1lID4gY3VycmVudFRpbWUpIHsKICAgICAgICAgICAgICBuZXcgX3RpbWVfbWFya2VyLlRpbWVNYXJrZXIodGltZXMsIHhTY2FsZSwgaGVpZ2h0KS5yZW5kZXIoc3ZnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBzdmc7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUG9pbnRTZXJpZXM7Cn0oX2NoYXJ0LkNoYXJ0KTsKCmV4cG9ydHMuUG9pbnRTZXJpZXMgPSBQb2ludFNlcmllczs="},null]}