(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"visDefaultEditor.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["visDefaultEditor_bundle_jsonpfunction"]=window["visDefaultEditor_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=14)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return Schemas}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getSchemaByName}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _data_public__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);var _data_public__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_data_public__WEBPACK_IMPORTED_MODULE_1__);var _AggGroupNames$Bucket,_AggGroupNames$Metric;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}_AggGroupNames$Bucket=_data_public__WEBPACK_IMPORTED_MODULE_1__["AggGroupNames"].Buckets;_AggGroupNames$Metric=_data_public__WEBPACK_IMPORTED_MODULE_1__["AggGroupNames"].Metrics;var Schemas=function Schemas(schemas){var _this=this;_classCallCheck(this,Schemas);_defineProperty(this,"all",[]);_defineProperty(this,_AggGroupNames$Bucket,[]);_defineProperty(this,_AggGroupNames$Metric,[]);lodash__WEBPACK_IMPORTED_MODULE_0___default()(schemas||[]).chain().map((function(schema){if(!schema.name)throw new Error("all schema must have a unique name");if(schema.name==="split"){schema.params=[{name:"row",default:true}]}Object(lodash__WEBPACK_IMPORTED_MODULE_0__["defaults"])(schema,{min:0,max:Infinity,group:_data_public__WEBPACK_IMPORTED_MODULE_1__["AggGroupNames"].Buckets,title:schema.name,aggFilter:"*",editor:false,params:[]});return schema})).tap((function(fullSchemas){_this.all=fullSchemas})).groupBy("group").forOwn((function(group,groupName){_this[groupName]=group})).commit()};var getSchemaByName=function getSchemaByName(schemas,schemaName){return schemas.find((function(s){return s.name===schemaName}))||{}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return RangesParamEditor}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__);var lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);var lodash__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var FROM_PLACEHOLDER="−∞";var TO_PLACEHOLDER="+∞";var generateId=Object(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["htmlIdGenerator"])();var isEmpty=function isEmpty(value){return value===undefined||value===null};function RangesParamEditor(_ref){var _ref$dataTestSubj=_ref["data-test-subj"],dataTestSubj=_ref$dataTestSubj===void 0?"range":_ref$dataTestSubj,addRangeValues=_ref.addRangeValues,error=_ref.error,_ref$value=_ref.value,value=_ref$value===void 0?[]:_ref$value,hidePlaceholders=_ref.hidePlaceholders,setValue=_ref.setValue,setTouched=_ref.setTouched,setValidity=_ref.setValidity,validateRange=_ref.validateRange;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])((function(){return value.map((function(range){return _objectSpread(_objectSpread({},range),{},{id:generateId()})}))})),_useState2=_slicedToArray(_useState,2),ranges=_useState2[0],setRanges=_useState2[1];var updateRanges=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])((function(rangeValues){setValue(rangeValues.map((function(range){return Object(lodash__WEBPACK_IMPORTED_MODULE_4__["omit"])(range,"id")})));setRanges(rangeValues);if(setTouched){setTouched(true)}}),[setTouched,setValue]);var onAddRange=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])((function(){return addRangeValues?updateRanges([].concat(_toConsumableArray(ranges),[_objectSpread(_objectSpread({},addRangeValues()),{},{id:generateId()})])):updateRanges([].concat(_toConsumableArray(ranges),[{id:generateId()}]))}),[addRangeValues,ranges,updateRanges]);var onRemoveRange=function onRemoveRange(id){return updateRanges(ranges.filter((function(range){return range.id!==id})))};var onChangeRange=function onChangeRange(id,key,newValue){return updateRanges(ranges.map((function(range){return range.id===id?_objectSpread(_objectSpread({},range),{},{[key]:newValue===""?undefined:parseFloat(newValue)}):range})))};Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])((function(){if(!value.length){onAddRange()}}),[onAddRange,value.length]);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])((function(){if(value.length!==ranges.length||value.some((function(range,index){return!Object(lodash__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(range,Object(lodash__WEBPACK_IMPORTED_MODULE_4__["omit"])(ranges[index],"id"))}))){setRanges(value.map((function(range){return _objectSpread(_objectSpread({},range),{},{id:generateId()})})))}}),[ranges,value]);var hasInvalidRange=validateRange&&ranges.some((function(_ref2,index){var from=_ref2.from,to=_ref2.to,id=_ref2.id;var _validateRange=validateRange({from:from,to:to},index),_validateRange2=_slicedToArray(_validateRange,2),isFromValid=_validateRange2[0],isToValid=_validateRange2[1];return!isFromValid||!isToValid}));Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])((function(){if(setValidity){setValidity(!hasInvalidRange)}}),[hasInvalidRange,setValidity]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFormRow"],{compressed:true,fullWidth:true},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,ranges.map((function(_ref3,index){var from=_ref3.from,to=_ref3.to,id=_ref3.id;var deleteBtnTitle=_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.removeRangeButtonAriaLabel",{defaultMessage:"Remove the range of {from} to {to}",values:{from:isEmpty(from)?FROM_PLACEHOLDER:from,to:isEmpty(to)?TO_PLACEHOLDER:to}});var isFromValid=true;var isToValid=true;if(validateRange){var _validateRange3=validateRange({from:from,to:to},index);var _validateRange4=_slicedToArray(_validateRange3,2);isFromValid=_validateRange4[0];isToValid=_validateRange4[1]}var gtePrependLabel=_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.greaterThanOrEqualPrepend",{defaultMessage:"≥"});var gteTooltipContent=_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.greaterThanOrEqualTooltip",{defaultMessage:"Greater than or equal to"});var ltPrependLabel=_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.lessThanPrepend",{defaultMessage:"<"});var ltTooltipContent=_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.lessThanTooltip",{defaultMessage:"Less than"});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],{key:id},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexGroup"],{gutterSize:"s",alignItems:"center",responsive:false},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFieldNumber"],{"aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.fromLabel",{defaultMessage:"From"}),"data-test-subj":"".concat(dataTestSubj).concat(index,"__from"),value:isEmpty(from)?"":from,placeholder:hidePlaceholders?undefined:FROM_PLACEHOLDER,onChange:function onChange(ev){return onChangeRange(id,"from",ev.target.value)},fullWidth:true,compressed:true,isInvalid:!isFromValid,prepend:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiToolTip"],{content:gteTooltipContent},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiText"],{size:"s"},gtePrependLabel))})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{grow:false},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiIcon"],{type:"sortRight",color:"subdued"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFieldNumber"],{"aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("visDefaultEditor.controls.ranges.toLabel",{defaultMessage:"To"}),"data-test-subj":"".concat(dataTestSubj).concat(index,"__to"),value:isEmpty(to)?"":to,placeholder:hidePlaceholders?undefined:TO_PLACEHOLDER,onChange:function onChange(ev){return onChangeRange(id,"to",ev.target.value)},fullWidth:true,compressed:true,isInvalid:!isToValid,prepend:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiToolTip"],{content:ltTooltipContent},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiText"],{size:"s"},ltPrependLabel))})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{grow:false},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiButtonIcon"],{title:deleteBtnTitle,"aria-label":deleteBtnTitle,disabled:value.length===1,color:"danger",iconType:"trash",onClick:function onClick(){return onRemoveRange(id)}}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],{size:"xs"}))})),hasInvalidRange&&error&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFormErrorText"],null,error),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],{size:"s"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiButtonEmpty"],{"data-test-subj":"".concat(dataTestSubj,"__addRangeButton"),iconType:"plusInCircleFilled",onClick:onAddRange,size:"xs"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"visDefaultEditor.controls.ranges.addRangeButtonLabel",defaultMessage:"Add range"})))))}},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return useSubAggParamsHandlers}));__webpack_require__.d(__webpack_exports__,"h",(function(){return inline_comp_wrapper_wrapWithInlineComp}));__webpack_require__.d(__webpack_exports__,"c",(function(){return parseCommaSeparatedList}));__webpack_require__.d(__webpack_exports__,"a",(function(){return formatListAsProse}));__webpack_require__.d(__webpack_exports__,"b",(function(){return isCompatibleAggregation}));__webpack_require__.d(__webpack_exports__,"d",(function(){return useAvailableOptions}));__webpack_require__.d(__webpack_exports__,"e",(function(){return useFallbackMetric}));__webpack_require__.d(__webpack_exports__,"g",(function(){return useValidation}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function useSubAggParamsHandlers(agg,aggParam,subAgg,setValue){var setAggParamValue=Object(external_kbnSharedDeps_React_["useCallback"])((function(aggId,paramName,val){var parsedParams=subAgg.toJSON();var params=_objectSpread(_objectSpread({},parsedParams),{},{params:_objectSpread(_objectSpread({},parsedParams.params),{},{[paramName]:val})});setValue(aggParam.makeAgg(agg,params))}),[agg,aggParam,setValue,subAgg]);var onAggTypeChange=Object(external_kbnSharedDeps_React_["useCallback"])((function(aggId,aggType){var parsedAgg=subAgg.toJSON();var params=_objectSpread(_objectSpread({},parsedAgg),{},{type:aggType});setValue(aggParam.makeAgg(agg,params))}),[agg,aggParam,setValue,subAgg]);return{onAggTypeChange:onAggTypeChange,setAggParamValue:setAggParamValue}}var inline_comp_wrapper_wrapWithInlineComp=function wrapWithInlineComp(WrapComponent){return function(props){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"visEditorAggParam--half visEditorAggParam--half-".concat(props.aggParam.name)},external_kbnSharedDeps_React_default.a.createElement(WrapComponent,props))}};function parseCommaSeparatedList(input){if(Array.isArray(input)){return input}return String(input||"").split(",").map((function(word){return word.trim()})).filter(Boolean)}function formatListAsProse(list){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _options$inclusive=options.inclusive,inclusive=_options$inclusive===void 0?true:_options$inclusive;var count=list.length;var conjunction=inclusive?"and":"or";if(count<=2){return list.join(" ".concat(conjunction," "))}return list.slice(0,-1).concat("".concat(conjunction," ").concat(list[count-1])).join(", ")}var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}var DEFAULT_METRIC="custom";var CUSTOM_METRIC={text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visDefaultEditor.controls.customMetricLabel",{defaultMessage:"Custom metric"}),value:DEFAULT_METRIC};function useCompatibleAggCallback(aggFilter){return Object(external_kbnSharedDeps_React_["useCallback"])(isCompatibleAggregation(aggFilter),[aggFilter])}function useFallbackMetric(setValue,aggFilter,metricAggs,value,fallbackValue){var isCompatibleAgg=useCompatibleAggCallback(aggFilter);Object(external_kbnSharedDeps_React_["useEffect"])((function(){if(metricAggs&&value&&value!==DEFAULT_METRIC){var respAgg=metricAggs.filter(isCompatibleAgg).find((function(aggregation){return aggregation.id===value}));if(!respAgg&&value!==fallbackValue){setValue(fallbackValue)}}}),[setValue,isCompatibleAgg,metricAggs,value,fallbackValue])}function useAvailableOptions(aggFilter){var metricAggs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var defaultOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var isCompatibleAgg=useCompatibleAggCallback(aggFilter);var options=Object(external_kbnSharedDeps_React_["useMemo"])((function(){return[].concat(_toConsumableArray(metricAggs.map((function(respAgg){return{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visDefaultEditor.controls.definiteMetricLabel",{defaultMessage:"Metric: {metric}",values:{metric:safeMakeLabel(respAgg)}}),value:respAgg.id,disabled:!isCompatibleAgg(respAgg)}}))),[CUSTOM_METRIC],_toConsumableArray(defaultOptions))}),[metricAggs,defaultOptions,isCompatibleAgg]);return options}function useValidation(setValidity,isValid){Object(external_kbnSharedDeps_React_["useEffect"])((function(){setValidity(isValid);return function(){return setValidity(true)}}),[isValid,setValidity])}function safeMakeLabel(agg){try{return agg.makeLabel()}catch(e){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("visDefaultEditor.controls.aggNotValidLabel",{defaultMessage:"- agg not valid -"})}}function isCompatibleAggregation(aggFilter){return function(agg){return!aggFilter.includes("!".concat(agg.type.name))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultEditorSize}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getInitialWidth}));var DefaultEditorSize;(function(DefaultEditorSize){DefaultEditorSize["SMALL"]="small";DefaultEditorSize["MEDIUM"]="medium";DefaultEditorSize["LARGE"]="large"})(DefaultEditorSize||(DefaultEditorSize={}));var getInitialWidth=function getInitialWidth(size){switch(size){case DefaultEditorSize.SMALL:return 15;case DefaultEditorSize.LARGE:return 50;case DefaultEditorSize.MEDIUM:default:return 30}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return groupAndSortBy}));function groupAndSortBy(objects,groupBy,labelName){var groupedOptions=objects.reduce((function(array,obj){var group=array.find((function(element){return element.label===obj[groupBy]}));var option={label:obj[labelName],target:obj};if(group&&group.options){group.options.push(option)}else{array.push({label:obj[groupBy],options:[option]})}return array}),[]);groupedOptions.sort(sortByLabel);groupedOptions.forEach((function(group){if(Array.isArray(group.options)){group.options.sort(sortByLabel)}}));if(groupedOptions.length===1&&!groupedOptions[0].label){return groupedOptions[0].options||[]}return groupedOptions}function sortByLabel(a,b){return(a.label||"").toLowerCase().localeCompare((b.label||"").toLowerCase())}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DefaultEditorController}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7);var react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var DefaultEditor=Object(react__WEBPACK_IMPORTED_MODULE_0__["lazy"])((function(){return Promise.all([__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,21))}));var DefaultEditorController=function(){function DefaultEditorController(el,vis,eventEmitter,embeddableHandler){_classCallCheck(this,DefaultEditorController);this.el=el;this.vis=vis;this.eventEmitter=eventEmitter;this.embeddableHandler=embeddableHandler}_createClass(DefaultEditorController,[{key:"render",value:function render(props){Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["render"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiErrorBoundary"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Suspense"],{fallback:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",flex:"1 1 auto",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiLoadingChart"],{size:"xl",mono:true}))},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DefaultEditor,_extends({eventEmitter:this.eventEmitter,embeddableHandler:this.embeddableHandler,vis:this.vis},props)))),this.el)}},{key:"destroy",value:function destroy(){Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["unmountComponentAtNode"])(this.el)}}]);return DefaultEditorController}()},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_visDefaultEditor_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15);var _node_modules_val_loader_dist_cjs_js_key_visDefaultEditor_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_visDefaultEditor_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/visDefaultEditor/public",__webpack_require__,16)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["visDefaultEditor"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return plugin}));var _default_editor_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);__webpack_require__.d(__webpack_exports__,"DefaultEditorController",(function(){return _default_editor_controller__WEBPACK_IMPORTED_MODULE_0__["a"]}));var _components_controls_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9);__webpack_require__.d(__webpack_exports__,"useValidation",(function(){return _components_controls_utils__WEBPACK_IMPORTED_MODULE_1__["g"]}));var _components_controls_ranges__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"RangesParamEditor",(function(){return _components_controls_ranges__WEBPACK_IMPORTED_MODULE_2__["b"]}));__webpack_require__.d(__webpack_exports__,"RangeValues",(function(){return _components_controls_ranges__WEBPACK_IMPORTED_MODULE_2__["RangeValues"]}));var _editor_size__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"DefaultEditorSize",(function(){return _editor_size__WEBPACK_IMPORTED_MODULE_3__["a"]}));__webpack_require__.d(__webpack_exports__,"getInitialWidth",(function(){return _editor_size__WEBPACK_IMPORTED_MODULE_3__["b"]}));var _vis_options_props__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13);var _vis_options_props__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_vis_options_props__WEBPACK_IMPORTED_MODULE_4__);for(var __WEBPACK_IMPORT_KEY__ in _vis_options_props__WEBPACK_IMPORTED_MODULE_4__)if(["default","DefaultEditorController","useValidation","RangesParamEditor","RangeValues","ISchemas","Schemas","Schema","plugin","DefaultEditorSize","getInitialWidth"].indexOf(__WEBPACK_IMPORT_KEY__)<0)(function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _vis_options_props__WEBPACK_IMPORTED_MODULE_4__[key]}))})(__WEBPACK_IMPORT_KEY__);var _utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11);__webpack_require__.d(__webpack_exports__,"groupAndSortBy",(function(){return _utils__WEBPACK_IMPORTED_MODULE_5__["a"]}));var _schemas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5);__webpack_require__.d(__webpack_exports__,"ISchemas",(function(){return _schemas__WEBPACK_IMPORTED_MODULE_6__["ISchemas"]}));__webpack_require__.d(__webpack_exports__,"Schemas",(function(){return _schemas__WEBPACK_IMPORTED_MODULE_6__["c"]}));__webpack_require__.d(__webpack_exports__,"Schema",(function(){return _schemas__WEBPACK_IMPORTED_MODULE_6__["Schema"]}));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function plugin(){return new(function(){function VisDefaultEditor(){_classCallCheck(this,VisDefaultEditor)}_createClass(VisDefaultEditor,[{key:"setup",value:function setup(){}},{key:"start",value:function start(){}}]);return VisDefaultEditor}())}},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Moment}]);