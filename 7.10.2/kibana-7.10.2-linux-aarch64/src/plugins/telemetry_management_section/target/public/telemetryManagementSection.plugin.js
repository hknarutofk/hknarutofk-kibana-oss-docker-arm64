(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=8)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OptInExampleFlyout}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var OptInExampleFlyout=function(_React$PureComponent){_inherits(OptInExampleFlyout,_React$PureComponent);var _super=_createSuper(OptInExampleFlyout);function OptInExampleFlyout(){var _this;_classCallCheck(this,OptInExampleFlyout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),"state",{data:null,isLoading:true,hasPrivilegeToRead:false});return _this}_createClass(OptInExampleFlyout,[{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var fetchExample,clusters;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;fetchExample=this.props.fetchExample;_context.next=4;return fetchExample();case 4:clusters=_context.sent;this.setState({data:Array.isArray(clusters)?clusters:null,isLoading:false,hasPrivilegeToRead:true});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);this.setState({isLoading:false,hasPrivilegeToRead:_context.t0.status!==403});case 11:case"end":return _context.stop()}}}),_callee,this,[[0,8]])})));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"renderBody",value:function renderBody(_ref){var data=_ref.data,isLoading=_ref.isLoading,hasPrivilegeToRead=_ref.hasPrivilegeToRead;if(isLoading){return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexGroup"],{justifyContent:"spaceAround"},react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlexItem"],{grow:false},react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiLoadingSpinner"],{size:"xl"})))}if(!hasPrivilegeToRead){return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiCallOut"],{title:react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"telemetry.callout.errorUnprivilegedUserTitle",defaultMessage:"Error displaying cluster statistics"}),color:"danger",iconType:"cross"},react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"telemetry.callout.errorUnprivilegedUserDescription",defaultMessage:"You do not have access to see unencrypted cluster statistics."}))}if(data===null){return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiCallOut"],{title:react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"telemetry.callout.errorLoadingClusterStatisticsTitle",defaultMessage:"Error loading cluster statistics"}),color:"danger",iconType:"cross"},react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"telemetry.callout.errorLoadingClusterStatisticsDescription",defaultMessage:"An unexpected error occured while attempting to fetch the cluster statistics. This can occur because Elasticsearch failed, Kibana failed, or there is a network error. Check Kibana, then reload the page and try again."}))}return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiCodeBlock"],{language:"js"},JSON.stringify(data,null,2))}},{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiPortal"],null,react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlyout"],{ownFocus:true,onClose:this.props.onClose,maxWidth:true},react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlyoutHeader"],null,react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiTitle"],null,react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("h2",null,react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"telemetry.callout.clusterStatisticsTitle",defaultMessage:"Cluster statistics"}))),react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiTextColor"],{color:"subdued"},react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_2__["FormattedMessage"],{id:"telemetry.callout.clusterStatisticsDescription",defaultMessage:"This is an example of the basic cluster statistics that we'll collect. It includes the number of indices, shards, and nodes. It also includes high-level usage statistics, such as whether monitoring is turned on."})))),react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFlyoutBody"],null,this.renderBody(this.state))))}}]);return OptInExampleFlyout}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"TelemetryManagementSection",(function(){return telemetry_management_section_TelemetryManagementSection}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(3);var constants_=__webpack_require__(6);var opt_in_example_flyout=__webpack_require__(4);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var opt_in_security_example_flyout_OptInSecurityExampleFlyout=function(_React$PureComponent){_inherits(OptInSecurityExampleFlyout,_React$PureComponent);var _super=_createSuper(OptInSecurityExampleFlyout);function OptInSecurityExampleFlyout(){var _this;_classCallCheck(this,OptInSecurityExampleFlyout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),"state",{isLoading:true,hasPrivilegeToRead:false});_defineProperty(_assertThisInitialized(_this),"exampleSecurityPayload",{"@timestamp":"2020-09-22T14:34:56.82202300Z",agent:{build:{original:"version: 7.9.1, compiled: Thu Aug 27 14:50:21 2020, branch: 7.9, commit: b594beb958817dee9b9d908191ed766d483df3ea"},id:"22dd8544-bcac-46cb-b970-5e681bb99e0b",type:"endpoint",version:"7.9.1"},Endpoint:{policy:{applied:{artifacts:{global:{identifiers:[{sha256:"6a546aade5563d3e8dffc1fe2d93d33edda8f9ca3e17ac3cc9ac707620cb9ecd",name:"endpointpe-v4-blocklist"},{sha256:"04f9f87accc5d5aea433427bd1bd4ec6908f8528c78ceed26f70df7875a99385",name:"endpointpe-v4-exceptionlist"},{sha256:"1471838597fcd79a54ea4a3ec9a9beee1a86feaedab6c98e61102559ced822a8",name:"endpointpe-v4-model"},{sha256:"824859b0c6749cc31951d92a73bbdddfcfe9f38abfe432087934d4dab9766ce8",name:"global-exceptionlist-windows"}],version:"1.0.0"},user:{identifiers:[{sha256:"d801aa1fb7ddcc330a5e3173372ea6af4a3d08ec58074478e85aa5603e926658",name:"endpoint-exceptionlist-windows-v1"}],version:"1.0.0"}}}}},ecs:{version:"1.5.0"},elastic:{agent:{id:"b2e88aea-2671-402a-828a-957526bac315"}},file:{path:"C:\\Windows\\Temp\\mimikatz.exe",size:1263880,created:"2020-05-19T07:50:06.0Z",accessed:"2020-09-22T14:29:19.93531400Z",mtime:"2020-09-22T14:29:03.6040000Z",directory:"C:\\Windows\\Temp",hash:{sha1:"c9fb7f8a4c6b7b12b493a99a8dc6901d17867388",sha256:"cb1553a3c88817e4cc774a5a93f9158f6785bd3815447d04b6c3f4c2c4b21ed7",md5:"465d5d850f54d9cde767bda90743df30"},Ext:{code_signature:{trusted:true,subject_name:"Open Source Developer, Benjamin Delpy",exists:true,status:"trusted"},malware_classification:{identifier:"endpointpe-v4-model",score:.99956864118576,threshold:.71,version:"0.0.0"}}},host:{os:{Ext:{variant:"Windows 10 Enterprise Evaluation"},kernel:"2004 (10.0.19041.388)",name:"Windows",family:"windows",version:"2004 (10.0.19041.388)",platform:"windows",full:"Windows 10 Enterprise Evaluation 2004 (10.0.19041.388)"}},event:{kind:"alert"},cluster_uuid:"kLbKvSMcRiiFAR0t8LebDA",cluster_name:"elasticsearch"});return _this}_createClass(OptInSecurityExampleFlyout,[{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{this.setState({isLoading:false,hasPrivilegeToRead:true})}catch(err){this.setState({isLoading:false,hasPrivilegeToRead:err.status!==403})}case 1:case"end":return _context.stop()}}}),_callee,this)})));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"renderBody",value:function renderBody(_ref){var isLoading=_ref.isLoading,hasPrivilegeToRead=_ref.hasPrivilegeToRead;if(isLoading){return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"})))}if(!hasPrivilegeToRead){return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.callout.errorUnprivilegedUserTitle",defaultMessage:"Error displaying cluster statistics"}),color:"danger",iconType:"cross"},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.callout.errorUnprivilegedUserDescription",defaultMessage:"You do not have access to see unencrypted cluster statistics."}))}return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"js"},JSON.stringify(this.exampleSecurityPayload,null,2))}},{key:"render",value:function render(){return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{ownFocus:true,onClose:this.props.onClose,maxWidth:true},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_["createElement"]("h2",null,"Endpoint security data")),external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiText"],null,"This is a representative sample of the endpoint security alert event that we collect. Endpoint security data is collected only when the Elastic Endpoint is enabled. It includes information about the endpoint configuration and detection events."))),external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderBody(this.state))))}}]);return OptInSecurityExampleFlyout}(external_kbnSharedDeps_React_["PureComponent"]);var public_=__webpack_require__(7);function telemetry_management_section_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function telemetry_management_section_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){telemetry_management_section_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){telemetry_management_section_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function telemetry_management_section_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function telemetry_management_section_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function telemetry_management_section_createClass(Constructor,protoProps,staticProps){if(protoProps)telemetry_management_section_defineProperties(Constructor.prototype,protoProps);if(staticProps)telemetry_management_section_defineProperties(Constructor,staticProps);return Constructor}function telemetry_management_section_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)telemetry_management_section_setPrototypeOf(subClass,superClass)}function telemetry_management_section_setPrototypeOf(o,p){telemetry_management_section_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return telemetry_management_section_setPrototypeOf(o,p)}function telemetry_management_section_createSuper(Derived){var hasNativeReflectConstruct=telemetry_management_section_isNativeReflectConstruct();return function _createSuperInternal(){var Super=telemetry_management_section_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=telemetry_management_section_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return telemetry_management_section_possibleConstructorReturn(this,result)}}function telemetry_management_section_possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return telemetry_management_section_assertThisInitialized(self)}function telemetry_management_section_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function telemetry_management_section_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function telemetry_management_section_getPrototypeOf(o){telemetry_management_section_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return telemetry_management_section_getPrototypeOf(o)}function telemetry_management_section_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SEARCH_TERMS=["telemetry","usage","data","usage data"];var telemetry_management_section_TelemetryManagementSection=function(_Component){telemetry_management_section_inherits(TelemetryManagementSection,_Component);var _super=telemetry_management_section_createSuper(TelemetryManagementSection);function TelemetryManagementSection(){var _this;telemetry_management_section_classCallCheck(this,TelemetryManagementSection);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));telemetry_management_section_defineProperty(telemetry_management_section_assertThisInitialized(_this),"state",{processing:false,showExample:false,showSecurityExample:false,queryMatches:null,enabled:_this.props.telemetryService.getIsOptedIn()||false});telemetry_management_section_defineProperty(telemetry_management_section_assertThisInitialized(_this),"maybeGetAppliesSettingMessage",(function(){if(!_this.props.showAppliesSettingMessage){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"primary",iconType:"spacesApp",title:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.callout.appliesSettingTitle",defaultMessage:"Changes to this setting apply to {allOfKibanaText} and are saved automatically.",values:{allOfKibanaText:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.callout.appliesSettingTitle.allOfKibanaText",defaultMessage:"all of Kibana"}))}}))})}));telemetry_management_section_defineProperty(telemetry_management_section_assertThisInitialized(_this),"renderDescription",(function(){var isSecurityExampleEnabled=_this.props.isSecurityExampleEnabled;var securityExampleEnabled=isSecurityExampleEnabled();var clusterDataLink=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:_this.toggleExample,"data-test-id":"cluster_data_example"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.clusterData",defaultMessage:"cluster data"}));var endpointSecurityDataLink=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:_this.toggleSecurityExample,"data-test-id":"endpoint_security_example"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.securityData",defaultMessage:"endpoint security data"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.telemetryConfigAndLinkDescription",defaultMessage:"Enabling data usage collection helps us manage and improve our products and services. See our {privacyStatementLink} for more details.",values:{privacyStatementLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:constants_["PRIVACY_STATEMENT_URL"],target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.readOurUsageDataPrivacyStatementLinkText",defaultMessage:"Privacy Statement"}))}})),external_kbnSharedDeps_React_default.a.createElement("p",null,securityExampleEnabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.seeExampleOfClusterDataAndEndpointSecuity",defaultMessage:"See examples of the {clusterData} and {endpointSecurityData} that we collect.",values:{clusterData:clusterDataLink,endpointSecurityData:endpointSecurityDataLink}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.seeExampleOfClusterData",defaultMessage:"See an example of the {clusterData} that we collect.",values:{clusterData:clusterDataLink}})))}));telemetry_management_section_defineProperty(telemetry_management_section_assertThisInitialized(_this),"toggleOptIn",telemetry_management_section_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this$props,telemetryService,toasts,newOptInValue;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,telemetryService=_this$props.telemetryService,toasts=_this$props.toasts;newOptInValue=!_this.state.enabled;return _context2.abrupt("return",new Promise((function(resolve,reject){_this.setState({processing:true,enabled:newOptInValue},telemetry_management_section_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return telemetryService.setOptIn(newOptInValue);case 3:_this.setState({processing:false});toasts.addSuccess(newOptInValue?external_kbnSharedDeps_KbnI18n_["i18n"].translate("telemetry.optInSuccessOn",{defaultMessage:"Usage data collection turned on."}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("telemetry.optInSuccessOff",{defaultMessage:"Usage data collection turned off."}));resolve(true);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_this.setState({processing:false});reject(_context.t0);case 12:case"end":return _context.stop()}}}),_callee,null,[[0,8]])}))))})));case 3:case"end":return _context2.stop()}}}),_callee2)}))));telemetry_management_section_defineProperty(telemetry_management_section_assertThisInitialized(_this),"toggleExample",(function(){_this.setState({showExample:!_this.state.showExample})}));telemetry_management_section_defineProperty(telemetry_management_section_assertThisInitialized(_this),"toggleSecurityExample",(function(){var isSecurityExampleEnabled=_this.props.isSecurityExampleEnabled;var securityExampleEnabled=isSecurityExampleEnabled();if(!securityExampleEnabled)return;_this.setState({showSecurityExample:!_this.state.showSecurityExample})}));return _this}telemetry_management_section_createClass(TelemetryManagementSection,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(nextProps){var _this2=this;var query=nextProps.query;var searchTerm=(query.text||"").toLowerCase();var searchTermMatches=this.props.telemetryService.getCanChangeOptInStatus()&&SEARCH_TERMS.some((function(term){return term.indexOf(searchTerm)>=0}));if(searchTermMatches!==this.state.queryMatches){this.setState({queryMatches:searchTermMatches},(function(){_this2.props.onQueryMatchChange(searchTermMatches)}))}}},{key:"render",value:function render(){var _this$props2=this.props,telemetryService=_this$props2.telemetryService,isSecurityExampleEnabled=_this$props2.isSecurityExampleEnabled;var _this$state=this.state,showExample=_this$state.showExample,showSecurityExample=_this$state.showSecurityExample,queryMatches=_this$state.queryMatches,enabled=_this$state.enabled,processing=_this$state.processing;var securityExampleEnabled=isSecurityExampleEnabled();if(!telemetryService.getCanChangeOptInStatus()){return null}if(queryMatches!==null&&!queryMatches){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,showExample&&external_kbnSharedDeps_React_default.a.createElement(opt_in_example_flyout["a"],{fetchExample:telemetryService.fetchExample,onClose:this.toggleExample}),showSecurityExample&&securityExampleEnabled&&external_kbnSharedDeps_React_default.a.createElement(opt_in_security_example_flyout_OptInSecurityExampleFlyout,{onClose:this.toggleSecurityExample}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"l"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"baseline"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"telemetry.usageDataTitle",defaultMessage:"Usage Data"}))))),this.maybeGetAppliesSettingMessage(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(public_["LazyField"],{setting:{type:"boolean",name:"telemetry:enabled",displayName:external_kbnSharedDeps_KbnI18n_["i18n"].translate("telemetry.provideUsageStatisticsTitle",{defaultMessage:"Provide usage statistics"}),value:enabled,description:this.renderDescription(),defVal:true,ariaName:external_kbnSharedDeps_KbnI18n_["i18n"].translate("telemetry.provideUsageStatisticsAriaName",{defaultMessage:"Provide usage statistics"})},loading:processing,dockLinks:null,toasts:null,handleChange:this.toggleOptIn,enableSaving:this.props.enableSaving}))))}}]);return TelemetryManagementSection}(external_kbnSharedDeps_React_["Component"]);var telemetry_management_section=__webpack_exports__["default"]=telemetry_management_section_TelemetryManagementSection},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/telemetry/common/constants");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/advancedSettings/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_telemetryManagementSection_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _node_modules_val_loader_dist_cjs_js_key_telemetryManagementSection_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_telemetryManagementSection_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/telemetryManagementSection/public",__webpack_require__,10)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["telemetryManagementSection"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"OptInExampleFlyout",(function(){return opt_in_example_flyout["a"]}));__webpack_require__.d(__webpack_exports__,"TelemetryManagementSectionPluginSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var TelemetryManagementSectionComponent=Object(external_kbnSharedDeps_React_["lazy"])((function(){return Promise.resolve().then(__webpack_require__.bind(null,5))}));function telemetryManagementSectionWrapper(telemetryService,shouldShowSecuritySolutionUsageExample){var TelemetryManagementSectionWrapper=function TelemetryManagementSectionWrapper(props){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Suspense"],{fallback:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],null)},external_kbnSharedDeps_React_default.a.createElement(TelemetryManagementSectionComponent,_extends({showAppliesSettingMessage:true,telemetryService:telemetryService,isSecurityExampleEnabled:shouldShowSecuritySolutionUsageExample},props)))};return TelemetryManagementSectionWrapper}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var plugin_TelemetryManagementSectionPlugin=function(){function TelemetryManagementSectionPlugin(){var _this=this;_classCallCheck(this,TelemetryManagementSectionPlugin);_defineProperty(this,"showSecuritySolutionExample",false);_defineProperty(this,"shouldShowSecuritySolutionExample",(function(){return _this.showSecuritySolutionExample}))}_createClass(TelemetryManagementSectionPlugin,[{key:"setup",value:function setup(core,_ref){var _this2=this;var advancedSettings=_ref.advancedSettings,telemetryService=_ref.telemetry.telemetryService;advancedSettings.component.register(advancedSettings.component.componentType.PAGE_FOOTER_COMPONENT,telemetryManagementSectionWrapper(telemetryService,this.shouldShowSecuritySolutionExample),true);return{toggleSecuritySolutionExample:function toggleSecuritySolutionExample(enabled){_this2.showSecuritySolutionExample=enabled}}}},{key:"start",value:function start(core){}}]);return TelemetryManagementSectionPlugin}();var opt_in_example_flyout=__webpack_require__(4);var telemetry_management_section=__webpack_require__(5);function public_plugin(){return new plugin_TelemetryManagementSectionPlugin}}]);