(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"visTypeTable.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["visTypeTable_bundle_jsonpfunction"]=window["visTypeTable_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=15)})([function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.Angular},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaLegacy/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nAngular},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/share/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_visTypeTable_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16);var _node_modules_val_loader_dist_cjs_js_key_visTypeTable_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_visTypeTable_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/visTypeTable/public",__webpack_require__,32)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["visTypeTable"]},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(18);case"v7light":return __webpack_require__(20);case"v8dark":return __webpack_require__(22);case"v8light":return __webpack_require__(24)}},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(19);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"kbn-agg-table,\nkbn-agg-table-group {\n  display: block; }\n\n.kbnAggTable {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column; }\n\n.kbnAggTable__paginated {\n  flex: 1 1 auto;\n  overflow: auto; }\n  .kbnAggTable__paginated th {\n    text-align: left;\n    font-weight: 700; }\n  .kbnAggTable__paginated tr:hover td,\n  .kbnAggTable__paginated .kbnTableCellFilter {\n    background-color: #25262E; }\n\n.kbnAggTable__controls {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  margin: 8px 4px; }\n  .kbnAggTable__controls > paginate-controls {\n    flex: 1 0 auto;\n    margin: 0;\n    padding: 0; }\n\n.small {\n  font-size: 0.9em !important; }\n\n.kbnTableCellFilter__hover {\n  position: relative;\n  /**\n   * 1. Center vertically regardless of row height.\n   */ }\n  .kbnTableCellFilter__hover .kbnTableCellFilter {\n    position: absolute;\n    white-space: nowrap;\n    right: 0;\n    top: 50%;\n    /* 1 */\n    transform: translateY(-50%);\n    /* 1 */\n    display: none; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter {\n    display: inline; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show {\n    visibility: visible; }\n\n.kbnTableCellFilter__hover-show {\n  visibility: hidden; }\n\n.table-vis {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 100%;\n  overflow: auto; }\n\n.table-vis-container kbn-agg-table-group > .table > tbody > tr > td {\n  border-top: 0px; }\n\n.table-vis-container .pagination-other-pages {\n  justify-content: flex-end; }\n\n.table-vis-container .pagination-size {\n  display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(21);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"kbn-agg-table,\nkbn-agg-table-group {\n  display: block; }\n\n.kbnAggTable {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column; }\n\n.kbnAggTable__paginated {\n  flex: 1 1 auto;\n  overflow: auto; }\n  .kbnAggTable__paginated th {\n    text-align: left;\n    font-weight: 700; }\n  .kbnAggTable__paginated tr:hover td,\n  .kbnAggTable__paginated .kbnTableCellFilter {\n    background-color: #F5F7FA; }\n\n.kbnAggTable__controls {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  margin: 8px 4px; }\n  .kbnAggTable__controls > paginate-controls {\n    flex: 1 0 auto;\n    margin: 0;\n    padding: 0; }\n\n.small {\n  font-size: 0.9em !important; }\n\n.kbnTableCellFilter__hover {\n  position: relative;\n  /**\n   * 1. Center vertically regardless of row height.\n   */ }\n  .kbnTableCellFilter__hover .kbnTableCellFilter {\n    position: absolute;\n    white-space: nowrap;\n    right: 0;\n    top: 50%;\n    /* 1 */\n    transform: translateY(-50%);\n    /* 1 */\n    display: none; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter {\n    display: inline; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show {\n    visibility: visible; }\n\n.kbnTableCellFilter__hover-show {\n  visibility: hidden; }\n\n.table-vis {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 100%;\n  overflow: auto; }\n\n.table-vis-container kbn-agg-table-group > .table > tbody > tr > td {\n  border-top: 0px; }\n\n.table-vis-container .pagination-other-pages {\n  justify-content: flex-end; }\n\n.table-vis-container .pagination-size {\n  display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(23);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"kbn-agg-table,\nkbn-agg-table-group {\n  display: block; }\n\n.kbnAggTable {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column; }\n\n.kbnAggTable__paginated {\n  flex: 1 1 auto;\n  overflow: auto; }\n  .kbnAggTable__paginated th {\n    text-align: left;\n    font-weight: 700; }\n  .kbnAggTable__paginated tr:hover td,\n  .kbnAggTable__paginated .kbnTableCellFilter {\n    background-color: #25262E; }\n\n.kbnAggTable__controls {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  margin: 8px 4px; }\n  .kbnAggTable__controls > paginate-controls {\n    flex: 1 0 auto;\n    margin: 0;\n    padding: 0; }\n\n.small {\n  font-size: 0.9em !important; }\n\n.kbnTableCellFilter__hover {\n  position: relative;\n  /**\n   * 1. Center vertically regardless of row height.\n   */ }\n  .kbnTableCellFilter__hover .kbnTableCellFilter {\n    position: absolute;\n    white-space: nowrap;\n    right: 0;\n    top: 50%;\n    /* 1 */\n    transform: translateY(-50%);\n    /* 1 */\n    display: none; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter {\n    display: inline; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show {\n    visibility: visible; }\n\n.kbnTableCellFilter__hover-show {\n  visibility: hidden; }\n\n.table-vis {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 100%;\n  overflow: auto; }\n\n.table-vis-container kbn-agg-table-group > .table > tbody > tr > td {\n  border-top: 0px; }\n\n.table-vis-container .pagination-other-pages {\n  justify-content: flex-end; }\n\n.table-vis-container .pagination-size {\n  display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(25);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"kbn-agg-table,\nkbn-agg-table-group {\n  display: block; }\n\n.kbnAggTable {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column; }\n\n.kbnAggTable__paginated {\n  flex: 1 1 auto;\n  overflow: auto; }\n  .kbnAggTable__paginated th {\n    text-align: left;\n    font-weight: 700; }\n  .kbnAggTable__paginated tr:hover td,\n  .kbnAggTable__paginated .kbnTableCellFilter {\n    background-color: #F5F7FA; }\n\n.kbnAggTable__controls {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  margin: 8px 4px; }\n  .kbnAggTable__controls > paginate-controls {\n    flex: 1 0 auto;\n    margin: 0;\n    padding: 0; }\n\n.small {\n  font-size: 0.9em !important; }\n\n.kbnTableCellFilter__hover {\n  position: relative;\n  /**\n   * 1. Center vertically regardless of row height.\n   */ }\n  .kbnTableCellFilter__hover .kbnTableCellFilter {\n    position: absolute;\n    white-space: nowrap;\n    right: 0;\n    top: 50%;\n    /* 1 */\n    transform: translateY(-50%);\n    /* 1 */\n    display: none; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter {\n    display: inline; }\n  .kbnTableCellFilter__hover:hover .kbnTableCellFilter__hover-show {\n    visibility: visible; }\n\n.kbnTableCellFilter__hover-show {\n  visibility: hidden; }\n\n.table-vis {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 100%;\n  overflow: auto; }\n\n.table-vis-container kbn-agg-table-group > .table > tbody > tr > td {\n  border-top: 0px; }\n\n.table-vis-container .pagination-other-pages {\n  justify-content: flex-end; }\n\n.table-vis-container .pagination-size {\n  display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){__webpack_require__(27);module.exports="ngSanitize"},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements)){elements={htmlElements:elements}}addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated){extend(validAttrs,arrayToMap(attrs,true))}return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length){extend(elementsMap,arrayToMap(newElements))}}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,(function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}}));out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.8.0"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},function(module,exports){
/* 
 * An Angular service which helps with creating recursive directives.
 * @author Mark Lagendijk
 * @license MIT
 */
angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function($compile){return{compile:function(element,link){if(angular.isFunction(link)){link={post:link}}var contents=element.contents().remove();var compiledContents;return{pre:link&&link.pre?link.pre:null,post:function(scope,element){if(!compiledContents){compiledContents=$compile(contents)}compiledContents(scope,(function(clone){element.append(clone)}));if(link&&link.post){link.post.apply(null,arguments)}}}}}}])},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var saveAs=saveAs||function(view){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},force_saveable_type="application/octet-stream",fs_min_size=0,arbitrary_revoke_timeout=500,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};if(view.chrome){revoker()}else{setTimeout(revoker,arbitrary_revoke_timeout)}},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob(["\ufeff",blob],{type:blob.type})}return blob},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_URL().createObjectURL(blob)}if(target_view){target_view.location.href=object_url}else{var new_tab=view.open(object_url,"_blank");if(new_tab==undefined&&typeof safari!=="undefined"){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_URL().createObjectURL(blob);save_link.href=object_url;save_link.download=name;setTimeout((function(){click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE}));return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable((function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable((function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable((function(file){file.createWriter(abortable((function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);revoke(file)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach((function(event){writer["on"+event]=filesaver["on"+event]}));writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING})),fs_error)})),fs_error)};dir.getFile(name,{create:false},abortable((function(file){file.remove();save()})),abortable((function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}})))})),fs_error)})),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name,no_auto_bom)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}return navigator.msSaveOrOpenBlob(blob,name||"download")}}FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(true&&module.exports){module.exports.saveAs=saveAs}else if(true&&__webpack_require__(30)!==null&&__webpack_require__(31)!=null){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var public_0=__webpack_require__(17);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var public_=__webpack_require__(10);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var _createGetterSetter=Object(public_["createGetterSetter"])("table data.fieldFormats"),_createGetterSetter2=_slicedToArray(_createGetterSetter,2),getFormatService=_createGetterSetter2[0],setFormatService=_createGetterSetter2[1];var _createGetterSetter3=Object(public_["createGetterSetter"])("table kibanaLegacy"),_createGetterSetter4=_slicedToArray(_createGetterSetter3,2),getKibanaLegacy=_createGetterSetter4[0],setKibanaLegacy=_createGetterSetter4[1];function tableVisResponseHandler(table,dimensions){var converted={tables:[]};var split=dimensions.splitColumn||dimensions.splitRow;if(split){converted.direction=dimensions.splitRow?"row":"column";var splitColumnIndex=split[0].accessor;var splitColumnFormatter=getFormatService().deserialize(split[0].format);var splitColumn=table.columns[splitColumnIndex];var splitMap={};var splitIndex=0;table.rows.forEach((function(row,rowIndex){var splitValue=row[splitColumn.id];if(!splitMap.hasOwnProperty(splitValue)){splitMap[splitValue]=splitIndex++;var tableGroup={$parent:converted,title:"".concat(splitColumnFormatter.convert(splitValue),": ").concat(splitColumn.name),name:splitColumn.name,key:splitValue,column:splitColumnIndex,row:rowIndex,table:table,tables:[]};tableGroup.tables.push({$parent:tableGroup,columns:table.columns,rows:[]});converted.tables.push(tableGroup)}var tableIndex=splitMap[splitValue];converted.tables[tableIndex].tables[0].rows.push(row)}))}else{converted.tables.push({columns:table.columns,rows:table.rows})}return converted}var table_vis_fn_createTableVisFn=function createTableVisFn(){return{name:"kibana_table",type:"render",inputTypes:["kibana_datatable"],help:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.function.help",{defaultMessage:"Table visualization"}),args:{visConfig:{types:["string","null"],default:'"{}"',help:""}},fn(input,args){var visConfig=args.visConfig&&JSON.parse(args.visConfig);var convertedData=tableVisResponseHandler(input,visConfig.dimensions);return{type:"render",as:"visualization",value:{visData:convertedData,visType:"table",visConfig:visConfig,params:{listenOnChange:true}}}}}};var data_public_=__webpack_require__(8);var visDefaultEditor_public_=__webpack_require__(13);var table_vis='<div ng-controller="KbnTableVisController" class="table-vis">\n  <div ng-if="!hasSomeRows && hasSomeRows !== null" class="visError">\n    <div class="euiText euiText--extraSmall euiTextColor euiTextColor--subdued">\n      <icon type="\'visualizeApp\'" size="\'m\'" color="\'subdued\'"></icon>\n\n      <br>\n      <br>\n\n      <p\n        i18n-id="visTypeTable.vis.noResultsFoundTitle"\n        i18n-default-message="No results found">\n      </p>\n    </div>\n  </div>\n\n  <div ng-if="tableGroups" class="table-vis-container" data-test-subj="tableVis">\n    <kbn-agg-table-group\n      filter="vis.API.events.filter"\n      dimensions="dimensions"\n      group="tableGroups"\n      export-title="visState.title"\n      per-page="visState.params.perPage"\n      sort="sort"\n      percentage-col="visState.params.percentageCol"\n      show-total="visState.params.showTotal"\n      total-func="visState.params.totalFunc">\n    </kbn-agg-table-group>\n  </div>\n</div>\n';var external_kbnSharedDeps_React_=__webpack_require__(5);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(12);var TableOptionsComponent=Object(external_kbnSharedDeps_React_["lazy"])((function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,35))}));var table_vis_options_lazy_TableOptions=function TableOptions(props){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Suspense"],{fallback:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],null)},external_kbnSharedDeps_React_default.a.createElement(TableOptionsComponent,props))};var external_kbnSharedDeps_Angular_=__webpack_require__(2);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);var external_kbnSharedDeps_Jquery_=__webpack_require__(3);var external_kbnSharedDeps_Jquery_default=__webpack_require__.n(external_kbnSharedDeps_Jquery_);var angular_sanitize=__webpack_require__(26);var angular_recursion=__webpack_require__(28);var external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(9);var kibanaLegacy_public_=__webpack_require__(4);Object(kibanaLegacy_public_["initAngularBootstrap"])();var thirdPartyAngularDependencies=["ngSanitize","ui.bootstrap","RecursionHelper"];function getAngularModule(name,core,context){var uiModule=getInnerAngular(name,core);return uiModule}var initialized=false;function getInnerAngular(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"kibana/table_vis";var core=arguments.length>1?arguments[1]:undefined;if(!initialized){createLocalPrivateModule();createLocalI18nModule();createLocalConfigModule(core.uiSettings);createLocalPaginateModule();initialized=true}return external_kbnSharedDeps_Angular_default.a.module(name,[].concat(thirdPartyAngularDependencies,["tableVisPaginate","tableVisConfig","tableVisPrivate","tableVisI18n"])).config(kibanaLegacy_public_["watchMultiDecorator"]).directive("kbnAccessibleClick",kibanaLegacy_public_["KbnAccessibleClickProvider"])}function createLocalPrivateModule(){external_kbnSharedDeps_Angular_default.a.module("tableVisPrivate",[]).provider("Private",kibanaLegacy_public_["PrivateProvider"])}function createLocalConfigModule(uiSettings){external_kbnSharedDeps_Angular_default.a.module("tableVisConfig",[]).provider("config",(function(){return{$get:function $get(){return{get:function get(value){return uiSettings?uiSettings.get(value):undefined},set:function set(key,value){return uiSettings?uiSettings.set(key,value):undefined}}}}}))}function createLocalI18nModule(){external_kbnSharedDeps_Angular_default.a.module("tableVisI18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_["I18nProvider"]).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_["i18nFilter"]).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_["i18nDirective"])}function createLocalPaginateModule(){external_kbnSharedDeps_Angular_default.a.module("tableVisPaginate",[]).directive("paginate",kibanaLegacy_public_["PaginateDirectiveProvider"]).directive("paginateControls",kibanaLegacy_public_["PaginateControlsDirectiveProvider"])}var external_kbnSharedDeps_Lodash_=__webpack_require__(0);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);function TableVisController($scope){var uiStateSort=$scope.uiState?$scope.uiState.get("vis.params.sort"):{};Object(external_kbnSharedDeps_Lodash_["assign"])($scope.visParams.sort,uiStateSort);$scope.sort=$scope.visParams.sort;$scope.$watchCollection("sort",(function(newSort){$scope.uiState.set("vis.params.sort",newSort)}));$scope.$watch("renderComplete",(function(){var tableGroups=$scope.tableGroups=null;var hasSomeRows=$scope.hasSomeRows=null;if($scope.esResponse){tableGroups=$scope.esResponse;hasSomeRows=tableGroups.tables.some((function haveRows(table){if(table.tables)return table.tables.some(haveRows);return table.rows.length>0}))}$scope.hasSomeRows=hasSomeRows;if(hasSomeRows){$scope.dimensions=$scope.visParams.dimensions;$scope.tableGroups=tableGroups}$scope.renderComplete()}))}var share_public_=__webpack_require__(11);var agg_table='<paginated-table\n  ng-if="rows.length"\n  table="table"\n  rows="rows"\n  columns="formattedColumns"\n  per-page="perPage"\n  sort="sort"\n  show-total="showTotal"\n  percentage-col="percentageCol"\n  filter="filter"\n  totalFunc="totalFunc">\n\n  <div class="kbnAggTable__controls">\n    <small\n      i18n-id="visTypeTable.aggTable.exportLabel"\n      i18n-default-message="Export:"\n    ></small>&nbsp;&nbsp;\n    <a class="small" ng-click="aggTable.exportAsCsv(false)">\n      <span\n        i18n-id="visTypeTable.aggTable.rawLabel"\n        i18n-default-message="Raw"\n       ></span>\n       <i aria-hidden="true" class="fa fa-download"></i>\n    </a>&nbsp;&nbsp;&nbsp;\n    <a class="small" ng-click="aggTable.exportAsCsv(true)">\n      <span\n        i18n-id="visTypeTable.aggTable.formattedLabel"\n        i18n-default-message="Formatted"\n       ></span>\n       <i aria-hidden="true" class="fa fa-download"></i>\n    </a>\n    <paginate-controls></paginate-controls>\n  </div>\n</paginated-table>\n';function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=agg_table_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||agg_table_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function agg_table_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return agg_table_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return agg_table_arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return agg_table_arrayLikeToArray(arr)}function agg_table_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function KbnAggTable(config,RecursionHelper){return{restrict:"E",template:agg_table,scope:{table:"=",dimensions:"=",perPage:"=?",sort:"=?",exportTitle:"=?",showTotal:"=",totalFunc:"=",percentageCol:"=",filter:"="},controllerAs:"aggTable",compile:function compile($el){return RecursionHelper.compile($el)},controller:function controller($scope){var self=this;self._saveAs=__webpack_require__(29).saveAs;self.csv={separator:config.get(share_public_["CSV_SEPARATOR_SETTING"]),quoteValues:config.get(share_public_["CSV_QUOTE_VALUES_SETTING"])};self.exportAsCsv=function(formatted){var csv=new Blob([self.toCsv(formatted)],{type:"text/plain;charset=utf-8"});self._saveAs(csv,self.csv.filename)};self.toCsv=function(formatted){var rows=formatted?$scope.rows:$scope.table.rows;var columns=formatted?_toConsumableArray($scope.formattedColumns):_toConsumableArray($scope.table.columns);if($scope.splitRow&&formatted){columns.unshift($scope.splitRow)}var nonAlphaNumRE=/[^a-zA-Z0-9]/;var allDoubleQuoteRE=/"/g;function escape(val){if(!formatted&&external_kbnSharedDeps_Lodash_default.a.isObject(val))val=val.valueOf();val=String(val);if(self.csv.quoteValues&&nonAlphaNumRE.test(val)){val='"'+val.replace(allDoubleQuoteRE,'""')+'"'}return val}var csvRows=[];var _iterator=_createForOfIteratorHelper(rows),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var row=_step.value;var rowArray=[];var _iterator2=_createForOfIteratorHelper(columns),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var col=_step2.value;var value=row[col.id];var formattedValue=formatted&&col.formatter?escape(col.formatter.convert(value)):escape(value);rowArray.push(formattedValue)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}csvRows=[].concat(_toConsumableArray(csvRows),[rowArray])}}catch(err){_iterator.e(err)}finally{_iterator.f()}csvRows.unshift(columns.map((function(col){return escape(formatted?col.title:col.name)})));return csvRows.map((function(row){return row.join(self.csv.separator)+"\r\n"})).join("")};$scope.$watchMulti(["table","exportTitle","percentageCol","totalFunc","=scope.dimensions"],(function(){var table=$scope.table,exportTitle=$scope.exportTitle,percentageCol=$scope.percentageCol;var showPercentage=percentageCol!=="";if(!table){$scope.rows=null;$scope.formattedColumns=null;$scope.splitRow=null;return}self.csv.filename=(exportTitle||table.title||"unsaved")+".csv";$scope.rows=table.rows;$scope.formattedColumns=[];if(typeof $scope.dimensions==="undefined")return;var _$scope$dimensions=$scope.dimensions,buckets=_$scope$dimensions.buckets,metrics=_$scope$dimensions.metrics,splitColumn=_$scope$dimensions.splitColumn,splitRow=_$scope$dimensions.splitRow;$scope.formattedColumns=table.columns.map((function(col,i){var _dimension$format,_dimension$format2,_dimension$format2$pa;var isBucket=buckets.find((function(bucket){return bucket.accessor===i}));var isSplitColumn=splitColumn?splitColumn.find((function(splitColumn){return splitColumn.accessor===i})):undefined;var isSplitRow=splitRow?splitRow.find((function(splitRow){return splitRow.accessor===i})):undefined;var dimension=isBucket||isSplitColumn||metrics.find((function(metric){return metric.accessor===i}));var formatter=dimension?getFormatService().deserialize(dimension.format):undefined;var formattedColumn={id:col.id,title:col.name,formatter:formatter,filterable:!!isBucket};if(isSplitRow){$scope.splitRow=formattedColumn}if(!dimension)return;var last=i===table.columns.length-1;if(last||!isBucket){formattedColumn.class="visualize-table-right"}var isDate=((_dimension$format=dimension.format)===null||_dimension$format===void 0?void 0:_dimension$format.id)==="date"||((_dimension$format2=dimension.format)===null||_dimension$format2===void 0?void 0:(_dimension$format2$pa=_dimension$format2.params)===null||_dimension$format2$pa===void 0?void 0:_dimension$format2$pa.id)==="date";var allowsNumericalAggregations=formatter===null||formatter===void 0?void 0:formatter.allowsNumericalAggregations;var totalFunc=$scope.totalFunc;if(typeof totalFunc==="undefined"&&showPercentage){totalFunc="sum"}if(allowsNumericalAggregations||isDate||totalFunc==="count"){var sum=function sum(tableRows){return external_kbnSharedDeps_Lodash_default.a.reduce(tableRows,(function(prev,curr){if(curr[col.id]===undefined)return prev;return prev+curr[col.id]}),0)};formattedColumn.sumTotal=sum(table.rows);switch(totalFunc){case"sum":{if(!isDate){var total=formattedColumn.sumTotal;formattedColumn.formattedTotal=formatter.convert(total);formattedColumn.total=formattedColumn.sumTotal}break}case"avg":{if(!isDate){var _total=sum(table.rows)/table.rows.length;formattedColumn.formattedTotal=formatter.convert(_total);formattedColumn.total=_total}break}case"min":{var _total2=external_kbnSharedDeps_Lodash_default.a.chain(table.rows).map(col.id).min().value();formattedColumn.formattedTotal=formatter.convert(_total2);formattedColumn.total=_total2;break}case"max":{var _total3=external_kbnSharedDeps_Lodash_default.a.chain(table.rows).map(col.id).max().value();formattedColumn.formattedTotal=formatter.convert(_total3);formattedColumn.total=_total3;break}case"count":{var _total4=table.rows.length;formattedColumn.formattedTotal=_total4;formattedColumn.total=_total4;break}default:break}}return formattedColumn})).filter((function(column){return column}));if(showPercentage){var insertAtIndex=external_kbnSharedDeps_Lodash_default.a.findIndex($scope.formattedColumns,{title:percentageCol});if(insertAtIndex<0)return;var _addPercentageCol=addPercentageCol($scope.formattedColumns,percentageCol,table.rows,insertAtIndex),cols=_addPercentageCol.cols,rows=_addPercentageCol.rows;$scope.rows=rows;$scope.formattedColumns=cols}}))}}}function addPercentageCol(columns,title,rows,insertAtIndex){var _columns$insertAtInde=columns[insertAtIndex],id=_columns$insertAtInde.id,sumTotal=_columns$insertAtInde.sumTotal;var newId="".concat(id,"-percents");var formatter=getFormatService().deserialize({id:"percent"});var i18nTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.params.percentageTableColumnName",{defaultMessage:"{title} percentages",values:{title:title}});var newCols=insert(columns,insertAtIndex,{title:i18nTitle,id:newId,formatter:formatter});var newRows=rows.map((function(row){return _objectSpread({[newId]:row[id]/sumTotal},row)}));return{cols:newCols,rows:newRows}}function insert(arr,index){var newArray=_toConsumableArray(arr);for(var _len=arguments.length,items=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){items[_key-2]=arguments[_key]}newArray.splice.apply(newArray,[index+1,0].concat(items));return newArray}var agg_table_group='<table ng-if="rows" class="table kbnAggTable__group" ng-repeat="table in rows">\n  <thead>\n    <tr>\n      <th ng-if="table.tables" scope="col">\n        <span class="kbnAggTable__groupHeader">{{ table.title }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>\n        <kbn-agg-table-group\n          ng-if="table.tables"\n          group="table"\n          filter="filter"\n          dimensions="dimensions"\n          per-page="perPage"\n          sort="sort"\n          export-title="exportTitle"\n          percentage-col="percentageCol"\n          show-total="showTotal"\n          total-func="totalFunc"></kbn-agg-table-group>\n        <kbn-agg-table\n          ng-if="table.rows"\n          filter="filter"\n          table="table"\n          dimensions="dimensions"\n          export-title="exportTitle"\n          per-page="perPage"\n          sort="sort"\n          percentage-col="percentageCol"\n          show-total="showTotal"\n          total-func="totalFunc">\n        </kbn-agg-table>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table ng-if="columns" class="table kbnAggTable__group">\n  <thead>\n    <tr>\n      <th ng-repeat="table in columns" ng-if="table.tables" scope="col">\n        <span class="kbnAggTable__groupHeader">{{ table.title }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td ng-repeat="table in columns">\n        <kbn-agg-table-group\n          ng-if="table.tables"\n          filter="filter"\n          group="table"\n          dimensions="dimensions"\n          per-page="perPage"\n          sort="sort"\n          export-title="exportTitle"\n          show-total="showTotal"\n          percentage-col="percentageCol"\n          total-func="totalFunc"></kbn-agg-table-group>\n        <kbn-agg-table\n          ng-if="table.rows"\n          filter="filter"\n          table="table"\n          dimensions="dimensions"\n          export-title="exportTitle"\n          per-page="perPage"\n          sort="sort"\n          show-total="showTotal"\n          percentage-col="percentageCol"\n          total-func="totalFunc">\n        </kbn-agg-table>\n      </td>\n    </tr>\n  </tbody>\n</table>\n';function KbnAggTableGroup(RecursionHelper){return{restrict:"E",template:agg_table_group,scope:{group:"=",dimensions:"=",perPage:"=?",sort:"=?",exportTitle:"=?",showTotal:"=",totalFunc:"=",percentageCol:"=",filter:"="},compile:function compile($el){return RecursionHelper.compile($el,{post:function post($scope){$scope.$watch("group",(function(group){$scope.rows=$scope.columns=false;if(!group||!group.tables.length)return;var childLayout=group.direction==="row"?"rows":"columns";$scope[childLayout]=group.tables}))}})}}}var table_cell_filter='<td>\n  <div\n    data-cell-content\n    class="kbnTableCellFilter__hover"\n  >\n    <span class="kbnTableCellFilter">\n      <span\n        data-test-subj="filterForCellValue"\n        ng-click="onFilterClick($event, false)"\n        class="fa fa-search-plus"\n        tooltip="{{ ::\'visTypeTable.directives.tableCellFilter.filterForValueTooltip\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n        tooltip-append-to-body="1"\n      ></span>\n\n      <span\n        ng-click="onFilterClick($event, true)"\n        class="fa fa-search-minus"\n        tooltip="{{ ::\'visTypeTable.directives.tableCellFilter.filterOutValueTooltip\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        tooltip-append-to-body="1"\n      ></span>\n    </span>\n  </div>\n</td>\n';function KbnRows($compile){return{restrict:"A",link:function link($scope,$el,attr){function addCell($tr,contents,column,row){function createCell(){return external_kbnSharedDeps_Jquery_default()(document.createElement("td"))}function createFilterableCell(value){var $template=external_kbnSharedDeps_Jquery_default()(table_cell_filter);$template.addClass("kbnTableCellFilter__hover");var scope=$scope.$new();scope.onFilterClick=function(event,negate){if(external_kbnSharedDeps_Jquery_default()(event.target).is("a")){return}$scope.filter({data:[{table:$scope.table,row:$scope.rows.findIndex((function(r){return r===row})),column:$scope.table.columns.findIndex((function(c){return c.id===column.id})),value:value}],negate:negate})};return $compile($template)(scope)}var $cell;var $cellContent;var contentsIsDefined=contents!==null&&contents!==undefined;if(column.filterable&&contentsIsDefined){$cell=createFilterableCell(contents);$cellContent=external_kbnSharedDeps_Angular_default.a.element($cell[0].querySelector("[data-cell-content]"))}else{$cell=$cellContent=createCell()}contents=contentsIsDefined?column.formatter.convert(contents,"html"):"";if(external_kbnSharedDeps_Lodash_default.a.isObject(contents)){if(contents.attr){$cellContent.attr(contents.attr)}if(contents.class){$cellContent.addClass(contents.class)}if(contents.scope){$cellContent=$compile($cellContent.prepend(contents.markup))(contents.scope)}else{$cellContent.prepend(contents.markup)}if(contents.attr){$cellContent.attr(contents.attr)}}else{if(contents===""){$cellContent.prepend("&nbsp;")}else{$cellContent.prepend(contents)}}$tr.append($cell)}$scope.$watchMulti([attr.kbnRows,attr.kbnRowsMin],(function(vals){var rows=vals[0];var min=vals[1];$el.empty();if(!Array.isArray(rows))rows=[];if(isFinite(min)&&rows.length<min){rows=external_kbnSharedDeps_Lodash_default.a.clone(rows);var emptyRow={};external_kbnSharedDeps_Lodash_default.a.times(min-rows.length,(function(){rows.push(emptyRow)}))}rows.forEach((function(row){var $tr=external_kbnSharedDeps_Jquery_default()(document.createElement("tr")).appendTo($el);$scope.columns.forEach((function(column){var value=row[column.id];addCell($tr,value,column,row)}))}))}))}}}var paginated_table='<paginate\n  ng-if="sortedRows.length"\n  list="sortedRows"\n  per-page-prop="perPage"\n  class="kbnAggTable">\n  <div class="kbnAggTable__paginated">\n    <table class="table table-condensed">\n      <thead data-test-subj="paginated-table-header">\n        <tr>\n          <th\n            scope="col"\n            ng-repeat="col in columns"\n            ng-click="paginatedTable.sortColumn($index)"\n            kbn-accessible-click\n            tabindex="0"\n            class="{{ col.class }}">\n            <span ng-bind="::col.title"></span>\n\n            <icon-tip\n              ng-if="col.info"\n              content="\'{{ col.info }}\'"\n            ></icon-tip>\n\n            <i\n              ng-if="col.sortable !== false"\n              class="fa"\n              ng-class="{\n                \'fa-sort-asc\': paginatedTable.sort.columnIndex === $index && paginatedTable.sort.direction === \'asc\',\n                \'fa-sort-desc\': paginatedTable.sort.columnIndex === $index && paginatedTable.sort.direction === \'desc\',\n                \'fa-sort\': paginatedTable.sort.columnIndex !== $index || paginatedTable.sort.direction === null\n              }">\n            </i>\n          </th>\n        </tr>\n      </thead>\n      <tbody\n        data-test-subj="paginated-table-body"\n        kbn-rows="page"\n        kbn-rows-min="page.length"\n      >\n      </tbody>\n      <tfoot ng-if="showTotal">\n        <tr>\n          <th scope="col" ng-repeat="col in columns" class="numeric-value">\n            {{ col.formattedTotal }}\n          </th>\n        </tr>\n      </tfoot>\n    </table>\n  </div>\n\n  \x3c!-- auto-inserted by the paginate directive... --\x3e\n  \x3c!-- <paginate-controls></paginate-controls> --\x3e\n  <div class="pagination-container" ng-transclude></div>\n</paginate>\n';function PaginatedTable($filter){var orderBy=$filter("orderBy");return{restrict:"E",template:paginated_table,transclude:true,scope:{table:"=",rows:"=",columns:"=",linkToTop:"=",perPage:"=?",sortHandler:"=?",sort:"=?",showSelector:"=?",showTotal:"=",totalFunc:"=",filter:"=",percentageCol:"="},controllerAs:"paginatedTable",controller:function controller($scope){var self=this;self.sort={columnIndex:null,direction:null};self.sortColumn=function(colIndex){var sortDirection=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"asc";var col=$scope.columns[colIndex];if(!col)return;if(col.sortable===false)return;if(self.sort.columnIndex===colIndex){var directions={null:"asc",asc:"desc",desc:null};sortDirection=directions[self.sort.direction]}self.sort.columnIndex=colIndex;self.sort.direction=sortDirection;if($scope.sort){external_kbnSharedDeps_Lodash_default.a.assign($scope.sort,self.sort)}};function valueGetter(row){var col=$scope.columns[self.sort.columnIndex];var value=row[col.id];if(typeof value==="boolean")value=value?0:1;return value}if($scope.sort&&$scope.sort.columnIndex!==null){self.sortColumn($scope.sort.columnIndex,$scope.sort.direction)}function resortRows(){var newSort=$scope.sort;if(newSort&&!external_kbnSharedDeps_Lodash_default.a.isEqual(newSort,self.sort)){self.sortColumn(newSort.columnIndex,newSort.direction)}if(!$scope.rows||!$scope.columns){$scope.sortedRows=false;return}var sort=self.sort;if(sort.direction==null){$scope.sortedRows=$scope.rows.slice(0)}else{$scope.sortedRows=orderBy($scope.rows,valueGetter,sort.direction==="desc")}}$scope.$watchMulti(["rows","columns","[]sort","[]paginatedTable.sort"],resortRows)}}}var table_vis_legacy_module_initTableVisLegacyModule=function initTableVisLegacyModule(angularIns){angularIns.controller("KbnTableVisController",TableVisController).directive("kbnAggTable",KbnAggTable).directive("kbnAggTableGroup",KbnAggTableGroup).directive("kbnRows",KbnRows).directive("paginatedTable",PaginatedTable)};function vis_controller_slicedToArray(arr,i){return vis_controller_arrayWithHoles(arr)||vis_controller_iterableToArrayLimit(arr,i)||vis_controller_unsupportedIterableToArray(arr,i)||vis_controller_nonIterableRest()}function vis_controller_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vis_controller_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return vis_controller_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vis_controller_arrayLikeToArray(o,minLen)}function vis_controller_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function vis_controller_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function vis_controller_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function vis_controller_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var innerAngularName="kibana/table_vis";function getTableVisualizationControllerClass(core,context){var _temp;return _temp=function(){function TableVisualizationController(domeElement,vis){_classCallCheck(this,TableVisualizationController);vis_controller_defineProperty(this,"tableVisModule",void 0);vis_controller_defineProperty(this,"injector",void 0);vis_controller_defineProperty(this,"el",void 0);vis_controller_defineProperty(this,"vis",void 0);vis_controller_defineProperty(this,"$rootScope",null);vis_controller_defineProperty(this,"$scope",void 0);vis_controller_defineProperty(this,"$compile",void 0);this.el=external_kbnSharedDeps_Jquery_default()(domeElement);this.vis=vis}_createClass(TableVisualizationController,[{key:"getInjector",value:function getInjector(){if(!this.injector){var mountpoint=document.createElement("div");mountpoint.setAttribute("style","height: 100%; width: 100%;");this.injector=external_kbnSharedDeps_Angular_default.a.bootstrap(mountpoint,[innerAngularName]);this.el.append(mountpoint)}return this.injector}},{key:"initLocalAngular",value:function(){var _initLocalAngular=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$core$getStartS,_yield$core$getStartS2,coreStart;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.tableVisModule){_context.next=8;break}_context.next=3;return core.getStartServices();case 3:_yield$core$getStartS=_context.sent;_yield$core$getStartS2=vis_controller_slicedToArray(_yield$core$getStartS,1);coreStart=_yield$core$getStartS2[0];this.tableVisModule=getAngularModule(innerAngularName,coreStart,context);table_vis_legacy_module_initTableVisLegacyModule(this.tableVisModule);case 8:case"end":return _context.stop()}}}),_callee,this)})));function initLocalAngular(){return _initLocalAngular.apply(this,arguments)}return initLocalAngular}()},{key:"render",value:function(){var _render=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(esResponse,visParams){var _this=this;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:getKibanaLegacy().loadFontAwesome();_context3.next=3;return this.initLocalAngular();case 3:return _context3.abrupt("return",new Promise(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(resolve,reject){var $injector,updateScope,_this$vis$type$visCon,_this$vis$type$visCon2;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!_this.$rootScope){$injector=_this.getInjector();_this.$rootScope=$injector.get("$rootScope");_this.$compile=$injector.get("$compile")}updateScope=function updateScope(){if(!_this.$scope){return}_this.$scope.vis=_this.vis;_this.$scope.visState={params:visParams,title:visParams.title};_this.$scope.esResponse=esResponse;_this.$scope.visParams=visParams;_this.$scope.renderComplete=resolve;_this.$scope.renderFailed=reject;_this.$scope.resize=Date.now();_this.$scope.$apply()};if(!_this.$scope&&_this.$compile){_this.$scope=_this.$rootScope.$new();_this.$scope.uiState=_this.vis.getUiState();updateScope();_this.el.find("div").append(_this.$compile((_this$vis$type$visCon=(_this$vis$type$visCon2=_this.vis.type.visConfig)===null||_this$vis$type$visCon2===void 0?void 0:_this$vis$type$visCon2.template)!==null&&_this$vis$type$visCon!==void 0?_this$vis$type$visCon:"")(_this.$scope));_this.$scope.$apply()}else{updateScope()}case 3:case"end":return _context2.stop()}}}),_callee2)})));return function(_x3,_x4){return _ref.apply(this,arguments)}}()));case 4:case"end":return _context3.stop()}}}),_callee3,this)})));function render(_x,_x2){return _render.apply(this,arguments)}return render}()},{key:"destroy",value:function destroy(){if(this.$rootScope){this.$rootScope.$destroy();this.$rootScope=null}}}]);return TableVisualizationController}(),_temp}var visualizations_public_=__webpack_require__(14);function getTableVisTypeDefinition(core,context){return{name:"table",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.tableVisTitle",{defaultMessage:"Data Table"}),icon:"visTable",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.tableVisDescription",{defaultMessage:"Display values in a table"}),visualization:getTableVisualizationControllerClass(core,context),getSupportedTriggers:function getSupportedTriggers(){return[visualizations_public_["VIS_EVENT_TO_TRIGGER"].filter]},visConfig:{defaults:{perPage:10,showPartialRows:false,showMetricsAtAllLevels:false,sort:{columnIndex:null,direction:null},showTotal:false,totalFunc:"sum",percentageCol:""},template:table_vis},editorConfig:{optionsTemplate:table_vis_options_lazy_TableOptions,schemas:new visDefaultEditor_public_["Schemas"]([{group:data_public_["AggGroupNames"].Metrics,name:"metric",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.tableVisEditorConfig.schemas.metricTitle",{defaultMessage:"Metric"}),aggFilter:["!geo_centroid","!geo_bounds"],aggSettings:{top_hits:{allowStrings:true}},min:1,defaults:[{type:"count",schema:"metric"}]},{group:data_public_["AggGroupNames"].Buckets,name:"bucket",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.tableVisEditorConfig.schemas.bucketTitle",{defaultMessage:"Split rows"}),aggFilter:["!filter"]},{group:data_public_["AggGroupNames"].Buckets,name:"split",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeTable.tableVisEditorConfig.schemas.splitTitle",{defaultMessage:"Split table"}),min:0,max:1,aggFilter:["!filter"]}])},responseHandler:tableVisResponseHandler,hierarchicalData:function hierarchicalData(vis){return Boolean(vis.params.showPartialRows||vis.params.showMetricsAtAllLevels)}}}function plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function plugin_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function plugin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function plugin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function plugin_createClass(Constructor,protoProps,staticProps){if(protoProps)plugin_defineProperties(Constructor.prototype,protoProps);if(staticProps)plugin_defineProperties(Constructor,staticProps);return Constructor}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var plugin_TableVisPlugin=function(){function TableVisPlugin(initializerContext){plugin_classCallCheck(this,TableVisPlugin);plugin_defineProperty(this,"initializerContext",void 0);plugin_defineProperty(this,"createBaseVisualization",void 0);this.initializerContext=initializerContext}plugin_createClass(TableVisPlugin,[{key:"setup",value:function(){var _setup=plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee(core,_ref){var expressions,visualizations;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:expressions=_ref.expressions,visualizations=_ref.visualizations;expressions.registerFunction(table_vis_fn_createTableVisFn);visualizations.createBaseVisualization(getTableVisTypeDefinition(core,this.initializerContext));case 3:case"end":return _context.stop()}}}),_callee,this)})));function setup(_x,_x2){return _setup.apply(this,arguments)}return setup}()},{key:"start",value:function start(core,_ref2){var data=_ref2.data,kibanaLegacy=_ref2.kibanaLegacy;setFormatService(data.fieldFormats);setKibanaLegacy(kibanaLegacy)}}]);return TableVisPlugin}();function public_plugin(initializerContext){return new plugin_TableVisPlugin(initializerContext)}},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);