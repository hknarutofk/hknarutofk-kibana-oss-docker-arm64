(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"dashboard.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["dashboard_bundle_jsonpfunction"]=window["dashboard_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=55)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";var _plugins_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48);var _plugins_ui_actions_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_plugins_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__);if(__webpack_require__.o(_plugins_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__,"IncompatibleActionError"))__webpack_require__.d(__webpack_exports__,"IncompatibleActionError",(function(){return _plugins_ui_actions_public__WEBPACK_IMPORTED_MODULE_0__["IncompatibleActionError"]}))},function(module,__webpack_exports__,__webpack_require__){"use strict";var _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__);if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"Container"))__webpack_require__.d(__webpack_exports__,"Container",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["Container"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"Embeddable"))__webpack_require__.d(__webpack_exports__,"Embeddable",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["Embeddable"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"EmbeddableChildPanel"))__webpack_require__.d(__webpack_exports__,"EmbeddableChildPanel",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["EmbeddableChildPanel"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"EmbeddableFactoryNotFoundError"))__webpack_require__.d(__webpack_exports__,"EmbeddableFactoryNotFoundError",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["EmbeddableFactoryNotFoundError"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"PanelNotFoundError"))__webpack_require__.d(__webpack_exports__,"PanelNotFoundError",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["PanelNotFoundError"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"ViewMode"))__webpack_require__.d(__webpack_exports__,"ViewMode",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["ViewMode"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"isErrorEmbeddable"))__webpack_require__.d(__webpack_exports__,"isErrorEmbeddable",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["isErrorEmbeddable"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"isReferenceOrValueEmbeddable"))__webpack_require__.d(__webpack_exports__,"isReferenceOrValueEmbeddable",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["isReferenceOrValueEmbeddable"]}));if(__webpack_require__.o(_plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__,"isSavedObjectEmbeddableInput"))__webpack_require__.d(__webpack_exports__,"isSavedObjectEmbeddableInput",(function(){return _plugins_embeddable_public__WEBPACK_IMPORTED_MODULE_0__["isSavedObjectEmbeddableInput"]}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";var _embeddable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"AddToLibraryAction"))__webpack_require__.d(__webpack_exports__,"AddToLibraryAction",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["AddToLibraryAction"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"ClonePanelAction"))__webpack_require__.d(__webpack_exports__,"ClonePanelAction",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["ClonePanelAction"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"DASHBOARD_CONTAINER_TYPE"))__webpack_require__.d(__webpack_exports__,"DASHBOARD_CONTAINER_TYPE",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["DASHBOARD_CONTAINER_TYPE"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"DEFAULT_PANEL_HEIGHT"))__webpack_require__.d(__webpack_exports__,"DEFAULT_PANEL_HEIGHT",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_PANEL_HEIGHT"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"DEFAULT_PANEL_WIDTH"))__webpack_require__.d(__webpack_exports__,"DEFAULT_PANEL_WIDTH",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_PANEL_WIDTH"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"DashboardContainer"))__webpack_require__.d(__webpack_exports__,"DashboardContainer",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["DashboardContainer"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"DashboardContainerFactoryDefinition"))__webpack_require__.d(__webpack_exports__,"DashboardContainerFactoryDefinition",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["DashboardContainerFactoryDefinition"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"DashboardContainerInput"))__webpack_require__.d(__webpack_exports__,"DashboardContainerInput",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["DashboardContainerInput"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"ExpandPanelAction"))__webpack_require__.d(__webpack_exports__,"ExpandPanelAction",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["ExpandPanelAction"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"LibraryNotificationAction"))__webpack_require__.d(__webpack_exports__,"LibraryNotificationAction",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["LibraryNotificationAction"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"ReplacePanelAction"))__webpack_require__.d(__webpack_exports__,"ReplacePanelAction",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["ReplacePanelAction"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"UnlinkFromLibraryAction"))__webpack_require__.d(__webpack_exports__,"UnlinkFromLibraryAction",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["UnlinkFromLibraryAction"]}));if(__webpack_require__.o(_embeddable__WEBPACK_IMPORTED_MODULE_0__,"createDashboardContainerByValueRenderer"))__webpack_require__.d(__webpack_exports__,"createDashboardContainerByValueRenderer",(function(){return _embeddable__WEBPACK_IMPORTED_MODULE_0__["createDashboardContainerByValueRenderer"]}));var _actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50);__webpack_require__.d(__webpack_exports__,"AddToLibraryAction",(function(){return _actions__WEBPACK_IMPORTED_MODULE_1__["a"]}));__webpack_require__.d(__webpack_exports__,"ClonePanelAction",(function(){return _actions__WEBPACK_IMPORTED_MODULE_1__["b"]}));__webpack_require__.d(__webpack_exports__,"ExpandPanelAction",(function(){return _actions__WEBPACK_IMPORTED_MODULE_1__["c"]}));__webpack_require__.d(__webpack_exports__,"LibraryNotificationAction",(function(){return _actions__WEBPACK_IMPORTED_MODULE_1__["d"]}));__webpack_require__.d(__webpack_exports__,"ReplacePanelAction",(function(){return _actions__WEBPACK_IMPORTED_MODULE_1__["e"]}));__webpack_require__.d(__webpack_exports__,"UnlinkFromLibraryAction",(function(){return _actions__WEBPACK_IMPORTED_MODULE_1__["f"]}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return DASHBOARD_GRID_COLUMN_COUNT}));__webpack_require__.d(__webpack_exports__,"c",(function(){return DASHBOARD_GRID_HEIGHT}));__webpack_require__.d(__webpack_exports__,"e",(function(){return DEFAULT_PANEL_WIDTH}));__webpack_require__.d(__webpack_exports__,"d",(function(){return DEFAULT_PANEL_HEIGHT}));__webpack_require__.d(__webpack_exports__,"a",(function(){return DASHBOARD_CONTAINER_TYPE}));var DASHBOARD_GRID_COLUMN_COUNT=48;var DASHBOARD_GRID_HEIGHT=20;var DEFAULT_PANEL_WIDTH=DASHBOARD_GRID_COLUMN_COUNT/2;var DEFAULT_PANEL_HEIGHT=15;var DASHBOARD_CONTAINER_TYPE="dashboard"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DashboardConstants}));__webpack_require__.d(__webpack_exports__,"b",(function(){return createDashboardEditUrl}));var DashboardConstants={LANDING_PAGE_PATH:"/list",CREATE_NEW_DASHBOARD_URL:"/create",ADD_EMBEDDABLE_ID:"addEmbeddableId",ADD_EMBEDDABLE_TYPE:"addEmbeddableType",DASHBOARDS_ID:"dashboards",DASHBOARD_ID:"dashboard"};function createDashboardEditUrl(id){return"/view/".concat(id)}},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";var _dashboard_container_factory__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25);__webpack_require__.d(__webpack_exports__,"DashboardContainerFactoryDefinition",(function(){return _dashboard_container_factory__WEBPACK_IMPORTED_MODULE_0__["a"]}));var _dashboard_container__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20);__webpack_require__.d(__webpack_exports__,"DashboardContainer",(function(){return _dashboard_container__WEBPACK_IMPORTED_MODULE_1__["a"]}));__webpack_require__.d(__webpack_exports__,"DashboardContainerInput",(function(){return _dashboard_container__WEBPACK_IMPORTED_MODULE_1__["DashboardContainerInput"]}));var _panel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21);var _types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46);var _types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_3__);if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_3__,"AddToLibraryAction"))__webpack_require__.d(__webpack_exports__,"AddToLibraryAction",(function(){return _types__WEBPACK_IMPORTED_MODULE_3__["AddToLibraryAction"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_3__,"ClonePanelAction"))__webpack_require__.d(__webpack_exports__,"ClonePanelAction",(function(){return _types__WEBPACK_IMPORTED_MODULE_3__["ClonePanelAction"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_3__,"ExpandPanelAction"))__webpack_require__.d(__webpack_exports__,"ExpandPanelAction",(function(){return _types__WEBPACK_IMPORTED_MODULE_3__["ExpandPanelAction"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_3__,"LibraryNotificationAction"))__webpack_require__.d(__webpack_exports__,"LibraryNotificationAction",(function(){return _types__WEBPACK_IMPORTED_MODULE_3__["LibraryNotificationAction"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_3__,"ReplacePanelAction"))__webpack_require__.d(__webpack_exports__,"ReplacePanelAction",(function(){return _types__WEBPACK_IMPORTED_MODULE_3__["ReplacePanelAction"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_3__,"UnlinkFromLibraryAction"))__webpack_require__.d(__webpack_exports__,"UnlinkFromLibraryAction",(function(){return _types__WEBPACK_IMPORTED_MODULE_3__["UnlinkFromLibraryAction"]}));var _dashboard_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"DASHBOARD_GRID_COLUMN_COUNT",(function(){return _dashboard_constants__WEBPACK_IMPORTED_MODULE_4__["b"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_PANEL_HEIGHT",(function(){return _dashboard_constants__WEBPACK_IMPORTED_MODULE_4__["d"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_PANEL_WIDTH",(function(){return _dashboard_constants__WEBPACK_IMPORTED_MODULE_4__["e"]}));__webpack_require__.d(__webpack_exports__,"DASHBOARD_CONTAINER_TYPE",(function(){return _dashboard_constants__WEBPACK_IMPORTED_MODULE_4__["a"]}));var _dashboard_container_by_value_renderer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(47);__webpack_require__.d(__webpack_exports__,"createDashboardContainerByValueRenderer",(function(){return _dashboard_container_by_value_renderer__WEBPACK_IMPORTED_MODULE_5__["a"]}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){var v1=__webpack_require__(57);var v4=__webpack_require__(58);var uuid=v4;uuid.v1=v1;uuid.v4=v4;module.exports=uuid},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs}else{module.exports=__webpack_require__(64)()}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.noop=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.bottom=bottom;exports.cloneLayout=cloneLayout;exports.cloneLayoutItem=cloneLayoutItem;exports.childrenEqual=childrenEqual;exports.collides=collides;exports.compact=compact;exports.compactItem=compactItem;exports.correctBounds=correctBounds;exports.getLayoutItem=getLayoutItem;exports.getFirstCollision=getFirstCollision;exports.getAllCollisions=getAllCollisions;exports.getStatics=getStatics;exports.moveElement=moveElement;exports.moveElementAwayFromCollision=moveElementAwayFromCollision;exports.perc=perc;exports.setTransform=setTransform;exports.setTopLeft=setTopLeft;exports.sortLayoutItems=sortLayoutItems;exports.sortLayoutItemsByRowCol=sortLayoutItemsByRowCol;exports.sortLayoutItemsByColRow=sortLayoutItemsByColRow;exports.synchronizeLayoutWithChildren=synchronizeLayoutWithChildren;exports.validateLayout=validateLayout;exports.autoBindHandlers=autoBindHandlers;var _lodash=__webpack_require__(27);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isProduction="production"==="production";var DEBUG=false;function bottom(layout){var max=0,bottomY=void 0;for(var _i=0,len=layout.length;_i<len;_i++){bottomY=layout[_i].y+layout[_i].h;if(bottomY>max)max=bottomY}return max}function cloneLayout(layout){var newLayout=Array(layout.length);for(var _i2=0,len=layout.length;_i2<len;_i2++){newLayout[_i2]=cloneLayoutItem(layout[_i2])}return newLayout}function cloneLayoutItem(layoutItem){return{w:layoutItem.w,h:layoutItem.h,x:layoutItem.x,y:layoutItem.y,i:layoutItem.i,minW:layoutItem.minW,maxW:layoutItem.maxW,minH:layoutItem.minH,maxH:layoutItem.maxH,moved:Boolean(layoutItem.moved),static:Boolean(layoutItem.static),isDraggable:layoutItem.isDraggable,isResizable:layoutItem.isResizable}}function childrenEqual(a,b){return(0,_lodash2.default)(_react2.default.Children.map(a,(function(c){return c.key})),_react2.default.Children.map(b,(function(c){return c.key})))}function collides(l1,l2){if(l1===l2)return false;if(l1.x+l1.w<=l2.x)return false;if(l1.x>=l2.x+l2.w)return false;if(l1.y+l1.h<=l2.y)return false;if(l1.y>=l2.y+l2.h)return false;return true}function compact(layout,compactType,cols){var compareWith=getStatics(layout);var sorted=sortLayoutItems(layout,compactType);var out=Array(layout.length);for(var _i3=0,len=sorted.length;_i3<len;_i3++){var l=cloneLayoutItem(sorted[_i3]);if(!l.static){l=compactItem(compareWith,l,compactType,cols,sorted);compareWith.push(l)}out[layout.indexOf(sorted[_i3])]=l;l.moved=false}return out}var heightWidth={x:"w",y:"h"};function resolveCompactionCollision(layout,item,moveToCoord,axis){var sizeProp=heightWidth[axis];item[axis]+=1;var itemIndex=layout.indexOf(item);for(var _i4=itemIndex+1;_i4<layout.length;_i4++){var otherItem=layout[_i4];if(otherItem.static)continue;if(otherItem.y>item.y+item.h)break;if(collides(item,otherItem)){resolveCompactionCollision(layout,otherItem,moveToCoord+item[sizeProp],axis)}}item[axis]=moveToCoord}function compactItem(compareWith,l,compactType,cols,fullLayout){var compactV=compactType==="vertical";var compactH=compactType==="horizontal";if(compactV){l.y=Math.min(bottom(compareWith),l.y);while(l.y>0&&!getFirstCollision(compareWith,l)){l.y--}}else if(compactH){l.y=Math.min(bottom(compareWith),l.y);while(l.x>0&&!getFirstCollision(compareWith,l)){l.x--}}var collides=void 0;while(collides=getFirstCollision(compareWith,l)){if(compactH){resolveCompactionCollision(fullLayout,l,collides.x+collides.w,"x")}else{resolveCompactionCollision(fullLayout,l,collides.y+collides.h,"y")}if(compactH&&l.x+l.w>cols){l.x=cols-l.w;l.y++}}return l}function correctBounds(layout,bounds){var collidesWith=getStatics(layout);for(var _i5=0,len=layout.length;_i5<len;_i5++){var l=layout[_i5];if(l.x+l.w>bounds.cols)l.x=bounds.cols-l.w;if(l.x<0){l.x=0;l.w=bounds.cols}if(!l.static)collidesWith.push(l);else{while(getFirstCollision(collidesWith,l)){l.y++}}}return layout}function getLayoutItem(layout,id){for(var _i6=0,len=layout.length;_i6<len;_i6++){if(layout[_i6].i===id)return layout[_i6]}}function getFirstCollision(layout,layoutItem){for(var _i7=0,len=layout.length;_i7<len;_i7++){if(collides(layout[_i7],layoutItem))return layout[_i7]}}function getAllCollisions(layout,layoutItem){return layout.filter((function(l){return collides(l,layoutItem)}))}function getStatics(layout){return layout.filter((function(l){return l.static}))}function moveElement(layout,l,x,y,isUserAction,preventCollision,compactType,cols){if(l.static)return layout;if(l.y===y&&l.x===x)return layout;log("Moving element "+l.i+" to ["+String(x)+","+String(y)+"] from ["+l.x+","+l.y+"]");var oldX=l.x;var oldY=l.y;if(typeof x==="number")l.x=x;if(typeof y==="number")l.y=y;l.moved=true;var sorted=sortLayoutItems(layout,compactType);var movingUp=compactType==="vertical"&&typeof y==="number"?oldY>=y:compactType==="horizontal"&&typeof x==="number"?oldX>=x:false;if(movingUp)sorted=sorted.reverse();var collisions=getAllCollisions(sorted,l);if(preventCollision&&collisions.length){log("Collision prevented on "+l.i+", reverting.");l.x=oldX;l.y=oldY;l.moved=false;return layout}for(var _i8=0,len=collisions.length;_i8<len;_i8++){var collision=collisions[_i8];log("Resolving collision between "+l.i+" at ["+l.x+","+l.y+"] and "+collision.i+" at ["+collision.x+","+collision.y+"]");if(collision.moved)continue;if(collision.static){layout=moveElementAwayFromCollision(layout,collision,l,isUserAction,compactType,cols)}else{layout=moveElementAwayFromCollision(layout,l,collision,isUserAction,compactType,cols)}}return layout}function moveElementAwayFromCollision(layout,collidesWith,itemToMove,isUserAction,compactType,cols){var compactH=compactType==="horizontal";var compactV=compactType==="vertical";var preventCollision=false;if(isUserAction){isUserAction=false;var fakeItem={x:compactH?Math.max(collidesWith.x-itemToMove.w,0):itemToMove.x,y:compactV?Math.max(collidesWith.y-itemToMove.h,0):itemToMove.y,w:itemToMove.w,h:itemToMove.h,i:"-1"};if(!getFirstCollision(layout,fakeItem)){log("Doing reverse collision on "+itemToMove.i+" up to ["+fakeItem.x+","+fakeItem.y+"].");return moveElement(layout,itemToMove,compactH?fakeItem.x:undefined,compactV?fakeItem.y:undefined,isUserAction,preventCollision,compactType,cols)}}return moveElement(layout,itemToMove,compactH?itemToMove.x+1:undefined,compactV?itemToMove.y+1:undefined,isUserAction,preventCollision,compactType,cols)}function perc(num){return num*100+"%"}function setTransform(_ref){var top=_ref.top,left=_ref.left,width=_ref.width,height=_ref.height;var translate="translate("+left+"px,"+top+"px)";return{transform:translate,WebkitTransform:translate,MozTransform:translate,msTransform:translate,OTransform:translate,width:width+"px",height:height+"px",position:"absolute"}}function setTopLeft(_ref2){var top=_ref2.top,left=_ref2.left,width=_ref2.width,height=_ref2.height;return{top:top+"px",left:left+"px",width:width+"px",height:height+"px",position:"absolute"}}function sortLayoutItems(layout,compactType){if(compactType==="horizontal")return sortLayoutItemsByColRow(layout);else return sortLayoutItemsByRowCol(layout)}function sortLayoutItemsByRowCol(layout){return[].concat(layout).sort((function(a,b){if(a.y>b.y||a.y===b.y&&a.x>b.x){return 1}else if(a.y===b.y&&a.x===b.x){return 0}return-1}))}function sortLayoutItemsByColRow(layout){return[].concat(layout).sort((function(a,b){if(a.x>b.x||a.x===b.x&&a.y>b.y){return 1}return-1}))}function synchronizeLayoutWithChildren(initialLayout,children,cols,compactType){initialLayout=initialLayout||[];var layout=[];_react2.default.Children.forEach(children,(function(child,i){var exists=getLayoutItem(initialLayout,String(child.key));if(exists){layout[i]=cloneLayoutItem(exists)}else{if(!isProduction&&child.props._grid){console.warn("`_grid` properties on children have been deprecated as of React 15.2. "+"Please use `data-grid` or add your properties directly to the `layout`.")}var g=child.props["data-grid"]||child.props._grid;if(g){if(!isProduction){validateLayout([g],"ReactGridLayout.children")}layout[i]=cloneLayoutItem(_extends({},g,{i:child.key}))}else{layout[i]=cloneLayoutItem({w:1,h:1,x:0,y:bottom(layout),i:String(child.key)})}}}));layout=correctBounds(layout,{cols:cols});layout=compact(layout,compactType,cols);return layout}function validateLayout(layout){var contextName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Layout";var subProps=["x","y","w","h"];if(!Array.isArray(layout))throw new Error(contextName+" must be an array!");for(var _i9=0,len=layout.length;_i9<len;_i9++){var item=layout[_i9];for(var j=0;j<subProps.length;j++){if(typeof item[subProps[j]]!=="number"){throw new Error("ReactGridLayout: "+contextName+"["+_i9+"]."+subProps[j]+" must be a number!")}}if(item.i&&typeof item.i!=="string"){throw new Error("ReactGridLayout: "+contextName+"["+_i9+"].i must be a string!")}if(item.static!==undefined&&typeof item.static!=="boolean"){throw new Error("ReactGridLayout: "+contextName+"["+_i9+"].static must be a boolean!")}}}function autoBindHandlers(el,fns){fns.forEach((function(key){return el[key]=el[key].bind(el)}))}function log(){var _console;if(!DEBUG)return;(_console=console).log.apply(_console,arguments)}var noop=exports.noop=function noop(){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return dashboard_container_DashboardContainer}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(14);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(22);var uuid=__webpack_require__(12);var uuid_default=__webpack_require__.n(uuid);var embeddable_plugin=__webpack_require__(3);var dashboard_constants=__webpack_require__(6);var embeddable_panel=__webpack_require__(21);var styles=__webpack_require__(59);var css_styles=__webpack_require__(61);var commonjs=__webpack_require__(53);var commonjs_default=__webpack_require__.n(commonjs);var classnames=__webpack_require__(16);var classnames_default=__webpack_require__.n(classnames);var external_kbnSharedDeps_Lodash_=__webpack_require__(8);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var react_grid_layout=__webpack_require__(54);var react_grid_layout_default=__webpack_require__.n(react_grid_layout);var public_=__webpack_require__(9);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _objectDestructuringEmpty(obj){if(obj==null)throw new TypeError("Cannot destructure undefined")}var lastValidGridSize=0;function ensureWindowScrollsToBottom(event){var WINDOW_BUFFER=10;if(event.clientY>window.innerHeight-WINDOW_BUFFER){window.scrollTo(0,event.pageY+WINDOW_BUFFER-window.innerHeight)}}function ResponsiveGrid(_ref){var size=_ref.size,isViewMode=_ref.isViewMode,layout=_ref.layout,onLayoutChange=_ref.onLayoutChange,children=_ref.children,maximizedPanelId=_ref.maximizedPanelId,useMargins=_ref.useMargins;lastValidGridSize=size.width>0?size.width:lastValidGridSize;var classes=classnames_default()({"dshLayout--viewing":isViewMode,"dshLayout--editing":!isViewMode,"dshLayout-isMaximizedPanel":maximizedPanelId!==undefined,"dshLayout-withoutMargins":!useMargins});var MARGINS=useMargins?8:0;return external_kbnSharedDeps_React_default.a.createElement(react_grid_layout_default.a,{width:lastValidGridSize,className:classes,isDraggable:true,isResizable:true,useCSSTransforms:false,margin:[MARGINS,MARGINS],cols:dashboard_constants["b"],rowHeight:dashboard_constants["c"],draggableHandle:isViewMode?".doesnt-exist":".embPanel__dragger",layout:layout,onLayoutChange:onLayoutChange,onResize:function onResize(_ref2,_ref3,_ref4,_ref5,event){_objectDestructuringEmpty(_ref2);_objectDestructuringEmpty(_ref3);_objectDestructuringEmpty(_ref4);_objectDestructuringEmpty(_ref5);return ensureWindowScrollsToBottom(event)}},children)}var config={monitorWidth:true};var ResponsiveSizedGrid=commonjs_default()(config)(ResponsiveGrid);var dashboard_grid_DashboardGridUi=function(_React$Component){_inherits(DashboardGridUi,_React$Component);var _super=_createSuper(DashboardGridUi);function DashboardGridUi(props){var _this;_classCallCheck(this,DashboardGridUi);_this=_super.call(this,props);_defineProperty(_assertThisInitialized(_this),"subscription",void 0);_defineProperty(_assertThisInitialized(_this),"mounted",false);_defineProperty(_assertThisInitialized(_this),"gridItems",{});_defineProperty(_assertThisInitialized(_this),"buildLayoutFromPanels",(function(){return external_kbnSharedDeps_Lodash_default.a.map(_this.state.panels,(function(panel){return panel.gridData}))}));_defineProperty(_assertThisInitialized(_this),"onLayoutChange",(function(layout){var panels=_this.state.panels;var updatedPanels=layout.reduce((function(updatedPanelsAcc,panelLayout){updatedPanelsAcc[panelLayout.i]=_objectSpread(_objectSpread({},panels[panelLayout.i]),{},{gridData:external_kbnSharedDeps_Lodash_default.a.pick(panelLayout,["x","y","w","h","i"])});return updatedPanelsAcc}),{});_this.onPanelsUpdated(updatedPanels)}));_defineProperty(_assertThisInitialized(_this),"onPanelsUpdated",(function(panels){_this.props.container.updateInput({panels:panels})}));_defineProperty(_assertThisInitialized(_this),"onPanelFocused",(function(focusedPanelIndex){_this.setState({focusedPanelIndex:focusedPanelIndex})}));_defineProperty(_assertThisInitialized(_this),"onPanelBlurred",(function(blurredPanelIndex){if(_this.state.focusedPanelIndex===blurredPanelIndex){_this.setState({focusedPanelIndex:undefined})}}));_this.state={layout:[],isLayoutInvalid:false,focusedPanelIndex:undefined,panels:_this.props.container.getInput().panels,viewMode:_this.props.container.getInput().viewMode,useMargins:_this.props.container.getInput().useMargins,expandedPanelId:_this.props.container.getInput().expandedPanelId};return _this}_createClass(DashboardGridUi,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.mounted=true;var isLayoutInvalid=false;var layout;try{layout=this.buildLayoutFromPanels()}catch(error){console.error(error);isLayoutInvalid=true;this.props.kibana.notifications.toasts.danger({title:this.props.intl.formatMessage({id:"dashboard.dashboardGrid.toast.unableToLoadDashboardDangerMessage",defaultMessage:"Unable to load dashboard."}),body:error.message,toastLifeTimeMs:5e3})}this.setState({layout:layout,isLayoutInvalid:isLayoutInvalid});this.subscription=this.props.container.getInput$().subscribe((function(input){if(_this2.mounted){_this2.setState({panels:input.panels,viewMode:input.viewMode,useMargins:input.useMargins,expandedPanelId:input.expandedPanelId})}}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;if(this.subscription){this.subscription.unsubscribe()}}},{key:"renderPanels",value:function renderPanels(){var _this3=this;var _this$state=this.state,focusedPanelIndex=_this$state.focusedPanelIndex,panels=_this$state.panels,expandedPanelId=_this$state.expandedPanelId;var panelsInOrder=Object.keys(panels).map((function(key){return panels[key]}));panelsInOrder.sort((function(panelA,panelB){if(panelA.gridData.y===panelB.gridData.y){return panelA.gridData.x-panelB.gridData.x}else{return panelA.gridData.y-panelB.gridData.y}}));return external_kbnSharedDeps_Lodash_default.a.map(panelsInOrder,(function(panel){var expandPanel=expandedPanelId!==undefined&&expandedPanelId===panel.explicitInput.id;var hidePanel=expandedPanelId!==undefined&&expandedPanelId!==panel.explicitInput.id;var classes=classnames_default()({"dshDashboardGrid__item--expanded":expandPanel,"dshDashboardGrid__item--hidden":hidePanel});return external_kbnSharedDeps_React_default.a.createElement("div",{style:{zIndex:focusedPanelIndex===panel.explicitInput.id?2:"auto"},className:classes,key:panel.explicitInput.id,"data-test-subj":"dashboardPanel",ref:function ref(reactGridItem){_this3.gridItems[panel.explicitInput.id]=reactGridItem}},external_kbnSharedDeps_React_default.a.createElement(embeddable_plugin["EmbeddableChildPanel"],{embeddableId:panel.explicitInput.id,container:_this3.props.container,PanelComponent:_this3.props.PanelComponent}))}))}},{key:"render",value:function render(){if(this.state.isLayoutInvalid){return null}var viewMode=this.state.viewMode;var isViewMode=viewMode===embeddable_plugin["ViewMode"].VIEW;return external_kbnSharedDeps_React_default.a.createElement(ResponsiveSizedGrid,{isViewMode:isViewMode,layout:this.buildLayoutFromPanels(),onLayoutChange:this.onLayoutChange,maximizedPanelId:this.state.expandedPanelId,useMargins:this.state.useMargins},this.renderPanels())}}]);return DashboardGridUi}(external_kbnSharedDeps_React_default.a.Component);var DashboardGrid=Object(external_kbnSharedDeps_KbnI18nReact_["injectI18n"])(Object(public_["withKibana"])(dashboard_grid_DashboardGridUi));function dashboard_viewport_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function dashboard_viewport_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function dashboard_viewport_createClass(Constructor,protoProps,staticProps){if(protoProps)dashboard_viewport_defineProperties(Constructor.prototype,protoProps);if(staticProps)dashboard_viewport_defineProperties(Constructor,staticProps);return Constructor}function dashboard_viewport_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)dashboard_viewport_setPrototypeOf(subClass,superClass)}function dashboard_viewport_setPrototypeOf(o,p){dashboard_viewport_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return dashboard_viewport_setPrototypeOf(o,p)}function dashboard_viewport_createSuper(Derived){var hasNativeReflectConstruct=dashboard_viewport_isNativeReflectConstruct();return function _createSuperInternal(){var Super=dashboard_viewport_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=dashboard_viewport_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return dashboard_viewport_possibleConstructorReturn(this,result)}}function dashboard_viewport_possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return dashboard_viewport_assertThisInitialized(self)}function dashboard_viewport_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function dashboard_viewport_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function dashboard_viewport_getPrototypeOf(o){dashboard_viewport_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return dashboard_viewport_getPrototypeOf(o)}function dashboard_viewport_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var dashboard_viewport_DashboardViewport=function(_React$Component){dashboard_viewport_inherits(DashboardViewport,_React$Component);var _super=dashboard_viewport_createSuper(DashboardViewport);function DashboardViewport(props){var _this;dashboard_viewport_classCallCheck(this,DashboardViewport);_this=_super.call(this,props);dashboard_viewport_defineProperty(dashboard_viewport_assertThisInitialized(_this),"context",void 0);dashboard_viewport_defineProperty(dashboard_viewport_assertThisInitialized(_this),"subscription",void 0);dashboard_viewport_defineProperty(dashboard_viewport_assertThisInitialized(_this),"mounted",false);dashboard_viewport_defineProperty(dashboard_viewport_assertThisInitialized(_this),"onExitFullScreenMode",(function(){_this.props.container.updateInput({isFullScreenMode:false})}));var _this$props$container=_this.props.container.getInput(),isFullScreenMode=_this$props$container.isFullScreenMode,panels=_this$props$container.panels,useMargins=_this$props$container.useMargins,title=_this$props$container.title,isEmbeddedExternally=_this$props$container.isEmbeddedExternally,isEmptyState=_this$props$container.isEmptyState;_this.state={isFullScreenMode:isFullScreenMode,panels:panels,useMargins:useMargins,title:title,isEmbeddedExternally:isEmbeddedExternally,isEmptyState:isEmptyState};return _this}dashboard_viewport_createClass(DashboardViewport,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.mounted=true;this.subscription=this.props.container.getInput$().subscribe((function(){var _this2$props$containe=_this2.props.container.getInput(),isFullScreenMode=_this2$props$containe.isFullScreenMode,useMargins=_this2$props$containe.useMargins,title=_this2$props$containe.title,description=_this2$props$containe.description,isEmbeddedExternally=_this2$props$containe.isEmbeddedExternally,isEmptyState=_this2$props$containe.isEmptyState;if(_this2.mounted){_this2.setState({isFullScreenMode:isFullScreenMode,description:description,useMargins:useMargins,title:title,isEmbeddedExternally:isEmbeddedExternally,isEmptyState:isEmptyState})}}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;if(this.subscription){this.subscription.unsubscribe()}}},{key:"renderEmptyScreen",value:function renderEmptyScreen(){var renderEmpty=this.props.renderEmpty;var _this$state=this.state,isEmbeddedExternally=_this$state.isEmbeddedExternally,isFullScreenMode=_this$state.isFullScreenMode;return external_kbnSharedDeps_React_default.a.createElement("div",{className:"dshDashboardEmptyScreen"},isFullScreenMode&&external_kbnSharedDeps_React_default.a.createElement(this.context.services.ExitFullScreenButton,{onExitFullScreenMode:this.onExitFullScreenMode,toggleChrome:!isEmbeddedExternally}),renderEmpty&&renderEmpty())}},{key:"renderContainerScreen",value:function renderContainerScreen(){var _this$props=this.props,container=_this$props.container,PanelComponent=_this$props.PanelComponent;var _this$state2=this.state,isEmbeddedExternally=_this$state2.isEmbeddedExternally,isFullScreenMode=_this$state2.isFullScreenMode,panels=_this$state2.panels,title=_this$state2.title,description=_this$state2.description,useMargins=_this$state2.useMargins;return external_kbnSharedDeps_React_default.a.createElement("div",{"data-shared-items-count":Object.values(panels).length,"data-shared-items-container":true,"data-title":title,"data-description":description,className:useMargins?"dshDashboardViewport-withMargins":"dshDashboardViewport"},isFullScreenMode&&external_kbnSharedDeps_React_default.a.createElement(this.context.services.ExitFullScreenButton,{onExitFullScreenMode:this.onExitFullScreenMode,toggleChrome:!isEmbeddedExternally}),external_kbnSharedDeps_React_default.a.createElement(DashboardGrid,{container:container,PanelComponent:PanelComponent}))}},{key:"render",value:function render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,this.state.isEmptyState?this.renderEmptyScreen():null,this.renderContainerScreen())}}]);return DashboardViewport}(external_kbnSharedDeps_React_default.a.Component);dashboard_viewport_defineProperty(dashboard_viewport_DashboardViewport,"contextType",public_["context"]);var placeholder=__webpack_require__(24);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function dashboard_container_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function dashboard_container_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){dashboard_container_ownKeys(Object(source),true).forEach((function(key){dashboard_container_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{dashboard_container_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function dashboard_container_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function dashboard_container_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function dashboard_container_createClass(Constructor,protoProps,staticProps){if(protoProps)dashboard_container_defineProperties(Constructor.prototype,protoProps);if(staticProps)dashboard_container_defineProperties(Constructor,staticProps);return Constructor}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=dashboard_container_getPrototypeOf(object);if(object===null)break}return object}function dashboard_container_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)dashboard_container_setPrototypeOf(subClass,superClass)}function dashboard_container_setPrototypeOf(o,p){dashboard_container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return dashboard_container_setPrototypeOf(o,p)}function dashboard_container_createSuper(Derived){var hasNativeReflectConstruct=dashboard_container_isNativeReflectConstruct();return function _createSuperInternal(){var Super=dashboard_container_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=dashboard_container_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return dashboard_container_possibleConstructorReturn(this,result)}}function dashboard_container_possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return dashboard_container_assertThisInitialized(self)}function dashboard_container_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function dashboard_container_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function dashboard_container_getPrototypeOf(o){dashboard_container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return dashboard_container_getPrototypeOf(o)}function dashboard_container_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var dashboard_container_DashboardContainer=function(_Container){dashboard_container_inherits(DashboardContainer,_Container);var _super=dashboard_container_createSuper(DashboardContainer);function DashboardContainer(initialInput,options,stateTransfer,parent){var _this;dashboard_container_classCallCheck(this,DashboardContainer);_this=_super.call(this,dashboard_container_objectSpread({},initialInput),{embeddableLoaded:{}},options.embeddable.getEmbeddableFactory,parent);_this.options=options;dashboard_container_defineProperty(dashboard_container_assertThisInitialized(_this),"type",dashboard_constants["a"]);dashboard_container_defineProperty(dashboard_container_assertThisInitialized(_this),"renderEmpty",void 0);dashboard_container_defineProperty(dashboard_container_assertThisInitialized(_this),"embeddablePanel",void 0);_this.embeddablePanel=options.embeddable.getEmbeddablePanel(stateTransfer);return _this}dashboard_container_createClass(DashboardContainer,[{key:"createNewPanelState",value:function createNewPanelState(factory){var partial=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var panelState=_get(dashboard_container_getPrototypeOf(DashboardContainer.prototype),"createNewPanelState",this).call(this,factory,partial);return Object(embeddable_panel["a"])(panelState,this.input.panels)}},{key:"showPlaceholderUntil",value:function showPlaceholderUntil(newStateComplete,placementMethod,placementArgs){var _this2=this;var originalPanelState={type:placeholder["a"],explicitInput:{id:uuid_default.a.v4(),disabledActions:["ACTION_CUSTOMIZE_PANEL","CUSTOM_TIME_RANGE","clonePanel","replacePanel","togglePanel"]}};var placeholderPanelState=Object(embeddable_panel["a"])(originalPanelState,this.input.panels,placementMethod,placementArgs);this.updateInput({panels:dashboard_container_objectSpread(dashboard_container_objectSpread({},this.input.panels),{},{[placeholderPanelState.explicitInput.id]:placeholderPanelState})});newStateComplete.then((function(newPanelState){return _this2.replacePanel(placeholderPanelState,newPanelState)}))}},{key:"replacePanel",value:function replacePanel(previousPanelState,newPanelState){var _newPanelState$explic;var finalPanels=dashboard_container_objectSpread({},this.input.panels);delete finalPanels[previousPanelState.explicitInput.id];var newPanelId=((_newPanelState$explic=newPanelState.explicitInput)===null||_newPanelState$explic===void 0?void 0:_newPanelState$explic.id)?newPanelState.explicitInput.id:uuid_default.a.v4();finalPanels[newPanelId]=dashboard_container_objectSpread(dashboard_container_objectSpread(dashboard_container_objectSpread({},previousPanelState),newPanelState),{},{gridData:dashboard_container_objectSpread(dashboard_container_objectSpread({},previousPanelState.gridData),{},{i:newPanelId}),explicitInput:dashboard_container_objectSpread(dashboard_container_objectSpread({},newPanelState.explicitInput),{},{id:newPanelId})});this.updateInput({panels:finalPanels,lastReloadRequestTime:(new Date).getTime()})}},{key:"addOrUpdateEmbeddable",value:function(){var _addOrUpdateEmbeddable=_asyncToGenerator(regeneratorRuntime.mark((function _callee(type,explicitInput,embeddableId){var idToReplace;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:idToReplace=embeddableId||explicitInput.id;if(idToReplace&&this.input.panels[idToReplace]){this.replacePanel(this.input.panels[idToReplace],{type:type,explicitInput:dashboard_container_objectSpread(dashboard_container_objectSpread({},explicitInput),{},{id:uuid_default.a.v4()})})}else{this.addNewEmbeddable(type,explicitInput)}case 2:case"end":return _context.stop()}}}),_callee,this)})));function addOrUpdateEmbeddable(_x,_x2,_x3){return _addOrUpdateEmbeddable.apply(this,arguments)}return addOrUpdateEmbeddable}()},{key:"render",value:function render(dom){external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(public_["KibanaContextProvider"],{services:this.options},external_kbnSharedDeps_React_default.a.createElement(dashboard_viewport_DashboardViewport,{renderEmpty:this.renderEmpty,container:this,PanelComponent:this.embeddablePanel}))),dom)}},{key:"getInheritedInput",value:function getInheritedInput(id){var _this$input=this.input,viewMode=_this$input.viewMode,refreshConfig=_this$input.refreshConfig,timeRange=_this$input.timeRange,query=_this$input.query,hidePanelTitles=_this$input.hidePanelTitles,filters=_this$input.filters;return{filters:filters,hidePanelTitles:hidePanelTitles,query:query,timeRange:timeRange,refreshConfig:refreshConfig,viewMode:viewMode,id:id}}}]);return DashboardContainer}(embeddable_plugin["Container"])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createPanelState}));var dashboard_constants=__webpack_require__(6);var dashboard_panel_placement=__webpack_require__(23);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function createPanelState(panelState,currentPanels,placementMethod,placementArgs){var defaultPlacementArgs={width:dashboard_constants["e"],height:dashboard_constants["d"],currentPanels:currentPanels};var finalPlacementArgs=placementArgs?_objectSpread(_objectSpread({},defaultPlacementArgs),placementArgs):defaultPlacementArgs;var gridDataLocation=placementMethod?placementMethod(finalPlacementArgs):Object(dashboard_panel_placement["a"])(defaultPlacementArgs);return _objectSpread({gridData:_objectSpread(_objectSpread({},gridDataLocation),{},{i:panelState.explicitInput.id})},panelState)}},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return findTopLeftMostOpenSpace}));__webpack_require__.d(__webpack_exports__,"b",(function(){return placePanelBeside}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _embeddable_plugin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);var ___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);function findTopLeftMostOpenSpace(_ref){var width=_ref.width,height=_ref.height,currentPanels=_ref.currentPanels;var maxY=-1;var currentPanelsArray=Object.values(currentPanels);currentPanelsArray.forEach((function(panel){maxY=Math.max(panel.gridData.y+panel.gridData.h,maxY)}));if(maxY<0){return{x:0,y:0,w:width,h:height}}var grid=new Array(maxY);for(var y=0;y<maxY;y++){grid[y]=new Array(___WEBPACK_IMPORTED_MODULE_2__["DASHBOARD_GRID_COLUMN_COUNT"]).fill(0)}currentPanelsArray.forEach((function(panel){for(var x=panel.gridData.x;x<panel.gridData.x+panel.gridData.w;x++){for(var _y=panel.gridData.y;_y<panel.gridData.y+panel.gridData.h;_y++){var row=grid[_y];if(row===undefined){throw new Error("Attempted to access a row that doesn't exist at ".concat(_y," for panel ").concat(JSON.stringify(panel)))}grid[_y][x]=1}}}));for(var _y2=0;_y2<maxY;_y2++){for(var x=0;x<___WEBPACK_IMPORTED_MODULE_2__["DASHBOARD_GRID_COLUMN_COUNT"];x++){if(grid[_y2][x]===1){continue}else{for(var h=_y2;h<Math.min(_y2+height,maxY);h++){for(var w=x;w<Math.min(x+width,___WEBPACK_IMPORTED_MODULE_2__["DASHBOARD_GRID_COLUMN_COUNT"]);w++){var spaceIsEmpty=grid[h][w]===0;var fitsPanelWidth=w===x+width-1;var fitsPanelHeight=h===Math.min(_y2+height-1,maxY-1);if(spaceIsEmpty&&fitsPanelWidth&&fitsPanelHeight){return{x:x,y:_y2,w:width,h:height}}else if(grid[h][w]===1){break}}}}}}return{x:0,y:maxY,w:width,h:height}}function comparePanels(a,b){if(a.y+a.h<b.y+b.h){return-1}if(a.y+a.h>b.y+b.h){return 1}if(a.x+a.w<=b.x+b.w){return-1}return 1}function placePanelBeside(_ref2){var width=_ref2.width,height=_ref2.height,currentPanels=_ref2.currentPanels,placeBesideId=_ref2.placeBesideId;var panelToPlaceBeside=currentPanels[placeBesideId];if(!panelToPlaceBeside){throw new _embeddable_plugin__WEBPACK_IMPORTED_MODULE_1__["PanelNotFoundError"]}var beside=panelToPlaceBeside.gridData;var otherPanels=[];lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forOwn(currentPanels,(function(panel,key){otherPanels.push(panel.gridData)}));var possiblePlacementDirections=[{grid:{x:beside.x+beside.w,y:beside.y,w:width,h:height},fits:true},{grid:{x:0,y:beside.y+beside.h,w:width,h:height},fits:true},{grid:{x:beside.x,y:beside.y+beside.h,w:width,h:height},fits:true}];var _loop=function _loop(){var direction=_possiblePlacementDir[_i];if(direction.grid.x>=0&&direction.grid.x+direction.grid.w<=___WEBPACK_IMPORTED_MODULE_2__["DASHBOARD_GRID_COLUMN_COUNT"]&&direction.grid.y>=0){var intersection=otherPanels.some((function(currentPanelGrid){return direction.grid.x+direction.grid.w>currentPanelGrid.x&&direction.grid.x<currentPanelGrid.x+currentPanelGrid.w&&direction.grid.y<currentPanelGrid.y+currentPanelGrid.h&&direction.grid.y+direction.grid.h>currentPanelGrid.y}));if(!intersection){return{v:direction.grid}}}else{direction.fits=false}};for(var _i=0,_possiblePlacementDir=possiblePlacementDirections;_i<_possiblePlacementDir.length;_i++){var _ret=_loop();if(typeof _ret==="object")return _ret.v}var grid=otherPanels.sort(comparePanels);var position=0;for(position;position<grid.length;position++){if(beside.i===grid[position].i){break}}var bottomPlacement=possiblePlacementDirections[2];var originalPositionInTheGrid=grid[position+1].i;var diff=bottomPlacement.grid.y+bottomPlacement.grid.h-currentPanels[originalPositionInTheGrid].gridData.y;for(var j=position+1;j<grid.length;j++){originalPositionInTheGrid=grid[j].i;var movedPanel=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(currentPanels[originalPositionInTheGrid]);movedPanel.gridData.y=movedPanel.gridData.y+diff;currentPanels[originalPositionInTheGrid]=movedPanel}return bottomPlacement.grid}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PLACEHOLDER_EMBEDDABLE}));__webpack_require__.d(__webpack_exports__,"b",(function(){return placeholder_embeddable_factory_PlaceholderEmbeddableFactory}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(14);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(13);var classnames=__webpack_require__(16);var classnames_default=__webpack_require__.n(classnames);var embeddable_plugin=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PLACEHOLDER_EMBEDDABLE="placeholder";var placeholder_embeddable_PlaceholderEmbeddable=function(_Embeddable){_inherits(PlaceholderEmbeddable,_Embeddable);var _super=_createSuper(PlaceholderEmbeddable);function PlaceholderEmbeddable(initialInput,parent){var _this;_classCallCheck(this,PlaceholderEmbeddable);_this=_super.call(this,initialInput,{},parent);_defineProperty(_assertThisInitialized(_this),"type",PLACEHOLDER_EMBEDDABLE);_defineProperty(_assertThisInitialized(_this),"node",void 0);_this.input=initialInput;return _this}_createClass(PlaceholderEmbeddable,[{key:"render",value:function render(node){if(this.node){external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.node)}this.node=node;var classes=classnames_default()("embPanel","embPanel-isLoading");external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement("div",{className:classes},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingChart"],{size:"l",mono:true})),node)}},{key:"reload",value:function reload(){}}]);return PlaceholderEmbeddable}(embeddable_plugin["Embeddable"]);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function placeholder_embeddable_factory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function placeholder_embeddable_factory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function placeholder_embeddable_factory_createClass(Constructor,protoProps,staticProps){if(protoProps)placeholder_embeddable_factory_defineProperties(Constructor.prototype,protoProps);if(staticProps)placeholder_embeddable_factory_defineProperties(Constructor,staticProps);return Constructor}function placeholder_embeddable_factory_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var placeholder_embeddable_factory_PlaceholderEmbeddableFactory=function(){function PlaceholderEmbeddableFactory(){placeholder_embeddable_factory_classCallCheck(this,PlaceholderEmbeddableFactory);placeholder_embeddable_factory_defineProperty(this,"type",PLACEHOLDER_EMBEDDABLE)}placeholder_embeddable_factory_createClass(PlaceholderEmbeddableFactory,[{key:"isEditable",value:function(){var _isEditable=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",false);case 1:case"end":return _context.stop()}}}),_callee)})));function isEditable(){return _isEditable.apply(this,arguments)}return isEditable}()},{key:"canCreateNew",value:function canCreateNew(){return false}},{key:"create",value:function(){var _create=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(initialInput,parent){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new placeholder_embeddable_PlaceholderEmbeddable(initialInput,parent));case 1:case"end":return _context2.stop()}}}),_callee2)})));function create(_x,_x2){return _create.apply(this,arguments)}return create}()},{key:"getDisplayName",value:function getDisplayName(){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.placeholder.factory.displayName",{defaultMessage:"placeholder"})}}]);return PlaceholderEmbeddableFactory}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DashboardContainerFactoryDefinition}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _dashboard_container__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20);var _dashboard_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DashboardContainerFactoryDefinition=function(){function DashboardContainerFactoryDefinition(getStartServices,getHistory){var _this=this;_classCallCheck(this,DashboardContainerFactoryDefinition);this.getStartServices=getStartServices;this.getHistory=getHistory;_defineProperty(this,"isContainerType",true);_defineProperty(this,"type",_dashboard_constants__WEBPACK_IMPORTED_MODULE_2__["a"]);_defineProperty(this,"isEditable",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$_this$getStart,capabilities;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.getStartServices();case 2:_yield$_this$getStart=_context.sent;capabilities=_yield$_this$getStart.capabilities;return _context.abrupt("return",!!capabilities.createNew&&!!capabilities.showWriteControls);case 5:case"end":return _context.stop()}}}),_callee)}))));_defineProperty(this,"getDisplayName",(function(){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("dashboard.factory.displayName",{defaultMessage:"dashboard"})}));_defineProperty(this,"create",function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(initialInput,parent){var services,stateTransfer;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getStartServices();case 2:services=_context2.sent;stateTransfer=services.embeddable.getStateTransfer(_this.getHistory());return _context2.abrupt("return",new _dashboard_container__WEBPACK_IMPORTED_MODULE_1__["a"](initialInput,services,stateTransfer,parent));case 5:case"end":return _context2.stop()}}}),_callee2)})));return function(_x,_x2){return _ref2.apply(this,arguments)}}())}_createClass(DashboardContainerFactoryDefinition,[{key:"getDefaultInput",value:function getDefaultInput(){return{panels:{},isEmbeddedExternally:false,isFullScreenMode:false,useMargins:true}}}]);return DashboardContainerFactoryDefinition}()},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports,__webpack_require__){(function(global,module){var LARGE_ARRAY_SIZE=200;var HASH_UNDEFINED="__lodash_hash_undefined__";var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsUint=/^(?:0|[1-9]\d*)$/;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseUnary(func){return function(value){return func(value)}}function cacheHas(cache,key){return cache.has(key)}function getValue(object,key){return object==null?undefined:object[key]}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach((function(value,key){result[++index]=[key,value]}));return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);set.forEach((function(value){result[++index]=value}));return result}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=root["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?root.Buffer:undefined,Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:undefined;var nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeKeys=overArg(Object.keys,Object);var DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create");var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}}))){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)}))};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function objectToString(value){return nativeObjectToString.call(value)}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}var isBuffer=nativeIsBuffer||stubFalse;function isEqual(value,other){return baseIsEqual(value,other)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function stubArray(){return[]}function stubFalse(){return false}module.exports=isEqual}).call(this,__webpack_require__(38),__webpack_require__(88)(module))},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(95);const decodeComponent=__webpack_require__(96);const splitOnFirst=__webpack_require__(97);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaLegacy/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,exports){var getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){getRandomValues(rnds8);return rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;rnds[i]=r>>>((i&3)<<3)&255}return rnds}}},function(module,exports){var byteToHex=[];for(var i=0;i<256;++i){byteToHex[i]=(i+256).toString(16).substr(1)}function bytesToUuid(buf,offset){var i=offset||0;var bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}module.exports=bytesToUuid},function(module,exports,__webpack_require__){var isObject=__webpack_require__(26),now=__webpack_require__(68),toNumber=__webpack_require__(70);var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max,nativeMin=Math.min;function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}module.exports=debounce},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(69);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){var root=__webpack_require__(37);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){"use strict";var utils=module.exports={};utils.forEach=function(collection,callback){for(var i=0;i<collection.length;i++){var result=callback(collection[i]);if(result){return result}}}},function(module,exports,__webpack_require__){"use strict";var detector=module.exports={};detector.isIE=function(version){function isAnyIeVersion(){var agent=navigator.userAgent.toLowerCase();return agent.indexOf("msie")!==-1||agent.indexOf("trident")!==-1||agent.indexOf(" edge/")!==-1}if(!isAnyIeVersion()){return false}if(!version){return true}var ieVersion=function(){var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");do{div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e"}while(all[0]);return v>4?v:undef}();return version===ieVersion};detector.isLegacyOpera=function(){return!!window.opera}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(27);var _lodash2=_interopRequireDefault(_lodash);var _classnames=__webpack_require__(16);var _classnames2=_interopRequireDefault(_classnames);var _utils=__webpack_require__(19);var _GridItem=__webpack_require__(89);var _GridItem2=_interopRequireDefault(_GridItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ReactGridLayout=function(_React$Component){_inherits(ReactGridLayout,_React$Component);function ReactGridLayout(props,context){_classCallCheck(this,ReactGridLayout);var _this=_possibleConstructorReturn(this,_React$Component.call(this,props,context));_initialiseProps.call(_this);(0,_utils.autoBindHandlers)(_this,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]);return _this}ReactGridLayout.prototype.componentDidMount=function componentDidMount(){this.setState({mounted:true});this.onLayoutMaybeChanged(this.state.layout,this.props.layout)};ReactGridLayout.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){var newLayoutBase=void 0;if(!(0,_lodash2.default)(nextProps.layout,this.props.layout)||nextProps.compactType!==this.props.compactType){newLayoutBase=nextProps.layout}else if(!(0,_utils.childrenEqual)(this.props.children,nextProps.children)){newLayoutBase=this.state.layout}if(newLayoutBase){var newLayout=(0,_utils.synchronizeLayoutWithChildren)(newLayoutBase,nextProps.children,nextProps.cols,this.compactType(nextProps));var _oldLayout=this.state.layout;this.setState({layout:newLayout});this.onLayoutMaybeChanged(newLayout,_oldLayout)}};ReactGridLayout.prototype.containerHeight=function containerHeight(){if(!this.props.autoSize)return;var nbRow=(0,_utils.bottom)(this.state.layout);var containerPaddingY=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return nbRow*this.props.rowHeight+(nbRow-1)*this.props.margin[1]+containerPaddingY*2+"px"};ReactGridLayout.prototype.compactType=function compactType(props){if(!props)props=this.props;return props.verticalCompact===false?null:props.compactType};ReactGridLayout.prototype.onDragStart=function onDragStart(i,x,y,_ref){var e=_ref.e,node=_ref.node;var layout=this.state.layout;var l=(0,_utils.getLayoutItem)(layout,i);if(!l)return;this.setState({oldDragItem:(0,_utils.cloneLayoutItem)(l),oldLayout:this.state.layout});return this.props.onDragStart(layout,l,l,null,e,node)};ReactGridLayout.prototype.onDrag=function onDrag(i,x,y,_ref2){var e=_ref2.e,node=_ref2.node;var oldDragItem=this.state.oldDragItem;var layout=this.state.layout;var cols=this.props.cols;var l=(0,_utils.getLayoutItem)(layout,i);if(!l)return;var placeholder={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:true,i:i};var isUserAction=true;layout=(0,_utils.moveElement)(layout,l,x,y,isUserAction,this.props.preventCollision,this.compactType(),cols);this.props.onDrag(layout,oldDragItem,l,placeholder,e,node);this.setState({layout:(0,_utils.compact)(layout,this.compactType(),cols),activeDrag:placeholder})};ReactGridLayout.prototype.onDragStop=function onDragStop(i,x,y,_ref3){var e=_ref3.e,node=_ref3.node;var oldDragItem=this.state.oldDragItem;var layout=this.state.layout;var _props=this.props,cols=_props.cols,preventCollision=_props.preventCollision;var l=(0,_utils.getLayoutItem)(layout,i);if(!l)return;var isUserAction=true;layout=(0,_utils.moveElement)(layout,l,x,y,isUserAction,preventCollision,this.compactType(),cols);this.props.onDragStop(layout,oldDragItem,l,null,e,node);var newLayout=(0,_utils.compact)(layout,this.compactType(),cols);var oldLayout=this.state.oldLayout;this.setState({activeDrag:null,layout:newLayout,oldDragItem:null,oldLayout:null});this.onLayoutMaybeChanged(newLayout,oldLayout)};ReactGridLayout.prototype.onLayoutMaybeChanged=function onLayoutMaybeChanged(newLayout,oldLayout){if(!oldLayout)oldLayout=this.state.layout;if(!(0,_lodash2.default)(oldLayout,newLayout)){this.props.onLayoutChange(newLayout)}};ReactGridLayout.prototype.onResizeStart=function onResizeStart(i,w,h,_ref4){var e=_ref4.e,node=_ref4.node;var layout=this.state.layout;var l=(0,_utils.getLayoutItem)(layout,i);if(!l)return;this.setState({oldResizeItem:(0,_utils.cloneLayoutItem)(l),oldLayout:this.state.layout});this.props.onResizeStart(layout,l,l,null,e,node)};ReactGridLayout.prototype.onResize=function onResize(i,w,h,_ref5){var e=_ref5.e,node=_ref5.node;var _state=this.state,layout=_state.layout,oldResizeItem=_state.oldResizeItem;var _props2=this.props,cols=_props2.cols,preventCollision=_props2.preventCollision;var l=(0,_utils.getLayoutItem)(layout,i);if(!l)return;var hasCollisions=void 0;if(preventCollision){var collisions=(0,_utils.getAllCollisions)(layout,_extends({},l,{w:w,h:h})).filter((function(layoutItem){return layoutItem.i!==l.i}));hasCollisions=collisions.length>0;if(hasCollisions){var leastX=Infinity,leastY=Infinity;collisions.forEach((function(layoutItem){if(layoutItem.x>l.x)leastX=Math.min(leastX,layoutItem.x);if(layoutItem.y>l.y)leastY=Math.min(leastY,layoutItem.y)}));if(Number.isFinite(leastX))l.w=leastX-l.x;if(Number.isFinite(leastY))l.h=leastY-l.y}}if(!hasCollisions){l.w=w;l.h=h}var placeholder={w:l.w,h:l.h,x:l.x,y:l.y,static:true,i:i};this.props.onResize(layout,oldResizeItem,l,placeholder,e,node);this.setState({layout:(0,_utils.compact)(layout,this.compactType(),cols),activeDrag:placeholder})};ReactGridLayout.prototype.onResizeStop=function onResizeStop(i,w,h,_ref6){var e=_ref6.e,node=_ref6.node;var _state2=this.state,layout=_state2.layout,oldResizeItem=_state2.oldResizeItem;var cols=this.props.cols;var l=(0,_utils.getLayoutItem)(layout,i);this.props.onResizeStop(layout,oldResizeItem,l,null,e,node);var newLayout=(0,_utils.compact)(layout,this.compactType(),cols);var oldLayout=this.state.oldLayout;this.setState({activeDrag:null,layout:newLayout,oldResizeItem:null,oldLayout:null});this.onLayoutMaybeChanged(newLayout,oldLayout)};ReactGridLayout.prototype.placeholder=function placeholder(){var activeDrag=this.state.activeDrag;if(!activeDrag)return null;var _props3=this.props,width=_props3.width,cols=_props3.cols,margin=_props3.margin,containerPadding=_props3.containerPadding,rowHeight=_props3.rowHeight,maxRows=_props3.maxRows,useCSSTransforms=_props3.useCSSTransforms;return _react2.default.createElement(_GridItem2.default,{w:activeDrag.w,h:activeDrag.h,x:activeDrag.x,y:activeDrag.y,i:activeDrag.i,className:"react-grid-placeholder",containerWidth:width,cols:cols,margin:margin,containerPadding:containerPadding||margin,maxRows:maxRows,rowHeight:rowHeight,isDraggable:false,isResizable:false,useCSSTransforms:useCSSTransforms},_react2.default.createElement("div",null))};ReactGridLayout.prototype.processGridItem=function processGridItem(child){if(!child||!child.key)return;var l=(0,_utils.getLayoutItem)(this.state.layout,String(child.key));if(!l)return null;var _props4=this.props,width=_props4.width,cols=_props4.cols,margin=_props4.margin,containerPadding=_props4.containerPadding,rowHeight=_props4.rowHeight,maxRows=_props4.maxRows,isDraggable=_props4.isDraggable,isResizable=_props4.isResizable,useCSSTransforms=_props4.useCSSTransforms,draggableCancel=_props4.draggableCancel,draggableHandle=_props4.draggableHandle;var mounted=this.state.mounted;var draggable=Boolean(!l.static&&isDraggable&&(l.isDraggable||l.isDraggable==null));var resizable=Boolean(!l.static&&isResizable&&(l.isResizable||l.isResizable==null));return _react2.default.createElement(_GridItem2.default,{containerWidth:width,cols:cols,margin:margin,containerPadding:containerPadding||margin,maxRows:maxRows,rowHeight:rowHeight,cancel:draggableCancel,handle:draggableHandle,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:draggable,isResizable:resizable,useCSSTransforms:useCSSTransforms&&mounted,usePercentages:!mounted,w:l.w,h:l.h,x:l.x,y:l.y,i:l.i,minH:l.minH,minW:l.minW,maxH:l.maxH,maxW:l.maxW,static:l.static},child)};ReactGridLayout.prototype.render=function render(){var _this2=this;var _props5=this.props,className=_props5.className,style=_props5.style;var mergedClassName=(0,_classnames2.default)("react-grid-layout",className);var mergedStyle=_extends({height:this.containerHeight()},style);return _react2.default.createElement("div",{className:mergedClassName,style:mergedStyle},_react2.default.Children.map(this.props.children,(function(child){return _this2.processGridItem(child)})),this.placeholder())};return ReactGridLayout}(_react2.default.Component);ReactGridLayout.displayName="ReactGridLayout";ReactGridLayout.propTypes={className:_propTypes2.default.string,style:_propTypes2.default.object,width:_propTypes2.default.number,autoSize:_propTypes2.default.bool,cols:_propTypes2.default.number,draggableCancel:_propTypes2.default.string,draggableHandle:_propTypes2.default.string,verticalCompact:function verticalCompact(props){if(props.verticalCompact===false&&"production"!=="production"){console.warn("`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. "+'Use `compactType`: "horizontal" | "vertical" | null.')}},compactType:_propTypes2.default.oneOf(["vertical","horizontal"]),layout:function layout(props){var layout=props.layout;if(layout===undefined)return;(0,_utils.validateLayout)(layout,"layout")},margin:_propTypes2.default.arrayOf(_propTypes2.default.number),containerPadding:_propTypes2.default.arrayOf(_propTypes2.default.number),rowHeight:_propTypes2.default.number,maxRows:_propTypes2.default.number,isDraggable:_propTypes2.default.bool,isResizable:_propTypes2.default.bool,preventCollision:_propTypes2.default.bool,useCSSTransforms:_propTypes2.default.bool,onLayoutChange:_propTypes2.default.func,onDragStart:_propTypes2.default.func,onDrag:_propTypes2.default.func,onDragStop:_propTypes2.default.func,onResizeStart:_propTypes2.default.func,onResize:_propTypes2.default.func,onResizeStop:_propTypes2.default.func,children:function children(props,propName){var children=props[propName];var keys={};_react2.default.Children.forEach(children,(function(child){if(keys[child.key]){throw new Error('Duplicate child key "'+child.key+'" found! This will cause problems in ReactGridLayout.')}keys[child.key]=true}))}};ReactGridLayout.defaultProps={autoSize:true,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:Infinity,layout:[],margin:[10,10],isDraggable:true,isResizable:true,useCSSTransforms:true,verticalCompact:true,compactType:"vertical",preventCollision:false,onLayoutChange:_utils.noop,onDragStart:_utils.noop,onDrag:_utils.noop,onDragStop:_utils.noop,onResizeStart:_utils.noop,onResize:_utils.noop,onResizeStop:_utils.noop};var _initialiseProps=function _initialiseProps(){this.state={activeDrag:null,layout:(0,_utils.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:false,oldDragItem:null,oldLayout:null,oldResizeItem:null}};exports.default=ReactGridLayout},function(module,exports,__webpack_require__){(function webpackUniversalModuleDefinition(root,factory){if(true)module.exports=factory(__webpack_require__(14),__webpack_require__(0));else{}})(this,(function(__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_6__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=12)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findInArray=findInArray;exports.isFunction=isFunction;exports.isNum=isNum;exports.int=int;exports.dontSetMe=dontSetMe;function findInArray(array,callback){for(var i=0,length=array.length;i<length;i++){if(callback.apply(callback,[array[i],i,array]))return array[i]}}function isFunction(func){return typeof func==="function"||Object.prototype.toString.call(func)==="[object Function]"}function isNum(num){return typeof num==="number"&&!isNaN(num)}function int(a){return parseInt(a,10)}function dontSetMe(props,propName,componentName){if(props[propName]){return new Error("Invalid prop "+propName+" passed to "+componentName+" - do not set this, set it on the child.")}}},function(module,exports,__webpack_require__){"use strict";function makeEmptyFunction(arg){return function(){return arg}}var emptyFunction=function emptyFunction(){};emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this};emptyFunction.thatReturnsArgument=function(arg){return arg};module.exports=emptyFunction},function(module,exports,__webpack_require__){"use strict";var validateFormat=function validateFormat(format){};if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"){validateFormat=function validateFormat(format){if(format===undefined){throw new Error("invariant requires an error message argument")}}}function invariant(condition,format,a,b,c,d,e,f){validateFormat(format);if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,(function(){return args[argIndex++]})));error.name="Invariant Violation"}error.framesToPop=1;throw error}}module.exports=invariant},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.matchesSelector=matchesSelector;exports.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;exports.addEvent=addEvent;exports.removeEvent=removeEvent;exports.outerHeight=outerHeight;exports.outerWidth=outerWidth;exports.innerHeight=innerHeight;exports.innerWidth=innerWidth;exports.offsetXYFromParent=offsetXYFromParent;exports.createCSSTransform=createCSSTransform;exports.createSVGTransform=createSVGTransform;exports.getTouch=getTouch;exports.getTouchIdentifier=getTouchIdentifier;exports.addUserSelectStyles=addUserSelectStyles;exports.removeUserSelectStyles=removeUserSelectStyles;exports.styleHacks=styleHacks;exports.addClassName=addClassName;exports.removeClassName=removeClassName;var _shims=__webpack_require__(0);var _getPrefix=__webpack_require__(19);var _getPrefix2=_interopRequireDefault(_getPrefix);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var matchesSelectorFunc="";function matchesSelector(el,selector){if(!matchesSelectorFunc){matchesSelectorFunc=(0,_shims.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(method){return(0,_shims.isFunction)(el[method])}))}if(!(0,_shims.isFunction)(el[matchesSelectorFunc]))return false;return el[matchesSelectorFunc](selector)}function matchesSelectorAndParentsTo(el,selector,baseNode){var node=el;do{if(matchesSelector(node,selector))return true;if(node===baseNode)return false;node=node.parentNode}while(node);return false}function addEvent(el,event,handler){if(!el){return}if(el.attachEvent){el.attachEvent("on"+event,handler)}else if(el.addEventListener){el.addEventListener(event,handler,true)}else{el["on"+event]=handler}}function removeEvent(el,event,handler){if(!el){return}if(el.detachEvent){el.detachEvent("on"+event,handler)}else if(el.removeEventListener){el.removeEventListener(event,handler,true)}else{el["on"+event]=null}}function outerHeight(node){var height=node.clientHeight;var computedStyle=node.ownerDocument.defaultView.getComputedStyle(node);height+=(0,_shims.int)(computedStyle.borderTopWidth);height+=(0,_shims.int)(computedStyle.borderBottomWidth);return height}function outerWidth(node){var width=node.clientWidth;var computedStyle=node.ownerDocument.defaultView.getComputedStyle(node);width+=(0,_shims.int)(computedStyle.borderLeftWidth);width+=(0,_shims.int)(computedStyle.borderRightWidth);return width}function innerHeight(node){var height=node.clientHeight;var computedStyle=node.ownerDocument.defaultView.getComputedStyle(node);height-=(0,_shims.int)(computedStyle.paddingTop);height-=(0,_shims.int)(computedStyle.paddingBottom);return height}function innerWidth(node){var width=node.clientWidth;var computedStyle=node.ownerDocument.defaultView.getComputedStyle(node);width-=(0,_shims.int)(computedStyle.paddingLeft);width-=(0,_shims.int)(computedStyle.paddingRight);return width}function offsetXYFromParent(evt,offsetParent){var isBody=offsetParent===offsetParent.ownerDocument.body;var offsetParentRect=isBody?{left:0,top:0}:offsetParent.getBoundingClientRect();var x=evt.clientX+offsetParent.scrollLeft-offsetParentRect.left;var y=evt.clientY+offsetParent.scrollTop-offsetParentRect.top;return{x:x,y:y}}function createCSSTransform(_ref){var x=_ref.x,y=_ref.y;return _defineProperty({},(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix2.default),"translate("+x+"px,"+y+"px)")}function createSVGTransform(_ref3){var x=_ref3.x,y=_ref3.y;return"translate("+x+","+y+")"}function getTouch(e,identifier){return e.targetTouches&&(0,_shims.findInArray)(e.targetTouches,(function(t){return identifier===t.identifier}))||e.changedTouches&&(0,_shims.findInArray)(e.changedTouches,(function(t){return identifier===t.identifier}))}function getTouchIdentifier(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function addUserSelectStyles(doc){if(!doc)return;var styleEl=doc.getElementById("react-draggable-style-el");if(!styleEl){styleEl=doc.createElement("style");styleEl.type="text/css";styleEl.id="react-draggable-style-el";styleEl.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n";styleEl.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n";doc.getElementsByTagName("head")[0].appendChild(styleEl)}if(doc.body)addClassName(doc.body,"react-draggable-transparent-selection")}function removeUserSelectStyles(doc){try{if(doc&&doc.body)removeClassName(doc.body,"react-draggable-transparent-selection");window.getSelection().removeAllRanges()}catch(e){}}function styleHacks(){var childStyle=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return _extends({touchAction:"none"},childStyle)}function addClassName(el,className){if(el.classList){el.classList.add(className)}else{if(!el.className.match(new RegExp("(?:^|\\s)"+className+"(?!\\S)"))){el.className+=" "+className}}}function removeClassName(el,className){if(el.classList){el.classList.remove(className)}else{el.className=el.className.replace(new RegExp("(?:^|\\s)"+className+"(?!\\S)","g"),"")}}},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_6__},function(module,exports,__webpack_require__){if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"){var REACT_ELEMENT_TYPE=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;var isValidElement=function(object){return typeof object==="object"&&object!==null&&object.$$typeof===REACT_ELEMENT_TYPE};var throwOnDirectAccess=true;module.exports=__webpack_require__(14)(isValidElement,throwOnDirectAccess)}else{module.exports=__webpack_require__(17)()}},function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(1);var warning=emptyFunction;if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"){var printWarning=function printWarning(format){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}var argIndex=0;var message="Warning: "+format.replace(/%s/g,(function(){return args[argIndex++]}));if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}};warning=function warning(condition,format){if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.indexOf("Failed Composite propType: ")===0){return}if(!condition){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){args[_key2-2]=arguments[_key2]}printWarning.apply(undefined,[format].concat(args))}}}module.exports=warning},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getBoundPosition=getBoundPosition;exports.snapToGrid=snapToGrid;exports.canDragX=canDragX;exports.canDragY=canDragY;exports.getControlPosition=getControlPosition;exports.createCoreData=createCoreData;exports.createDraggableData=createDraggableData;var _shims=__webpack_require__(0);var _reactDom=__webpack_require__(4);var _reactDom2=_interopRequireDefault(_reactDom);var _domFns=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBoundPosition(draggable,x,y){if(!draggable.props.bounds)return[x,y];var bounds=draggable.props.bounds;bounds=typeof bounds==="string"?bounds:cloneBounds(bounds);var node=findDOMNode(draggable);if(typeof bounds==="string"){var ownerDocument=node.ownerDocument;var ownerWindow=ownerDocument.defaultView;var boundNode=void 0;if(bounds==="parent"){boundNode=node.parentNode}else{boundNode=ownerDocument.querySelector(bounds)}if(!(boundNode instanceof HTMLElement)){throw new Error('Bounds selector "'+bounds+'" could not find an element.')}var nodeStyle=ownerWindow.getComputedStyle(node);var boundNodeStyle=ownerWindow.getComputedStyle(boundNode);bounds={left:-node.offsetLeft+(0,_shims.int)(boundNodeStyle.paddingLeft)+(0,_shims.int)(nodeStyle.marginLeft),top:-node.offsetTop+(0,_shims.int)(boundNodeStyle.paddingTop)+(0,_shims.int)(nodeStyle.marginTop),right:(0,_domFns.innerWidth)(boundNode)-(0,_domFns.outerWidth)(node)-node.offsetLeft+(0,_shims.int)(boundNodeStyle.paddingRight)-(0,_shims.int)(nodeStyle.marginRight),bottom:(0,_domFns.innerHeight)(boundNode)-(0,_domFns.outerHeight)(node)-node.offsetTop+(0,_shims.int)(boundNodeStyle.paddingBottom)-(0,_shims.int)(nodeStyle.marginBottom)}}if((0,_shims.isNum)(bounds.right))x=Math.min(x,bounds.right);if((0,_shims.isNum)(bounds.bottom))y=Math.min(y,bounds.bottom);if((0,_shims.isNum)(bounds.left))x=Math.max(x,bounds.left);if((0,_shims.isNum)(bounds.top))y=Math.max(y,bounds.top);return[x,y]}function snapToGrid(grid,pendingX,pendingY){var x=Math.round(pendingX/grid[0])*grid[0];var y=Math.round(pendingY/grid[1])*grid[1];return[x,y]}function canDragX(draggable){return draggable.props.axis==="both"||draggable.props.axis==="x"}function canDragY(draggable){return draggable.props.axis==="both"||draggable.props.axis==="y"}function getControlPosition(e,touchIdentifier,draggableCore){var touchObj=typeof touchIdentifier==="number"?(0,_domFns.getTouch)(e,touchIdentifier):null;if(typeof touchIdentifier==="number"&&!touchObj)return null;var node=findDOMNode(draggableCore);var offsetParent=draggableCore.props.offsetParent||node.offsetParent||node.ownerDocument.body;return(0,_domFns.offsetXYFromParent)(touchObj||e,offsetParent)}function createCoreData(draggable,x,y){var state=draggable.state;var isStart=!(0,_shims.isNum)(state.lastX);var node=findDOMNode(draggable);if(isStart){return{node:node,deltaX:0,deltaY:0,lastX:x,lastY:y,x:x,y:y}}else{return{node:node,deltaX:x-state.lastX,deltaY:y-state.lastY,lastX:state.lastX,lastY:state.lastY,x:x,y:y}}}function createDraggableData(draggable,coreData){return{node:coreData.node,x:draggable.state.x+coreData.deltaX,y:draggable.state.y+coreData.deltaY,deltaX:coreData.deltaX,deltaY:coreData.deltaY,lastX:draggable.state.x,lastY:draggable.state.y}}function cloneBounds(bounds){return{left:bounds.left,top:bounds.top,right:bounds.right,bottom:bounds.bottom}}function findDOMNode(draggable){var node=_reactDom2.default.findDOMNode(draggable);if(!node){throw new Error("<DraggableCore>: Unmounted during event!")}return node}},function(module,exports,__webpack_require__){"use strict";(function(process){Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(6);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(7);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(4);var _reactDom2=_interopRequireDefault(_reactDom);var _domFns=__webpack_require__(5);var _positionFns=__webpack_require__(9);var _shims=__webpack_require__(0);var _log=__webpack_require__(11);var _log2=_interopRequireDefault(_log);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};var dragEventFor=eventsFor.mouse;var DraggableCore=function(_React$Component){_inherits(DraggableCore,_React$Component);function DraggableCore(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DraggableCore);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DraggableCore.__proto__||Object.getPrototypeOf(DraggableCore)).call.apply(_ref,[this].concat(args))),_this),_this.state={dragging:false,lastX:NaN,lastY:NaN,touchIdentifier:null},_this.handleDragStart=function(e){_this.props.onMouseDown(e);if(!_this.props.allowAnyClick&&typeof e.button==="number"&&e.button!==0)return false;var thisNode=_reactDom2.default.findDOMNode(_this);if(!thisNode||!thisNode.ownerDocument||!thisNode.ownerDocument.body){throw new Error("<DraggableCore> not mounted on DragStart!")}var ownerDocument=thisNode.ownerDocument;if(_this.props.disabled||!(e.target instanceof ownerDocument.defaultView.Node)||_this.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(e.target,_this.props.handle,thisNode)||_this.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(e.target,_this.props.cancel,thisNode)){return}var touchIdentifier=(0,_domFns.getTouchIdentifier)(e);_this.setState({touchIdentifier:touchIdentifier});var position=(0,_positionFns.getControlPosition)(e,touchIdentifier,_this);if(position==null)return;var x=position.x,y=position.y;var coreEvent=(0,_positionFns.createCoreData)(_this,x,y);(0,_log2.default)("DraggableCore: handleDragStart: %j",coreEvent);(0,_log2.default)("calling",_this.props.onStart);var shouldUpdate=_this.props.onStart(e,coreEvent);if(shouldUpdate===false)return;if(_this.props.enableUserSelectHack)(0,_domFns.addUserSelectStyles)(ownerDocument);_this.setState({dragging:true,lastX:x,lastY:y});(0,_domFns.addEvent)(ownerDocument,dragEventFor.move,_this.handleDrag);(0,_domFns.addEvent)(ownerDocument,dragEventFor.stop,_this.handleDragStop)},_this.handleDrag=function(e){if(e.type==="touchmove")e.preventDefault();var position=(0,_positionFns.getControlPosition)(e,_this.state.touchIdentifier,_this);if(position==null)return;var x=position.x,y=position.y;if(Array.isArray(_this.props.grid)){var _deltaX=x-_this.state.lastX,_deltaY=y-_this.state.lastY;var _snapToGrid=(0,_positionFns.snapToGrid)(_this.props.grid,_deltaX,_deltaY);var _snapToGrid2=_slicedToArray(_snapToGrid,2);_deltaX=_snapToGrid2[0];_deltaY=_snapToGrid2[1];if(!_deltaX&&!_deltaY)return;x=_this.state.lastX+_deltaX,y=_this.state.lastY+_deltaY}var coreEvent=(0,_positionFns.createCoreData)(_this,x,y);(0,_log2.default)("DraggableCore: handleDrag: %j",coreEvent);var shouldUpdate=_this.props.onDrag(e,coreEvent);if(shouldUpdate===false){try{_this.handleDragStop(new MouseEvent("mouseup"))}catch(err){var event=document.createEvent("MouseEvents");event.initMouseEvent("mouseup",true,true,window,0,0,0,0,0,false,false,false,false,0,null);_this.handleDragStop(event)}return}_this.setState({lastX:x,lastY:y})},_this.handleDragStop=function(e){if(!_this.state.dragging)return;var position=(0,_positionFns.getControlPosition)(e,_this.state.touchIdentifier,_this);if(position==null)return;var x=position.x,y=position.y;var coreEvent=(0,_positionFns.createCoreData)(_this,x,y);var thisNode=_reactDom2.default.findDOMNode(_this);if(thisNode){if(_this.props.enableUserSelectHack)(0,_domFns.removeUserSelectStyles)(thisNode.ownerDocument)}(0,_log2.default)("DraggableCore: handleDragStop: %j",coreEvent);_this.setState({dragging:false,lastX:NaN,lastY:NaN});_this.props.onStop(e,coreEvent);if(thisNode){(0,_log2.default)("DraggableCore: Removing handlers");(0,_domFns.removeEvent)(thisNode.ownerDocument,dragEventFor.move,_this.handleDrag);(0,_domFns.removeEvent)(thisNode.ownerDocument,dragEventFor.stop,_this.handleDragStop)}},_this.onMouseDown=function(e){dragEventFor=eventsFor.mouse;return _this.handleDragStart(e)},_this.onMouseUp=function(e){dragEventFor=eventsFor.mouse;return _this.handleDragStop(e)},_this.onTouchStart=function(e){dragEventFor=eventsFor.touch;return _this.handleDragStart(e)},_this.onTouchEnd=function(e){dragEventFor=eventsFor.touch;return _this.handleDragStop(e)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DraggableCore,[{key:"componentWillUnmount",value:function componentWillUnmount(){var thisNode=_reactDom2.default.findDOMNode(this);if(thisNode){var ownerDocument=thisNode.ownerDocument;(0,_domFns.removeEvent)(ownerDocument,eventsFor.mouse.move,this.handleDrag);(0,_domFns.removeEvent)(ownerDocument,eventsFor.touch.move,this.handleDrag);(0,_domFns.removeEvent)(ownerDocument,eventsFor.mouse.stop,this.handleDragStop);(0,_domFns.removeEvent)(ownerDocument,eventsFor.touch.stop,this.handleDragStop);if(this.props.enableUserSelectHack)(0,_domFns.removeUserSelectStyles)(ownerDocument)}}},{key:"render",value:function render(){return _react2.default.cloneElement(_react2.default.Children.only(this.props.children),{style:(0,_domFns.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]);return DraggableCore}(_react2.default.Component);DraggableCore.displayName="DraggableCore";DraggableCore.propTypes={allowAnyClick:_propTypes2.default.bool,disabled:_propTypes2.default.bool,enableUserSelectHack:_propTypes2.default.bool,offsetParent:function offsetParent(props,propName){if(process.browser===true&&props[propName]&&props[propName].nodeType!==1){throw new Error("Draggable's offsetParent must be a DOM Node.")}},grid:_propTypes2.default.arrayOf(_propTypes2.default.number),handle:_propTypes2.default.string,cancel:_propTypes2.default.string,onStart:_propTypes2.default.func,onDrag:_propTypes2.default.func,onStop:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe};DraggableCore.defaultProps={allowAnyClick:false,cancel:null,disabled:false,enableUserSelectHack:true,offsetParent:null,handle:null,grid:null,transform:null,onStart:function onStart(){},onDrag:function onDrag(){},onStop:function onStop(){},onMouseDown:function onMouseDown(){}};exports.default=DraggableCore}).call(exports,__webpack_require__(20))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=log;function log(){var _console;if(undefined)(_console=console).log.apply(_console,arguments)}},function(module,exports,__webpack_require__){"use strict";var Draggable=__webpack_require__(13).default;module.exports=Draggable;module.exports.default=Draggable;module.exports.DraggableCore=__webpack_require__(10).default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(6);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(7);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(4);var _reactDom2=_interopRequireDefault(_reactDom);var _classnames=__webpack_require__(18);var _classnames2=_interopRequireDefault(_classnames);var _domFns=__webpack_require__(5);var _positionFns=__webpack_require__(9);var _shims=__webpack_require__(0);var _DraggableCore=__webpack_require__(10);var _DraggableCore2=_interopRequireDefault(_DraggableCore);var _log=__webpack_require__(11);var _log2=_interopRequireDefault(_log);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Draggable=function(_React$Component){_inherits(Draggable,_React$Component);function Draggable(props){_classCallCheck(this,Draggable);var _this=_possibleConstructorReturn(this,(Draggable.__proto__||Object.getPrototypeOf(Draggable)).call(this,props));_this.onDragStart=function(e,coreData){(0,_log2.default)("Draggable: onDragStart: %j",coreData);var shouldStart=_this.props.onStart(e,(0,_positionFns.createDraggableData)(_this,coreData));if(shouldStart===false)return false;_this.setState({dragging:true,dragged:true})};_this.onDrag=function(e,coreData){if(!_this.state.dragging)return false;(0,_log2.default)("Draggable: onDrag: %j",coreData);var uiData=(0,_positionFns.createDraggableData)(_this,coreData);var newState={x:uiData.x,y:uiData.y};if(_this.props.bounds){var _x=newState.x,_y=newState.y;newState.x+=_this.state.slackX;newState.y+=_this.state.slackY;var _getBoundPosition=(0,_positionFns.getBoundPosition)(_this,newState.x,newState.y),_getBoundPosition2=_slicedToArray(_getBoundPosition,2),newStateX=_getBoundPosition2[0],newStateY=_getBoundPosition2[1];newState.x=newStateX;newState.y=newStateY;newState.slackX=_this.state.slackX+(_x-newState.x);newState.slackY=_this.state.slackY+(_y-newState.y);uiData.x=newState.x;uiData.y=newState.y;uiData.deltaX=newState.x-_this.state.x;uiData.deltaY=newState.y-_this.state.y}var shouldUpdate=_this.props.onDrag(e,uiData);if(shouldUpdate===false)return false;_this.setState(newState)};_this.onDragStop=function(e,coreData){if(!_this.state.dragging)return false;var shouldStop=_this.props.onStop(e,(0,_positionFns.createDraggableData)(_this,coreData));if(shouldStop===false)return false;(0,_log2.default)("Draggable: onDragStop: %j",coreData);var newState={dragging:false,slackX:0,slackY:0};var controlled=Boolean(_this.props.position);if(controlled){var _this$props$position=_this.props.position,_x2=_this$props$position.x,_y2=_this$props$position.y;newState.x=_x2;newState.y=_y2}_this.setState(newState)};_this.state={dragging:false,dragged:false,x:props.position?props.position.x:props.defaultPosition.x,y:props.position?props.position.y:props.defaultPosition.y,slackX:0,slackY:0,isElementSVG:false};return _this}_createClass(Draggable,[{key:"componentWillMount",value:function componentWillMount(){if(this.props.position&&!(this.props.onDrag||this.props.onStop)){console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this "+"component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the "+"`position` of this element.")}}},{key:"componentDidMount",value:function componentDidMount(){if(typeof window.SVGElement!=="undefined"&&_reactDom2.default.findDOMNode(this)instanceof window.SVGElement){this.setState({isElementSVG:true})}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.position&&(!this.props.position||nextProps.position.x!==this.props.position.x||nextProps.position.y!==this.props.position.y)){this.setState({x:nextProps.position.x,y:nextProps.position.y})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({dragging:false})}},{key:"render",value:function render(){var _classNames;var style={},svgTransform=null;var controlled=Boolean(this.props.position);var draggable=!controlled||this.state.dragging;var position=this.props.position||this.props.defaultPosition;var transformOpts={x:(0,_positionFns.canDragX)(this)&&draggable?this.state.x:position.x,y:(0,_positionFns.canDragY)(this)&&draggable?this.state.y:position.y};if(this.state.isElementSVG){svgTransform=(0,_domFns.createSVGTransform)(transformOpts)}else{style=(0,_domFns.createCSSTransform)(transformOpts)}var _props=this.props,defaultClassName=_props.defaultClassName,defaultClassNameDragging=_props.defaultClassNameDragging,defaultClassNameDragged=_props.defaultClassNameDragged;var children=_react2.default.Children.only(this.props.children);var className=(0,_classnames2.default)(children.props.className||"",defaultClassName,(_classNames={},_defineProperty(_classNames,defaultClassNameDragging,this.state.dragging),_defineProperty(_classNames,defaultClassNameDragged,this.state.dragged),_classNames));return _react2.default.createElement(_DraggableCore2.default,_extends({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),_react2.default.cloneElement(children,{className:className,style:_extends({},children.props.style,style),transform:svgTransform}))}}]);return Draggable}(_react2.default.Component);Draggable.displayName="Draggable";Draggable.propTypes=_extends({},_DraggableCore2.default.propTypes,{axis:_propTypes2.default.oneOf(["both","x","y","none"]),bounds:_propTypes2.default.oneOfType([_propTypes2.default.shape({left:_propTypes2.default.number,right:_propTypes2.default.number,top:_propTypes2.default.number,bottom:_propTypes2.default.number}),_propTypes2.default.string,_propTypes2.default.oneOf([false])]),defaultClassName:_propTypes2.default.string,defaultClassNameDragging:_propTypes2.default.string,defaultClassNameDragged:_propTypes2.default.string,defaultPosition:_propTypes2.default.shape({x:_propTypes2.default.number,y:_propTypes2.default.number}),position:_propTypes2.default.shape({x:_propTypes2.default.number,y:_propTypes2.default.number}),className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});Draggable.defaultProps=_extends({},_DraggableCore2.default.defaultProps,{axis:"both",bounds:false,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null});exports.default=Draggable},function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(1);var invariant=__webpack_require__(2);var warning=__webpack_require__(8);var assign=__webpack_require__(15);var ReactPropTypesSecret=__webpack_require__(3);var checkPropTypes=__webpack_require__(16);module.exports=function(isValidElement,throwOnDirectAccess){var ITERATOR_SYMBOL=typeof Symbol==="function"&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL="@@iterator";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==="function"){return iteratorFn}}var ANONYMOUS="<<anonymous>>";var ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};function is(x,y){if(x===y){return x!==0||1/x===1/y}else{return x!==x&&y!==y}}function PropTypeError(message){this.message=message;this.stack=""}PropTypeError.prototype=Error.prototype;function createChainableTypeChecker(validate){if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"){var manualPropTypeCallCache={};var manualPropTypeWarningCount=0}function checkType(isRequired,props,propName,componentName,location,propFullName,secret){componentName=componentName||ANONYMOUS;propFullName=propFullName||propName;if(secret!==ReactPropTypesSecret){if(throwOnDirectAccess){invariant(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use `PropTypes.checkPropTypes()` to call them. "+"Read more at http://fb.me/use-check-prop-types")}else if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"&&typeof console!=="undefined"){var cacheKey=componentName+":"+propName;if(!manualPropTypeCallCache[cacheKey]&&manualPropTypeWarningCount<3){warning(false,"You are manually calling a React.PropTypes validation "+"function for the `%s` prop on `%s`. This is deprecated "+"and will throw in the standalone `prop-types` package. "+"You may be seeing this warning due to a third-party PropTypes "+"library. See https://fb.me/react-warning-dont-call-proptypes "+"for details.",propFullName,componentName);manualPropTypeCallCache[cacheKey]=true;manualPropTypeWarningCount++}}}if(props[propName]==null){if(isRequired){if(props[propName]===null){return new PropTypeError("The "+location+" `"+propFullName+"` is marked as required "+("in `"+componentName+"`, but its value is `null`."))}return new PropTypeError("The "+location+" `"+propFullName+"` is marked as required in "+("`"+componentName+"`, but its value is `undefined`."))}return null}else{return validate(props,propName,componentName,location,propFullName)}}var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName,secret){var propValue=props[propName];var propType=getPropType(propValue);if(propType!==expectedType){var preciseType=getPreciseType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturnsNull)}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if(typeof typeChecker!=="function"){return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside arrayOf.")}var propValue=props[propName];if(!Array.isArray(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]",ReactPropTypesSecret);if(error instanceof Error){return error}}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!isValidElement(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var expectedClassName=expectedClass.name||ANONYMOUS;var actualClassName=getClassName(props[propName]);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){if(!Array.isArray(expectedValues)){Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"?warning(false,"Invalid argument supplied to oneOf, expected an instance of array."):void 0;return emptyFunction.thatReturnsNull}function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++){if(is(propValue,expectedValues[i])){return null}}var valuesString=JSON.stringify(expectedValues);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if(typeof typeChecker!=="function"){return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside objectOf.")}var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue){if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error instanceof Error){return error}}}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){if(!Array.isArray(arrayOfTypeCheckers)){Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"?warning(false,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0;return emptyFunction.thatReturnsNull}for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(typeof checker!=="function"){warning(false,"Invalid argument supplied to oneOfType. Expected an array of check functions, but "+"received %s at index %s.",getPostfixForTypeWarning(checker),i);return emptyFunction.thatReturnsNull}}function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location,propFullName,ReactPropTypesSecret)==null){return null}}return new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){return new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue}var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error){return error}}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}var allKeys=assign({},props[propName],shapeTypes);for(var key in allKeys){var checker=shapeTypes[key];if(!checker){return new PropTypeError("Invalid "+location+" `"+propFullName+"` key `"+key+"` supplied to `"+componentName+"`."+"\nBad object: "+JSON.stringify(props[propName],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(shapeTypes),null,"  "))}var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error){return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return true;case"boolean":return!propValue;case"object":if(Array.isArray(propValue)){return propValue.every(isNode)}if(propValue===null||isValidElement(propValue)){return true}var iteratorFn=getIteratorFn(propValue);if(iteratorFn){var iterator=iteratorFn.call(propValue);var step;if(iteratorFn!==propValue.entries){while(!(step=iterator.next()).done){if(!isNode(step.value)){return false}}}else{while(!(step=iterator.next()).done){var entry=step.value;if(entry){if(!isNode(entry[1])){return false}}}}}else{return false}return true;default:return false}}function isSymbol(propType,propValue){if(propType==="symbol"){return true}if(propValue["@@toStringTag"]==="Symbol"){return true}if(typeof Symbol==="function"&&propValue instanceof Symbol){return true}return false}function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return"array"}if(propValue instanceof RegExp){return"object"}if(isSymbol(propType,propValue)){return"symbol"}return propType}function getPreciseType(propValue){if(typeof propValue==="undefined"||propValue===null){return""+propValue}var propType=getPropType(propValue);if(propType==="object"){if(propValue instanceof Date){return"date"}else if(propValue instanceof RegExp){return"regexp"}}return propType}function getPostfixForTypeWarning(value){var type=getPreciseType(value);switch(type){case"array":case"object":return"an "+type;case"boolean":case"date":case"regexp":return"a "+type;default:return type}}function getClassName(propValue){if(!propValue.constructor||!propValue.constructor.name){return ANONYMOUS}return propValue.constructor.name}ReactPropTypes.checkPropTypes=checkPropTypes;ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map((function(n){return test2[n]}));if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter}));if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},function(module,exports,__webpack_require__){"use strict";if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"){var invariant=__webpack_require__(2);var warning=__webpack_require__(8);var ReactPropTypesSecret=__webpack_require__(3);var loggedTypeFailures={}}function checkPropTypes(typeSpecs,values,location,componentName,getStack){if(Object({DRAGGABLE_DEBUG:undefined}).NODE_ENV!=="production"){for(var typeSpecName in typeSpecs){if(typeSpecs.hasOwnProperty(typeSpecName)){var error;try{invariant(typeof typeSpecs[typeSpecName]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"the `prop-types` package, but received `%s`.",componentName||"React class",location,typeSpecName,typeof typeSpecs[typeSpecName]);error=typeSpecs[typeSpecName](values,typeSpecName,componentName,location,null,ReactPropTypesSecret)}catch(ex){error=ex}warning(!error||error instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker "+"function must return `null` or an `Error` but returned a %s. "+"You may have forgotten to pass an argument to the type checker "+"creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and "+"shape all require an argument).",componentName||"React class",location,typeSpecName,typeof error);if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var stack=getStack?getStack():"";warning(false,"Failed %s type: %s%s",location,error.message,stack!=null?stack:"")}}}}}module.exports=checkPropTypes},function(module,exports,__webpack_require__){"use strict";var emptyFunction=__webpack_require__(1);var invariant=__webpack_require__(2);var ReactPropTypesSecret=__webpack_require__(3);module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}invariant(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types")}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};ReactPropTypes.checkPropTypes=emptyFunction;ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPrefix=getPrefix;exports.browserPrefixToKey=browserPrefixToKey;exports.browserPrefixToStyle=browserPrefixToStyle;var prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var prop=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"transform";if(typeof window==="undefined"||typeof window.document==="undefined")return"";var style=window.document.documentElement.style;if(prop in style)return"";for(var i=0;i<prefixes.length;i++){if(browserPrefixToKey(prop,prefixes[i])in style)return prefixes[i]}return""}function browserPrefixToKey(prop,prefix){return prefix?""+prefix+kebabToTitleCase(prop):prop}function browserPrefixToStyle(prop,prefix){return prefix?"-"+prefix.toLowerCase()+"-"+prop:prop}function kebabToTitleCase(str){var out="";var shouldCapitalize=true;for(var i=0;i<str.length;i++){if(shouldCapitalize){out+=str[i].toUpperCase();shouldCapitalize=false}else if(str[i]==="-"){shouldCapitalize=true}else{out+=str[i]}}return out}exports.default=getPrefix()},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}}])}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDraggable=__webpack_require__(43);var _cloneElement=__webpack_require__(91);var _cloneElement2=_interopRequireDefault(_cloneElement);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Resizable=function(_React$Component){_inherits(Resizable,_React$Component);function Resizable(){var _temp,_this,_ret;_classCallCheck(this,Resizable);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this),_this.state={resizing:false,width:_this.props.width,height:_this.props.height,slackW:0,slackH:0},_temp),_possibleConstructorReturn(_this,_ret)}Resizable.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(!this.state.resizing&&(nextProps.width!==this.props.width||nextProps.height!==this.props.height)){this.setState({width:nextProps.width,height:nextProps.height})}};Resizable.prototype.lockAspectRatio=function lockAspectRatio(width,height,aspectRatio){height=width/aspectRatio;width=height*aspectRatio;return[width,height]};Resizable.prototype.runConstraints=function runConstraints(width,height){var _ref=[this.props.minConstraints,this.props.maxConstraints],min=_ref[0],max=_ref[1];if(this.props.lockAspectRatio){var ratio=this.state.width/this.state.height;height=width/ratio;width=height*ratio}if(!min&&!max)return[width,height];var oldW=width,oldH=height;var _state=this.state,slackW=_state.slackW,slackH=_state.slackH;width+=slackW;height+=slackH;if(min){width=Math.max(min[0],width);height=Math.max(min[1],height)}if(max){width=Math.min(max[0],width);height=Math.min(max[1],height)}slackW+=oldW-width;slackH+=oldH-height;if(slackW!==this.state.slackW||slackH!==this.state.slackH){this.setState({slackW:slackW,slackH:slackH})}return[width,height]};Resizable.prototype.resizeHandler=function resizeHandler(handlerName){var _this2=this;return function(e,_ref2){var node=_ref2.node,deltaX=_ref2.deltaX,deltaY=_ref2.deltaY;var canDragX=_this2.props.axis==="both"||_this2.props.axis==="x";var canDragY=_this2.props.axis==="both"||_this2.props.axis==="y";var width=_this2.state.width+(canDragX?deltaX:0);var height=_this2.state.height+(canDragY?deltaY:0);var widthChanged=width!==_this2.state.width,heightChanged=height!==_this2.state.height;if(handlerName==="onResize"&&!widthChanged&&!heightChanged)return;var _runConstraints=_this2.runConstraints(width,height);width=_runConstraints[0];height=_runConstraints[1];var newState={};if(handlerName==="onResizeStart"){newState.resizing=true}else if(handlerName==="onResizeStop"){newState.resizing=false;newState.slackW=newState.slackH=0}else{if(width===_this2.state.width&&height===_this2.state.height)return;newState.width=width;newState.height=height}var hasCb=typeof _this2.props[handlerName]==="function";if(hasCb){if(typeof e.persist==="function")e.persist();_this2.setState(newState,(function(){return _this2.props[handlerName](e,{node:node,size:{width:width,height:height}})}))}else{_this2.setState(newState)}}};Resizable.prototype.render=function render(){var _props=this.props,children=_props.children,draggableOpts=_props.draggableOpts,width=_props.width,height=_props.height,handleSize=_props.handleSize,lockAspectRatio=_props.lockAspectRatio,axis=_props.axis,minConstraints=_props.minConstraints,maxConstraints=_props.maxConstraints,onResize=_props.onResize,onResizeStop=_props.onResizeStop,onResizeStart=_props.onResizeStart,p=_objectWithoutProperties(_props,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"]);var className=p.className?p.className+" react-resizable":"react-resizable";return(0,_cloneElement2.default)(children,_extends({},p,{className:className,children:[children.props.children,_react2.default.createElement(_reactDraggable.DraggableCore,_extends({},draggableOpts,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),_react2.default.createElement("span",{className:"react-resizable-handle"}))]}))};return Resizable}(_react2.default.Component);Resizable.propTypes={children:_propTypes2.default.element.isRequired,width:_propTypes2.default.number.isRequired,height:_propTypes2.default.number.isRequired,handleSize:_propTypes2.default.array,lockAspectRatio:_propTypes2.default.bool,axis:_propTypes2.default.oneOf(["both","x","y","none"]),minConstraints:_propTypes2.default.arrayOf(_propTypes2.default.number),maxConstraints:_propTypes2.default.arrayOf(_propTypes2.default.number),onResizeStop:_propTypes2.default.func,onResizeStart:_propTypes2.default.func,onResize:_propTypes2.default.func,draggableOpts:_propTypes2.default.object};Resizable.defaultProps={handleSize:[20,20],lockAspectRatio:false,axis:"both",minConstraints:[20,20],maxConstraints:[Infinity,Infinity]};exports.default=Resizable},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.getBreakpointFromWidth=getBreakpointFromWidth;exports.getColsFromBreakpoint=getColsFromBreakpoint;exports.findOrGenerateResponsiveLayout=findOrGenerateResponsiveLayout;exports.sortBreakpoints=sortBreakpoints;var _utils=__webpack_require__(19);function getBreakpointFromWidth(breakpoints,width){var sorted=sortBreakpoints(breakpoints);var matching=sorted[0];for(var i=1,len=sorted.length;i<len;i++){var breakpointName=sorted[i];if(width>breakpoints[breakpointName])matching=breakpointName}return matching}function getColsFromBreakpoint(breakpoint,cols){if(!cols[breakpoint]){throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+breakpoint+" is missing!")}return cols[breakpoint]}function findOrGenerateResponsiveLayout(layouts,breakpoints,breakpoint,lastBreakpoint,cols,compactType){if(layouts[breakpoint])return(0,_utils.cloneLayout)(layouts[breakpoint]);var layout=layouts[lastBreakpoint];var breakpointsSorted=sortBreakpoints(breakpoints);var breakpointsAbove=breakpointsSorted.slice(breakpointsSorted.indexOf(breakpoint));for(var i=0,len=breakpointsAbove.length;i<len;i++){var b=breakpointsAbove[i];if(layouts[b]){layout=layouts[b];break}}layout=(0,_utils.cloneLayout)(layout||[]);return(0,_utils.compact)((0,_utils.correctBounds)(layout,{cols:cols}),compactType,cols)}function sortBreakpoints(breakpoints){var keys=Object.keys(breakpoints);return keys.sort((function(a,b){return breakpoints[a]-breakpoints[b]}))}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createDashboardContainerByValueRenderer}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _embeddable_public__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);var _embeddable_public__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_embeddable_public__WEBPACK_IMPORTED_MODULE_1__);var createDashboardContainerByValueRenderer=function createDashboardContainerByValueRenderer(_ref){var factory=_ref.factory;return function(props){return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_embeddable_public__WEBPACK_IMPORTED_MODULE_1__["EmbeddableRenderer"],{input:props.input,onInputUpdated:props.onInputUpdated,factory:factory})}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return expand_panel_action_ExpandPanelAction}));__webpack_require__.d(__webpack_exports__,"e",(function(){return replace_panel_action_ReplacePanelAction}));__webpack_require__.d(__webpack_exports__,"b",(function(){return clone_panel_action_ClonePanelAction}));__webpack_require__.d(__webpack_exports__,"a",(function(){return add_to_library_action_AddToLibraryAction}));__webpack_require__.d(__webpack_exports__,"f",(function(){return unlink_from_library_action_UnlinkFromLibraryAction}));__webpack_require__.d(__webpack_exports__,"d",(function(){return library_notification_action_LibraryNotificationAction}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var ui_actions_plugin=__webpack_require__(2);var application_embeddable=__webpack_require__(10);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACTION_EXPAND_PANEL="togglePanel";function isDashboard(embeddable){return embeddable.type===application_embeddable["DASHBOARD_CONTAINER_TYPE"]}function isExpanded(embeddable){if(!embeddable.parent||!isDashboard(embeddable.parent)){throw new ui_actions_plugin["IncompatibleActionError"]}return embeddable.id===embeddable.parent.getInput().expandedPanelId}var expand_panel_action_ExpandPanelAction=function(){function ExpandPanelAction(){_classCallCheck(this,ExpandPanelAction);_defineProperty(this,"type",ACTION_EXPAND_PANEL);_defineProperty(this,"id",ACTION_EXPAND_PANEL);_defineProperty(this,"order",7)}_createClass(ExpandPanelAction,[{key:"getDisplayName",value:function getDisplayName(_ref){var embeddable=_ref.embeddable;if(!embeddable.parent||!isDashboard(embeddable.parent)){throw new ui_actions_plugin["IncompatibleActionError"]}return isExpanded(embeddable)?external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.actions.toggleExpandPanelMenuItem.expandedDisplayName",{defaultMessage:"Minimize"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.actions.toggleExpandPanelMenuItem.notExpandedDisplayName",{defaultMessage:"Maximize panel"})}},{key:"getIconType",value:function getIconType(_ref2){var embeddable=_ref2.embeddable;if(!embeddable.parent||!isDashboard(embeddable.parent)){throw new ui_actions_plugin["IncompatibleActionError"]}return isExpanded(embeddable)?"expand":"expand"}},{key:"isCompatible",value:function(){var _isCompatible=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var embeddable;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=_ref3.embeddable;return _context.abrupt("return",Boolean(embeddable.parent&&isDashboard(embeddable.parent)));case 2:case"end":return _context.stop()}}}),_callee)})));function isCompatible(_x){return _isCompatible.apply(this,arguments)}return isCompatible}()},{key:"execute",value:function(){var _execute=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref4){var embeddable,newValue;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:embeddable=_ref4.embeddable;if(!(!embeddable.parent||!isDashboard(embeddable.parent))){_context2.next=3;break}throw new ui_actions_plugin["IncompatibleActionError"];case 3:newValue=isExpanded(embeddable)?undefined:embeddable.id;embeddable.parent.updateInput({expandedPanelId:newValue});case 5:case"end":return _context2.stop()}}}),_callee2)})));function execute(_x2){return _execute.apply(this,arguments)}return execute}()}]);return ExpandPanelAction}();var embeddable_plugin=__webpack_require__(3);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var public_=__webpack_require__(9);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(13);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){replace_panel_flyout_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return typeof key==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(typeof input!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(typeof res!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function replace_panel_flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function replace_panel_flyout_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){replace_panel_flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){replace_panel_flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function replace_panel_flyout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function replace_panel_flyout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function replace_panel_flyout_createClass(Constructor,protoProps,staticProps){if(protoProps)replace_panel_flyout_defineProperties(Constructor.prototype,protoProps);if(staticProps)replace_panel_flyout_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function replace_panel_flyout_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var replace_panel_flyout_ReplacePanelFlyout=function(_React$Component){_inherits(ReplacePanelFlyout,_React$Component);var _super=_createSuper(ReplacePanelFlyout);function ReplacePanelFlyout(props){var _this;replace_panel_flyout_classCallCheck(this,ReplacePanelFlyout);_this=_super.call(this,props);replace_panel_flyout_defineProperty(_assertThisInitialized(_this),"lastToast",{id:"panelReplaceToast"});replace_panel_flyout_defineProperty(_assertThisInitialized(_this),"showToast",(function(name){if(_this.lastToast){_this.props.notifications.toasts.remove(_this.lastToast)}_this.lastToast=_this.props.notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.addPanel.savedObjectAddedToContainerSuccessMessageTitle",{defaultMessage:"{savedObjectName} was added",values:{savedObjectName:name}}),"data-test-subj":"addObjectToContainerSuccess"})}));replace_panel_flyout_defineProperty(_assertThisInitialized(_this),"onReplacePanel",function(){var _ref=replace_panel_flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee(savedObjectId,type,name){var _this$props,panelToRemove,container,_gridData,w,h,x,y,_yield$container$addN,id,_container$getInput$p,_panelToRemove$id,omit,panels;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,panelToRemove=_this$props.panelToRemove,container=_this$props.container;_gridData=container.getInput().panels[panelToRemove.id].gridData,w=_gridData.w,h=_gridData.h,x=_gridData.x,y=_gridData.y;_context.next=4;return container.addNewEmbeddable(type,{savedObjectId:savedObjectId});case 4:_yield$container$addN=_context.sent;id=_yield$container$addN.id;_container$getInput$p=container.getInput().panels,_panelToRemove$id=panelToRemove.id,omit=_container$getInput$p[_panelToRemove$id],panels=_objectWithoutProperties(_container$getInput$p,[_panelToRemove$id].map(_toPropertyKey));container.updateInput({panels:_objectSpread(_objectSpread({},panels),{},{[id]:_objectSpread(_objectSpread({},panels[id]),{},{gridData:_objectSpread(_objectSpread({},panels[id].gridData),{},{w:w,h:h,x:x,y:y})})})});container.reload();_this.showToast(name);_this.props.onClose();case 11:case"end":return _context.stop()}}}),_callee)})));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}());return _this}replace_panel_flyout_createClass(ReplacePanelFlyout,[{key:"render",value:function render(){var SavedObjectFinder=this.props.savedObjectsFinder;var savedObjectsFinder=external_kbnSharedDeps_React_default.a.createElement(SavedObjectFinder,{noItemsMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.addPanel.noMatchingObjectsMessage",{defaultMessage:"No matching objects found."}),savedObjectMetaData:_toConsumableArray(this.props.getEmbeddableFactories()).filter((function(embeddableFactory){return Boolean(embeddableFactory.savedObjectMetaData)&&!embeddableFactory.isContainerType})).map((function(_ref2){var savedObjectMetaData=_ref2.savedObjectMetaData;return savedObjectMetaData})),showFilter:true,onChoose:this.onReplacePanel});var panelToReplace="Replace panel "+this.props.panelToRemove.getTitle()+" with:";return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement("span",null,panelToReplace)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,savedObjectsFinder))}}]);return ReplacePanelFlyout}(external_kbnSharedDeps_React_default.a.Component);function open_replace_panel_flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function open_replace_panel_flyout_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){open_replace_panel_flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){open_replace_panel_flyout_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function openReplacePanelFlyout(_x){return _openReplacePanelFlyout.apply(this,arguments)}function _openReplacePanelFlyout(){_openReplacePanelFlyout=open_replace_panel_flyout_asyncToGenerator(regeneratorRuntime.mark((function _callee(options){var embeddable,core,panelToRemove,savedObjectFinder,notifications,getEmbeddableFactories,flyoutSession;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=options.embeddable,core=options.core,panelToRemove=options.panelToRemove,savedObjectFinder=options.savedObjectFinder,notifications=options.notifications,getEmbeddableFactories=options.getEmbeddableFactories;flyoutSession=core.overlays.openFlyout(Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(replace_panel_flyout_ReplacePanelFlyout,{container:embeddable,onClose:function onClose(){if(flyoutSession){flyoutSession.close()}},panelToRemove:panelToRemove,savedObjectsFinder:savedObjectFinder,notifications:notifications,getEmbeddableFactories:getEmbeddableFactories})),{"data-test-subj":"dashboardReplacePanel",ownFocus:true});case 2:case"end":return _context.stop()}}}),_callee)})));return _openReplacePanelFlyout.apply(this,arguments)}function replace_panel_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function replace_panel_action_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){replace_panel_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){replace_panel_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function replace_panel_action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function replace_panel_action_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function replace_panel_action_createClass(Constructor,protoProps,staticProps){if(protoProps)replace_panel_action_defineProperties(Constructor.prototype,protoProps);if(staticProps)replace_panel_action_defineProperties(Constructor,staticProps);return Constructor}function replace_panel_action_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACTION_REPLACE_PANEL="replacePanel";function replace_panel_action_isDashboard(embeddable){return embeddable.type===application_embeddable["DASHBOARD_CONTAINER_TYPE"]}var replace_panel_action_ReplacePanelAction=function(){function ReplacePanelAction(core,savedobjectfinder,notifications,getEmbeddableFactories){replace_panel_action_classCallCheck(this,ReplacePanelAction);this.core=core;this.savedobjectfinder=savedobjectfinder;this.notifications=notifications;this.getEmbeddableFactories=getEmbeddableFactories;replace_panel_action_defineProperty(this,"type",ACTION_REPLACE_PANEL);replace_panel_action_defineProperty(this,"id",ACTION_REPLACE_PANEL);replace_panel_action_defineProperty(this,"order",3)}replace_panel_action_createClass(ReplacePanelAction,[{key:"getDisplayName",value:function getDisplayName(_ref){var embeddable=_ref.embeddable;if(!embeddable.parent||!replace_panel_action_isDashboard(embeddable.parent)){throw new ui_actions_plugin["IncompatibleActionError"]}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.removePanel.replacePanel",{defaultMessage:"Replace panel"})}},{key:"getIconType",value:function getIconType(_ref2){var embeddable=_ref2.embeddable;if(!embeddable.parent||!replace_panel_action_isDashboard(embeddable.parent)){throw new ui_actions_plugin["IncompatibleActionError"]}return"kqlOperand"}},{key:"isCompatible",value:function(){var _isCompatible=replace_panel_action_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var embeddable;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=_ref3.embeddable;if(!embeddable.getInput().viewMode){_context.next=4;break}if(!(embeddable.getInput().viewMode===embeddable_plugin["ViewMode"].VIEW)){_context.next=4;break}return _context.abrupt("return",false);case 4:return _context.abrupt("return",Boolean(embeddable.parent&&replace_panel_action_isDashboard(embeddable.parent)));case 5:case"end":return _context.stop()}}}),_callee)})));function isCompatible(_x){return _isCompatible.apply(this,arguments)}return isCompatible}()},{key:"execute",value:function(){var _execute=replace_panel_action_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref4){var embeddable,view,dash;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:embeddable=_ref4.embeddable;if(!(!embeddable.parent||!replace_panel_action_isDashboard(embeddable.parent))){_context2.next=3;break}throw new ui_actions_plugin["IncompatibleActionError"];case 3:view=embeddable;dash=embeddable.parent;openReplacePanelFlyout({embeddable:dash,core:this.core,savedObjectFinder:this.savedobjectfinder,notifications:this.notifications,panelToRemove:view,getEmbeddableFactories:this.getEmbeddableFactories});case 6:case"end":return _context2.stop()}}}),_callee2,this)})));function execute(_x2){return _execute.apply(this,arguments)}return execute}()}]);return ReplacePanelAction}();var uuid=__webpack_require__(12);var uuid_default=__webpack_require__.n(uuid);var external_kbnSharedDeps_Lodash_=__webpack_require__(8);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var embeddable_public_=__webpack_require__(4);var dashboard_panel_placement=__webpack_require__(23);var application=__webpack_require__(5);function clone_panel_action_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function clone_panel_action_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){clone_panel_action_ownKeys(Object(source),true).forEach((function(key){clone_panel_action_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{clone_panel_action_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function clone_panel_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function clone_panel_action_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){clone_panel_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){clone_panel_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function clone_panel_action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function clone_panel_action_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function clone_panel_action_createClass(Constructor,protoProps,staticProps){if(protoProps)clone_panel_action_defineProperties(Constructor.prototype,protoProps);if(staticProps)clone_panel_action_defineProperties(Constructor,staticProps);return Constructor}function clone_panel_action_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACTION_CLONE_PANEL="clonePanel";var clone_panel_action_ClonePanelAction=function(){function ClonePanelAction(core){clone_panel_action_classCallCheck(this,ClonePanelAction);this.core=core;clone_panel_action_defineProperty(this,"type",ACTION_CLONE_PANEL);clone_panel_action_defineProperty(this,"id",ACTION_CLONE_PANEL);clone_panel_action_defineProperty(this,"order",45)}clone_panel_action_createClass(ClonePanelAction,[{key:"getDisplayName",value:function getDisplayName(_ref){var embeddable=_ref.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.clonePanel",{defaultMessage:"Clone panel"})}},{key:"getIconType",value:function getIconType(_ref2){var embeddable=_ref2.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return"copy"}},{key:"isCompatible",value:function(){var _isCompatible=clone_panel_action_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var _embeddable$getInput;var embeddable;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=_ref3.embeddable;return _context.abrupt("return",Boolean(!Object(embeddable_public_["isErrorEmbeddable"])(embeddable)&&((_embeddable$getInput=embeddable.getInput())===null||_embeddable$getInput===void 0?void 0:_embeddable$getInput.viewMode)!==embeddable_plugin["ViewMode"].VIEW&&embeddable.getRoot()&&embeddable.getRoot().isContainer&&embeddable.getRoot().type===application["DASHBOARD_CONTAINER_TYPE"]));case 2:case"end":return _context.stop()}}}),_callee)})));function isCompatible(_x){return _isCompatible.apply(this,arguments)}return isCompatible}()},{key:"execute",value:function(){var _execute=clone_panel_action_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref4){var embeddable,dashboard,panelToClone;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:embeddable=_ref4.embeddable;if(!(!embeddable.getRoot()||!embeddable.getRoot().isContainer)){_context2.next=3;break}throw new ui_actions_plugin["IncompatibleActionError"];case 3:dashboard=embeddable.getRoot();panelToClone=dashboard.getInput().panels[embeddable.id];if(panelToClone){_context2.next=7;break}throw new embeddable_public_["PanelNotFoundError"];case 7:dashboard.showPlaceholderUntil(this.cloneEmbeddable(panelToClone,embeddable.type),dashboard_panel_placement["b"],{width:panelToClone.gridData.w,height:panelToClone.gridData.h,currentPanels:dashboard.getInput().panels,placeBesideId:panelToClone.explicitInput.id});case 8:case"end":return _context2.stop()}}}),_callee2,this)})));function execute(_x2){return _execute.apply(this,arguments)}return execute}()},{key:"getUniqueTitle",value:function(){var _getUniqueTitle=clone_panel_action_asyncToGenerator(regeneratorRuntime.mark((function _callee3(rawTitle,embeddableType){var clonedTag,cloneRegex,cloneNumberRegex,baseTitle,similarSavedObjects,similarBaseTitlesCount;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:clonedTag=external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.title.clonedTag",{defaultMessage:"copy"});cloneRegex=new RegExp("\\(".concat(clonedTag,"\\)"),"g");cloneNumberRegex=new RegExp("\\(".concat(clonedTag," [0-9]+\\)"),"g");baseTitle=rawTitle.replace(cloneNumberRegex,"").replace(cloneRegex,"").trim();_context3.next=6;return this.core.savedObjects.client.find({type:embeddableType,perPage:0,fields:["title"],searchFields:["title"],search:'"'.concat(baseTitle,'"')});case 6:similarSavedObjects=_context3.sent;similarBaseTitlesCount=similarSavedObjects.total-1;return _context3.abrupt("return",similarBaseTitlesCount<=0?baseTitle+" (".concat(clonedTag,")"):baseTitle+" (".concat(clonedTag," ").concat(similarBaseTitlesCount,")"));case 9:case"end":return _context3.stop()}}}),_callee3,this)})));function getUniqueTitle(_x3,_x4){return _getUniqueTitle.apply(this,arguments)}return getUniqueTitle}()},{key:"cloneEmbeddable",value:function(){var _cloneEmbeddable=clone_panel_action_asyncToGenerator(regeneratorRuntime.mark((function _callee4(panelToClone,embeddableType){var panelState,newTitle,savedObjectToClone,clonedSavedObject;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:panelState={type:embeddableType,explicitInput:clone_panel_action_objectSpread(clone_panel_action_objectSpread({},panelToClone.explicitInput),{},{id:uuid_default.a.v4()})};newTitle="";if(!panelToClone.explicitInput.savedObjectId){_context4.next=13;break}_context4.next=5;return this.core.savedObjects.client.get(embeddableType,panelToClone.explicitInput.savedObjectId);case 5:savedObjectToClone=_context4.sent;_context4.next=8;return this.getUniqueTitle(savedObjectToClone.attributes.title,embeddableType);case 8:newTitle=_context4.sent;_context4.next=11;return this.core.savedObjects.client.create(embeddableType,clone_panel_action_objectSpread(clone_panel_action_objectSpread({},external_kbnSharedDeps_Lodash_default.a.cloneDeep(savedObjectToClone.attributes)),{},{title:newTitle}),{references:external_kbnSharedDeps_Lodash_default.a.cloneDeep(savedObjectToClone.references)});case 11:clonedSavedObject=_context4.sent;panelState.explicitInput.savedObjectId=clonedSavedObject.id;case 13:this.core.notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.clonedToast",{defaultMessage:"Cloned panel"}),"data-test-subj":"addObjectToContainerSuccess"});return _context4.abrupt("return",panelState);case 15:case"end":return _context4.stop()}}}),_callee4,this)})));function cloneEmbeddable(_x5,_x6){return _cloneEmbeddable.apply(this,arguments)}return cloneEmbeddable}()}]);return ClonePanelAction}();function add_to_library_action_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function add_to_library_action_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){add_to_library_action_ownKeys(Object(source),true).forEach((function(key){add_to_library_action_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{add_to_library_action_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function add_to_library_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function add_to_library_action_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){add_to_library_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){add_to_library_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function add_to_library_action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function add_to_library_action_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function add_to_library_action_createClass(Constructor,protoProps,staticProps){if(protoProps)add_to_library_action_defineProperties(Constructor.prototype,protoProps);if(staticProps)add_to_library_action_defineProperties(Constructor,staticProps);return Constructor}function add_to_library_action_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACTION_ADD_TO_LIBRARY="addToFromLibrary";var add_to_library_action_AddToLibraryAction=function(){function AddToLibraryAction(){add_to_library_action_classCallCheck(this,AddToLibraryAction);add_to_library_action_defineProperty(this,"type",ACTION_ADD_TO_LIBRARY);add_to_library_action_defineProperty(this,"id",ACTION_ADD_TO_LIBRARY);add_to_library_action_defineProperty(this,"order",15)}add_to_library_action_createClass(AddToLibraryAction,[{key:"getDisplayName",value:function getDisplayName(_ref){var embeddable=_ref.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.AddToLibrary",{defaultMessage:"Add to library"})}},{key:"getIconType",value:function getIconType(_ref2){var embeddable=_ref2.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return"folderCheck"}},{key:"isCompatible",value:function(){var _isCompatible=add_to_library_action_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var _embeddable$getInput;var embeddable;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=_ref3.embeddable;return _context.abrupt("return",Boolean(!Object(embeddable_public_["isErrorEmbeddable"])(embeddable)&&((_embeddable$getInput=embeddable.getInput())===null||_embeddable$getInput===void 0?void 0:_embeddable$getInput.viewMode)!==embeddable_plugin["ViewMode"].VIEW&&embeddable.getRoot()&&embeddable.getRoot().isContainer&&embeddable.getRoot().type===application["DASHBOARD_CONTAINER_TYPE"]&&Object(embeddable_public_["isReferenceOrValueEmbeddable"])(embeddable)&&!embeddable.inputIsRefType(embeddable.getInput())));case 2:case"end":return _context.stop()}}}),_callee)})));function isCompatible(_x){return _isCompatible.apply(this,arguments)}return isCompatible}()},{key:"execute",value:function(){var _execute=add_to_library_action_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref4){var embeddable,newInput,dashboard,panelToReplace,newPanel;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:embeddable=_ref4.embeddable;if(Object(embeddable_public_["isReferenceOrValueEmbeddable"])(embeddable)){_context2.next=3;break}throw new ui_actions_plugin["IncompatibleActionError"];case 3:_context2.next=5;return embeddable.getInputAsRefType();case 5:newInput=_context2.sent;embeddable.updateInput(newInput);dashboard=embeddable.getRoot();panelToReplace=dashboard.getInput().panels[embeddable.id];if(panelToReplace){_context2.next=11;break}throw new embeddable_public_["PanelNotFoundError"];case 11:newPanel={type:embeddable.type,explicitInput:add_to_library_action_objectSpread(add_to_library_action_objectSpread({},newInput),{},{id:uuid_default.a.v4()})};dashboard.replacePanel(panelToReplace,newPanel);case 13:case"end":return _context2.stop()}}}),_callee2)})));function execute(_x2){return _execute.apply(this,arguments)}return execute}()}]);return AddToLibraryAction}();function unlink_from_library_action_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function unlink_from_library_action_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){unlink_from_library_action_ownKeys(Object(source),true).forEach((function(key){unlink_from_library_action_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{unlink_from_library_action_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function unlink_from_library_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function unlink_from_library_action_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){unlink_from_library_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){unlink_from_library_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function unlink_from_library_action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function unlink_from_library_action_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function unlink_from_library_action_createClass(Constructor,protoProps,staticProps){if(protoProps)unlink_from_library_action_defineProperties(Constructor.prototype,protoProps);if(staticProps)unlink_from_library_action_defineProperties(Constructor,staticProps);return Constructor}function unlink_from_library_action_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACTION_UNLINK_FROM_LIBRARY="unlinkFromLibrary";var unlink_from_library_action_UnlinkFromLibraryAction=function(){function UnlinkFromLibraryAction(){unlink_from_library_action_classCallCheck(this,UnlinkFromLibraryAction);unlink_from_library_action_defineProperty(this,"type",ACTION_UNLINK_FROM_LIBRARY);unlink_from_library_action_defineProperty(this,"id",ACTION_UNLINK_FROM_LIBRARY);unlink_from_library_action_defineProperty(this,"order",15)}unlink_from_library_action_createClass(UnlinkFromLibraryAction,[{key:"getDisplayName",value:function getDisplayName(_ref){var embeddable=_ref.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.unlinkFromLibrary",{defaultMessage:"Unlink from library item"})}},{key:"getIconType",value:function getIconType(_ref2){var embeddable=_ref2.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return"folderExclamation"}},{key:"isCompatible",value:function(){var _isCompatible=unlink_from_library_action_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var _embeddable$getInput;var embeddable;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=_ref3.embeddable;return _context.abrupt("return",Boolean(!Object(embeddable_public_["isErrorEmbeddable"])(embeddable)&&((_embeddable$getInput=embeddable.getInput())===null||_embeddable$getInput===void 0?void 0:_embeddable$getInput.viewMode)!==embeddable_plugin["ViewMode"].VIEW&&embeddable.getRoot()&&embeddable.getRoot().isContainer&&embeddable.getRoot().type===application["DASHBOARD_CONTAINER_TYPE"]&&Object(embeddable_public_["isReferenceOrValueEmbeddable"])(embeddable)&&embeddable.inputIsRefType(embeddable.getInput())));case 2:case"end":return _context.stop()}}}),_callee)})));function isCompatible(_x){return _isCompatible.apply(this,arguments)}return isCompatible}()},{key:"execute",value:function(){var _execute=unlink_from_library_action_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref4){var embeddable,newInput,dashboard,panelToReplace,newPanel;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:embeddable=_ref4.embeddable;if(Object(embeddable_public_["isReferenceOrValueEmbeddable"])(embeddable)){_context2.next=3;break}throw new ui_actions_plugin["IncompatibleActionError"];case 3:_context2.next=5;return embeddable.getInputAsValueType();case 5:newInput=_context2.sent;embeddable.updateInput(newInput);dashboard=embeddable.getRoot();panelToReplace=dashboard.getInput().panels[embeddable.id];if(panelToReplace){_context2.next=11;break}throw new embeddable_public_["PanelNotFoundError"];case 11:newPanel={type:embeddable.type,explicitInput:unlink_from_library_action_objectSpread(unlink_from_library_action_objectSpread({},newInput),{},{id:uuid_default.a.v4()})};dashboard.replacePanel(panelToReplace,newPanel);case 13:case"end":return _context2.stop()}}}),_callee2)})));function execute(_x2){return _execute.apply(this,arguments)}return execute}()}]);return UnlinkFromLibraryAction}();function library_notification_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function library_notification_action_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){library_notification_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){library_notification_action_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function library_notification_action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function library_notification_action_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function library_notification_action_createClass(Constructor,protoProps,staticProps){if(protoProps)library_notification_action_defineProperties(Constructor.prototype,protoProps);if(staticProps)library_notification_action_defineProperties(Constructor,staticProps);return Constructor}function library_notification_action_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ACTION_LIBRARY_NOTIFICATION="ACTION_LIBRARY_NOTIFICATION";var library_notification_action_LibraryNotificationAction=function(){function LibraryNotificationAction(){var _this=this;library_notification_action_classCallCheck(this,LibraryNotificationAction);library_notification_action_defineProperty(this,"id",ACTION_LIBRARY_NOTIFICATION);library_notification_action_defineProperty(this,"type",ACTION_LIBRARY_NOTIFICATION);library_notification_action_defineProperty(this,"order",1);library_notification_action_defineProperty(this,"displayName",external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.LibraryNotification",{defaultMessage:"Library"}));library_notification_action_defineProperty(this,"icon","folderCheck");library_notification_action_defineProperty(this,"MenuItem",Object(public_["reactToUiComponent"])((function(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{"data-test-subj":"embeddablePanelNotification-".concat(_this.id),iconType:_this.icon,key:_this.id,style:{marginTop:"2px",marginRight:"4px"},color:"hollow"},_this.displayName)})));library_notification_action_defineProperty(this,"getDisplayNameTooltip",(function(_ref){var embeddable=_ref.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.panel.libraryNotification.toolTip",{defaultMessage:"This panel is linked to a Library item. Editing the panel might affect other dashboards."})}));library_notification_action_defineProperty(this,"isCompatible",function(){var _ref3=library_notification_action_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref2){var _embeddable$getInput;var embeddable;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:embeddable=_ref2.embeddable;return _context.abrupt("return",!Object(embeddable_plugin["isErrorEmbeddable"])(embeddable)&&embeddable.getRoot().isContainer&&((_embeddable$getInput=embeddable.getInput())===null||_embeddable$getInput===void 0?void 0:_embeddable$getInput.viewMode)!==embeddable_plugin["ViewMode"].VIEW&&Object(embeddable_plugin["isReferenceOrValueEmbeddable"])(embeddable)&&embeddable.inputIsRefType(embeddable.getInput()));case 2:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}());library_notification_action_defineProperty(this,"execute",library_notification_action_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case"end":return _context2.stop()}}}),_callee2)}))))}library_notification_action_createClass(LibraryNotificationAction,[{key:"getDisplayName",value:function getDisplayName(_ref5){var embeddable=_ref5.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return this.displayName}},{key:"getIconType",value:function getIconType(_ref6){var embeddable=_ref6.embeddable;if(!embeddable.getRoot()||!embeddable.getRoot().isContainer){throw new ui_actions_plugin["IncompatibleActionError"]}return this.icon}}]);return LibraryNotificationAction}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sizeMe=undefined;var _sizeMe=__webpack_require__(63);var _sizeMe2=_interopRequireDefault(_sizeMe);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.sizeMe=_sizeMe2.default;exports.default=_sizeMe2.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__(42).default;module.exports.utils=__webpack_require__(19);module.exports.Responsive=__webpack_require__(93).default;module.exports.Responsive.utils=__webpack_require__(45);module.exports.WidthProvider=__webpack_require__(94).default},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_dashboard_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56);var _node_modules_val_loader_dist_cjs_js_key_dashboard_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_dashboard_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/dashboard/public",__webpack_require__,98)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["dashboard"]},function(module,exports,__webpack_require__){var rng=__webpack_require__(34);var bytesToUuid=__webpack_require__(35);var _nodeId;var _clockseq;var _lastMSecs=0;var _lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var node=options.node||_nodeId;var clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;if(node==null||clockseq==null){var seedBytes=rng();if(node==null){node=_nodeId=[seedBytes[0]|1,seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]}if(clockseq==null){clockseq=_clockseq=(seedBytes[6]<<8|seedBytes[7])&16383}}var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime();var nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined){clockseq=clockseq+1&16383}if((dt<0||msecs>_lastMSecs)&&options.nsecs===undefined){nsecs=0}if(nsecs>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928e5;var tl=((msecs&268435455)*1e4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;for(var n=0;n<6;++n){b[i+n]=node[n]}return buf?buf:bytesToUuid(b)}module.exports=v1},function(module,exports,__webpack_require__){var rng=__webpack_require__(34);var bytesToUuid=__webpack_require__(35);function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options==="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;++ii){buf[i+ii]=rnds[ii]}}return buf||bytesToUuid(rnds)}module.exports=v4},function(module,exports,__webpack_require__){var api=__webpack_require__(30);var content=__webpack_require__(60);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(31);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'.react-grid-layout {\n  position: relative;\n  transition: height 200ms ease;\n}\n.react-grid-item {\n  transition: all 200ms ease;\n  transition-property: left, top;\n}\n.react-grid-item.cssTransforms {\n  transition-property: transform;\n}\n.react-grid-item.resizing {\n  z-index: 1;\n  will-change: width, height;\n}\n\n.react-grid-item.react-draggable-dragging {\n  transition: none;\n  z-index: 3;\n  will-change: transform;\n}\n\n.react-grid-item.react-grid-placeholder {\n  background: red;\n  opacity: 0.2;\n  transition-duration: 100ms;\n  z-index: 2;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.react-grid-item > .react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  bottom: 0;\n  right: 0;\n  cursor: se-resize;\n}\n\n.react-grid-item > .react-resizable-handle::after {\n  content: "";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 5px;\n  height: 5px;\n  border-right: 2px solid rgba(0, 0, 0, 0.4);\n  border-bottom: 2px solid rgba(0, 0, 0, 0.4);\n}\n',""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(30);var content=__webpack_require__(62);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(31);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".react-resizable {\n  position: relative;\n}\n.react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  bottom: 0;\n  right: 0;\n  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+');\n  background-position: bottom right;\n  padding: 0 3px 3px 0;\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  box-sizing: border-box;\n  cursor: se-resize;\n}\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(14);var _reactDom2=_interopRequireDefault(_reactDom);var _invariant=__webpack_require__(66);var _invariant2=_interopRequireDefault(_invariant);var _throttle=__webpack_require__(67);var _throttle2=_interopRequireDefault(_throttle);var _debounce=__webpack_require__(36);var _debounce2=_interopRequireDefault(_debounce);var _resizeDetector=__webpack_require__(76);var _resizeDetector2=_interopRequireDefault(_resizeDetector);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var defaultConfig={monitorWidth:true,monitorHeight:false,monitorPosition:false,refreshRate:16,refreshMode:"throttle",noPlaceholder:false};function getDisplayName(WrappedComponent){return WrappedComponent.displayName||WrappedComponent.name||"Component"}var ReferenceWrapper=function(_Component){_inherits(ReferenceWrapper,_Component);function ReferenceWrapper(){_classCallCheck(this,ReferenceWrapper);return _possibleConstructorReturn(this,(ReferenceWrapper.__proto__||Object.getPrototypeOf(ReferenceWrapper)).apply(this,arguments))}_createClass(ReferenceWrapper,[{key:"render",value:function render(){return _react.Children.only(this.props.children)}}]);return ReferenceWrapper}(_react.Component);ReferenceWrapper.displayName="SizeMeReferenceWrapper";ReferenceWrapper.propTypes={children:_propTypes2.default.element.isRequired};function Placeholder(_ref){var className=_ref.className,style=_ref.style;var phProps={};if(!className&&!style){phProps.style={width:"100%",height:"100%"}}else{if(className){phProps.className=className}if(style){phProps.style=style}}return _react2.default.createElement("div",phProps)}Placeholder.displayName="SizeMePlaceholder";Placeholder.propTypes={className:_propTypes2.default.string,style:_propTypes2.default.object};var renderWrapper=function renderWrapper(WrappedComponent){function SizeMeRenderer(props){var explicitRef=props.explicitRef,className=props.className,style=props.style,size=props.size,disablePlaceholder=props.disablePlaceholder,onSize=props.onSize,restProps=_objectWithoutProperties(props,["explicitRef","className","style","size","disablePlaceholder","onSize"]);var noSizeData=size==null||size.width==null&&size.height==null&&size.position==null;var renderPlaceholder=noSizeData&&!disablePlaceholder;var renderProps={className:className,style:style};if(size!=null){renderProps.size=size}var toRender=renderPlaceholder?_react2.default.createElement(Placeholder,{className:className,style:style}):_react2.default.createElement(WrappedComponent,_extends({},renderProps,restProps));return _react2.default.createElement(ReferenceWrapper,{ref:explicitRef},toRender)}SizeMeRenderer.displayName="SizeMeRenderer("+getDisplayName(WrappedComponent)+")";SizeMeRenderer.propTypes={explicitRef:_propTypes2.default.func.isRequired,className:_propTypes2.default.string,style:_propTypes2.default.object,size:_propTypes2.default.shape({width:_propTypes2.default.number,height:_propTypes2.default.number}),disablePlaceholder:_propTypes2.default.bool,onSize:_propTypes2.default.func};return SizeMeRenderer};function sizeMe(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultConfig;var _config$monitorWidth=config.monitorWidth,monitorWidth=_config$monitorWidth===undefined?defaultConfig.monitorWidth:_config$monitorWidth,_config$monitorHeight=config.monitorHeight,monitorHeight=_config$monitorHeight===undefined?defaultConfig.monitorHeight:_config$monitorHeight,_config$monitorPositi=config.monitorPosition,monitorPosition=_config$monitorPositi===undefined?defaultConfig.monitorPosition:_config$monitorPositi,_config$refreshRate=config.refreshRate,refreshRate=_config$refreshRate===undefined?defaultConfig.refreshRate:_config$refreshRate,_config$refreshMode=config.refreshMode,refreshMode=_config$refreshMode===undefined?defaultConfig.refreshMode:_config$refreshMode,_config$noPlaceholder=config.noPlaceholder,noPlaceholder=_config$noPlaceholder===undefined?defaultConfig.noPlaceholder:_config$noPlaceholder;(0,_invariant2.default)(monitorWidth||monitorHeight||monitorPosition,'You have to monitor at least one of the width, height, or position when using "sizeMe"');(0,_invariant2.default)(refreshRate>=16,"It is highly recommended that you don't put your refreshRate lower than "+"16 as this may cause layout thrashing.");(0,_invariant2.default)(refreshMode==="throttle"||refreshMode==="debounce",'The refreshMode should have a value of "throttle" or "debounce"');var refreshDelayStrategy=refreshMode==="throttle"?_throttle2.default:_debounce2.default;return function WrapComponent(WrappedComponent){var SizeMeRenderWrapper=renderWrapper(WrappedComponent);var SizeAwareComponent=function(_React$Component){_inherits(SizeAwareComponent,_React$Component);function SizeAwareComponent(){var _ref2;var _temp,_this2,_ret;_classCallCheck(this,SizeAwareComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this2=_possibleConstructorReturn(this,(_ref2=SizeAwareComponent.__proto__||Object.getPrototypeOf(SizeAwareComponent)).call.apply(_ref2,[this].concat(args))),_this2),_this2.state={width:undefined,height:undefined,position:undefined},_this2.determineStrategy=function(props){if(props.onSize){if(!_this2.callbackState){_this2.callbackState=_extends({},_this2.state)}_this2.strategy="callback"}else{_this2.strategy="render"}},_this2.strategisedSetState=function(state){if(_this2.strategy==="callback"){_this2.callbackState=state;_this2.props.onSize(state)}else{_this2.setState(state)}},_this2.strategisedGetState=function(){return _this2.strategy==="callback"?_this2.callbackState:_this2.state},_this2.refCallback=function(element){_this2.element=element},_this2.hasSizeChanged=function(current,next){var c=current;var n=next;var cp=c.position||{};var np=n.position||{};return monitorHeight&&c.height!==n.height||monitorPosition&&(cp.top!==np.top||cp.left!==np.left||cp.bottom!==np.bottom||cp.right!==np.right)||monitorWidth&&c.width!==n.width},_this2.checkIfSizeChanged=refreshDelayStrategy((function(el){var _el$getBoundingClient=el.getBoundingClientRect(),width=_el$getBoundingClient.width,height=_el$getBoundingClient.height,right=_el$getBoundingClient.right,left=_el$getBoundingClient.left,top=_el$getBoundingClient.top,bottom=_el$getBoundingClient.bottom;var next={width:monitorWidth?width:null,height:monitorHeight?height:null,position:monitorPosition?{right:right,left:left,top:top,bottom:bottom}:null};if(_this2.hasSizeChanged(_this2.strategisedGetState(),next)){_this2.strategisedSetState(next)}}),refreshRate),_temp),_possibleConstructorReturn(_this2,_ret)}_createClass(SizeAwareComponent,[{key:"componentDidMount",value:function componentDidMount(){this.determineStrategy(this.props);this.handleDOMNode()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){this.determineStrategy(nextProps)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.handleDOMNode()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.hasSizeChanged=function(){return undefined};this.checkIfSizeChanged=function(){return undefined};if(this.domEl){(0,_resizeDetector2.default)().removeAllListeners(this.domEl);this.domEl=null}}},{key:"handleDOMNode",value:function handleDOMNode(){var found=this.element&&_reactDom2.default.findDOMNode(this.element);if(!found){if(this.domEl){(0,_resizeDetector2.default)().removeAllListeners(this.domEl);this.domEl=null}return}if(this.domEl){(0,_resizeDetector2.default)().removeAllListeners(this.domEl)}this.domEl=found;(0,_resizeDetector2.default)().listenTo(this.domEl,this.checkIfSizeChanged)}},{key:"render",value:function render(){var disablePlaceholder=sizeMe.enableSSRBehaviour||sizeMe.noPlaceholders||noPlaceholder||this.strategy==="callback";var size=_extends({},this.state);return _react2.default.createElement(SizeMeRenderWrapper,_extends({explicitRef:this.refCallback,size:this.strategy==="callback"?null:size,disablePlaceholder:disablePlaceholder},this.props))}}]);return SizeAwareComponent}(_react2.default.Component);SizeAwareComponent.displayName="SizeMe("+getDisplayName(WrappedComponent)+")";SizeAwareComponent.propTypes={onSize:_propTypes2.default.func};SizeAwareComponent.WrappedComponent=WrappedComponent;return SizeAwareComponent}}sizeMe.enableSSRBehaviour=false;sizeMe.noPlaceholders=false;exports.default=sizeMe},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(65);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,exports,__webpack_require__){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(false){}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,(function(){return args[argIndex++]})));error.name="Invariant Violation"}error.framesToPop=1;throw error}};module.exports=invariant},function(module,exports,__webpack_require__){var debounce=__webpack_require__(36),isObject=__webpack_require__(26);var FUNC_ERROR_TEXT="Expected a function";function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}module.exports=throttle},function(module,exports,__webpack_require__){var root=__webpack_require__(37);var now=function(){return root.Date.now()};module.exports=now},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(38))},function(module,exports,__webpack_require__){var isObject=__webpack_require__(26),isSymbol=__webpack_require__(71);var NAN=0/0;var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=toNumber},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(72),isObjectLike=__webpack_require__(75);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(39),getRawTag=__webpack_require__(73),objectToString=__webpack_require__(74);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(39);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _elementResizeDetector=__webpack_require__(77);var _elementResizeDetector2=_interopRequireDefault(_elementResizeDetector);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var instance=void 0;function resizeDetector(){if(!instance){instance=(0,_elementResizeDetector2.default)({strategy:"scroll"})}return instance}exports.default=resizeDetector},function(module,exports,__webpack_require__){"use strict";var forEach=__webpack_require__(40).forEach;var elementUtilsMaker=__webpack_require__(78);var listenerHandlerMaker=__webpack_require__(79);var idGeneratorMaker=__webpack_require__(80);var idHandlerMaker=__webpack_require__(81);var reporterMaker=__webpack_require__(82);var browserDetector=__webpack_require__(41);var batchProcessorMaker=__webpack_require__(83);var stateHandler=__webpack_require__(85);var objectStrategyMaker=__webpack_require__(86);var scrollStrategyMaker=__webpack_require__(87);function isCollection(obj){return Array.isArray(obj)||obj.length!==undefined}function toArray(collection){if(!Array.isArray(collection)){var array=[];forEach(collection,(function(obj){array.push(obj)}));return array}else{return collection}}function isElement(obj){return obj&&obj.nodeType===1}module.exports=function(options){options=options||{};var idHandler;if(options.idHandler){idHandler={get:function(element){return options.idHandler.get(element,true)},set:options.idHandler.set}}else{var idGenerator=idGeneratorMaker();var defaultIdHandler=idHandlerMaker({idGenerator:idGenerator,stateHandler:stateHandler});idHandler=defaultIdHandler}var reporter=options.reporter;if(!reporter){var quiet=reporter===false;reporter=reporterMaker(quiet)}var batchProcessor=getOption(options,"batchProcessor",batchProcessorMaker({reporter:reporter}));var globalOptions={};globalOptions.callOnAdd=!!getOption(options,"callOnAdd",true);globalOptions.debug=!!getOption(options,"debug",false);var eventListenerHandler=listenerHandlerMaker(idHandler);var elementUtils=elementUtilsMaker({stateHandler:stateHandler});var detectionStrategy;var desiredStrategy=getOption(options,"strategy","object");var importantCssRules=getOption(options,"important",false);var strategyOptions={reporter:reporter,batchProcessor:batchProcessor,stateHandler:stateHandler,idHandler:idHandler,important:importantCssRules};if(desiredStrategy==="scroll"){if(browserDetector.isLegacyOpera()){reporter.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy.");desiredStrategy="object"}else if(browserDetector.isIE(9)){reporter.warn("Scroll strategy is not supported on IE9. Changing to object strategy.");desiredStrategy="object"}}if(desiredStrategy==="scroll"){detectionStrategy=scrollStrategyMaker(strategyOptions)}else if(desiredStrategy==="object"){detectionStrategy=objectStrategyMaker(strategyOptions)}else{throw new Error("Invalid strategy name: "+desiredStrategy)}var onReadyCallbacks={};function listenTo(options,elements,listener){function onResizeCallback(element){var listeners=eventListenerHandler.get(element);forEach(listeners,(function callListenerProxy(listener){listener(element)}))}function addListener(callOnAdd,element,listener){eventListenerHandler.add(element,listener);if(callOnAdd){listener(element)}}if(!listener){listener=elements;elements=options;options={}}if(!elements){throw new Error("At least one element required.")}if(!listener){throw new Error("Listener required.")}if(isElement(elements)){elements=[elements]}else if(isCollection(elements)){elements=toArray(elements)}else{return reporter.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.")}var elementsReady=0;var callOnAdd=getOption(options,"callOnAdd",globalOptions.callOnAdd);var onReadyCallback=getOption(options,"onReady",(function noop(){}));var debug=getOption(options,"debug",globalOptions.debug);forEach(elements,(function attachListenerToElement(element){if(!stateHandler.getState(element)){stateHandler.initState(element);idHandler.set(element)}var id=idHandler.get(element);debug&&reporter.log("Attaching listener to element",id,element);if(!elementUtils.isDetectable(element)){debug&&reporter.log(id,"Not detectable.");if(elementUtils.isBusy(element)){debug&&reporter.log(id,"System busy making it detectable");addListener(callOnAdd,element,listener);onReadyCallbacks[id]=onReadyCallbacks[id]||[];onReadyCallbacks[id].push((function onReady(){elementsReady++;if(elementsReady===elements.length){onReadyCallback()}}));return}debug&&reporter.log(id,"Making detectable...");elementUtils.markBusy(element,true);return detectionStrategy.makeDetectable({debug:debug,important:importantCssRules},element,(function onElementDetectable(element){debug&&reporter.log(id,"onElementDetectable");if(stateHandler.getState(element)){elementUtils.markAsDetectable(element);elementUtils.markBusy(element,false);detectionStrategy.addListener(element,onResizeCallback);addListener(callOnAdd,element,listener);var state=stateHandler.getState(element);if(state&&state.startSize){var width=element.offsetWidth;var height=element.offsetHeight;if(state.startSize.width!==width||state.startSize.height!==height){onResizeCallback(element)}}if(onReadyCallbacks[id]){forEach(onReadyCallbacks[id],(function(callback){callback()}))}}else{debug&&reporter.log(id,"Element uninstalled before being detectable.")}delete onReadyCallbacks[id];elementsReady++;if(elementsReady===elements.length){onReadyCallback()}}))}debug&&reporter.log(id,"Already detecable, adding listener.");addListener(callOnAdd,element,listener);elementsReady++}));if(elementsReady===elements.length){onReadyCallback()}}function uninstall(elements){if(!elements){return reporter.error("At least one element is required.")}if(isElement(elements)){elements=[elements]}else if(isCollection(elements)){elements=toArray(elements)}else{return reporter.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.")}forEach(elements,(function(element){eventListenerHandler.removeAllListeners(element);detectionStrategy.uninstall(element);stateHandler.cleanState(element)}))}function initDocument(targetDocument){detectionStrategy.initDocument&&detectionStrategy.initDocument(targetDocument)}return{listenTo:listenTo,removeListener:eventListenerHandler.removeListener,removeAllListeners:eventListenerHandler.removeAllListeners,uninstall:uninstall,initDocument:initDocument}};function getOption(options,name,defaultValue){var value=options[name];if((value===undefined||value===null)&&defaultValue!==undefined){return defaultValue}return value}},function(module,exports,__webpack_require__){"use strict";module.exports=function(options){var getState=options.stateHandler.getState;function isDetectable(element){var state=getState(element);return state&&!!state.isDetectable}function markAsDetectable(element){getState(element).isDetectable=true}function isBusy(element){return!!getState(element).busy}function markBusy(element,busy){getState(element).busy=!!busy}return{isDetectable:isDetectable,markAsDetectable:markAsDetectable,isBusy:isBusy,markBusy:markBusy}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(idHandler){var eventListeners={};function getListeners(element){var id=idHandler.get(element);if(id===undefined){return[]}return eventListeners[id]||[]}function addListener(element,listener){var id=idHandler.get(element);if(!eventListeners[id]){eventListeners[id]=[]}eventListeners[id].push(listener)}function removeListener(element,listener){var listeners=getListeners(element);for(var i=0,len=listeners.length;i<len;++i){if(listeners[i]===listener){listeners.splice(i,1);break}}}function removeAllListeners(element){var listeners=getListeners(element);if(!listeners){return}listeners.length=0}return{get:getListeners,add:addListener,removeListener:removeListener,removeAllListeners:removeAllListeners}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var idCount=1;function generate(){return idCount++}return{generate:generate}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(options){var idGenerator=options.idGenerator;var getState=options.stateHandler.getState;function getId(element){var state=getState(element);if(state&&state.id!==undefined){return state.id}return null}function setId(element){var state=getState(element);if(!state){throw new Error("setId required the element to have a resize detection state.")}var id=idGenerator.generate();state.id=id;return id}return{get:getId,set:setId}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(quiet){function noop(){}var reporter={log:noop,warn:noop,error:noop};if(!quiet&&window.console){var attachFunction=function(reporter,name){reporter[name]=function reporterProxy(){var f=console[name];if(f.apply){f.apply(console,arguments)}else{for(var i=0;i<arguments.length;i++){f(arguments[i])}}}};attachFunction(reporter,"log");attachFunction(reporter,"warn");attachFunction(reporter,"error")}return reporter}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(84);module.exports=function batchProcessorMaker(options){options=options||{};var reporter=options.reporter;var asyncProcess=utils.getOption(options,"async",true);var autoProcess=utils.getOption(options,"auto",true);if(autoProcess&&!asyncProcess){reporter&&reporter.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true.");asyncProcess=true}var batch=Batch();var asyncFrameHandler;var isProcessing=false;function addFunction(level,fn){if(!isProcessing&&autoProcess&&asyncProcess&&batch.size()===0){processBatchAsync()}batch.add(level,fn)}function processBatch(){isProcessing=true;while(batch.size()){var processingBatch=batch;batch=Batch();processingBatch.process()}isProcessing=false}function forceProcessBatch(localAsyncProcess){if(isProcessing){return}if(localAsyncProcess===undefined){localAsyncProcess=asyncProcess}if(asyncFrameHandler){cancelFrame(asyncFrameHandler);asyncFrameHandler=null}if(localAsyncProcess){processBatchAsync()}else{processBatch()}}function processBatchAsync(){asyncFrameHandler=requestFrame(processBatch)}function clearBatch(){batch={};batchSize=0;topLevel=0;bottomLevel=0}function cancelFrame(listener){var cancel=clearTimeout;return cancel(listener)}function requestFrame(callback){var raf=function(fn){return setTimeout(fn,0)};return raf(callback)}return{add:addFunction,force:forceProcessBatch}};function Batch(){var batch={};var size=0;var topLevel=0;var bottomLevel=0;function add(level,fn){if(!fn){fn=level;level=0}if(level>topLevel){topLevel=level}else if(level<bottomLevel){bottomLevel=level}if(!batch[level]){batch[level]=[]}batch[level].push(fn);size++}function process(){for(var level=bottomLevel;level<=topLevel;level++){var fns=batch[level];for(var i=0;i<fns.length;i++){var fn=fns[i];fn()}}}function getSize(){return size}return{add:add,process:process,size:getSize}}},function(module,exports,__webpack_require__){"use strict";var utils=module.exports={};utils.getOption=getOption;function getOption(options,name,defaultValue){var value=options[name];if((value===undefined||value===null)&&defaultValue!==undefined){return defaultValue}return value}},function(module,exports,__webpack_require__){"use strict";var prop="_erd";function initState(element){element[prop]={};return getState(element)}function getState(element){return element[prop]}function cleanState(element){delete element[prop]}module.exports={initState:initState,getState:getState,cleanState:cleanState}},function(module,exports,__webpack_require__){"use strict";var browserDetector=__webpack_require__(41);module.exports=function(options){options=options||{};var reporter=options.reporter;var batchProcessor=options.batchProcessor;var getState=options.stateHandler.getState;if(!reporter){throw new Error("Missing required dependency: reporter.")}function addListener(element,listener){function listenerProxy(){listener(element)}if(browserDetector.isIE(8)){getState(element).object={proxy:listenerProxy};element.attachEvent("onresize",listenerProxy)}else{var object=getObject(element);if(!object){throw new Error("Element is not detectable by this strategy.")}object.contentDocument.defaultView.addEventListener("resize",listenerProxy)}}function buildCssTextString(rules){var seperator=options.important?" !important; ":"; ";return(rules.join(seperator)+seperator).trim()}function makeDetectable(options,element,callback){if(!callback){callback=element;element=options;options=null}options=options||{};var debug=options.debug;function injectObject(element,callback){var OBJECT_STYLE=buildCssTextString(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]);var positionCheckPerformed=false;var style=window.getComputedStyle(element);var width=element.offsetWidth;var height=element.offsetHeight;getState(element).startSize={width:width,height:height};function mutateDom(){function alterPositionStyles(){if(style.position==="static"){element.style.setProperty("position","relative",options.important?"important":"");var removeRelativeStyles=function(reporter,element,style,property){function getNumericalValue(value){return value.replace(/[^-\d\.]/g,"")}var value=style[property];if(value!=="auto"&&getNumericalValue(value)!=="0"){reporter.warn("An element that is positioned static has style."+property+"="+value+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+property+" will be set to 0. Element: ",element);element.style.setProperty(property,"0",options.important?"important":"")}};removeRelativeStyles(reporter,element,style,"top");removeRelativeStyles(reporter,element,style,"right");removeRelativeStyles(reporter,element,style,"bottom");removeRelativeStyles(reporter,element,style,"left")}}function onObjectLoad(){if(!positionCheckPerformed){alterPositionStyles()}function getDocument(element,callback){if(!element.contentDocument){var state=getState(element);if(state.checkForObjectDocumentTimeoutId){window.clearTimeout(state.checkForObjectDocumentTimeoutId)}state.checkForObjectDocumentTimeoutId=setTimeout((function checkForObjectDocument(){state.checkForObjectDocumentTimeoutId=0;getDocument(element,callback)}),100);return}callback(element.contentDocument)}var objectElement=this;getDocument(objectElement,(function onObjectDocumentReady(objectDocument){callback(element)}))}if(style.position!==""){alterPositionStyles(style);positionCheckPerformed=true}var object=document.createElement("object");object.style.cssText=OBJECT_STYLE;object.tabIndex=-1;object.type="text/html";object.setAttribute("aria-hidden","true");object.onload=onObjectLoad;if(!browserDetector.isIE()){object.data="about:blank"}if(!getState(element)){return}element.appendChild(object);getState(element).object=object;if(browserDetector.isIE()){object.data="about:blank"}}if(batchProcessor){batchProcessor.add(mutateDom)}else{mutateDom()}}if(browserDetector.isIE(8)){callback(element)}else{injectObject(element,callback)}}function getObject(element){return getState(element).object}function uninstall(element){if(!getState(element)){return}var object=getObject(element);if(!object){return}if(browserDetector.isIE(8)){element.detachEvent("onresize",object.proxy)}else{element.removeChild(object)}if(getState(element).checkForObjectDocumentTimeoutId){window.clearTimeout(getState(element).checkForObjectDocumentTimeoutId)}delete getState(element).object}return{makeDetectable:makeDetectable,addListener:addListener,uninstall:uninstall}}},function(module,exports,__webpack_require__){"use strict";var forEach=__webpack_require__(40).forEach;module.exports=function(options){options=options||{};var reporter=options.reporter;var batchProcessor=options.batchProcessor;var getState=options.stateHandler.getState;var hasState=options.stateHandler.hasState;var idHandler=options.idHandler;if(!batchProcessor){throw new Error("Missing required dependency: batchProcessor")}if(!reporter){throw new Error("Missing required dependency: reporter.")}var scrollbarSizes=getScrollbarSizes();var styleId="erd_scroll_detection_scrollbar_style";var detectionContainerClass="erd_scroll_detection_container";function initDocument(targetDocument){injectScrollStyle(targetDocument,styleId,detectionContainerClass)}initDocument(window.document);function buildCssTextString(rules){var seperator=options.important?" !important; ":"; ";return(rules.join(seperator)+seperator).trim()}function getScrollbarSizes(){var width=500;var height=500;var child=document.createElement("div");child.style.cssText=buildCssTextString(["position: absolute","width: "+width*2+"px","height: "+height*2+"px","visibility: hidden","margin: 0","padding: 0"]);var container=document.createElement("div");container.style.cssText=buildCssTextString(["position: absolute","width: "+width+"px","height: "+height+"px","overflow: scroll","visibility: none","top: "+-width*3+"px","left: "+-height*3+"px","visibility: hidden","margin: 0","padding: 0"]);container.appendChild(child);document.body.insertBefore(container,document.body.firstChild);var widthSize=width-container.clientWidth;var heightSize=height-container.clientHeight;document.body.removeChild(container);return{width:widthSize,height:heightSize}}function injectScrollStyle(targetDocument,styleId,containerClass){function injectStyle(style,method){method=method||function(element){targetDocument.head.appendChild(element)};var styleElement=targetDocument.createElement("style");styleElement.innerHTML=style;styleElement.id=styleId;method(styleElement);return styleElement}if(!targetDocument.getElementById(styleId)){var containerAnimationClass=containerClass+"_animation";var containerAnimationActiveClass=containerClass+"_animation_active";var style="/* Created by the element-resize-detector library. */\n";style+="."+containerClass+" > div::-webkit-scrollbar { "+buildCssTextString(["display: none"])+" }\n\n";style+="."+containerAnimationActiveClass+" { "+buildCssTextString(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+containerAnimationClass,"animation-name: "+containerAnimationClass])+" }\n";style+="@-webkit-keyframes "+containerAnimationClass+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n";style+="@keyframes "+containerAnimationClass+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }";injectStyle(style)}}function addAnimationClass(element){element.className+=" "+detectionContainerClass+"_animation_active"}function addEvent(el,name,cb){if(el.addEventListener){el.addEventListener(name,cb)}else if(el.attachEvent){el.attachEvent("on"+name,cb)}else{return reporter.error("[scroll] Don't know how to add event listeners.")}}function removeEvent(el,name,cb){if(el.removeEventListener){el.removeEventListener(name,cb)}else if(el.detachEvent){el.detachEvent("on"+name,cb)}else{return reporter.error("[scroll] Don't know how to remove event listeners.")}}function getExpandElement(element){return getState(element).container.childNodes[0].childNodes[0].childNodes[0]}function getShrinkElement(element){return getState(element).container.childNodes[0].childNodes[0].childNodes[1]}function addListener(element,listener){var listeners=getState(element).listeners;if(!listeners.push){throw new Error("Cannot add listener to an element that is not detectable.")}getState(element).listeners.push(listener)}function makeDetectable(options,element,callback){if(!callback){callback=element;element=options;options=null}options=options||{};function debug(){if(options.debug){var args=Array.prototype.slice.call(arguments);args.unshift(idHandler.get(element),"Scroll: ");if(reporter.log.apply){reporter.log.apply(null,args)}else{for(var i=0;i<args.length;i++){reporter.log(args[i])}}}}function isDetached(element){function isInDocument(element){return element===element.ownerDocument.body||element.ownerDocument.body.contains(element)}if(!isInDocument(element)){return true}if(window.getComputedStyle(element)===null){return true}return false}function isUnrendered(element){var container=getState(element).container.childNodes[0];var style=window.getComputedStyle(container);return!style.width||style.width.indexOf("px")===-1}function getStyle(){var elementStyle=window.getComputedStyle(element);var style={};style.position=elementStyle.position;style.width=element.offsetWidth;style.height=element.offsetHeight;style.top=elementStyle.top;style.right=elementStyle.right;style.bottom=elementStyle.bottom;style.left=elementStyle.left;style.widthCSS=elementStyle.width;style.heightCSS=elementStyle.height;return style}function storeStartSize(){var style=getStyle();getState(element).startSize={width:style.width,height:style.height};debug("Element start size",getState(element).startSize)}function initListeners(){getState(element).listeners=[]}function storeStyle(){debug("storeStyle invoked.");if(!getState(element)){debug("Aborting because element has been uninstalled");return}var style=getStyle();getState(element).style=style}function storeCurrentSize(element,width,height){getState(element).lastWidth=width;getState(element).lastHeight=height}function getExpandChildElement(element){return getExpandElement(element).childNodes[0]}function getWidthOffset(){return 2*scrollbarSizes.width+1}function getHeightOffset(){return 2*scrollbarSizes.height+1}function getExpandWidth(width){return width+10+getWidthOffset()}function getExpandHeight(height){return height+10+getHeightOffset()}function getShrinkWidth(width){return width*2+getWidthOffset()}function getShrinkHeight(height){return height*2+getHeightOffset()}function positionScrollbars(element,width,height){var expand=getExpandElement(element);var shrink=getShrinkElement(element);var expandWidth=getExpandWidth(width);var expandHeight=getExpandHeight(height);var shrinkWidth=getShrinkWidth(width);var shrinkHeight=getShrinkHeight(height);expand.scrollLeft=expandWidth;expand.scrollTop=expandHeight;shrink.scrollLeft=shrinkWidth;shrink.scrollTop=shrinkHeight}function injectContainerElement(){var container=getState(element).container;if(!container){container=document.createElement("div");container.className=detectionContainerClass;container.style.cssText=buildCssTextString(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]);getState(element).container=container;addAnimationClass(container);element.appendChild(container);var onAnimationStart=function(){getState(element).onRendered&&getState(element).onRendered()};addEvent(container,"animationstart",onAnimationStart);getState(element).onAnimationStart=onAnimationStart}return container}function injectScrollElements(){function alterPositionStyles(){var style=getState(element).style;if(style.position==="static"){element.style.setProperty("position","relative",options.important?"important":"");var removeRelativeStyles=function(reporter,element,style,property){function getNumericalValue(value){return value.replace(/[^-\d\.]/g,"")}var value=style[property];if(value!=="auto"&&getNumericalValue(value)!=="0"){reporter.warn("An element that is positioned static has style."+property+"="+value+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+property+" will be set to 0. Element: ",element);element.style[property]=0}};removeRelativeStyles(reporter,element,style,"top");removeRelativeStyles(reporter,element,style,"right");removeRelativeStyles(reporter,element,style,"bottom");removeRelativeStyles(reporter,element,style,"left")}}function getLeftTopBottomRightCssText(left,top,bottom,right){left=!left?"0":left+"px";top=!top?"0":top+"px";bottom=!bottom?"0":bottom+"px";right=!right?"0":right+"px";return["left: "+left,"top: "+top,"right: "+right,"bottom: "+bottom]}debug("Injecting elements");if(!getState(element)){debug("Aborting because element has been uninstalled");return}alterPositionStyles();var rootContainer=getState(element).container;if(!rootContainer){rootContainer=injectContainerElement()}var scrollbarWidth=scrollbarSizes.width;var scrollbarHeight=scrollbarSizes.height;var containerContainerStyle=buildCssTextString(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]);var containerStyle=buildCssTextString(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(getLeftTopBottomRightCssText(-(1+scrollbarWidth),-(1+scrollbarHeight),-scrollbarHeight,-scrollbarWidth)));var expandStyle=buildCssTextString(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]);var shrinkStyle=buildCssTextString(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]);var expandChildStyle=buildCssTextString(["position: absolute","left: 0","top: 0"]);var shrinkChildStyle=buildCssTextString(["position: absolute","width: 200%","height: 200%"]);var containerContainer=document.createElement("div");var container=document.createElement("div");var expand=document.createElement("div");var expandChild=document.createElement("div");var shrink=document.createElement("div");var shrinkChild=document.createElement("div");containerContainer.dir="ltr";containerContainer.style.cssText=containerContainerStyle;containerContainer.className=detectionContainerClass;container.className=detectionContainerClass;container.style.cssText=containerStyle;expand.style.cssText=expandStyle;expandChild.style.cssText=expandChildStyle;shrink.style.cssText=shrinkStyle;shrinkChild.style.cssText=shrinkChildStyle;expand.appendChild(expandChild);shrink.appendChild(shrinkChild);container.appendChild(expand);container.appendChild(shrink);containerContainer.appendChild(container);rootContainer.appendChild(containerContainer);function onExpandScroll(){getState(element).onExpand&&getState(element).onExpand()}function onShrinkScroll(){getState(element).onShrink&&getState(element).onShrink()}addEvent(expand,"scroll",onExpandScroll);addEvent(shrink,"scroll",onShrinkScroll);getState(element).onExpandScroll=onExpandScroll;getState(element).onShrinkScroll=onShrinkScroll}function registerListenersAndPositionElements(){function updateChildSizes(element,width,height){var expandChild=getExpandChildElement(element);var expandWidth=getExpandWidth(width);var expandHeight=getExpandHeight(height);expandChild.style.setProperty("width",expandWidth+"px",options.important?"important":"");expandChild.style.setProperty("height",expandHeight+"px",options.important?"important":"")}function updateDetectorElements(done){var width=element.offsetWidth;var height=element.offsetHeight;var sizeChanged=width!==getState(element).lastWidth||height!==getState(element).lastHeight;debug("Storing current size",width,height);storeCurrentSize(element,width,height);batchProcessor.add(0,(function performUpdateChildSizes(){if(!sizeChanged){return}if(!getState(element)){debug("Aborting because element has been uninstalled");return}if(!areElementsInjected()){debug("Aborting because element container has not been initialized");return}if(options.debug){var w=element.offsetWidth;var h=element.offsetHeight;if(w!==width||h!==height){reporter.warn(idHandler.get(element),"Scroll: Size changed before updating detector elements.")}}updateChildSizes(element,width,height)}));batchProcessor.add(1,(function updateScrollbars(){if(!getState(element)){debug("Aborting because element has been uninstalled");return}if(!areElementsInjected()){debug("Aborting because element container has not been initialized");return}positionScrollbars(element,width,height)}));if(sizeChanged&&done){batchProcessor.add(2,(function(){if(!getState(element)){debug("Aborting because element has been uninstalled");return}if(!areElementsInjected()){debug("Aborting because element container has not been initialized");return}done()}))}}function areElementsInjected(){return!!getState(element).container}function notifyListenersIfNeeded(){function isFirstNotify(){return getState(element).lastNotifiedWidth===undefined}debug("notifyListenersIfNeeded invoked");var state=getState(element);if(isFirstNotify()&&state.lastWidth===state.startSize.width&&state.lastHeight===state.startSize.height){return debug("Not notifying: Size is the same as the start size, and there has been no notification yet.")}if(state.lastWidth===state.lastNotifiedWidth&&state.lastHeight===state.lastNotifiedHeight){return debug("Not notifying: Size already notified")}debug("Current size not notified, notifying...");state.lastNotifiedWidth=state.lastWidth;state.lastNotifiedHeight=state.lastHeight;forEach(getState(element).listeners,(function(listener){listener(element)}))}function handleRender(){debug("startanimation triggered.");if(isUnrendered(element)){debug("Ignoring since element is still unrendered...");return}debug("Element rendered.");var expand=getExpandElement(element);var shrink=getShrinkElement(element);if(expand.scrollLeft===0||expand.scrollTop===0||shrink.scrollLeft===0||shrink.scrollTop===0){debug("Scrollbars out of sync. Updating detector elements...");updateDetectorElements(notifyListenersIfNeeded)}}function handleScroll(){debug("Scroll detected.");if(isUnrendered(element)){debug("Scroll event fired while unrendered. Ignoring...");return}updateDetectorElements(notifyListenersIfNeeded)}debug("registerListenersAndPositionElements invoked.");if(!getState(element)){debug("Aborting because element has been uninstalled");return}getState(element).onRendered=handleRender;getState(element).onExpand=handleScroll;getState(element).onShrink=handleScroll;var style=getState(element).style;updateChildSizes(element,style.width,style.height)}function finalizeDomMutation(){debug("finalizeDomMutation invoked.");if(!getState(element)){debug("Aborting because element has been uninstalled");return}var style=getState(element).style;storeCurrentSize(element,style.width,style.height);positionScrollbars(element,style.width,style.height)}function ready(){callback(element)}function install(){debug("Installing...");initListeners();storeStartSize();batchProcessor.add(0,storeStyle);batchProcessor.add(1,injectScrollElements);batchProcessor.add(2,registerListenersAndPositionElements);batchProcessor.add(3,finalizeDomMutation);batchProcessor.add(4,ready)}debug("Making detectable...");if(isDetached(element)){debug("Element is detached");injectContainerElement();debug("Waiting until element is attached...");getState(element).onRendered=function(){debug("Element is now attached");install()}}else{install()}}function uninstall(element){var state=getState(element);if(!state){return}state.onExpandScroll&&removeEvent(getExpandElement(element),"scroll",state.onExpandScroll);state.onShrinkScroll&&removeEvent(getShrinkElement(element),"scroll",state.onShrinkScroll);state.onAnimationStart&&removeEvent(state.container,"animationstart",state.onAnimationStart);state.container&&element.removeChild(state.container)}return{makeDetectable:makeDetectable,addListener:addListener,uninstall:uninstall,initDocument:initDocument}}},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDraggable=__webpack_require__(43);var _reactResizable=__webpack_require__(90);var _utils=__webpack_require__(19);var _classnames=__webpack_require__(16);var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var GridItem=function(_React$Component){_inherits(GridItem,_React$Component);function GridItem(){var _temp,_this,_ret;_classCallCheck(this,GridItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this),_this.state={resizing:null,dragging:null,className:""},_temp),_possibleConstructorReturn(_this,_ret)}GridItem.prototype.calcColWidth=function calcColWidth(){var _props=this.props,margin=_props.margin,containerPadding=_props.containerPadding,containerWidth=_props.containerWidth,cols=_props.cols;return(containerWidth-margin[0]*(cols-1)-containerPadding[0]*2)/cols};GridItem.prototype.calcPosition=function calcPosition(x,y,w,h,state){var _props2=this.props,margin=_props2.margin,containerPadding=_props2.containerPadding,rowHeight=_props2.rowHeight;var colWidth=this.calcColWidth();var out={left:Math.round((colWidth+margin[0])*x+containerPadding[0]),top:Math.round((rowHeight+margin[1])*y+containerPadding[1]),width:w===Infinity?w:Math.round(colWidth*w+Math.max(0,w-1)*margin[0]),height:h===Infinity?h:Math.round(rowHeight*h+Math.max(0,h-1)*margin[1])};if(state&&state.resizing){out.width=Math.round(state.resizing.width);out.height=Math.round(state.resizing.height)}if(state&&state.dragging){out.top=Math.round(state.dragging.top);out.left=Math.round(state.dragging.left)}return out};GridItem.prototype.calcXY=function calcXY(top,left){var _props3=this.props,margin=_props3.margin,cols=_props3.cols,rowHeight=_props3.rowHeight,w=_props3.w,h=_props3.h,maxRows=_props3.maxRows;var colWidth=this.calcColWidth();var x=Math.round((left-margin[0])/(colWidth+margin[0]));var y=Math.round((top-margin[1])/(rowHeight+margin[1]));x=Math.max(Math.min(x,cols-w),0);y=Math.max(Math.min(y,maxRows-h),0);return{x:x,y:y}};GridItem.prototype.calcWH=function calcWH(_ref){var height=_ref.height,width=_ref.width;var _props4=this.props,margin=_props4.margin,maxRows=_props4.maxRows,cols=_props4.cols,rowHeight=_props4.rowHeight,x=_props4.x,y=_props4.y;var colWidth=this.calcColWidth();var w=Math.round((width+margin[0])/(colWidth+margin[0]));var h=Math.round((height+margin[1])/(rowHeight+margin[1]));w=Math.max(Math.min(w,cols-x),0);h=Math.max(Math.min(h,maxRows-y),0);return{w:w,h:h}};GridItem.prototype.createStyle=function createStyle(pos){var _props5=this.props,usePercentages=_props5.usePercentages,containerWidth=_props5.containerWidth,useCSSTransforms=_props5.useCSSTransforms;var style=void 0;if(useCSSTransforms){style=(0,_utils.setTransform)(pos)}else{style=(0,_utils.setTopLeft)(pos);if(usePercentages){style.left=(0,_utils.perc)(pos.left/containerWidth);style.width=(0,_utils.perc)(pos.width/containerWidth)}}return style};GridItem.prototype.mixinDraggable=function mixinDraggable(child){return _react2.default.createElement(_reactDraggable.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},child)};GridItem.prototype.mixinResizable=function mixinResizable(child,position){var _props6=this.props,cols=_props6.cols,x=_props6.x,minW=_props6.minW,minH=_props6.minH,maxW=_props6.maxW,maxH=_props6.maxH;var maxWidth=this.calcPosition(0,0,cols-x,0).width;var mins=this.calcPosition(0,0,minW,minH);var maxes=this.calcPosition(0,0,maxW,maxH);var minConstraints=[mins.width,mins.height];var maxConstraints=[Math.min(maxes.width,maxWidth),Math.min(maxes.height,Infinity)];return _react2.default.createElement(_reactResizable.Resizable,{width:position.width,height:position.height,minConstraints:minConstraints,maxConstraints:maxConstraints,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},child)};GridItem.prototype.onDragHandler=function onDragHandler(handlerName){var _this2=this;return function(e,_ref2){var node=_ref2.node,deltaX=_ref2.deltaX,deltaY=_ref2.deltaY;var handler=_this2.props[handlerName];if(!handler)return;var newPosition={top:0,left:0};switch(handlerName){case"onDragStart":{var offsetParent=node.offsetParent;if(!offsetParent)return;var parentRect=offsetParent.getBoundingClientRect();var clientRect=node.getBoundingClientRect();newPosition.left=clientRect.left-parentRect.left+offsetParent.scrollLeft;newPosition.top=clientRect.top-parentRect.top+offsetParent.scrollTop;_this2.setState({dragging:newPosition});break}case"onDrag":if(!_this2.state.dragging)throw new Error("onDrag called before onDragStart.");newPosition.left=_this2.state.dragging.left+deltaX;newPosition.top=_this2.state.dragging.top+deltaY;_this2.setState({dragging:newPosition});break;case"onDragStop":if(!_this2.state.dragging)throw new Error("onDragEnd called before onDragStart.");newPosition.left=_this2.state.dragging.left;newPosition.top=_this2.state.dragging.top;_this2.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+handlerName)}var _calcXY=_this2.calcXY(newPosition.top,newPosition.left),x=_calcXY.x,y=_calcXY.y;return handler.call(_this2,_this2.props.i,x,y,{e:e,node:node,newPosition:newPosition})}};GridItem.prototype.onResizeHandler=function onResizeHandler(handlerName){var _this3=this;return function(e,_ref3){var node=_ref3.node,size=_ref3.size;var handler=_this3.props[handlerName];if(!handler)return;var _props7=_this3.props,cols=_props7.cols,x=_props7.x,i=_props7.i,maxW=_props7.maxW,minW=_props7.minW,maxH=_props7.maxH,minH=_props7.minH;var _calcWH=_this3.calcWH(size),w=_calcWH.w,h=_calcWH.h;w=Math.min(w,cols-x);w=Math.max(w,1);w=Math.max(Math.min(w,maxW),minW);h=Math.max(Math.min(h,maxH),minH);_this3.setState({resizing:handlerName==="onResizeStop"?null:size});handler.call(_this3,i,w,h,{e:e,node:node,size:size})}};GridItem.prototype.render=function render(){var _props8=this.props,x=_props8.x,y=_props8.y,w=_props8.w,h=_props8.h,isDraggable=_props8.isDraggable,isResizable=_props8.isResizable,useCSSTransforms=_props8.useCSSTransforms;var pos=this.calcPosition(x,y,w,h,this.state);var child=_react2.default.Children.only(this.props.children);var newChild=_react2.default.cloneElement(child,{className:(0,_classnames2.default)("react-grid-item",child.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":isDraggable,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:useCSSTransforms}),style:_extends({},this.props.style,child.props.style,this.createStyle(pos))});if(isResizable)newChild=this.mixinResizable(newChild,pos);if(isDraggable)newChild=this.mixinDraggable(newChild);return newChild};return GridItem}(_react2.default.Component);GridItem.propTypes={children:_propTypes2.default.element,cols:_propTypes2.default.number.isRequired,containerWidth:_propTypes2.default.number.isRequired,rowHeight:_propTypes2.default.number.isRequired,margin:_propTypes2.default.array.isRequired,maxRows:_propTypes2.default.number.isRequired,containerPadding:_propTypes2.default.array.isRequired,x:_propTypes2.default.number.isRequired,y:_propTypes2.default.number.isRequired,w:_propTypes2.default.number.isRequired,h:_propTypes2.default.number.isRequired,minW:function minW(props,propName){var value=props[propName];if(typeof value!=="number")return new Error("minWidth not Number");if(value>props.w||value>props.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function maxW(props,propName){var value=props[propName];if(typeof value!=="number")return new Error("maxWidth not Number");if(value<props.w||value<props.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function minH(props,propName){var value=props[propName];if(typeof value!=="number")return new Error("minHeight not Number");if(value>props.h||value>props.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function maxH(props,propName){var value=props[propName];if(typeof value!=="number")return new Error("maxHeight not Number");if(value<props.h||value<props.minH)return new Error("maxHeight smaller than item height/minHeight")},i:_propTypes2.default.string.isRequired,onDragStop:_propTypes2.default.func,onDragStart:_propTypes2.default.func,onDrag:_propTypes2.default.func,onResizeStop:_propTypes2.default.func,onResizeStart:_propTypes2.default.func,onResize:_propTypes2.default.func,isDraggable:_propTypes2.default.bool.isRequired,isResizable:_propTypes2.default.bool.isRequired,static:_propTypes2.default.bool,useCSSTransforms:_propTypes2.default.bool.isRequired,className:_propTypes2.default.string,handle:_propTypes2.default.string,cancel:_propTypes2.default.string};GridItem.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:Infinity,maxW:Infinity};exports.default=GridItem},function(module,exports,__webpack_require__){"use strict";module.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};module.exports.Resizable=__webpack_require__(44).default;module.exports.ResizableBox=__webpack_require__(92).default},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=function cloneElement(element,props){if(props.style&&element.props.style){props.style=_extends({},element.props.style,props.style)}if(props.className&&element.props.className){props.className=element.props.className+" "+props.className}return _react2.default.cloneElement(element,props)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _Resizable=__webpack_require__(44);var _Resizable2=_interopRequireDefault(_Resizable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ResizableBox=function(_React$Component){_inherits(ResizableBox,_React$Component);function ResizableBox(){var _temp,_this,_ret;_classCallCheck(this,ResizableBox);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this),_this.state={width:_this.props.width,height:_this.props.height},_this.onResize=function(e,data){var size=data.size;var width=size.width,height=size.height;if(_this.props.onResize){e.persist&&e.persist();_this.setState(size,(function(){return _this.props.onResize&&_this.props.onResize(e,data)}))}else{_this.setState(size)}},_temp),_possibleConstructorReturn(_this,_ret)}ResizableBox.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(nextProps.width!==this.props.width||nextProps.height!==this.props.height){this.setState({width:nextProps.width,height:nextProps.height})}};ResizableBox.prototype.render=function render(){var _props=this.props,handleSize=_props.handleSize,onResize=_props.onResize,onResizeStart=_props.onResizeStart,onResizeStop=_props.onResizeStop,draggableOpts=_props.draggableOpts,minConstraints=_props.minConstraints,maxConstraints=_props.maxConstraints,lockAspectRatio=_props.lockAspectRatio,axis=_props.axis,width=_props.width,height=_props.height,props=_objectWithoutProperties(_props,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]);return _react2.default.createElement(_Resizable2.default,{handleSize:handleSize,width:this.state.width,height:this.state.height,onResizeStart:onResizeStart,onResize:this.onResize,onResizeStop:onResizeStop,draggableOpts:draggableOpts,minConstraints:minConstraints,maxConstraints:maxConstraints,lockAspectRatio:lockAspectRatio,axis:axis},_react2.default.createElement("div",_extends({style:{width:this.state.width+"px",height:this.state.height+"px"}},props)))};return ResizableBox}(_react2.default.Component);ResizableBox.propTypes={height:_propTypes2.default.number,width:_propTypes2.default.number};ResizableBox.defaultProps={handleSize:[20,20]};exports.default=ResizableBox},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(27);var _lodash2=_interopRequireDefault(_lodash);var _utils=__webpack_require__(19);var _responsiveUtils=__webpack_require__(45);var _ReactGridLayout=__webpack_require__(42);var _ReactGridLayout2=_interopRequireDefault(_ReactGridLayout);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var type=function type(obj){return Object.prototype.toString.call(obj)};var ResponsiveReactGridLayout=function(_React$Component){_inherits(ResponsiveReactGridLayout,_React$Component);function ResponsiveReactGridLayout(){var _temp,_this,_ret;_classCallCheck(this,ResponsiveReactGridLayout);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this),_this.state=_this.generateInitialState(),_this.onLayoutChange=function(layout){var _extends2;_this.props.onLayoutChange(layout,_extends({},_this.props.layouts,(_extends2={},_extends2[_this.state.breakpoint]=layout,_extends2)))},_temp),_possibleConstructorReturn(_this,_ret)}ResponsiveReactGridLayout.prototype.generateInitialState=function generateInitialState(){var _props=this.props,width=_props.width,breakpoints=_props.breakpoints,layouts=_props.layouts,cols=_props.cols;var breakpoint=(0,_responsiveUtils.getBreakpointFromWidth)(breakpoints,width);var colNo=(0,_responsiveUtils.getColsFromBreakpoint)(breakpoint,cols);var compactType=this.props.verticalCompact===false?null:this.props.compactType;var initialLayout=(0,_responsiveUtils.findOrGenerateResponsiveLayout)(layouts,breakpoints,breakpoint,breakpoint,colNo,compactType);return{layout:initialLayout,breakpoint:breakpoint,cols:colNo}};ResponsiveReactGridLayout.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(nextProps.width!=this.props.width||nextProps.breakpoint!==this.props.breakpoint||!(0,_lodash2.default)(nextProps.breakpoints,this.props.breakpoints)||!(0,_lodash2.default)(nextProps.cols,this.props.cols)){this.onWidthChange(nextProps)}else if(!(0,_lodash2.default)(nextProps.layouts,this.props.layouts)){var _state=this.state,_breakpoint=_state.breakpoint,_cols=_state.cols;var newLayout=(0,_responsiveUtils.findOrGenerateResponsiveLayout)(nextProps.layouts,nextProps.breakpoints,_breakpoint,_breakpoint,_cols,nextProps.compactType);this.setState({layout:newLayout})}};ResponsiveReactGridLayout.prototype.onWidthChange=function onWidthChange(nextProps){var breakpoints=nextProps.breakpoints,cols=nextProps.cols,layouts=nextProps.layouts,compactType=nextProps.compactType;var newBreakpoint=nextProps.breakpoint||(0,_responsiveUtils.getBreakpointFromWidth)(nextProps.breakpoints,nextProps.width);var lastBreakpoint=this.state.breakpoint;if(lastBreakpoint!==newBreakpoint||this.props.breakpoints!==breakpoints||this.props.cols!==cols){if(!(lastBreakpoint in layouts))layouts[lastBreakpoint]=(0,_utils.cloneLayout)(this.state.layout);var newCols=(0,_responsiveUtils.getColsFromBreakpoint)(newBreakpoint,cols);var _layout=(0,_responsiveUtils.findOrGenerateResponsiveLayout)(layouts,breakpoints,newBreakpoint,lastBreakpoint,newCols,compactType);_layout=(0,_utils.synchronizeLayoutWithChildren)(_layout,nextProps.children,newCols,compactType);layouts[newBreakpoint]=_layout;this.props.onLayoutChange(_layout,layouts);this.props.onBreakpointChange(newBreakpoint,newCols);this.props.onWidthChange(nextProps.width,nextProps.margin,newCols,nextProps.containerPadding);this.setState({breakpoint:newBreakpoint,layout:_layout,cols:newCols})}};ResponsiveReactGridLayout.prototype.render=function render(){var _props2=this.props,breakpoint=_props2.breakpoint,breakpoints=_props2.breakpoints,cols=_props2.cols,layouts=_props2.layouts,onBreakpointChange=_props2.onBreakpointChange,onLayoutChange=_props2.onLayoutChange,onWidthChange=_props2.onWidthChange,other=_objectWithoutProperties(_props2,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return _react2.default.createElement(_ReactGridLayout2.default,_extends({},other,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))};return ResponsiveReactGridLayout}(_react2.default.Component);ResponsiveReactGridLayout.propTypes={breakpoint:_propTypes2.default.string,breakpoints:_propTypes2.default.object,cols:_propTypes2.default.object,layouts:function layouts(props,propName){if(type(props[propName])!=="[object Object]"){throw new Error("Layout property must be an object. Received: "+type(props[propName]))}Object.keys(props[propName]).forEach((function(key){if(!(key in props.breakpoints)){throw new Error("Each key in layouts must align with a key in breakpoints.")}(0,_utils.validateLayout)(props.layouts[key],"layouts."+key)}))},width:_propTypes2.default.number.isRequired,onBreakpointChange:_propTypes2.default.func,onLayoutChange:_propTypes2.default.func,onWidthChange:_propTypes2.default.func};ResponsiveReactGridLayout.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:_utils.noop,onLayoutChange:_utils.noop,onWidthChange:_utils.noop};exports.default=ResponsiveReactGridLayout},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=WidthProvider;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(15);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(14);var _reactDom2=_interopRequireDefault(_reactDom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function WidthProvider(ComposedComponent){var _class,_temp2;return _temp2=_class=function(_React$Component){_inherits(WidthProvider,_React$Component);function WidthProvider(){var _temp,_this,_ret;_classCallCheck(this,WidthProvider);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this),_this.state={width:1280},_this.mounted=false,_this.onWindowResize=function(){if(!_this.mounted)return;var node=_reactDom2.default.findDOMNode(_this);if(node instanceof HTMLElement)_this.setState({width:node.offsetWidth})},_temp),_possibleConstructorReturn(_this,_ret)}WidthProvider.prototype.componentDidMount=function componentDidMount(){this.mounted=true;window.addEventListener("resize",this.onWindowResize);this.onWindowResize()};WidthProvider.prototype.componentWillUnmount=function componentWillUnmount(){this.mounted=false;window.removeEventListener("resize",this.onWindowResize)};WidthProvider.prototype.render=function render(){var _props=this.props,measureBeforeMount=_props.measureBeforeMount,rest=_objectWithoutProperties(_props,["measureBeforeMount"]);if(measureBeforeMount&&!this.mounted){return _react2.default.createElement("div",{className:this.props.className,style:this.props.style})}return _react2.default.createElement(ComposedComponent,_extends({},rest,this.state))};return WidthProvider}(_react2.default.Component),_class.defaultProps={measureBeforeMount:false},_class.propTypes={measureBeforeMount:_propTypes2.default.bool},_temp2}},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"","%FF%FE":""};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"DashboardContainer",(function(){return application["DashboardContainer"]}));__webpack_require__.d(__webpack_exports__,"DashboardContainerInput",(function(){return application["DashboardContainerInput"]}));__webpack_require__.d(__webpack_exports__,"DashboardContainerFactoryDefinition",(function(){return application["DashboardContainerFactoryDefinition"]}));__webpack_require__.d(__webpack_exports__,"DASHBOARD_CONTAINER_TYPE",(function(){return application["DASHBOARD_CONTAINER_TYPE"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_PANEL_WIDTH",(function(){return application["DEFAULT_PANEL_WIDTH"]}));__webpack_require__.d(__webpack_exports__,"DEFAULT_PANEL_HEIGHT",(function(){return application["DEFAULT_PANEL_HEIGHT"]}));__webpack_require__.d(__webpack_exports__,"DashboardConstants",(function(){return dashboard_constants["a"]}));__webpack_require__.d(__webpack_exports__,"createDashboardEditUrl",(function(){return dashboard_constants["b"]}));__webpack_require__.d(__webpack_exports__,"DashboardSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DashboardStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DashboardUrlGenerator",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DashboardFeatureFlagConfig",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DASHBOARD_APP_URL_GENERATOR",(function(){return DASHBOARD_APP_URL_GENERATOR}));__webpack_require__.d(__webpack_exports__,"createDashboardUrlGenerator",(function(){return url_generator_createDashboardUrlGenerator}));__webpack_require__.d(__webpack_exports__,"DashboardUrlGeneratorState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"addEmbeddableToDashboardUrl",(function(){return addEmbeddableToDashboardUrl}));__webpack_require__.d(__webpack_exports__,"SavedObjectDashboard",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedDashboardPanel",(function(){return types["SavedDashboardPanel"]}));__webpack_require__.d(__webpack_exports__,"AttributeService",(function(){return attribute_service_AttributeService}));__webpack_require__.d(__webpack_exports__,"ATTRIBUTE_SERVICE_KEY",(function(){return ATTRIBUTE_SERVICE_KEY}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_Rxjs_=__webpack_require__(33);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(28);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var public_=__webpack_require__(4);var data_public_=__webpack_require__(18);var savedObjects_public_=__webpack_require__(11);var kibanaReact_public_=__webpack_require__(9);var kibanaUtils_public_=__webpack_require__(17);var kibanaLegacy_public_=__webpack_require__(32);var home_public_=__webpack_require__(51);var core_public_=__webpack_require__(52);var application=__webpack_require__(5);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var STATE_STORAGE_KEY="_a";var GLOBAL_STATE_STORAGE_KEY="_g";var DASHBOARD_APP_URL_GENERATOR="DASHBOARD_APP_URL_GENERATOR";var url_generator_createDashboardUrlGenerator=function createDashboardUrlGenerator(getStartServices){return{id:DASHBOARD_APP_URL_GENERATOR,createUrl:function(){var _createUrl=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(state){var _state$useHash;var startServices,useHash,appBasePath,hash,getSavedFiltersFromDestinationDashboardIfNeeded,cleanEmptyKeys,filters,appStateUrl;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getStartServices();case 2:startServices=_context2.sent;useHash=(_state$useHash=state.useHash)!==null&&_state$useHash!==void 0?_state$useHash:startServices.useHashedUrl;appBasePath=startServices.appBasePath;hash=state.dashboardId?"view/".concat(state.dashboardId):"create";getSavedFiltersFromDestinationDashboardIfNeeded=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _dashboard$searchSour,_dashboard$searchSour2,dashboard;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(state.preserveSavedFilters===false)){_context.next=2;break}return _context.abrupt("return",[]);case 2:if(state.dashboardId){_context.next=4;break}return _context.abrupt("return",[]);case 4:_context.prev=4;_context.next=7;return startServices.savedDashboardLoader.get(state.dashboardId);case 7:dashboard=_context.sent;return _context.abrupt("return",(_dashboard$searchSour=dashboard===null||dashboard===void 0?void 0:(_dashboard$searchSour2=dashboard.searchSource)===null||_dashboard$searchSour2===void 0?void 0:_dashboard$searchSour2.getField("filter"))!==null&&_dashboard$searchSour!==void 0?_dashboard$searchSour:[]);case 11:_context.prev=11;_context.t0=_context["catch"](4);return _context.abrupt("return",[]);case 14:case"end":return _context.stop()}}}),_callee,null,[[4,11]])})));return function getSavedFiltersFromDestinationDashboardIfNeeded(){return _ref.apply(this,arguments)}}();cleanEmptyKeys=function cleanEmptyKeys(stateObj){Object.keys(stateObj).forEach((function(key){if(stateObj[key]===undefined){delete stateObj[key]}}));return stateObj};_context2.t0=state.filters;if(!_context2.t0){_context2.next=18;break}_context2.t1=[];_context2.t2=_toConsumableArray;_context2.next=14;return getSavedFiltersFromDestinationDashboardIfNeeded();case 14:_context2.t3=_context2.sent;_context2.t4=(0,_context2.t2)(_context2.t3);_context2.t5=_toConsumableArray(state.filters);_context2.t0=_context2.t1.concat.call(_context2.t1,_context2.t4,_context2.t5);case 18:filters=_context2.t0;appStateUrl=Object(kibanaUtils_public_["setStateToKbnUrl"])(STATE_STORAGE_KEY,cleanEmptyKeys({query:state.query,filters:filters===null||filters===void 0?void 0:filters.filter((function(f){return!data_public_["esFilters"].isFilterPinned(f)})),viewMode:state.viewMode}),{useHash:useHash},"".concat(appBasePath,"#/").concat(hash));return _context2.abrupt("return",Object(kibanaUtils_public_["setStateToKbnUrl"])(GLOBAL_STATE_STORAGE_KEY,cleanEmptyKeys({time:state.timeRange,filters:filters===null||filters===void 0?void 0:filters.filter((function(f){return data_public_["esFilters"].isFilterPinned(f)})),refreshInterval:state.refreshInterval}),{useHash:useHash},appStateUrl));case 21:case"end":return _context2.stop()}}}),_callee2)})));function createUrl(_x){return _createUrl.apply(this,arguments)}return createUrl}()}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function saved_dashboard_references_toConsumableArray(arr){return saved_dashboard_references_arrayWithoutHoles(arr)||saved_dashboard_references_iterableToArray(arr)||saved_dashboard_references_unsupportedIterableToArray(arr)||saved_dashboard_references_nonIterableSpread()}function saved_dashboard_references_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function saved_dashboard_references_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return saved_dashboard_references_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return saved_dashboard_references_arrayLikeToArray(o,minLen)}function saved_dashboard_references_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function saved_dashboard_references_arrayWithoutHoles(arr){if(Array.isArray(arr))return saved_dashboard_references_arrayLikeToArray(arr)}function saved_dashboard_references_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function extractReferences(_ref){var attributes=_ref.attributes,_ref$references=_ref.references,references=_ref$references===void 0?[]:_ref$references;var panelReferences=[];var panels=JSON.parse(String(attributes.panelsJSON));panels.forEach((function(panel,i){if(!panel.type){throw new Error('"type" attribute is missing from panel "'.concat(i,'"'))}if(!panel.id){return}panel.panelRefName="panel_".concat(i);panelReferences.push({name:"panel_".concat(i),type:panel.type,id:panel.id});delete panel.type;delete panel.id}));return{references:[].concat(saved_dashboard_references_toConsumableArray(references),panelReferences),attributes:_objectSpread(_objectSpread({},attributes),{},{panelsJSON:JSON.stringify(panels)})}}function injectReferences(savedObject,references){if(typeof savedObject.panelsJSON!=="string"){return}var panels=JSON.parse(savedObject.panelsJSON);if(!Array.isArray(panels)){return}panels.forEach((function(panel){if(!panel.panelRefName){return}var reference=references.find((function(ref){return ref.name===panel.panelRefName}));if(!reference){throw new Error('Could not find reference "'.concat(panel.panelRefName,'"'))}panel.id=reference.id;panel.type=reference.type;delete panel.panelRefName}));savedObject.panelsJSON=JSON.stringify(panels)}var dashboard_constants=__webpack_require__(7);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function saved_dashboard_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function createSavedDashboardClass(services){var SavedObjectClass=Object(savedObjects_public_["createSavedObjectClass"])(services);var SavedDashboard=function(_SavedObjectClass){_inherits(SavedDashboard,_SavedObjectClass);var _super=_createSuper(SavedDashboard);function SavedDashboard(id){var _this;_classCallCheck(this,SavedDashboard);_this=_super.call(this,{type:SavedDashboard.type,mapping:SavedDashboard.mapping,searchSource:SavedDashboard.searchSource,extractReferences:extractReferences,injectReferences:injectReferences,id:id,defaults:{title:"",hits:0,description:"",panelsJSON:"[]",optionsJSON:JSON.stringify({useMargins:!id,hidePanelTitles:false}),version:1,timeRestore:false,timeTo:undefined,timeFrom:undefined,refreshInterval:undefined}});saved_dashboard_defineProperty(_assertThisInitialized(_this),"showInRecentlyAccessed",true);_this.getFullPath=function(){return"/app/dashboards#".concat(Object(dashboard_constants["b"])(String(_this.id)))};return _this}_createClass(SavedDashboard,[{key:"getQuery",value:function getQuery(){return this.searchSource.getOwnField("query")||{query:"",language:"kuery"}}},{key:"getFilters",value:function getFilters(){return this.searchSource.getOwnField("filter")||[]}}]);return SavedDashboard}(SavedObjectClass);saved_dashboard_defineProperty(SavedDashboard,"type","dashboard");saved_dashboard_defineProperty(SavedDashboard,"mapping",{title:"text",hits:"integer",description:"text",panelsJSON:"text",optionsJSON:"text",version:"integer",timeRestore:"boolean",timeTo:"keyword",timeFrom:"keyword",refreshInterval:{type:"object",properties:{display:{type:"keyword"},pause:{type:"boolean"},section:{type:"integer"},value:{type:"integer"}}}});saved_dashboard_defineProperty(SavedDashboard,"fieldOrder",["title","description"]);saved_dashboard_defineProperty(SavedDashboard,"searchSource",true);return SavedDashboard}function createSavedDashboardLoader(services){var SavedDashboard=createSavedDashboardClass(services);return new savedObjects_public_["SavedObjectLoader"](SavedDashboard,services.savedObjectsClient)}var query_string=__webpack_require__(29);function addEmbeddableToDashboardUrl(dashboardUrl,embeddableId,embeddableType){var _parseUrl=Object(query_string["parseUrl"])(dashboardUrl,{parseFragmentIdentifier:true}),url=_parseUrl.url,query=_parseUrl.query,fragmentIdentifier=_parseUrl.fragmentIdentifier;if(embeddableId){query[dashboard_constants["a"].ADD_EMBEDDABLE_TYPE]=embeddableType;query[dashboard_constants["a"].ADD_EMBEDDABLE_ID]=embeddableId}return Object(query_string["stringifyUrl"])({url:url,query:query,fragmentIdentifier:fragmentIdentifier})}var placeholder=__webpack_require__(24);var external_kbnSharedDeps_Lodash_=__webpack_require__(8);var embeddable_plugin=__webpack_require__(3);function attribute_service_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function attribute_service_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){attribute_service_ownKeys(Object(source),true).forEach((function(key){attribute_service_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{attribute_service_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function attribute_service_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function attribute_service_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){attribute_service_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){attribute_service_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function attribute_service_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function attribute_service_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function attribute_service_createClass(Constructor,protoProps,staticProps){if(protoProps)attribute_service_defineProperties(Constructor.prototype,protoProps);if(staticProps)attribute_service_defineProperties(Constructor,staticProps);return Constructor}function attribute_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ATTRIBUTE_SERVICE_KEY="attributes";var attribute_service_AttributeService=function(){function AttributeService(type,showSaveModal,i18nContext,toasts,options,getEmbeddableFactory){var _this=this;attribute_service_classCallCheck(this,AttributeService);this.type=type;this.showSaveModal=showSaveModal;this.i18nContext=i18nContext;this.toasts=toasts;this.options=options;attribute_service_defineProperty(this,"inputIsRefType",(function(input){return Object(embeddable_plugin["isSavedObjectEmbeddableInput"])(input)}));attribute_service_defineProperty(this,"getInputAsValueType",function(){var _ref=attribute_service_asyncToGenerator(regeneratorRuntime.mark((function _callee(input){var attributes;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.inputIsRefType(input)){_context.next=2;break}return _context.abrupt("return",input);case 2:_context.next=4;return _this.unwrapAttributes(input);case 4:attributes=_context.sent;return _context.abrupt("return",attribute_service_objectSpread(attribute_service_objectSpread({},input),{},{savedObjectId:undefined,attributes:attributes}));case 6:case"end":return _context.stop()}}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}());attribute_service_defineProperty(this,"getInputAsRefType",function(){var _ref2=attribute_service_asyncToGenerator(regeneratorRuntime.mark((function _callee3(input,saveOptions){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!_this.inputIsRefType(input)){_context3.next=2;break}return _context3.abrupt("return",input);case 2:return _context3.abrupt("return",new Promise((function(resolve,reject){var onSave=function(){var _ref3=attribute_service_asyncToGenerator(regeneratorRuntime.mark((function _callee2(props){var newAttributes,wrappedInput;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.options.checkForDuplicateTitle(props);case 2:_context2.prev=2;newAttributes=attribute_service_objectSpread({},input[ATTRIBUTE_SERVICE_KEY]);newAttributes.title=props.newTitle;_context2.next=7;return _this.wrapAttributes(newAttributes,true);case 7:wrappedInput=_context2.sent;delete input[ATTRIBUTE_SERVICE_KEY];resolve(attribute_service_objectSpread(attribute_service_objectSpread({},input),wrappedInput));return _context2.abrupt("return",{id:wrappedInput.savedObjectId});case 13:_context2.prev=13;_context2.t0=_context2["catch"](2);reject(_context2.t0);return _context2.abrupt("return",{error:_context2.t0});case 17:case"end":return _context2.stop()}}}),_callee2,null,[[2,13]])})));return function onSave(_x4){return _ref3.apply(this,arguments)}}();if(saveOptions&&saveOptions.showSaveModal){_this.showSaveModal(external_kbnSharedDeps_React_default.a.createElement(savedObjects_public_["SavedObjectSaveModal"],{onSave:onSave,onClose:function onClose(){return reject()},title:Object(external_kbnSharedDeps_Lodash_["get"])(saveOptions,"saveModalTitle",input[ATTRIBUTE_SERVICE_KEY].title),showCopyOnSave:false,objectType:_this.type,showDescription:false}),_this.i18nContext)}})));case 3:case"end":return _context3.stop()}}}),_callee3)})));return function(_x2,_x3){return _ref2.apply(this,arguments)}}());if(getEmbeddableFactory){var factory=getEmbeddableFactory(this.type);if(!factory){throw new embeddable_plugin["EmbeddableFactoryNotFoundError"](this.type)}}}attribute_service_createClass(AttributeService,[{key:"defaultUnwrapMethod",value:function(){var _defaultUnwrapMethod=attribute_service_asyncToGenerator(regeneratorRuntime.mark((function _callee4(input){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise((function(resolve){return resolve(attribute_service_objectSpread({},input))})));case 1:case"end":return _context4.stop()}}}),_callee4)})));function defaultUnwrapMethod(_x5){return _defaultUnwrapMethod.apply(this,arguments)}return defaultUnwrapMethod}()},{key:"unwrapAttributes",value:function(){var _unwrapAttributes=attribute_service_asyncToGenerator(regeneratorRuntime.mark((function _callee5(input){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!this.inputIsRefType(input)){_context5.next=11;break}if(!this.options.unwrapMethod){_context5.next=7;break}_context5.next=4;return this.options.unwrapMethod(input.savedObjectId);case 4:_context5.t0=_context5.sent;_context5.next=10;break;case 7:_context5.next=9;return this.defaultUnwrapMethod(input);case 9:_context5.t0=_context5.sent;case 10:return _context5.abrupt("return",_context5.t0);case 11:return _context5.abrupt("return",input[ATTRIBUTE_SERVICE_KEY]);case 12:case"end":return _context5.stop()}}}),_callee5,this)})));function unwrapAttributes(_x6){return _unwrapAttributes.apply(this,arguments)}return unwrapAttributes}()},{key:"wrapAttributes",value:function(){var _wrapAttributes=attribute_service_asyncToGenerator(regeneratorRuntime.mark((function _callee6(newAttributes,useRefType,input){var originalInput,savedObjectId,savedItem;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:originalInput=input?input:{};savedObjectId=input&&this.inputIsRefType(input)?input.savedObjectId:undefined;if(useRefType){_context6.next=4;break}return _context6.abrupt("return",{[ATTRIBUTE_SERVICE_KEY]:newAttributes});case 4:_context6.prev=4;_context6.next=7;return this.options.saveMethod(newAttributes,savedObjectId);case 7:savedItem=_context6.sent;if(!("id"in savedItem)){_context6.next=10;break}return _context6.abrupt("return",attribute_service_objectSpread(attribute_service_objectSpread({},originalInput),{},{savedObjectId:savedItem.id}));case 10:return _context6.abrupt("return",attribute_service_objectSpread({},originalInput));case 13:_context6.prev=13;_context6.t0=_context6["catch"](4);this.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.attributeService.saveToLibraryError",{defaultMessage:"An error occurred while saving. Error: {errorMessage}",values:{errorMessage:_context6.t0.message}}),"data-test-subj":"attributeServiceSaveFailure"});return _context6.abrupt("return",Promise.reject({error:_context6.t0}));case 17:case"end":return _context6.stop()}}}),_callee6,this,[[4,13]])})));function wrapAttributes(_x7,_x8,_x9){return _wrapAttributes.apply(this,arguments)}return wrapAttributes}()},{key:"getExplicitInputFromEmbeddable",value:function getExplicitInputFromEmbeddable(embeddable){var _getInput$panels$embe,_getInput,_getInput$panels,_getInput$panels$embe2;return(_getInput$panels$embe=(_getInput=embeddable.getRoot().getInput())===null||_getInput===void 0?void 0:(_getInput$panels=_getInput.panels)===null||_getInput$panels===void 0?void 0:(_getInput$panels$embe2=_getInput$panels[embeddable.id])===null||_getInput$panels$embe2===void 0?void 0:_getInput$panels$embe2.explicitInput)!==null&&_getInput$panels$embe!==void 0?_getInput$panels$embe:embeddable.getInput()}}]);return AttributeService}();function plugin_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function plugin_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){plugin_ownKeys(Object(source),true).forEach((function(key){plugin_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{plugin_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||plugin_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function plugin_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return plugin_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return plugin_arrayLikeToArray(o,minLen)}function plugin_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function plugin_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function plugin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function plugin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function plugin_createClass(Constructor,protoProps,staticProps){if(protoProps)plugin_defineProperties(Constructor.prototype,protoProps);if(staticProps)plugin_defineProperties(Constructor,staticProps);return Constructor}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var plugin_DashboardPlugin=function(){function DashboardPlugin(initializerContext){plugin_classCallCheck(this,DashboardPlugin);this.initializerContext=initializerContext;plugin_defineProperty(this,"appStateUpdater",new external_kbnSharedDeps_Rxjs_["BehaviorSubject"]((function(){return{}})));plugin_defineProperty(this,"stopUrlTracking",undefined);plugin_defineProperty(this,"getActiveUrl",undefined);plugin_defineProperty(this,"currentHistory",undefined);plugin_defineProperty(this,"dashboardFeatureFlagConfig",void 0);plugin_defineProperty(this,"dashboardUrlGenerator",void 0)}plugin_createClass(DashboardPlugin,[{key:"setup",value:function setup(core,_ref){var _this=this;var share=_ref.share,uiActions=_ref.uiActions,embeddable=_ref.embeddable,home=_ref.home,urlForwarding=_ref.urlForwarding,data=_ref.data,usageCollection=_ref.usageCollection;this.dashboardFeatureFlagConfig=this.initializerContext.config.get();var expandPanelAction=new application["ExpandPanelAction"];uiActions.registerAction(expandPanelAction);uiActions.attachAction(public_["CONTEXT_MENU_TRIGGER"],expandPanelAction.id);var startServices=core.getStartServices();if(share){this.dashboardUrlGenerator=share.urlGenerators.registerUrlGenerator(url_generator_createDashboardUrlGenerator(plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$startServices,_yield$startServices2,coreStart,selfStart;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return startServices;case 2:_yield$startServices=_context.sent;_yield$startServices2=_slicedToArray(_yield$startServices,3);coreStart=_yield$startServices2[0];selfStart=_yield$startServices2[2];return _context.abrupt("return",{appBasePath:coreStart.application.getUrlForApp("dashboards"),useHashedUrl:coreStart.uiSettings.get("state:storeInSessionStorage"),savedDashboardLoader:selfStart.getSavedDashboardLoader()});case 7:case"end":return _context.stop()}}}),_callee)})))))}var getStartServices=function(){var _ref3=plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _yield$core$getStartS,_yield$core$getStartS2,coreStart,deps,useHideChrome,ExitFullScreenButton;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return core.getStartServices();case 2:_yield$core$getStartS=_context2.sent;_yield$core$getStartS2=_slicedToArray(_yield$core$getStartS,2);coreStart=_yield$core$getStartS2[0];deps=_yield$core$getStartS2[1];useHideChrome=function useHideChrome(){var _ref4=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{toggleChrome:true},toggleChrome=_ref4.toggleChrome;external_kbnSharedDeps_React_["useEffect"]((function(){if(toggleChrome){coreStart.chrome.setIsVisible(false)}return function(){if(toggleChrome){coreStart.chrome.setIsVisible(true)}}}),[toggleChrome])};ExitFullScreenButton=function ExitFullScreenButton(_ref5){var toggleChrome=_ref5.toggleChrome,props=_objectWithoutProperties(_ref5,["toggleChrome"]);useHideChrome({toggleChrome:toggleChrome});return external_kbnSharedDeps_React_["createElement"](kibanaReact_public_["ExitFullScreenButton"],props)};return _context2.abrupt("return",{capabilities:coreStart.application.capabilities,application:coreStart.application,notifications:coreStart.notifications,overlays:coreStart.overlays,embeddable:deps.embeddable,inspector:deps.inspector,SavedObjectFinder:Object(savedObjects_public_["getSavedObjectFinder"])(coreStart.savedObjects,coreStart.uiSettings),ExitFullScreenButton:ExitFullScreenButton,uiActions:deps.uiActions});case 9:case"end":return _context2.stop()}}}),_callee2)})));return function getStartServices(){return _ref3.apply(this,arguments)}}();var factory=new application["DashboardContainerFactoryDefinition"](getStartServices,(function(){return _this.currentHistory}));embeddable.registerEmbeddableFactory(factory.type,factory);var placeholderFactory=new placeholder["b"];embeddable.registerEmbeddableFactory(placeholderFactory.type,placeholderFactory);var _createKbnUrlTracker=Object(kibanaUtils_public_["createKbnUrlTracker"])({baseUrl:core.http.basePath.prepend("/app/dashboards"),defaultSubUrl:"#".concat(dashboard_constants["a"].LANDING_PAGE_PATH),storageKey:"lastUrl:".concat(core.http.basePath.get(),":dashboard"),navLinkUpdater$:this.appStateUpdater,toastNotifications:core.notifications.toasts,stateParams:[{kbnUrlKey:"_g",stateUpdate$:data.query.state$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])((function(_ref6){var changes=_ref6.changes;return!!(changes.globalFilters||changes.time||changes.refreshInterval)})),Object(external_kbnSharedDeps_RxjsOperators_["map"])((function(_ref7){var _state$filters;var state=_ref7.state;return plugin_objectSpread(plugin_objectSpread({},state),{},{filters:(_state$filters=state.filters)===null||_state$filters===void 0?void 0:_state$filters.filter(data_public_["esFilters"].isFilterPinned)})})))}],getHistory:function getHistory(){return _this.currentHistory}}),appMounted=_createKbnUrlTracker.appMounted,appUnMounted=_createKbnUrlTracker.appUnMounted,stopUrlTracker=_createKbnUrlTracker.stop,getActiveUrl=_createKbnUrlTracker.getActiveUrl,restorePreviousUrl=_createKbnUrlTracker.restorePreviousUrl;this.getActiveUrl=getActiveUrl;this.stopUrlTracking=function(){stopUrlTracker()};var app={id:dashboard_constants["a"].DASHBOARDS_ID,title:"Dashboard",order:2500,euiIconType:"logoKibana",defaultPath:"#".concat(dashboard_constants["a"].LANDING_PAGE_PATH),updater$:this.appStateUpdater,category:core_public_["DEFAULT_APP_CATEGORIES"].kibana,mount:function(){var _mount=plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee3(params){var _yield$core$getStartS3,_yield$core$getStartS4,coreStart,pluginsStart,dashboardStart,embeddableStart,navigation,shareStart,dataStart,dashboardConfig,_pluginsStart$urlForw,navigateToDefaultApp,navigateToLegacyKibanaUrl,savedObjects,deps,_yield$import,renderApp,unmount;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return core.getStartServices();case 2:_yield$core$getStartS3=_context3.sent;_yield$core$getStartS4=_slicedToArray(_yield$core$getStartS3,3);coreStart=_yield$core$getStartS4[0];pluginsStart=_yield$core$getStartS4[1];dashboardStart=_yield$core$getStartS4[2];_this.currentHistory=params.history;appMounted();embeddableStart=pluginsStart.embeddable,navigation=pluginsStart.navigation,shareStart=pluginsStart.share,dataStart=pluginsStart.data,dashboardConfig=pluginsStart.kibanaLegacy.dashboardConfig,_pluginsStart$urlForw=pluginsStart.urlForwarding,navigateToDefaultApp=_pluginsStart$urlForw.navigateToDefaultApp,navigateToLegacyKibanaUrl=_pluginsStart$urlForw.navigateToLegacyKibanaUrl,savedObjects=pluginsStart.savedObjects;deps={pluginInitializerContext:_this.initializerContext,core:coreStart,dashboardConfig:dashboardConfig,navigateToDefaultApp:navigateToDefaultApp,navigateToLegacyKibanaUrl:navigateToLegacyKibanaUrl,navigation:navigation,share:shareStart,data:dataStart,savedObjectsClient:coreStart.savedObjects.client,savedDashboards:dashboardStart.getSavedDashboardLoader(),chrome:coreStart.chrome,addBasePath:coreStart.http.basePath.prepend,uiSettings:coreStart.uiSettings,savedQueryService:dataStart.query.savedQueries,embeddable:embeddableStart,dashboardCapabilities:coreStart.application.capabilities.dashboard,embeddableCapabilities:{visualizeCapabilities:coreStart.application.capabilities.visualize,mapsCapabilities:coreStart.application.capabilities.maps},localStorage:new kibanaUtils_public_["Storage"](localStorage),usageCollection:usageCollection,scopedHistory:function scopedHistory(){return _this.currentHistory},setHeaderActionMenu:params.setHeaderActionMenu,savedObjects:savedObjects,restorePreviousUrl:restorePreviousUrl};_context3.next=13;return dataStart.indexPatterns.clearCache();case 13:_context3.next=15;return Promise.all([__webpack_require__.e(2),__webpack_require__.e(1)]).then(__webpack_require__.bind(null,129));case 15:_yield$import=_context3.sent;renderApp=_yield$import.renderApp;params.element.classList.add("dshAppContainer");unmount=renderApp(params.element,params.appBasePath,deps);return _context3.abrupt("return",(function(){unmount();appUnMounted()}));case 20:case"end":return _context3.stop()}}}),_callee3)})));function mount(_x){return _mount.apply(this,arguments)}return mount}()};Object(kibanaLegacy_public_["initAngularBootstrap"])();core.application.register(app);urlForwarding.forwardApp(dashboard_constants["a"].DASHBOARDS_ID,dashboard_constants["a"].DASHBOARDS_ID,(function(path){var _ref8=/(\?.*)/.exec(path)||[],_ref9=_slicedToArray(_ref8,2),tail=_ref9[1];return"#/list".concat(tail||"")}));urlForwarding.forwardApp(dashboard_constants["a"].DASHBOARD_ID,dashboard_constants["a"].DASHBOARDS_ID,(function(path){var _ref10=/dashboard\/?(.*?)($|\?.*)/.exec(path)||[],_ref11=_slicedToArray(_ref10,3),id=_ref11[1],tail=_ref11[2];if(!id&&!tail){return"#/list"}if(!id&&tail){return"#/create".concat(tail||"")}return"#/view/".concat(id).concat(tail||"")}));if(home){home.featureCatalogue.register({id:dashboard_constants["a"].DASHBOARD_ID,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.featureCatalogue.dashboardTitle",{defaultMessage:"Dashboard"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.featureCatalogue.dashboardSubtitle",{defaultMessage:"Analyze data in dashboards."}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("dashboard.featureCatalogue.dashboardDescription",{defaultMessage:"Display and share a collection of visualizations and saved searches."}),icon:"dashboardApp",path:"/app/dashboards#".concat(dashboard_constants["a"].LANDING_PAGE_PATH),showOnHomePage:false,category:home_public_["FeatureCatalogueCategory"].DATA,solutionId:"kibana",order:100})}}},{key:"addEmbeddableToDashboard",value:function addEmbeddableToDashboard(core,_ref12){var embeddableId=_ref12.embeddableId,embeddableType=_ref12.embeddableType;if(!this.getActiveUrl){throw new Error("dashboard is not ready yet.")}var lastDashboardUrl=this.getActiveUrl();var dashboardUrl=addEmbeddableToDashboardUrl(lastDashboardUrl,embeddableId,embeddableType);core.application.navigateToApp("dashboards",{path:dashboardUrl})}},{key:"start",value:function start(core,plugins){var _this$dashboardFeatur;var notifications=core.notifications;var uiActions=plugins.uiActions,_plugins$data=plugins.data,indexPatterns=_plugins$data.indexPatterns,search=_plugins$data.search,embeddable=plugins.embeddable;var SavedObjectFinder=Object(savedObjects_public_["getSavedObjectFinder"])(core.savedObjects,core.uiSettings);var changeViewAction=new application["ReplacePanelAction"](core,SavedObjectFinder,notifications,plugins.embeddable.getEmbeddableFactories);uiActions.registerAction(changeViewAction);uiActions.attachAction(public_["CONTEXT_MENU_TRIGGER"],changeViewAction.id);var clonePanelAction=new application["ClonePanelAction"](core);uiActions.registerAction(clonePanelAction);uiActions.attachAction(public_["CONTEXT_MENU_TRIGGER"],clonePanelAction.id);if((_this$dashboardFeatur=this.dashboardFeatureFlagConfig)===null||_this$dashboardFeatur===void 0?void 0:_this$dashboardFeatur.allowByValueEmbeddables){var addToLibraryAction=new application["AddToLibraryAction"];uiActions.registerAction(addToLibraryAction);uiActions.attachAction(public_["CONTEXT_MENU_TRIGGER"],addToLibraryAction.id);var unlinkFromLibraryAction=new application["UnlinkFromLibraryAction"];uiActions.registerAction(unlinkFromLibraryAction);uiActions.attachAction(public_["CONTEXT_MENU_TRIGGER"],unlinkFromLibraryAction.id);var libraryNotificationAction=new application["LibraryNotificationAction"];uiActions.registerAction(libraryNotificationAction);uiActions.attachAction(public_["PANEL_NOTIFICATION_TRIGGER"],libraryNotificationAction.id)}var savedDashboardLoader=createSavedDashboardLoader({savedObjectsClient:core.savedObjects.client,indexPatterns:indexPatterns,search:search,chrome:core.chrome,overlays:core.overlays});var dashboardContainerFactory=plugins.embeddable.getEmbeddableFactory(application["DASHBOARD_CONTAINER_TYPE"]);return{getSavedDashboardLoader:function getSavedDashboardLoader(){return savedDashboardLoader},addEmbeddableToDashboard:this.addEmbeddableToDashboard.bind(this,core),dashboardUrlGenerator:this.dashboardUrlGenerator,dashboardFeatureFlagConfig:this.dashboardFeatureFlagConfig,DashboardContainerByValueRenderer:Object(application["createDashboardContainerByValueRenderer"])({factory:dashboardContainerFactory}),getAttributeService:function getAttributeService(type,options){return new attribute_service_AttributeService(type,savedObjects_public_["showSaveModal"],core.i18n.Context,core.notifications.toasts,options,embeddable.getEmbeddableFactory)}}}},{key:"stop",value:function stop(){if(this.stopUrlTracking){this.stopUrlTracking()}}}]);return DashboardPlugin}();var types=__webpack_require__(49);function public_plugin(initializerContext){return new plugin_DashboardPlugin(initializerContext)}},function(module,exports){module.exports=__kbnSharedDeps__.Angular},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nAngular},function(module,exports){module.exports=__kbnSharedDeps__.Moment}]);