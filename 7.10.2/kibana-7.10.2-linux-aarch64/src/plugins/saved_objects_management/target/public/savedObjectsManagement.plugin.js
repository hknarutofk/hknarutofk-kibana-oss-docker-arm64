(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"savedObjectsManagement.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["savedObjectsManagement_bundle_jsonpfunction"]=window["savedObjectsManagement_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=9)})([function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return resolveIndexPatternConflicts}));__webpack_require__.d(__webpack_exports__,"e",(function(){return saveObjects}));__webpack_require__.d(__webpack_exports__,"d",(function(){return saveObject}));__webpack_require__.d(__webpack_exports__,"c",(function(){return resolveSavedSearches}));__webpack_require__.d(__webpack_exports__,"b",(function(){return resolveSavedObjects}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var _data_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3);var _data_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_data_public__WEBPACK_IMPORTED_MODULE_2__);function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getSavedObject(_x,_x2){return _getSavedObject.apply(this,arguments)}function _getSavedObject(){_getSavedObject=_asyncToGenerator(regeneratorRuntime.mark((function _callee(doc,services){var service,obj;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:service=services.find((function(s){return s.type===doc._type}));if(service){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return service.get();case 5:obj=_context.sent;obj.id=doc._id;obj.migrationVersion=doc._migrationVersion;return _context.abrupt("return",obj);case 9:case"end":return _context.stop()}}}),_callee)})));return _getSavedObject.apply(this,arguments)}function addJsonFieldToIndexPattern(target,sourceString,fieldName,indexName){if(sourceString){try{target[fieldName]=JSON.parse(sourceString)}catch(error){throw new Error(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.parsingFieldErrorMessage",{defaultMessage:"Error encountered parsing {fieldName} for index pattern {indexName}: {errorMessage}",values:{fieldName:fieldName,indexName:indexName,errorMessage:error.message}}))}}}function importIndexPattern(_x3,_x4){return _importIndexPattern.apply(this,arguments)}function _importIndexPattern(){_importIndexPattern=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(doc,indexPatterns){var overwriteAll,openConfirm,_doc$_source,title,timeFieldName,fields,fieldFormatMap,sourceFilters,type,typeMeta,indexPatternSpec,emptyPattern,isConfirmed,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:overwriteAll=_args2.length>2&&_args2[2]!==undefined?_args2[2]:false;openConfirm=_args2.length>3?_args2[3]:undefined;_doc$_source=doc._source,title=_doc$_source.title,timeFieldName=_doc$_source.timeFieldName,fields=_doc$_source.fields,fieldFormatMap=_doc$_source.fieldFormatMap,sourceFilters=_doc$_source.sourceFilters,type=_doc$_source.type,typeMeta=_doc$_source.typeMeta;indexPatternSpec={id:doc._id,title:title,timeFieldName:timeFieldName};if(type){indexPatternSpec.type=type}addJsonFieldToIndexPattern(indexPatternSpec,fields,"fields",title);addJsonFieldToIndexPattern(indexPatternSpec,fieldFormatMap,"fieldFormatMap",title);addJsonFieldToIndexPattern(indexPatternSpec,sourceFilters,"sourceFilters",title);addJsonFieldToIndexPattern(indexPatternSpec,typeMeta,"typeMeta",title);_context2.prev=9;_context2.next=12;return indexPatterns.createAndSave(indexPatternSpec,overwriteAll,true);case 12:emptyPattern=_context2.sent;_context2.next=28;break;case 15:_context2.prev=15;_context2.t0=_context2["catch"](9);if(!(_context2.t0 instanceof _data_public__WEBPACK_IMPORTED_MODULE_2__["DuplicateIndexPatternError"])){_context2.next=28;break}_context2.next=20;return openConfirm(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.indexPattern.confirmOverwriteLabel",{values:{title:title},defaultMessage:"Are you sure you want to overwrite '{title}'?"}),{title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.indexPattern.confirmOverwriteTitle",{defaultMessage:"Overwrite {type}?",values:{type:type}}),confirmButtonText:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("savedObjectsManagement.indexPattern.confirmOverwriteButton",{defaultMessage:"Overwrite"})});case 20:isConfirmed=_context2.sent;if(!isConfirmed){_context2.next=27;break}_context2.next=24;return indexPatterns.createAndSave(indexPatternSpec,true,true);case 24:emptyPattern=_context2.sent;_context2.next=28;break;case 27:return _context2.abrupt("return");case 28:indexPatterns.clearCache(emptyPattern.id);return _context2.abrupt("return",emptyPattern.id);case 30:case"end":return _context2.stop()}}}),_callee2,null,[[9,15]])})));return _importIndexPattern.apply(this,arguments)}function importDocument(_x5,_x6,_x7){return _importDocument.apply(this,arguments)}function _importDocument(){_importDocument=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(obj,doc,overwriteAll){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return obj.applyESResp(_objectSpread({references:doc._references||[]},Object(lodash__WEBPACK_IMPORTED_MODULE_1__["cloneDeep"])(doc)));case 2:_context3.next=4;return obj.save({confirmOverwrite:!overwriteAll});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}}}),_callee3)})));return _importDocument.apply(this,arguments)}function groupByType(docs){var defaultDocTypes={searches:[],indexPatterns:[],other:[]};return docs.reduce((function(types,doc){switch(doc._type){case"search":types.searches.push(doc);break;case"index-pattern":types.indexPatterns.push(doc);break;default:types.other.push(doc)}return types}),defaultDocTypes)}function resolveIndexPatternConflicts(_x8,_x9,_x10,_x11){return _resolveIndexPatternConflicts.apply(this,arguments)}function _resolveIndexPatternConflicts(){_resolveIndexPatternConflicts=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(resolutions,conflictedIndexPatterns,overwriteAll,dependencies){var importCount,_iterator,_step,_loop,_ret;return regeneratorRuntime.wrap((function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:importCount=0;_iterator=_createForOfIteratorHelper(conflictedIndexPatterns);_context5.prev=2;_loop=regeneratorRuntime.mark((function _loop(){var _doc$_source$kibanaSa;var _step$value,obj,doc,serializedSearchSource,oldIndexId,allResolved,inlineResolution,filter,replacedReferences,serializedSearchSourceWithInjectedReferences;return regeneratorRuntime.wrap((function _loop$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_step$value=_step.value,obj=_step$value.obj,doc=_step$value.doc;serializedSearchSource=JSON.parse(((_doc$_source$kibanaSa=doc._source.kibanaSavedObjectMeta)===null||_doc$_source$kibanaSa===void 0?void 0:_doc$_source$kibanaSa.searchSourceJSON)||"{}");oldIndexId=serializedSearchSource.index;allResolved=true;inlineResolution=resolutions.find((function(_ref){var oldId=_ref.oldId;return oldId===oldIndexId}));if(inlineResolution){serializedSearchSource.index=inlineResolution.newId}else{allResolved=false}filter=(serializedSearchSource.filter||[]).map((function(f){if(!(f.meta&&f.meta.index)){return f}var resolution=resolutions.find((function(_ref2){var oldId=_ref2.oldId;return oldId===f.meta.index}));return resolution?_objectSpread(_objectSpread({},f),{meta:_objectSpread(_objectSpread({},f.meta),{},{index:resolution.newId})}):f}));if(filter.length>0){serializedSearchSource.filter=filter}replacedReferences=(doc._references||[]).map((function(reference){var resolution=resolutions.find((function(_ref3){var oldId=_ref3.oldId;return oldId===reference.id}));if(resolution){return _objectSpread(_objectSpread({},reference),{},{id:resolution.newId})}else{allResolved=false}return reference}));serializedSearchSourceWithInjectedReferences=Object(_data_public__WEBPACK_IMPORTED_MODULE_2__["injectSearchSourceReferences"])(serializedSearchSource,replacedReferences);if(allResolved){_context4.next=12;break}return _context4.abrupt("return","continue");case 12:_context4.next=14;return dependencies.search.searchSource.create(serializedSearchSourceWithInjectedReferences);case 14:obj.searchSource=_context4.sent;_context4.next=17;return saveObject(obj,overwriteAll);case 17:if(!_context4.sent){_context4.next=19;break}importCount++;case 19:case"end":return _context4.stop()}}}),_loop)}));_iterator.s();case 5:if((_step=_iterator.n()).done){_context5.next=12;break}return _context5.delegateYield(_loop(),"t0",7);case 7:_ret=_context5.t0;if(!(_ret==="continue")){_context5.next=10;break}return _context5.abrupt("continue",10);case 10:_context5.next=5;break;case 12:_context5.next=17;break;case 14:_context5.prev=14;_context5.t1=_context5["catch"](2);_iterator.e(_context5.t1);case 17:_context5.prev=17;_iterator.f();return _context5.finish(17);case 20:return _context5.abrupt("return",importCount);case 21:case"end":return _context5.stop()}}}),_callee4,null,[[2,14,17,20]])})));return _resolveIndexPatternConflicts.apply(this,arguments)}function saveObjects(_x12,_x13){return _saveObjects.apply(this,arguments)}function _saveObjects(){_saveObjects=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(objs,overwriteAll){var importCount,_iterator2,_step2,obj;return regeneratorRuntime.wrap((function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:importCount=0;_iterator2=_createForOfIteratorHelper(objs);_context6.prev=2;_iterator2.s();case 4:if((_step2=_iterator2.n()).done){_context6.next=12;break}obj=_step2.value;_context6.next=8;return saveObject(obj,overwriteAll);case 8:if(!_context6.sent){_context6.next=10;break}importCount++;case 10:_context6.next=4;break;case 12:_context6.next=17;break;case 14:_context6.prev=14;_context6.t0=_context6["catch"](2);_iterator2.e(_context6.t0);case 17:_context6.prev=17;_iterator2.f();return _context6.finish(17);case 20:return _context6.abrupt("return",importCount);case 21:case"end":return _context6.stop()}}}),_callee5,null,[[2,14,17,20]])})));return _saveObjects.apply(this,arguments)}function saveObject(_x14,_x15){return _saveObject.apply(this,arguments)}function _saveObject(){_saveObject=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(obj,overwriteAll){return regeneratorRuntime.wrap((function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return obj.save({confirmOverwrite:!overwriteAll});case 2:return _context7.abrupt("return",_context7.sent);case 3:case"end":return _context7.stop()}}}),_callee6)})));return _saveObject.apply(this,arguments)}function resolveSavedSearches(_x16,_x17,_x18,_x19){return _resolveSavedSearches.apply(this,arguments)}function _resolveSavedSearches(){_resolveSavedSearches=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(savedSearches,services,indexPatterns,overwriteAll){var importCount,_iterator3,_step3,searchDoc,obj;return regeneratorRuntime.wrap((function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:importCount=0;_iterator3=_createForOfIteratorHelper(savedSearches);_context8.prev=2;_iterator3.s();case 4:if((_step3=_iterator3.n()).done){_context8.next=17;break}searchDoc=_step3.value;_context8.next=8;return getSavedObject(searchDoc,services);case 8:obj=_context8.sent;if(obj){_context8.next=11;break}return _context8.abrupt("continue",15);case 11:_context8.next=13;return importDocument(obj,searchDoc,overwriteAll);case 13:if(!_context8.sent){_context8.next=15;break}importCount++;case 15:_context8.next=4;break;case 17:_context8.next=22;break;case 19:_context8.prev=19;_context8.t0=_context8["catch"](2);_iterator3.e(_context8.t0);case 22:_context8.prev=22;_iterator3.f();return _context8.finish(22);case 25:return _context8.abrupt("return",importCount);case 26:case"end":return _context8.stop()}}}),_callee7,null,[[2,19,22,25]])})));return _resolveSavedSearches.apply(this,arguments)}function resolveSavedObjects(_x20,_x21,_x22,_x23,_x24){return _resolveSavedObjects.apply(this,arguments)}function _resolveSavedObjects(){_resolveSavedObjects=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(savedObjects,overwriteAll,services,indexPatterns,confirmModalPromise){var docTypes,importedObjectCount,failedImports,_iterator4,_step4,indexPatternDoc,importedIndexPatternId,conflictedSearchDocs,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches,_iterator5,_step5,searchDoc,obj,_iterator6,_step6,otherDoc,_obj,isIndexPatternNotFound;return regeneratorRuntime.wrap((function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:docTypes=groupByType(savedObjects);importedObjectCount=0;failedImports=[];_iterator4=_createForOfIteratorHelper(docTypes.indexPatterns);_context9.prev=4;_iterator4.s();case 6:if((_step4=_iterator4.n()).done){_context9.next=20;break}indexPatternDoc=_step4.value;_context9.prev=8;_context9.next=11;return importIndexPattern(indexPatternDoc,indexPatterns,overwriteAll,confirmModalPromise);case 11:importedIndexPatternId=_context9.sent;if(importedIndexPatternId){importedObjectCount++}_context9.next=18;break;case 15:_context9.prev=15;_context9.t0=_context9["catch"](8);failedImports.push({obj:indexPatternDoc,error:_context9.t0});case 18:_context9.next=6;break;case 20:_context9.next=25;break;case 22:_context9.prev=22;_context9.t1=_context9["catch"](4);_iterator4.e(_context9.t1);case 25:_context9.prev=25;_iterator4.f();return _context9.finish(25);case 28:conflictedSearchDocs=[];conflictedIndexPatterns=[];conflictedSavedObjectsLinkedToSavedSearches=[];_iterator5=_createForOfIteratorHelper(docTypes.searches);_context9.prev=32;_iterator5.s();case 34:if((_step5=_iterator5.n()).done){_context9.next=51;break}searchDoc=_step5.value;_context9.next=38;return getSavedObject(searchDoc,services);case 38:obj=_context9.sent;_context9.prev=39;_context9.next=42;return importDocument(obj,searchDoc,overwriteAll);case 42:if(!_context9.sent){_context9.next=44;break}importedObjectCount++;case 44:_context9.next=49;break;case 46:_context9.prev=46;_context9.t2=_context9["catch"](39);if(_context9.t2.constructor.name==="SavedObjectNotFound"){if(_context9.t2.savedObjectType==="index-pattern"){conflictedIndexPatterns.push({obj:obj,doc:searchDoc})}else{conflictedSearchDocs.push(searchDoc)}}else{failedImports.push({obj:obj,error:_context9.t2})}case 49:_context9.next=34;break;case 51:_context9.next=56;break;case 53:_context9.prev=53;_context9.t3=_context9["catch"](32);_iterator5.e(_context9.t3);case 56:_context9.prev=56;_iterator5.f();return _context9.finish(56);case 59:_iterator6=_createForOfIteratorHelper(docTypes.other);_context9.prev=60;_iterator6.s();case 62:if((_step6=_iterator6.n()).done){_context9.next=80;break}otherDoc=_step6.value;_context9.next=66;return getSavedObject(otherDoc,services);case 66:_obj=_context9.sent;_context9.prev=67;_context9.next=70;return importDocument(_obj,otherDoc,overwriteAll);case 70:if(!_context9.sent){_context9.next=72;break}importedObjectCount++;case 72:_context9.next=78;break;case 74:_context9.prev=74;_context9.t4=_context9["catch"](67);isIndexPatternNotFound=_context9.t4.constructor.name==="SavedObjectNotFound"&&_context9.t4.savedObjectType==="index-pattern";if(isIndexPatternNotFound&&_obj.savedSearchId){conflictedSavedObjectsLinkedToSavedSearches.push(_obj)}else if(isIndexPatternNotFound){conflictedIndexPatterns.push({obj:_obj,doc:otherDoc})}else{failedImports.push({obj:_obj,error:_context9.t4})}case 78:_context9.next=62;break;case 80:_context9.next=85;break;case 82:_context9.prev=82;_context9.t5=_context9["catch"](60);_iterator6.e(_context9.t5);case 85:_context9.prev=85;_iterator6.f();return _context9.finish(85);case 88:return _context9.abrupt("return",{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports});case 89:case"end":return _context9.stop()}}}),_callee8,null,[[4,22,25,28],[8,15],[32,53,56,59],[39,46],[60,82,85,88],[67,74]])})));return _resolveSavedObjects.apply(this,arguments)}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"fetchExportByTypeAndSearch",(function(){return fetchExportByTypeAndSearch}));__webpack_require__.d(__webpack_exports__,"fetchExportObjects",(function(){return fetchExportObjects}));__webpack_require__.d(__webpack_exports__,"canViewInApp",(function(){return canViewInApp}));__webpack_require__.d(__webpack_exports__,"getRelationships",(function(){return getRelationships}));__webpack_require__.d(__webpack_exports__,"getSavedObjectCounts",(function(){return getSavedObjectCounts}));__webpack_require__.d(__webpack_exports__,"getSavedObjectLabel",(function(){return getSavedObjectLabel}));__webpack_require__.d(__webpack_exports__,"importFile",(function(){return importFile}));__webpack_require__.d(__webpack_exports__,"importLegacyFile",(function(){return importLegacyFile}));__webpack_require__.d(__webpack_exports__,"parseQuery",(function(){return parseQuery}));__webpack_require__.d(__webpack_exports__,"resolveImportErrors",(function(){return resolveImportErrors}));__webpack_require__.d(__webpack_exports__,"resolveIndexPatternConflicts",(function(){return resolve_saved_objects["a"]}));__webpack_require__.d(__webpack_exports__,"resolveSavedObjects",(function(){return resolve_saved_objects["b"]}));__webpack_require__.d(__webpack_exports__,"resolveSavedSearches",(function(){return resolve_saved_objects["c"]}));__webpack_require__.d(__webpack_exports__,"saveObject",(function(){return resolve_saved_objects["d"]}));__webpack_require__.d(__webpack_exports__,"saveObjects",(function(){return resolve_saved_objects["e"]}));__webpack_require__.d(__webpack_exports__,"logLegacyImport",(function(){return logLegacyImport}));__webpack_require__.d(__webpack_exports__,"processImportResponse",(function(){return processImportResponse}));__webpack_require__.d(__webpack_exports__,"ProcessedImportResponse",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"FailedImport",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"getDefaultTitle",(function(){return getDefaultTitle}));__webpack_require__.d(__webpack_exports__,"findObjects",(function(){return findObjects}));__webpack_require__.d(__webpack_exports__,"findObject",(function(){return findObject}));__webpack_require__.d(__webpack_exports__,"extractExportDetails",(function(){return extractExportDetails}));__webpack_require__.d(__webpack_exports__,"SavedObjectsExportResultDetails",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"createFieldList",(function(){return createFieldList}));__webpack_require__.d(__webpack_exports__,"getAllowedTypes",(function(){return getAllowedTypes}));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function fetchExportByTypeAndSearch(_x,_x2,_x3){return _fetchExportByTypeAndSearch.apply(this,arguments)}function _fetchExportByTypeAndSearch(){_fetchExportByTypeAndSearch=_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,types,search){var includeReferencesDeep,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:includeReferencesDeep=_args.length>3&&_args[3]!==undefined?_args[3]:false;return _context.abrupt("return",http.post("/api/saved_objects/_export",{body:JSON.stringify({type:types,search:search,includeReferencesDeep:includeReferencesDeep})}));case 2:case"end":return _context.stop()}}}),_callee)})));return _fetchExportByTypeAndSearch.apply(this,arguments)}function fetch_export_objects_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function fetch_export_objects_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){fetch_export_objects_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){fetch_export_objects_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function fetchExportObjects(_x,_x2){return _fetchExportObjects.apply(this,arguments)}function _fetchExportObjects(){_fetchExportObjects=fetch_export_objects_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,objects){var includeReferencesDeep,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:includeReferencesDeep=_args.length>2&&_args[2]!==undefined?_args[2]:false;return _context.abrupt("return",http.post("/api/saved_objects/_export",{body:JSON.stringify({objects:objects,includeReferencesDeep:includeReferencesDeep})}));case 2:case"end":return _context.stop()}}}),_callee)})));return _fetchExportObjects.apply(this,arguments)}function canViewInApp(uiCapabilities,type){switch(type){case"search":case"searches":return uiCapabilities.discover.show;case"visualization":case"visualizations":return uiCapabilities.visualize.show;case"index-pattern":case"index-patterns":case"indexPatterns":return uiCapabilities.management.kibana.indexPatterns;case"dashboard":case"dashboards":return uiCapabilities.dashboard.show;default:return uiCapabilities[type].show}}var external_kbnSharedDeps_Lodash_=__webpack_require__(0);function get_relationships_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function get_relationships_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){get_relationships_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){get_relationships_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getRelationships(_x,_x2,_x3,_x4){return _getRelationships.apply(this,arguments)}function _getRelationships(){_getRelationships=get_relationships_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,type,id,savedObjectTypes){var url,respBody,err;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url="/api/kibana/management/saved_objects/relationships/".concat(encodeURIComponent(type),"/").concat(encodeURIComponent(id));_context.prev=1;_context.next=4;return http.get(url,{query:{savedObjectTypes:savedObjectTypes}});case 4:return _context.abrupt("return",_context.sent);case 7:_context.prev=7;_context.t0=_context["catch"](1);respBody=Object(external_kbnSharedDeps_Lodash_["get"])(_context.t0,"data",{});err=new Error(respBody.message||respBody.error||"".concat(_context.t0.status," Response"));err.statusCode=respBody.statusCode||_context.t0.status;err.body=respBody;throw err;case 14:case"end":return _context.stop()}}}),_callee,null,[[1,7]])})));return _getRelationships.apply(this,arguments)}function get_saved_object_counts_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function get_saved_object_counts_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){get_saved_object_counts_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){get_saved_object_counts_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getSavedObjectCounts(_x,_x2,_x3){return _getSavedObjectCounts.apply(this,arguments)}function _getSavedObjectCounts(){_getSavedObjectCounts=get_saved_object_counts_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,typesToInclude,searchString){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return http.post("/api/kibana/management/saved_objects/scroll/counts",{body:JSON.stringify({typesToInclude:typesToInclude,searchString:searchString})});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}}),_callee)})));return _getSavedObjectCounts.apply(this,arguments)}function getSavedObjectLabel(type){switch(type){case"index-pattern":case"index-patterns":case"indexPatterns":return"index patterns";default:return type}}function import_file_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function import_file_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){import_file_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){import_file_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function importFile(_x,_x2,_x3){return _importFile.apply(this,arguments)}function _importFile(){_importFile=import_file_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,file,_ref){var createNewCopies,overwrite,formData,query;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:createNewCopies=_ref.createNewCopies,overwrite=_ref.overwrite;formData=new FormData;formData.append("file",file);query=createNewCopies?{createNewCopies:createNewCopies}:{overwrite:overwrite};_context.next=6;return http.post("/api/saved_objects/_import",{body:formData,headers:{"Content-Type":undefined},query:query});case 6:return _context.abrupt("return",_context.sent);case 7:case"end":return _context.stop()}}}),_callee)})));return _importFile.apply(this,arguments)}function import_legacy_file_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function import_legacy_file_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){import_legacy_file_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){import_legacy_file_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function importLegacyFile(_x){return _importLegacyFile.apply(this,arguments)}function _importLegacyFile(){_importLegacyFile=import_legacy_file_asyncToGenerator(regeneratorRuntime.mark((function _callee(file){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve,reject){var fr=new FileReader;fr.onload=function(event){var result=event.target.result;try{resolve(JSON.parse(result))}catch(e){reject(e)}};fr.readAsText(file)})));case 1:case"end":return _context.stop()}}}),_callee)})));return _importLegacyFile.apply(this,arguments)}function parseQuery(query){var queryText;var visibleTypes;if(query){if(query.ast.getTermClauses().length){queryText=query.ast.getTermClauses().map((function(clause){return clause.value})).join(" ")}if(query.ast.getFieldClauses("type")){visibleTypes=query.ast.getFieldClauses("type")[0].value}}return{queryText:queryText,visibleTypes:visibleTypes}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function resolve_import_errors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function resolve_import_errors_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){resolve_import_errors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){resolve_import_errors_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var RESOLVABLE_ERRORS=["conflict","ambiguous_conflict","missing_references"];var isConflict=function isConflict(failure){return failure.error.type==="conflict"};var isAmbiguousConflict=function isAmbiguousConflict(failure){return failure.error.type==="ambiguous_conflict"};var isAnyConflict=function isAnyConflict(failure){return isConflict(failure)||isAmbiguousConflict(failure)};var filterFailedImports=function filterFailedImports(failures){var missingReferences=failures.filter((function(_ref){var type=_ref.error.type;return type==="missing_references"})).reduce((function(acc,_ref2){var _ref2$obj=_ref2.obj,type=_ref2$obj.type,id=_ref2$obj.id;return acc.add("".concat(type,":").concat(id))}),new Set);return failures.filter((function(failure){return!isAnyConflict(failure)||isAnyConflict(failure)&&!missingReferences.has("".concat(failure.obj.type,":").concat(failure.obj.id))}))};function callResolveImportErrorsApi(_x,_x2,_x3,_x4){return _callResolveImportErrorsApi.apply(this,arguments)}function _callResolveImportErrorsApi(){_callResolveImportErrorsApi=resolve_import_errors_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,file,retries,createNewCopies){var formData,query;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData;formData.append("file",file);formData.append("retries",JSON.stringify(retries));query=createNewCopies?{createNewCopies:createNewCopies}:{};return _context.abrupt("return",http.post("/api/saved_objects/_resolve_import_errors",{headers:{"Content-Type":undefined},body:formData,query:query}));case 5:case"end":return _context.stop()}}}),_callee)})));return _callResolveImportErrorsApi.apply(this,arguments)}function mapImportFailureToRetryObject(_ref3){var failure=_ref3.failure,retryDecisionCache=_ref3.retryDecisionCache,replaceReferencesCache=_ref3.replaceReferencesCache,state=_ref3.state;var _state$unmatchedRefer=state.unmatchedReferences,unmatchedReferences=_state$unmatchedRefer===void 0?[]:_state$unmatchedRefer;var retryDecision=retryDecisionCache.get("".concat(failure.obj.type,":").concat(failure.obj.id));if(!(retryDecision===null||retryDecision===void 0?void 0:retryDecision.retry)&&(failure.error.type==="conflict"||failure.error.type==="ambiguous_conflict")){return}if(failure.error.type==="missing_references"){var objReplaceReferences=replaceReferencesCache.get("".concat(failure.obj.type,":").concat(failure.obj.id))||[];var indexPatternRefs=failure.error.references.filter((function(obj){return obj.type==="index-pattern"}));var _iterator=_createForOfIteratorHelper(indexPatternRefs),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var reference=_step.value;var _iterator2=_createForOfIteratorHelper(unmatchedReferences),_step2;try{var _loop=function _loop(){var _step2$value=_step2.value,from=_step2$value.existingIndexPatternId,to=_step2$value.newIndexPatternId;var matchesIndexPatternId=from===reference.id;if(!to||!matchesIndexPatternId){return"continue"}var type="index-pattern";if(!objReplaceReferences.some((function(ref){return ref.type===type&&ref.from===from&&ref.to===to}))){objReplaceReferences.push({type:type,from:from,to:to})}};for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ret=_loop();if(_ret==="continue")continue}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}replaceReferencesCache.set("".concat(failure.obj.type,":").concat(failure.obj.id),objReplaceReferences);if(objReplaceReferences.length===0){return}}return _objectSpread(_objectSpread({id:failure.obj.id,type:failure.obj.type},(retryDecision===null||retryDecision===void 0?void 0:retryDecision.retry)&&retryDecision.options),{},{replaceReferences:replaceReferencesCache.get("".concat(failure.obj.type,":").concat(failure.obj.id))})}function resolveImportErrors(_x5){return _resolveImportErrors.apply(this,arguments)}function _resolveImportErrors(){_resolveImportErrors=resolve_import_errors_asyncToGenerator(regeneratorRuntime.mark((function _callee2(_ref4){var http,getConflictResolutions,state,retryDecisionCache,replaceReferencesCache,importCount,_state$failedImports,failedImports,_state$successfulImpo,successfulImports,file,_state$importMode,createNewCopies,isOverwriteAllChecked,doesntHaveRetryDecision,getRetryDecision,callMapImportFailure,isNotSkipped,filteredFailures,result,_i,_Object$keys,key,failRetries,successRetries,retries,response,_iterator3,_step3,_ref10,error,obj;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:http=_ref4.http,getConflictResolutions=_ref4.getConflictResolutions,state=_ref4.state;retryDecisionCache=new Map;replaceReferencesCache=new Map;importCount=state.importCount,_state$failedImports=state.failedImports,failedImports=_state$failedImports===void 0?[]:_state$failedImports,_state$successfulImpo=state.successfulImports,successfulImports=_state$successfulImpo===void 0?[]:_state$successfulImpo;file=state.file,_state$importMode=state.importMode,createNewCopies=_state$importMode.createNewCopies,isOverwriteAllChecked=_state$importMode.overwrite;doesntHaveRetryDecision=function doesntHaveRetryDecision(_ref5){var obj=_ref5.obj;return!retryDecisionCache.has("".concat(obj.type,":").concat(obj.id))};getRetryDecision=function getRetryDecision(_ref6){var obj=_ref6.obj;return retryDecisionCache.get("".concat(obj.type,":").concat(obj.id))};callMapImportFailure=function callMapImportFailure(failure){return mapImportFailureToRetryObject({failure:failure,retryDecisionCache:retryDecisionCache,replaceReferencesCache:replaceReferencesCache,state:state})};isNotSkipped=function isNotSkipped(failure){var _getRetryDecision;var type=failure.error.type;return!RESOLVABLE_ERRORS.includes(type)||((_getRetryDecision=getRetryDecision(failure))===null||_getRetryDecision===void 0?void 0:_getRetryDecision.retry)};case 9:if(!failedImports.some((function(failure){return RESOLVABLE_ERRORS.includes(failure.error.type)}))){_context2.next=32;break}filteredFailures=filterFailedImports(failedImports);if(isOverwriteAllChecked){filteredFailures.filter(isConflict).forEach((function(_ref7){var _ref7$obj=_ref7.obj,type=_ref7$obj.type,id=_ref7$obj.id,destinationId=_ref7.error.destinationId;return retryDecisionCache.set("".concat(type,":").concat(id),{retry:true,options:_objectSpread({overwrite:true},destinationId&&{destinationId:destinationId})})}))}_context2.next=14;return getConflictResolutions(isOverwriteAllChecked?filteredFailures.filter(isAmbiguousConflict).filter(doesntHaveRetryDecision):filteredFailures.filter(isAnyConflict).filter(doesntHaveRetryDecision));case 14:result=_context2.sent;for(_i=0,_Object$keys=Object.keys(result);_i<_Object$keys.length;_i++){key=_Object$keys[_i];retryDecisionCache.set(key,result[key])}failRetries=filteredFailures.map(callMapImportFailure).filter((function(obj){return!!obj}));successRetries=successfulImports.map((function(_ref8){var type=_ref8.type,id=_ref8.id,overwrite=_ref8.overwrite,destinationId=_ref8.destinationId,createNewCopy=_ref8.createNewCopy;var replaceReferences=replaceReferencesCache.get("".concat(type,":").concat(id));return _objectSpread(_objectSpread(_objectSpread({type:type,id:id},overwrite&&{overwrite:overwrite}),replaceReferences&&{replaceReferences:replaceReferences}),{},{destinationId:destinationId,createNewCopy:createNewCopy})}));retries=[].concat(_toConsumableArray(failRetries),_toConsumableArray(successRetries));if(!(retries.length===0)){_context2.next=22;break}failedImports=filteredFailures.filter(isNotSkipped);return _context2.abrupt("break",32);case 22:_context2.next=24;return callResolveImportErrorsApi(http,file,retries,createNewCopies);case 24:response=_context2.sent;importCount=response.successCount;failedImports=[];_iterator3=_createForOfIteratorHelper(response.errors||[]);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_ref10=_step3.value;error=_ref10.error,obj=_objectWithoutProperties(_ref10,["error"]);failedImports.push({error:error,obj:obj})}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}successfulImports=response.successResults||[];_context2.next=9;break;case 32:return _context2.abrupt("return",{status:"success",importCount:importCount,failedImports:failedImports,successfulImports:successfulImports});case 33:case"end":return _context2.stop()}}}),_callee2)})));return _resolveImportErrors.apply(this,arguments)}var resolve_saved_objects=__webpack_require__(2);function log_legacy_import_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function log_legacy_import_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){log_legacy_import_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){log_legacy_import_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function logLegacyImport(_x){return _logLegacyImport.apply(this,arguments)}function _logLegacyImport(){_logLegacyImport=log_legacy_import_asyncToGenerator(regeneratorRuntime.mark((function _callee(http){return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt("return",http.post("/api/saved_objects/_log_legacy_import"));case 1:case"end":return _context.stop()}}}),_callee)})));return _logLegacyImport.apply(this,arguments)}function process_import_response_objectWithoutProperties(source,excluded){if(source==null)return{};var target=process_import_response_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function process_import_response_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function process_import_response_createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=process_import_response_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function process_import_response_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return process_import_response_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return process_import_response_arrayLikeToArray(o,minLen)}function process_import_response_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}var process_import_response_isAnyConflict=function isAnyConflict(_ref){var type=_ref.type;return type==="conflict"||type==="ambiguous_conflict"};function processImportResponse(response){var _response$successResu;var failedImports=[];var unmatchedReferences=new Map;var _iterator=process_import_response_createForOfIteratorHelper(response.errors||[]),_step;try{var _loop=function _loop(){var _ref2=_step.value;var error=_ref2.error,obj=process_import_response_objectWithoutProperties(_ref2,["error"]);failedImports.push({obj:obj,error:error});if(error.type!=="missing_references"){return"continue"}var indexPatternRefs=error.references.filter((function(ref){return ref.type==="index-pattern"}));var _iterator2=process_import_response_createForOfIteratorHelper(indexPatternRefs),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var missingReference=_step2.value;var conflict=unmatchedReferences.get("".concat(missingReference.type,":").concat(missingReference.id))||{existingIndexPatternId:missingReference.id,list:[],newIndexPatternId:undefined};if(!conflict.list.some((function(_ref3){var type=_ref3.type,id=_ref3.id;return type===obj.type&&id===obj.id}))){conflict.list.push(obj);unmatchedReferences.set("".concat(missingReference.type,":").concat(missingReference.id),conflict)}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}};for(_iterator.s();!(_step=_iterator.n()).done;){var _ret=_loop();if(_ret==="continue")continue}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{failedImports:failedImports,successfulImports:(_response$successResu=response.successResults)!==null&&_response$successResu!==void 0?_response$successResu:[],unmatchedReferences:Array.from(unmatchedReferences.values()),status:unmatchedReferences.size===0&&!failedImports.some((function(issue){return process_import_response_isAnyConflict(issue.error)}))?"success":"idle",importCount:response.successCount,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined}}function getDefaultTitle(object){return"".concat(object.type," [id=").concat(object.id,"]")}function keysToCamelCaseShallow(object){return Object(external_kbnSharedDeps_Lodash_["mapKeys"])(object,(function(value,key){return Object(external_kbnSharedDeps_Lodash_["camelCase"])(key)}))}function find_objects_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function find_objects_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){find_objects_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){find_objects_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function findObjects(_x,_x2){return _findObjects.apply(this,arguments)}function _findObjects(){_findObjects=find_objects_asyncToGenerator(regeneratorRuntime.mark((function _callee(http,findOptions){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return http.get("/api/kibana/management/saved_objects/_find",{query:findOptions});case 2:response=_context.sent;return _context.abrupt("return",keysToCamelCaseShallow(response));case 4:case"end":return _context.stop()}}}),_callee)})));return _findObjects.apply(this,arguments)}function findObject(_x3,_x4,_x5){return _findObject.apply(this,arguments)}function _findObject(){_findObject=find_objects_asyncToGenerator(regeneratorRuntime.mark((function _callee2(http,type,id){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return http.get("/api/kibana/management/saved_objects/".concat(encodeURIComponent(type),"/").concat(encodeURIComponent(id)));case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2)})));return _findObject.apply(this,arguments)}function extract_export_details_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function extract_export_details_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){extract_export_details_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){extract_export_details_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function extractExportDetails(_x){return _extractExportDetails.apply(this,arguments)}function _extractExportDetails(){_extractExportDetails=extract_export_details_asyncToGenerator(regeneratorRuntime.mark((function _callee(blob){var reader,content,lines,maybeDetails;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reader=new FileReader;_context.next=3;return new Promise((function(resolve,reject){reader.addEventListener("loadend",(function(e){resolve(e.target.result)}));reader.addEventListener("error",(function(e){reject(e)}));reader.readAsText(blob,"utf-8")}));case 3:content=_context.sent;lines=content.split("\n").filter((function(l){return l.length>0}));maybeDetails=JSON.parse(lines[lines.length-1]);if(!isExportDetails(maybeDetails)){_context.next=8;break}return _context.abrupt("return",maybeDetails);case 8:case"end":return _context.stop()}}}),_callee)})));return _extractExportDetails.apply(this,arguments)}function isExportDetails(object){return"exportedCount"in object&&"missingRefCount"in object&&"missingReferences"in object}var public_=__webpack_require__(3);function create_field_list_toConsumableArray(arr){return create_field_list_arrayWithoutHoles(arr)||create_field_list_iterableToArray(arr)||create_field_list_unsupportedIterableToArray(arr)||create_field_list_nonIterableSpread()}function create_field_list_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function create_field_list_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function create_field_list_arrayWithoutHoles(arr){if(Array.isArray(arr))return create_field_list_arrayLikeToArray(arr)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||create_field_list_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function create_field_list_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return create_field_list_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return create_field_list_arrayLikeToArray(o,minLen)}function create_field_list_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var maxRecursiveIterations=20;function createFieldList(object,service){var fields=Object.entries(object.attributes).reduce((function(objFields,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return[].concat(create_field_list_toConsumableArray(objFields),create_field_list_toConsumableArray(create_field_list_createFields(key,value)))}),[]);fields=[].concat(create_field_list_toConsumableArray(fields),create_field_list_toConsumableArray(create_field_list_createFields("references",object.references)));if(service&&service.Class){create_field_list_addFieldsFromClass(service.Class,fields)}return fields}var create_field_list_createFields=function createFields(key,value){var parents=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var path=[].concat(create_field_list_toConsumableArray(parents),[key]);if(path.length>maxRecursiveIterations){return[]}var field={type:"text",name:path.join("."),value:value};if(Object(external_kbnSharedDeps_Lodash_["isString"])(field.value)){try{field.value=JSON.stringify(JSON.parse(field.value),undefined,2);field.type="json"}catch(err){field.type="text"}}else if(Object(external_kbnSharedDeps_Lodash_["isNumber"])(field.value)){field.type="number"}else if(Array.isArray(field.value)){field.type="array";field.value=JSON.stringify(field.value,undefined,2)}else if(Object(external_kbnSharedDeps_Lodash_["isBoolean"])(field.value)){field.type="boolean"}else if(Object(external_kbnSharedDeps_Lodash_["isPlainObject"])(field.value)){var fields=[];Object(external_kbnSharedDeps_Lodash_["forOwn"])(field.value,(function(childValue,childKey){fields=[].concat(create_field_list_toConsumableArray(fields),create_field_list_toConsumableArray(createFields(childKey,childValue,path)))}));return fields}return[field]};var create_field_list_addFieldsFromClass=function addFieldsFromClass(Class,fields){var fieldMap=Object(external_kbnSharedDeps_Lodash_["keyBy"])(fields,"name");Object(external_kbnSharedDeps_Lodash_["forOwn"])(Class.mapping,(function(esType,name){if(!name||fieldMap[name]){return}var getFieldTypeFromEsType=function getFieldTypeFromEsType(){switch(Object(public_["castEsToKbnFieldTypeName"])(esType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}};fields.push({name:name,type:getFieldTypeFromEsType(),value:undefined})}));if(Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]){fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})}if(!fieldMap.references){fields.push({name:"references",type:"array",value:"[]"})}};function get_allowed_types_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function get_allowed_types_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){get_allowed_types_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){get_allowed_types_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function getAllowedTypes(_x){return _getAllowedTypes.apply(this,arguments)}function _getAllowedTypes(){_getAllowedTypes=get_allowed_types_asyncToGenerator(regeneratorRuntime.mark((function _callee(http){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return http.get("/api/kibana/management/saved_objects/_allowed_types");case 2:response=_context.sent;return _context.abrupt("return",response.types);case 4:case"end":return _context.stop()}}}),_callee)})));return _getAllowedTypes.apply(this,arguments)}},function(module,exports){},function(module,exports){},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_savedObjectsManagement_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);var _node_modules_val_loader_dist_cjs_js_key_savedObjectsManagement_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_savedObjectsManagement_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/savedObjectsManagement/public",__webpack_require__,11);__kbnBundles__.define("plugin/savedObjectsManagement/public/lib",__webpack_require__,4)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["savedObjectsManagement"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementPluginSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementPluginStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementActionServiceSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementActionServiceStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementAction",(function(){return SavedObjectsManagementAction}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementColumnServiceSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementColumnServiceStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementColumn",(function(){return column["SavedObjectsManagementColumn"]}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementRecord",(function(){return record["SavedObjectsManagementRecord"]}));__webpack_require__.d(__webpack_exports__,"ISavedObjectsManagementServiceRegistry",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SavedObjectsManagementServiceRegistryEntry",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ProcessedImportResponse",(function(){return lib["ProcessedImportResponse"]}));__webpack_require__.d(__webpack_exports__,"processImportResponse",(function(){return lib["processImportResponse"]}));__webpack_require__.d(__webpack_exports__,"FailedImport",(function(){return lib["FailedImport"]}));__webpack_require__.d(__webpack_exports__,"SavedObjectRelation",(function(){return types["SavedObjectRelation"]}));__webpack_require__.d(__webpack_exports__,"SavedObjectWithMetadata",(function(){return types["SavedObjectWithMetadata"]}));__webpack_require__.d(__webpack_exports__,"SavedObjectMetadata",(function(){return types["SavedObjectMetadata"]}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var public_=__webpack_require__(8);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsManagementActionService=function(){function SavedObjectsManagementActionService(){_classCallCheck(this,SavedObjectsManagementActionService);_defineProperty(this,"actions",new Map)}_createClass(SavedObjectsManagementActionService,[{key:"setup",value:function setup(){var _this=this;return{register:function register(action){if(_this.actions.has(action.id)){throw new Error("Saved Objects Management Action with id '".concat(action.id,"' already exists"))}_this.actions.set(action.id,action)}}}},{key:"start",value:function start(){var _this2=this;return{has:function has(actionId){return _this2.actions.has(actionId)},getAll:function getAll(){return _toConsumableArray(_this2.actions.values())}}}}]);return SavedObjectsManagementActionService}();function column_service_toConsumableArray(arr){return column_service_arrayWithoutHoles(arr)||column_service_iterableToArray(arr)||column_service_unsupportedIterableToArray(arr)||column_service_nonIterableSpread()}function column_service_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function column_service_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return column_service_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return column_service_arrayLikeToArray(o,minLen)}function column_service_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function column_service_arrayWithoutHoles(arr){if(Array.isArray(arr))return column_service_arrayLikeToArray(arr)}function column_service_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function column_service_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function column_service_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function column_service_createClass(Constructor,protoProps,staticProps){if(protoProps)column_service_defineProperties(Constructor.prototype,protoProps);if(staticProps)column_service_defineProperties(Constructor,staticProps);return Constructor}function column_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsManagementColumnService=function(){function SavedObjectsManagementColumnService(){column_service_classCallCheck(this,SavedObjectsManagementColumnService);column_service_defineProperty(this,"columns",new Map)}column_service_createClass(SavedObjectsManagementColumnService,[{key:"setup",value:function setup(){var _this=this;return{register:function register(column){if(_this.columns.has(column.id)){throw new Error("Saved Objects Management Column with id '".concat(column.id,"' already exists"))}_this.columns.set(column.id,column)}}}},{key:"start",value:function start(){var _this2=this;return{getAll:function getAll(){return column_service_toConsumableArray(_this2.columns.values())}}}}]);return SavedObjectsManagementColumnService}();function service_registry_toConsumableArray(arr){return service_registry_arrayWithoutHoles(arr)||service_registry_iterableToArray(arr)||service_registry_unsupportedIterableToArray(arr)||service_registry_nonIterableSpread()}function service_registry_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function service_registry_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return service_registry_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return service_registry_arrayLikeToArray(o,minLen)}function service_registry_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function service_registry_arrayWithoutHoles(arr){if(Array.isArray(arr))return service_registry_arrayLikeToArray(arr)}function service_registry_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function service_registry_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function service_registry_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function service_registry_createClass(Constructor,protoProps,staticProps){if(protoProps)service_registry_defineProperties(Constructor.prototype,protoProps);if(staticProps)service_registry_defineProperties(Constructor,staticProps);return Constructor}function service_registry_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsManagementServiceRegistry=function(){function SavedObjectsManagementServiceRegistry(){service_registry_classCallCheck(this,SavedObjectsManagementServiceRegistry);service_registry_defineProperty(this,"registry",new Map)}service_registry_createClass(SavedObjectsManagementServiceRegistry,[{key:"register",value:function register(entry){if(this.registry.has(entry.id)){throw new Error("")}this.registry.set(entry.id,entry)}},{key:"all",value:function all(){return service_registry_toConsumableArray(this.registry.values())}},{key:"get",value:function get(id){return this.registry.get(id)}}]);return SavedObjectsManagementServiceRegistry}();function action_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function action_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function action_createClass(Constructor,protoProps,staticProps){if(protoProps)action_defineProperties(Constructor.prototype,protoProps);if(staticProps)action_defineProperties(Constructor,staticProps);return Constructor}function action_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SavedObjectsManagementAction=function(){function SavedObjectsManagementAction(){action_classCallCheck(this,SavedObjectsManagementAction);action_defineProperty(this,"render",void 0);action_defineProperty(this,"id",void 0);action_defineProperty(this,"euiAction",void 0);action_defineProperty(this,"refreshOnFinish",void 0);action_defineProperty(this,"callbacks",[]);action_defineProperty(this,"record",null)}action_createClass(SavedObjectsManagementAction,[{key:"registerOnFinishCallback",value:function registerOnFinishCallback(callback){this.callbacks.push(callback)}},{key:"start",value:function start(record){this.record=record}},{key:"finish",value:function finish(){this.record=null;this.callbacks.forEach((function(callback){return callback()}))}}]);return SavedObjectsManagementAction}();var column=__webpack_require__(6);var record=__webpack_require__(7);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||register_services_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function register_services_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return register_services_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return register_services_arrayLikeToArray(o,minLen)}function register_services_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var registerServices=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(registry,getStartServices){var _yield$getStartServic,_yield$getStartServic2,_yield$getStartServic3,dashboard,visualizations,discover;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getStartServices();case 2:_yield$getStartServic=_context.sent;_yield$getStartServic2=_slicedToArray(_yield$getStartServic,2);_yield$getStartServic3=_yield$getStartServic2[1];dashboard=_yield$getStartServic3.dashboard;visualizations=_yield$getStartServic3.visualizations;discover=_yield$getStartServic3.discover;if(dashboard){registry.register({id:"savedDashboards",title:"dashboards",service:dashboard.getSavedDashboardLoader()})}if(visualizations){registry.register({id:"savedVisualizations",title:"visualizations",service:visualizations.savedVisualizationsLoader})}if(discover){registry.register({id:"savedSearches",title:"searches",service:discover.savedSearchLoader})}case 11:case"end":return _context.stop()}}}),_callee)})));return function registerServices(_x,_x2){return _ref.apply(this,arguments)}}();function plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function plugin_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function plugin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function plugin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function plugin_createClass(Constructor,protoProps,staticProps){if(protoProps)plugin_defineProperties(Constructor.prototype,protoProps);if(staticProps)plugin_defineProperties(Constructor,staticProps);return Constructor}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var plugin_SavedObjectsManagementPlugin=function(){function SavedObjectsManagementPlugin(){plugin_classCallCheck(this,SavedObjectsManagementPlugin);plugin_defineProperty(this,"actionService",new SavedObjectsManagementActionService);plugin_defineProperty(this,"columnService",new SavedObjectsManagementColumnService);plugin_defineProperty(this,"serviceRegistry",new SavedObjectsManagementServiceRegistry)}plugin_createClass(SavedObjectsManagementPlugin,[{key:"setup",value:function setup(core,_ref){var _this=this;var home=_ref.home,management=_ref.management;var actionSetup=this.actionService.setup();var columnSetup=this.columnService.setup();if(home){home.featureCatalogue.register({id:"saved_objects",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objects.savedObjectsTitle",{defaultMessage:"Saved Objects"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objects.savedObjectsDescription",{defaultMessage:"Import, export, and manage your saved searches, visualizations, and dashboards."}),icon:"savedObjectsApp",path:"/app/management/kibana/objects",showOnHomePage:false,category:public_["FeatureCatalogueCategory"].ADMIN})}var kibanaSection=management.sections.section.kibana;kibanaSection.registerApp({id:"objects",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.managementSectionLabel",{defaultMessage:"Saved Objects"}),order:1,mount:function(){var _mount=plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee(mountParams){var _yield$import,mountManagementSection;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(4).then(__webpack_require__.bind(null,98));case 2:_yield$import=_context.sent;mountManagementSection=_yield$import.mountManagementSection;return _context.abrupt("return",mountManagementSection({core:core,serviceRegistry:_this.serviceRegistry,mountParams:mountParams}));case 5:case"end":return _context.stop()}}}),_callee)})));function mount(_x){return _mount.apply(this,arguments)}return mount}()});registerServices(this.serviceRegistry,core.getStartServices);return{actions:actionSetup,columns:columnSetup,serviceRegistry:this.serviceRegistry}}},{key:"start",value:function start(core,_ref2){var data=_ref2.data;var actionStart=this.actionService.start();var columnStart=this.columnService.start();return{actions:actionStart,columns:columnStart}}}]);return SavedObjectsManagementPlugin}();var lib=__webpack_require__(4);var types=__webpack_require__(5);function public_plugin(initializerContext){return new plugin_SavedObjectsManagementPlugin}},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Moment}]);