(window["visTypeTimelion_bundle_jsonpfunction"]=window["visTypeTimelion_bundle_jsonpfunction"]||[]).push([[1],{25:function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},26:function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},27:function(module,exports){module.exports=function(){"use strict";function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor}function peg$SyntaxError(message,expected,found,location){this.message=message;this.expected=expected;this.found=found;this.location=location;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,peg$SyntaxError)}}peg$subclass(peg$SyntaxError,Error);function peg$parse(input){var options=arguments.length>1?arguments[1]:{},parser=this,peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c0=function peg$c0(tree){return{tree:tree.filter((function(o){return o!=null})),functions:functions,args:args,variables:variables}},peg$c1=",",peg$c2={type:"literal",value:",",description:'","'},peg$c3=function peg$c3(first,arg){return arg},peg$c4=function peg$c4(first,rest){return[first].concat(rest)},peg$c5="=",peg$c6={type:"literal",value:"=",description:'"="'},peg$c7=function peg$c7(name,value){var arg={type:"namedArg",name:name,value:value,location:simpleLocation(location()),text:text()};currentArgs.push(arg);return arg},peg$c8=function peg$c8(value){var exception={type:"incompleteArgument",currentArgs:currentArgs,currentFunction:currentFunction,location:simpleLocation(location()),text:text()};error(JSON.stringify(exception))},peg$c9=function peg$c9(name){var exception={type:"incompleteArgumentValue",currentArgs:currentArgs,currentFunction:currentFunction,name:name,location:simpleLocation(location()),text:text()};error(JSON.stringify(exception))},peg$c10=function peg$c10(element){return element},peg$c11=function peg$c11(literal){var result=ltoo(literal);result.location=simpleLocation(location()),result.text=text();return result},peg$c12="$",peg$c13={type:"literal",value:"$",description:'"$"'},peg$c14=function peg$c14(name){if(variables[name]){return variables[name]}else{error("$"+name+" is not defined")}},peg$c15=function peg$c15(name,value){variables[name]=value},peg$c16=function peg$c16(first,series){return series},peg$c17=function peg$c17(first,rest){return[first].concat(rest)},peg$c18=/^[a-zA-Z]/,peg$c19={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},peg$c20=/^[.a-zA-Z0-9_\-]/,peg$c21={type:"class",value:"[.a-zA-Z0-9_-]",description:"[.a-zA-Z0-9_-]"},peg$c22=function peg$c22(first,rest){currentFunction=first.join("")+rest.join("");currentArgs=[];return currentFunction},peg$c23=function peg$c23(first,rest){return first.join("")+rest.join("")},peg$c24={type:"other",description:"function"},peg$c25=".",peg$c26={type:"literal",value:".",description:'"."'},peg$c27="(",peg$c28={type:"literal",value:"(",description:'"("'},peg$c29=")",peg$c30={type:"literal",value:")",description:'")"'},peg$c31=function peg$c31(name,arg_list){var result={type:"function",function:name,arguments:arg_list||[],location:simpleLocation(location()),text:text()};result.arguments.forEach((function(arg){arg.function=name;args.push(arg)}));functions.push(result);return result},peg$c32=function peg$c32(func){var exception={type:"incompleteFunction",function:func,location:simpleLocation(location()),text:text()};error(JSON.stringify(exception))},peg$c33="@",peg$c34={type:"literal",value:"@",description:'"@"'},peg$c35=":",peg$c36={type:"literal",value:":",description:'":"'},peg$c37=function peg$c37(plot,series){return{type:"reference",plot:plot,series:series}},peg$c38=function peg$c38(plot){return{type:"reference",plot:plot}},peg$c39=function peg$c39(func,rest){return{type:"chain",chain:[func].concat(rest)}},peg$c40=function peg$c40(grouped,functions){var first={type:"chainList",list:grouped};first.label=text();return{type:"chain",chain:[first].concat(functions)}},peg$c41={type:"other",description:"literal"},peg$c42='"',peg$c43={type:"literal",value:'"',description:'"\\""'},peg$c44=function peg$c44(chars){return chars.join("")},peg$c45="'",peg$c46={type:"literal",value:"'",description:'"\'"'},peg$c47="true",peg$c48={type:"literal",value:"true",description:'"true"'},peg$c49=function peg$c49(){return true},peg$c50="false",peg$c51={type:"literal",value:"false",description:'"false"'},peg$c52=function peg$c52(){return false},peg$c53="null",peg$c54={type:"literal",value:"null",description:'"null"'},peg$c55=function peg$c55(){return null},peg$c56=/^[^()"',= \t]/,peg$c57={type:"class",value:"[^()\"',=\\ \\t]",description:"[^()\"',=\\ \\t]"},peg$c58=function peg$c58(string){var result=string.join("");if(isNaN(Number(result)))return result;return Number(result)},peg$c59=/^[ \t\r\n]/,peg$c60={type:"class",value:"[\\ \\t\\r\\n]",description:"[\\ \\t\\r\\n]"},peg$c61="\\",peg$c62={type:"literal",value:"\\",description:'"\\\\"'},peg$c63=function peg$c63(sequence){return sequence},peg$c64=/^[^"]/,peg$c65={type:"class",value:'[^"]',description:'[^"]'},peg$c66=/^[^']/,peg$c67={type:"class",value:"[^']",description:"[^']"},peg$c68=/^[0-9]/,peg$c69={type:"class",value:"[0-9]",description:"[0-9]"},peg$c70=function peg$c70(digits){return parseInt(digits.join(""))},peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1,seenCR:false}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+'".')}peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$savedPos,peg$currPos)}function location(){return peg$computeLocation(peg$savedPos,peg$currPos)}function expected(description){throw peg$buildException(null,[{type:"other",description:description}],input.substring(peg$savedPos,peg$currPos),peg$computeLocation(peg$savedPos,peg$currPos))}function error(message){throw peg$buildException(message,null,input.substring(peg$savedPos,peg$currPos),peg$computeLocation(peg$savedPos,peg$currPos))}function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos],p,ch;if(details){return details}else{p=pos-1;while(!peg$posDetailsCache[p]){p--}details=peg$posDetailsCache[p];details={line:details.line,column:details.column,seenCR:details.seenCR};while(p<pos){ch=input.charAt(p);if(ch==="\n"){if(!details.seenCR){details.line++}details.column=1;details.seenCR=false}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){details.line++;details.column=1;details.seenCR=true}else{details.column++;details.seenCR=false}p++}peg$posDetailsCache[pos]=details;return details}}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[]}peg$maxFailExpected.push(expected)}function peg$buildException(message,expected,found,location){function cleanupExpected(expected){var i=1;expected.sort((function(a,b){if(a.description<b.description){return-1}else if(a.description>b.description){return 1}else{return 0}}));while(i<expected.length){if(expected[i-1]===expected[i]){expected.splice(i,1)}else{i++}}}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(ch){return"\\x"+hex(ch)})).replace(/[\u0100-\u0FFF]/g,(function(ch){return"\\u0"+hex(ch)})).replace(/[\u1000-\uFFFF]/g,(function(ch){return"\\u"+hex(ch)}))}var expectedDescs=new Array(expected.length),expectedDesc,foundDesc,i;for(i=0;i<expected.length;i++){expectedDescs[i]=expected[i].description}expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0];foundDesc=found?'"'+stringEscape(found)+'"':"end of input";return"Expected "+expectedDesc+" but "+foundDesc+" found."}if(expected!==null){cleanupExpected(expected)}return new peg$SyntaxError(message!==null?message:buildMessage(expected,found),expected,found,location)}function peg$parsestart(){var s0,s1,s2;s0=peg$currPos;s1=peg$parsespace();if(s1===peg$FAILED){s1=null}if(s1!==peg$FAILED){s2=peg$parseseries();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c0(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parsearg_list(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseargument();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c1;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c2)}}if(s5!==peg$FAILED){s6=peg$parsespace();if(s6===peg$FAILED){s6=null}if(s6!==peg$FAILED){s7=peg$parseargument();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c3(s1,s7);s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c1;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c2)}}if(s5!==peg$FAILED){s6=peg$parsespace();if(s6===peg$FAILED){s6=null}if(s6!==peg$FAILED){s7=peg$parseargument();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c3(s1,s7);s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){s3=peg$parsespace();if(s3===peg$FAILED){s3=null}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s4=peg$c1;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c2)}}if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c4(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseargument(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseargument_name();if(s1!==peg$FAILED){s2=peg$parsespace();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c5;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s3!==peg$FAILED){s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){s5=peg$parsearg_type();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c7(s1,s5);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsespace();if(s1===peg$FAILED){s1=null}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s2=peg$c5;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s2!==peg$FAILED){s3=peg$parsespace();if(s3===peg$FAILED){s3=null}if(s3!==peg$FAILED){s4=peg$parsearg_type();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c8(s4);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseargument_name();if(s1!==peg$FAILED){s2=peg$parsespace();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c5;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c9(s1);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsearg_type();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c10(s1)}s0=s1}}}return s0}function peg$parsearg_type(){var s0,s1;s0=peg$parsevariable_get();if(s0===peg$FAILED){s0=peg$parseseries_type();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseliteral();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c11(s1)}s0=s1}}return s0}function peg$parsevariable_get(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===36){s1=peg$c12;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}if(s1!==peg$FAILED){s2=peg$parseargument_name();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c14(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parsevariable_set(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===36){s1=peg$c12;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}if(s1!==peg$FAILED){s2=peg$parseargument_name();if(s2!==peg$FAILED){s3=peg$parsespace();if(s3===peg$FAILED){s3=null}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s4=peg$c5;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s4!==peg$FAILED){s5=peg$parsespace();if(s5===peg$FAILED){s5=null}if(s5!==peg$FAILED){s6=peg$parsearg_type();if(s6!==peg$FAILED){peg$savedPos=s0;s1=peg$c15(s2,s6);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseseries_type(){var s0;s0=peg$parsevariable_set();if(s0===peg$FAILED){s0=peg$parsevariable_get();if(s0===peg$FAILED){s0=peg$parsegroup();if(s0===peg$FAILED){s0=peg$parsechain();if(s0===peg$FAILED){s0=peg$parsereference()}}}}return s0}function peg$parseseries(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseseries_type();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c1;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c2)}}if(s5!==peg$FAILED){s6=peg$parsespace();if(s6===peg$FAILED){s6=null}if(s6!==peg$FAILED){s7=peg$parseseries_type();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c16(s1,s7);s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c1;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c2)}}if(s5!==peg$FAILED){s6=peg$parsespace();if(s6===peg$FAILED){s6=null}if(s6!==peg$FAILED){s7=peg$parseseries_type();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c16(s1,s7);s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s3=peg$c1;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c2)}}if(s3===peg$FAILED){s3=null}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c17(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parsefunction_name(){var s0,s1,s2,s3;s0=peg$currPos;s1=[];if(peg$c18.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c18.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}}}else{s1=peg$FAILED}if(s1!==peg$FAILED){s2=[];if(peg$c20.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c21)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c20.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c21)}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c22(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseargument_name(){var s0,s1,s2,s3;s0=peg$currPos;s1=[];if(peg$c18.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c18.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}}}else{s1=peg$FAILED}if(s1!==peg$FAILED){s2=[];if(peg$c20.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c21)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c20.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c21)}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c23(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parsefunction(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;peg$silentFails++;s0=peg$currPos;s1=peg$parsespace();if(s1===peg$FAILED){s1=null}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s2=peg$c25;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c26)}}if(s2!==peg$FAILED){s3=peg$parsefunction_name();if(s3!==peg$FAILED){s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===40){s5=peg$c27;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28)}}if(s5!==peg$FAILED){s6=peg$parsespace();if(s6===peg$FAILED){s6=null}if(s6!==peg$FAILED){s7=peg$parsearg_list();if(s7===peg$FAILED){s7=null}if(s7!==peg$FAILED){s8=peg$parsespace();if(s8===peg$FAILED){s8=null}if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s9=peg$c29;peg$currPos++}else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30)}}if(s9!==peg$FAILED){s10=peg$parsespace();if(s10===peg$FAILED){s10=null}if(s10!==peg$FAILED){peg$savedPos=s0;s1=peg$c31(s3,s7);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s1=peg$c25;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c26)}}if(s1!==peg$FAILED){s2=peg$parsefunction_name();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c32(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24)}}return s0}function peg$parsereference(){var s0,s1,s2,s3,s4;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===64){s1=peg$c33;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c34)}}if(s1!==peg$FAILED){s2=peg$parseinteger();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s3=peg$c35;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c36)}}if(s3!==peg$FAILED){s4=peg$parseinteger();if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c37(s2,s4);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===64){s1=peg$c33;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c34)}}if(s1!==peg$FAILED){s2=peg$parseinteger();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c38(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}return s0}function peg$parsechain(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parsefunction();if(s1!==peg$FAILED){s2=peg$parsespace();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){s3=[];s4=peg$parsefunction();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsefunction()}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c39(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parsegroup(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c27;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28)}}if(s1!==peg$FAILED){s2=peg$parsespace();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){s3=peg$parseseries();if(s3!==peg$FAILED){s4=peg$parsespace();if(s4===peg$FAILED){s4=null}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c29;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30)}}if(s5!==peg$FAILED){s6=[];s7=peg$parsefunction();while(s7!==peg$FAILED){s6.push(s7);s7=peg$parsefunction()}if(s6!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s3,s6);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseliteral(){var s0,s1,s2,s3;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c42;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s1!==peg$FAILED){s2=[];s3=peg$parsedq_char();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedq_char()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s3=peg$c42;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c44(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c45;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c46)}}if(s1!==peg$FAILED){s2=[];s3=peg$parsesq_char();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsesq_char()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c45;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c46)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c44(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c47){s1=peg$c47;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c49()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c50){s1=peg$c50;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c51)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c52()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c53){s1=peg$c53;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c54)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c55()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=[];if(peg$c56.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c57)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c56.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c57)}}}}else{s1=peg$FAILED}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c58(s1)}s0=s1}}}}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c41)}}return s0}function peg$parsespace(){var s0,s1;s0=[];if(peg$c59.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c60)}}if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);if(peg$c59.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c60)}}}}else{s0=peg$FAILED}return s0}function peg$parsedq_char(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c61;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c62)}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s2=peg$c42;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s2=peg$c61;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c62)}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c63(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){if(peg$c64.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}}return s0}function peg$parsesq_char(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c61;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c62)}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s2=peg$c45;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c46)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s2=peg$c61;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c62)}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c63(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){if(peg$c66.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c67)}}}return s0}function peg$parseinteger(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c68.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c69)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c68.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c69)}}}}else{s1=peg$FAILED}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70(s1)}s0=s1;return s0}function ltoo(literal){return{type:"literal",value:literal}}function simpleLocation(location){return{min:location.start.offset,max:location.end.offset}}var currentFunction;var currentArgs=[];var functions=[];var args=[];var variables={};peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result}else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail({type:"end",description:"end of input"})}throw peg$buildException(null,peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}return{SyntaxError:peg$SyntaxError,parse:peg$parse}}()},28:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(29);case"v7light":return __webpack_require__(31);case"v8dark":return __webpack_require__(33);case"v8light":return __webpack_require__(35)}},29:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(30);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},30:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".timExpressionInput {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px; }\n\n.timExpressionInput__editor {\n  flex: 1;\n  position: relative;\n  padding-top: 8px; }\n\n.timExpressionInput__absolute {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0; }\n\n@media only screen and (max-width: 574px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n.visEditor--timelion .visEditorSidebar__timelionOptions {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column; }\n",""]);module.exports=exports},31:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(32);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},32:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".timExpressionInput {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px; }\n\n.timExpressionInput__editor {\n  flex: 1;\n  position: relative;\n  padding-top: 8px; }\n\n.timExpressionInput__absolute {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0; }\n\n@media only screen and (max-width: 574px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n.visEditor--timelion .visEditorSidebar__timelionOptions {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column; }\n",""]);module.exports=exports},33:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(34);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},34:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".timExpressionInput {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px; }\n\n.timExpressionInput__editor {\n  flex: 1;\n  position: relative;\n  padding-top: 8px; }\n\n.timExpressionInput__absolute {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0; }\n\n@media only screen and (max-width: 574px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n.visEditor--timelion .visEditorSidebar__timelionOptions {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column; }\n",""]);module.exports=exports},35:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(36);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},36:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".timExpressionInput {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px; }\n\n.timExpressionInput__editor {\n  flex: 1;\n  position: relative;\n  padding-top: 8px; }\n\n.timExpressionInput__absolute {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0; }\n\n@media only screen and (max-width: 574px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .timExpressionInput__editor {\n    flex: auto;\n    height: 240px;\n    max-height: 240px; } }\n\n.visEditor--timelion .visEditorSidebar__timelionOptions {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column; }\n",""]);module.exports=exports},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return TimelionOptions}));var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(21);var public_=__webpack_require__(12);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(24);var external_kbnSharedDeps_KbnMonaco_=__webpack_require__(22);var external_kbnSharedDeps_Lodash_=__webpack_require__(0);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var chain=__webpack_require__(27);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var SUGGESTION_TYPE;(function(SUGGESTION_TYPE){SUGGESTION_TYPE["ARGUMENTS"]="arguments";SUGGESTION_TYPE["ARGUMENT_VALUE"]="argument_value";SUGGESTION_TYPE["FUNCTIONS"]="functions"})(SUGGESTION_TYPE||(SUGGESTION_TYPE={}));function inLocation(cursorPosition,location){return cursorPosition>=location.min&&cursorPosition<=location.max}function getArgumentsHelp(functionHelp){var functionArgs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!functionHelp){return[]}var argsHelp=functionHelp.chainable?functionHelp.args.slice(1):functionHelp.args.slice(0);var functionArgNames=functionArgs.map((function(arg){return arg.name}));return argsHelp.filter((function(arg){return!functionArgNames.includes(arg.name)}))}function extractSuggestionsFromParsedResult(_x,_x2,_x3,_x4){return _extractSuggestionsFromParsedResult.apply(this,arguments)}function _extractSuggestionsFromParsedResult(){_extractSuggestionsFromParsedResult=_asyncToGenerator(regeneratorRuntime.mark((function _callee(result,cursorPosition,functionList,argValueSuggestions){var activeFunc,functionHelp,openParen,activeArg,functionName,functionArgs,argName,partialInput,valueSuggestions,_ref3,staticSuggestions,argsHelp,argumentSuggestions;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:activeFunc=result.functions.find((function(_ref){var location=_ref.location;return inLocation(cursorPosition,location)}));if(activeFunc){_context.next=3;break}return _context.abrupt("return");case 3:functionHelp=functionList.find((function(_ref2){var name=_ref2.name;return name===activeFunc.function}));if(functionHelp){_context.next=6;break}return _context.abrupt("return");case 6:openParen=activeFunc.location.min+activeFunc.function.length+2;if(!(cursorPosition<openParen)){_context.next=9;break}return _context.abrupt("return",{list:[functionHelp],type:SUGGESTION_TYPE.FUNCTIONS});case 9:activeArg=activeFunc.arguments.find((function(argument){return inLocation(cursorPosition,argument.location)}));if(!(activeArg&&activeArg.type==="namedArg"&&inLocation(cursorPosition,activeArg.value.location))){_context.next=22;break}functionName=activeFunc.function,functionArgs=activeFunc.arguments;argName=activeArg.name,partialInput=activeArg.value.text;if(!argValueSuggestions.hasDynamicSuggestionsForArgument(functionName,argName)){_context.next=19;break}_context.next=16;return argValueSuggestions.getDynamicSuggestionsForArgument(functionName,argName,functionArgs,partialInput);case 16:valueSuggestions=_context.sent;_context.next=21;break;case 19:_ref3=functionHelp.args.find((function(arg){return arg.name===activeArg.name}))||{},staticSuggestions=_ref3.suggestions;valueSuggestions=argValueSuggestions.getStaticSuggestionsForInput(partialInput,staticSuggestions);case 21:return _context.abrupt("return",{list:valueSuggestions,type:SUGGESTION_TYPE.ARGUMENT_VALUE});case 22:argsHelp=getArgumentsHelp(functionHelp,activeFunc.arguments);argumentSuggestions=argsHelp.filter((function(arg){if(Object(external_kbnSharedDeps_Lodash_["get"])(activeArg,"type")==="namedArg"){return Object(external_kbnSharedDeps_Lodash_["startsWith"])(arg.name,activeArg.name)}else if(activeArg){return Object(external_kbnSharedDeps_Lodash_["startsWith"])(arg.name,activeArg.text)}return true}));return _context.abrupt("return",{list:argumentSuggestions,type:SUGGESTION_TYPE.ARGUMENTS});case 25:case"end":return _context.stop()}}}),_callee)})));return _extractSuggestionsFromParsedResult.apply(this,arguments)}function suggest(_x5,_x6,_x7,_x8){return _suggest.apply(this,arguments)}function _suggest(){_suggest=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(expression,functionList,cursorPosition,argValueSuggestions){var result,message,list,_message,functionName,functionArgs,functionHelp,_message2,argName,_functionName,_functionArgs,valueSuggestions,_functionHelp,argHelp;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Object(chain["parse"])(expression);case 3:result=_context2.sent;_context2.next=6;return extractSuggestionsFromParsedResult(result,cursorPosition,functionList,argValueSuggestions);case 6:return _context2.abrupt("return",_context2.sent);case 9:_context2.prev=9;_context2.t0=_context2["catch"](0);_context2.prev=11;message=JSON.parse(_context2.t0.message);_context2.next=18;break;case 15:_context2.prev=15;_context2.t1=_context2["catch"](11);return _context2.abrupt("return");case 18:_context2.t2=message.type;_context2.next=_context2.t2==="incompleteFunction"?21:_context2.t2==="incompleteArgument"?23:_context2.t2==="incompleteArgumentValue"?26:37;break;case 21:if(message.function){list=functionList.filter((function(func){return Object(external_kbnSharedDeps_Lodash_["startsWith"])(func.name,message.function)}))}else{list=functionList}return _context2.abrupt("return",{list:list,type:SUGGESTION_TYPE.FUNCTIONS});case 23:_message=message,functionName=_message.currentFunction,functionArgs=_message.currentArgs;functionHelp=functionList.find((function(func){return func.name===functionName}));return _context2.abrupt("return",{list:getArgumentsHelp(functionHelp,functionArgs),type:SUGGESTION_TYPE.ARGUMENTS});case 26:_message2=message,argName=_message2.name,_functionName=_message2.currentFunction,_functionArgs=_message2.currentArgs;valueSuggestions=[];if(!argValueSuggestions.hasDynamicSuggestionsForArgument(_functionName,argName)){_context2.next=34;break}_context2.next=31;return argValueSuggestions.getDynamicSuggestionsForArgument(_functionName,argName,_functionArgs);case 31:valueSuggestions=_context2.sent;_context2.next=36;break;case 34:_functionHelp=functionList.find((function(func){return func.name===_functionName}));if(_functionHelp){argHelp=_functionHelp.args.find((function(arg){return arg.name===argName}));if(argHelp&&argHelp.suggestions){valueSuggestions=argHelp.suggestions}}case 36:return _context2.abrupt("return",{list:valueSuggestions,type:SUGGESTION_TYPE.ARGUMENT_VALUE});case 37:case"end":return _context2.stop()}}}),_callee2,null,[[0,9],[11,15]])})));return _suggest.apply(this,arguments)}function getSuggestion(suggestion,type,range){var kind=external_kbnSharedDeps_KbnMonaco_["monaco"].languages.CompletionItemKind.Method;var insertText=suggestion.name;var insertTextRules;var detail="";var command;switch(type){case SUGGESTION_TYPE.ARGUMENTS:command={title:"Trigger Suggestion Dialog",id:"editor.action.triggerSuggest"};kind=external_kbnSharedDeps_KbnMonaco_["monaco"].languages.CompletionItemKind.Property;insertText="".concat(insertText,"=");detail="".concat(external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.expressionSuggestions.argument.description.acceptsText",{defaultMessage:"Accepts"}),": ").concat(suggestion.types);break;case SUGGESTION_TYPE.FUNCTIONS:command={title:"Trigger Suggestion Dialog",id:"editor.action.triggerSuggest"};kind=external_kbnSharedDeps_KbnMonaco_["monaco"].languages.CompletionItemKind.Function;insertText="".concat(insertText,"($0)");insertTextRules=external_kbnSharedDeps_KbnMonaco_["monaco"].languages.CompletionItemInsertTextRule.InsertAsSnippet;detail="(".concat(suggestion.chainable?external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.expressionSuggestions.func.description.chainableHelpText",{defaultMessage:"Chainable"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.expressionSuggestions.func.description.dataSourceHelpText",{defaultMessage:"Data source"}),")");break;case SUGGESTION_TYPE.ARGUMENT_VALUE:var param=suggestion.name.split(":");if(param.length===1||param[1]){insertText="".concat(param.length===1?insertText:param[1],",")}command={title:"Trigger Suggestion Dialog",id:"editor.action.triggerSuggest"};kind=external_kbnSharedDeps_KbnMonaco_["monaco"].languages.CompletionItemKind.Property;detail=suggestion.help||"";break}return{detail:detail,insertText:insertText,insertTextRules:insertTextRules,kind:kind,label:suggestion.name,documentation:suggestion.help,command:command,range:range}}var arg_value_suggestions=__webpack_require__(17);function timelion_expression_input_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function timelion_expression_input_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){timelion_expression_input_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){timelion_expression_input_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var LANGUAGE_ID="timelion_expression";external_kbnSharedDeps_KbnMonaco_["monaco"].languages.register({id:LANGUAGE_ID});function TimelionExpressionInput(_ref){var value=_ref.value,setValue=_ref.setValue;var functionList=Object(external_kbnSharedDeps_React_["useRef"])([]);var kibana=Object(public_["useKibana"])();var argValueSuggestions=Object(external_kbnSharedDeps_React_["useMemo"])(arg_value_suggestions["a"],[]);var provideCompletionItems=Object(external_kbnSharedDeps_React_["useCallback"])(function(){var _ref2=timelion_expression_input_asyncToGenerator(regeneratorRuntime.mark((function _callee(model,position){var text,wordUntil,wordRange,suggestions;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:text=model.getValue();wordUntil=model.getWordUntilPosition(position);wordRange=new external_kbnSharedDeps_KbnMonaco_["monaco"].Range(position.lineNumber,wordUntil.startColumn,position.lineNumber,wordUntil.endColumn);_context.next=5;return suggest(text,functionList.current,position.column-1,argValueSuggestions);case 5:suggestions=_context.sent;return _context.abrupt("return",{suggestions:suggestions?suggestions.list.map((function(s){return getSuggestion(s,suggestions.type,wordRange)})):[]});case 7:case"end":return _context.stop()}}}),_callee)})));return function(_x,_x2){return _ref2.apply(this,arguments)}}(),[argValueSuggestions]);var provideHover=Object(external_kbnSharedDeps_React_["useCallback"])(function(){var _ref3=timelion_expression_input_asyncToGenerator(regeneratorRuntime.mark((function _callee2(model,position){var suggestions;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return suggest(model.getValue(),functionList.current,position.column-1,argValueSuggestions);case 2:suggestions=_context2.sent;return _context2.abrupt("return",{contents:suggestions?suggestions.list.map((function(s){return{value:s.help}})):[]});case 4:case"end":return _context2.stop()}}}),_callee2)})));return function(_x3,_x4){return _ref3.apply(this,arguments)}}(),[argValueSuggestions]);Object(external_kbnSharedDeps_React_["useEffect"])((function(){if(kibana.services.http){kibana.services.http.get("../api/timelion/functions").then((function(data){functionList.current=data}))}}),[kibana.services.http]);return external_kbnSharedDeps_React_default.a.createElement("div",{className:"timExpressionInput"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormLabel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"timelion.vis.expressionLabel",defaultMessage:"Timelion expression"})),external_kbnSharedDeps_React_default.a.createElement("div",{className:"timExpressionInput__editor"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"timExpressionInput__absolute"},external_kbnSharedDeps_React_default.a.createElement(public_["CodeEditor"],{languageId:LANGUAGE_ID,value:value,onChange:setValue,suggestionProvider:{triggerCharacters:[".",",","(","=",":"],provideCompletionItems:provideCompletionItems},hoverProvider:{provideHover:provideHover},options:{fixedOverflowWidgets:true,fontSize:14,folding:false,lineNumbers:"off",scrollBeyondLastLine:false,minimap:{enabled:false},wordBasedSuggestions:false,wordWrap:"on",wrappingIndent:"indent"},languageConfiguration:{autoClosingPairs:[{open:"(",close:")"}]}}))))}var data_public_=__webpack_require__(3);var visDefaultEditor_public_=__webpack_require__(16);var isValidEsInterval=data_public_["search"].aggs.isValidEsInterval;var intervalOptions=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.auto",{defaultMessage:"Auto"}),value:"auto"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.second",{defaultMessage:"1 second"}),value:"1s"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.minute",{defaultMessage:"1 minute"}),value:"1m"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.hour",{defaultMessage:"1 hour"}),value:"1h"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.day",{defaultMessage:"1 day"}),value:"1d"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.week",{defaultMessage:"1 week"}),value:"1w"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.month",{defaultMessage:"1 month"}),value:"1M"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.interval.year",{defaultMessage:"1 year"}),value:"1y"}];function TimelionInterval(_ref){var value=_ref.value,setValue=_ref.setValue,setValidity=_ref.setValidity;var onCustomInterval=Object(external_kbnSharedDeps_React_["useCallback"])((function(customValue){setValue(customValue.trim())}),[setValue]);var onChange=Object(external_kbnSharedDeps_React_["useCallback"])((function(opts){setValue(opts[0]&&opts[0].value||"")}),[setValue]);var selectedOptions=Object(external_kbnSharedDeps_React_["useMemo"])((function(){return[intervalOptions.find((function(op){return op.value===value}))||{label:value,value:value}]}),[value]);var isValid=intervalOptions.some((function(int){return int.value===value}))||isValidEsInterval(value);Object(visDefaultEditor_public_["useValidation"])(setValidity,isValid);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{compressed:true,fullWidth:true,helpText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.selectIntervalHelpText",{defaultMessage:"Select an option or create a custom value. Examples: 30s, 20m, 24h, 2d, 1w, 1M"}),isInvalid:!isValid,error:!isValid&&external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.invalidIntervalErrorMessage",{defaultMessage:"Invalid interval format."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.intervalLabel",{defaultMessage:"Interval"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{compressed:true,fullWidth:true,isInvalid:!isValid,onChange:onChange,onCreateOption:onCustomInterval,options:intervalOptions,selectedOptions:selectedOptions,singleSelection:{asPlainText:true},placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.vis.selectIntervalPlaceholder",{defaultMessage:"Select an interval"})}))}var timelion_options=__webpack_require__(28);function TimelionOptions(_ref){var services=_ref.services,stateParams=_ref.stateParams,setValue=_ref.setValue,setValidity=_ref.setValidity;var setInterval=Object(external_kbnSharedDeps_React_["useCallback"])((function(value){return setValue("interval",value)}),[setValue]);var setExpressionInput=Object(external_kbnSharedDeps_React_["useCallback"])((function(value){return setValue("expression",value)}),[setValue]);return external_kbnSharedDeps_React_default.a.createElement(public_["KibanaContextProvider"],{services:services},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{className:"visEditorSidebar__timelionOptions",paddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement(TimelionInterval,{value:stateParams.interval,setValue:setInterval,setValidity:setValidity}),external_kbnSharedDeps_React_default.a.createElement(TimelionExpressionInput,{value:stateParams.expression,setValue:setExpressionInput})))}}}]);