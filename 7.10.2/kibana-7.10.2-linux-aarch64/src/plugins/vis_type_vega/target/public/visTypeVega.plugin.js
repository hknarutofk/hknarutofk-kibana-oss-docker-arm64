(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={2:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"visTypeVega.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["visTypeVega_bundle_jsonpfunction"]=window["visTypeVega_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=21)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getData}));__webpack_require__.d(__webpack_exports__,"g",(function(){return setData}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getNotifications}));__webpack_require__.d(__webpack_exports__,"k",(function(){return setNotifications}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getUISettings}));__webpack_require__.d(__webpack_exports__,"l",(function(){return setUISettings}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getInjectedMetadata}));__webpack_require__.d(__webpack_exports__,"h",(function(){return setInjectedMetadata}));__webpack_require__.d(__webpack_exports__,"i",(function(){return setInjectedVars}));__webpack_require__.d(__webpack_exports__,"j",(function(){return setMapsLegacyConfig}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getEnableExternalUrls}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getEmsTileLayerId}));var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11);var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var _createGetterSetter=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("Data"),_createGetterSetter2=_slicedToArray(_createGetterSetter,2),getData=_createGetterSetter2[0],setData=_createGetterSetter2[1];var _createGetterSetter3=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("Notifications"),_createGetterSetter4=_slicedToArray(_createGetterSetter3,2),getNotifications=_createGetterSetter4[0],setNotifications=_createGetterSetter4[1];var _createGetterSetter5=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("UISettings"),_createGetterSetter6=_slicedToArray(_createGetterSetter5,2),getUISettings=_createGetterSetter6[0],setUISettings=_createGetterSetter6[1];var _createGetterSetter7=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("InjectedMetadata"),_createGetterSetter8=_slicedToArray(_createGetterSetter7,2),getInjectedMetadata=_createGetterSetter8[0],setInjectedMetadata=_createGetterSetter8[1];var _createGetterSetter9=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("InjectedVars"),_createGetterSetter10=_slicedToArray(_createGetterSetter9,2),getInjectedVars=_createGetterSetter10[0],setInjectedVars=_createGetterSetter10[1];var _createGetterSetter11=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_0__["createGetterSetter"])("MapsLegacyConfig"),_createGetterSetter12=_slicedToArray(_createGetterSetter11,2),getMapsLegacyConfig=_createGetterSetter12[0],setMapsLegacyConfig=_createGetterSetter12[1];var getEnableExternalUrls=function getEnableExternalUrls(){return getInjectedVars().enableExternalUrls};var getEmsTileLayerId=function getEmsTileLayerId(){return getMapsLegacyConfig().emsTileLayerId}},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";
/*!
 * Hjson v3.2.1
 * http://hjson.org
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var common=__webpack_require__(13);var version=__webpack_require__(24);var parse=__webpack_require__(25);var stringify=__webpack_require__(26);var comments=__webpack_require__(27);var dsf=__webpack_require__(15);module.exports={parse:parse,stringify:stringify,endOfLine:function(){return common.EOL},setEndOfLine:function(eol){if(eol==="\n"||eol==="\r\n")common.EOL=eol},version:version,rt:{parse:function(text,options){(options=options||{}).keepWsc=true;return parse(text,options)},stringify:function(value,options){(options=options||{}).keepWsc=true;return stringify(value,options)}},comments:comments,dsf:dsf.std}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";var os=__webpack_require__(23);function tryParseNumber(text,stopAtNext){var number,string="",leadingZeros=0,testLeading=true;var at=0;var ch;function next(){ch=text.charAt(at);at++;return ch}next();if(ch==="-"){string="-";next()}while(ch>="0"&&ch<="9"){if(testLeading){if(ch=="0")leadingZeros++;else testLeading=false}string+=ch;next()}if(testLeading)leadingZeros--;if(ch==="."){string+=".";while(next()&&ch>="0"&&ch<="9")string+=ch}if(ch==="e"||ch==="E"){string+=ch;next();if(ch==="-"||ch==="+"){string+=ch;next()}while(ch>="0"&&ch<="9"){string+=ch;next()}}while(ch&&ch<=" ")next();if(stopAtNext){if(ch===","||ch==="}"||ch==="]"||ch==="#"||ch==="/"&&(text[at]==="/"||text[at]==="*"))ch=0}number=+string;if(ch||leadingZeros||!isFinite(number))return undefined;else return number}function createComment(value,comment){if(Object.defineProperty)Object.defineProperty(value,"__COMMENTS__",{enumerable:false,writable:true});return value.__COMMENTS__=comment||{}}function removeComment(value){Object.defineProperty(value,"__COMMENTS__",{value:undefined})}function getComment(value){return value.__COMMENTS__}function forceComment(text){if(!text)return"";var a=text.split("\n");var str,i,j,len;for(j=0;j<a.length;j++){str=a[j];len=str.length;for(i=0;i<len;i++){var c=str[i];if(c==="#")break;else if(c==="/"&&(str[i+1]==="/"||str[i+1]==="*")){if(str[i+1]==="*")j=a.length;break}else if(c>" "){a[j]="# "+str;break}}}return a.join("\n")}module.exports={EOL:os.EOL||"\n",tryParseNumber:tryParseNumber,createComment:createComment,removeComment:removeComment,getComment:getComment,forceComment:forceComment}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";function loadDsf(col,type){if(Object.prototype.toString.apply(col)!=="[object Array]"){if(col)throw new Error("dsf option must contain an array!");else return nopDsf}else if(col.length===0)return nopDsf;var dsf=[];function isFunction(f){return{}.toString.call(f)==="[object Function]"}col.forEach((function(x){if(!x.name||!isFunction(x.parse)||!isFunction(x.stringify))throw new Error("extension does not match the DSF interface");dsf.push((function(){try{if(type=="parse"){return x.parse.apply(null,arguments)}else if(type=="stringify"){var res=x.stringify.apply(null,arguments);if(res!==undefined&&(typeof res!=="string"||res.length===0||res[0]==='"'||[].some.call(res,(function(c){return isInvalidDsfChar(c)}))))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+res);return res}else throw new Error("Invalid type")}catch(e){throw new Error("DSF-"+x.name+" failed; "+e.message)}}))}));return runDsf.bind(null,dsf)}function runDsf(dsf,value){if(dsf){for(var i=0;i<dsf.length;i++){var res=dsf[i](value);if(res!==undefined)return res}}}function nopDsf(){}function isInvalidDsfChar(c){return c==="{"||c==="}"||c==="["||c==="]"||c===","}function math(){return{name:"math",parse:function(value){switch(value){case"+inf":case"inf":case"+Inf":case"Inf":return Infinity;case"-inf":case"-Inf":return-Infinity;case"nan":case"NaN":return NaN}},stringify:function(value){if(typeof value!=="number")return;if(1/value===-Infinity)return"-0";if(value===Infinity)return"Inf";if(value===-Infinity)return"-Inf";if(isNaN(value))return"NaN"}}}math.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function hex(opt){var out=opt&&opt.out;return{name:"hex",parse:function(value){if(/^0x[0-9A-Fa-f]+$/.test(value))return parseInt(value,16)},stringify:function(value){if(out&&Number.isInteger(value))return"0x"+value.toString(16)}}}hex.description="parse hexadecimal numbers prefixed with 0x";function date(){return{name:"date",parse:function(value){if(/^\d{4}-\d{2}-\d{2}$/.test(value)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(value)){var dt=Date.parse(value);if(!isNaN(dt))return new Date(dt)}},stringify:function(value){if(Object.prototype.toString.call(value)==="[object Date]"){var dt=value.toISOString();if(dt.indexOf("T00:00:00.000Z",dt.length-14)!==-1)return dt.substr(0,10);else return dt}}}}date.description="support ISO dates";module.exports={loadDsf:loadDsf,std:{math:math,hex:hex,date:date}}},function(module,exports){function stringify(obj,options){options=options||{};var indent=JSON.stringify([1],null,get(options,"indent",2)).slice(2,-3);var addMargin=get(options,"margins",false);var maxLength=indent===""?Infinity:get(options,"maxLength",80);return function _stringify(obj,currentIndent,reserved){if(obj&&typeof obj.toJSON==="function"){obj=obj.toJSON()}var string=JSON.stringify(obj);if(string===undefined){return string}var length=maxLength-currentIndent.length-reserved;if(string.length<=length){var prettified=prettify(string,addMargin);if(prettified.length<=length){return prettified}}if(typeof obj==="object"&&obj!==null){var nextIndent=currentIndent+indent;var items=[];var delimiters;var comma=function(array,index){return index===array.length-1?0:1};if(Array.isArray(obj)){for(var index=0;index<obj.length;index++){items.push(_stringify(obj[index],nextIndent,comma(obj,index))||"null")}delimiters="[]"}else{Object.keys(obj).forEach((function(key,index,array){var keyPart=JSON.stringify(key)+": ";var value=_stringify(obj[key],nextIndent,keyPart.length+comma(array,index));if(value!==undefined){items.push(keyPart+value)}}));delimiters="{}"}if(items.length>0){return[delimiters[0],indent+items.join(",\n"+nextIndent),delimiters[1]].join("\n"+currentIndent)}}return string}(obj,"",0)}var stringOrChar=/("(?:[^\\"]|\\.)*")|[:,\][}{]/g;function prettify(string,addMargin){var m=addMargin?" ":"";var tokens={"{":"{"+m,"[":"["+m,"}":m+"}","]":m+"]",",":", ",":":": "};return string.replace(stringOrChar,(function(match,string){return string?match:tokens[match]}))}function get(options,name,defaultValue){return name in options?options[name]:defaultValue}module.exports=stringify},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return extractIndexPatternsFromSpec}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var extractIndexPatternsFromSpec=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spec){var _getData,indexPatterns,data;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_getData=Object(_services__WEBPACK_IMPORTED_MODULE_1__["a"])(),indexPatterns=_getData.indexPatterns;data=[];if(Array.isArray(spec.data)){data=spec.data}else if(spec.data){data=[spec.data]}_context.t0=lodash__WEBPACK_IMPORTED_MODULE_0__["flatten"];_context.next=6;return Promise.all(data.reduce((function(accumulator,currentValue){var _currentValue$url;if((_currentValue$url=currentValue.url)===null||_currentValue$url===void 0?void 0:_currentValue$url.index){accumulator.push(indexPatterns.find(currentValue.url.index))}return accumulator}),[]));case 6:_context.t1=_context.sent;return _context.abrupt("return",(0,_context.t0)(_context.t1));case 8:case"end":return _context.stop()}}}),_callee)})));return function extractIndexPatternsFromSpec(_x){return _ref.apply(this,arguments)}}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/inspector/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_visTypeVega_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22);var _node_modules_val_loader_dist_cjs_js_key_visTypeVega_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_visTypeVega_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/visTypeVega/public",__webpack_require__,47)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["visTypeVega"]},function(module,exports){exports.endianness=function(){return"LE"};exports.hostname=function(){if(typeof location!=="undefined"){return location.hostname}else return""};exports.loadavg=function(){return[]};exports.uptime=function(){return 0};exports.freemem=function(){return Number.MAX_VALUE};exports.totalmem=function(){return Number.MAX_VALUE};exports.cpus=function(){return[]};exports.type=function(){return"Browser"};exports.release=function(){if(typeof navigator!=="undefined"){return navigator.appVersion}return""};exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}};exports.arch=function(){return"javascript"};exports.platform=function(){return"browser"};exports.tmpdir=exports.tmpDir=function(){return"/tmp"};exports.EOL="\n";exports.homedir=function(){return"/"}},function(module,exports){module.exports="3.2.1"},function(module,exports,__webpack_require__){"use strict";module.exports=function(source,opt){var common=__webpack_require__(13);var dsf=__webpack_require__(15);var text;var at;var ch;var escapee={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};var keepComments;var runDsf;function resetAt(){at=0;ch=" "}function isPunctuatorChar(c){return c==="{"||c==="}"||c==="["||c==="]"||c===","||c===":"}function error(m){var i,col=0,line=1;for(i=at-1;i>0&&text[i]!=="\n";i--,col++){}for(;i>0;i--)if(text[i]==="\n")line++;throw new Error(m+" at line "+line+","+col+" >>>"+text.substr(at-col,20)+" ...")}function next(){ch=text.charAt(at);at++;return ch}function peek(offs){return text.charAt(at+offs)}function string(allowML){var string="";var exitCh=ch;while(next()){if(ch===exitCh){next();if(allowML&&exitCh==="'"&&ch==="'"&&string.length===0){next();return mlString()}else return string}if(ch==="\\"){next();if(ch==="u"){var uffff=0;for(var i=0;i<4;i++){next();var c=ch.charCodeAt(0),hex;if(ch>="0"&&ch<="9")hex=c-48;else if(ch>="a"&&ch<="f")hex=c-97+10;else if(ch>="A"&&ch<="F")hex=c-65+10;else error("Bad \\u char "+ch);uffff=uffff*16+hex}string+=String.fromCharCode(uffff)}else if(typeof escapee[ch]==="string"){string+=escapee[ch]}else break}else if(ch==="\n"||ch==="\r"){error("Bad string containing newline")}else{string+=ch}}error("Bad string")}function mlString(){var string="",triple=0;var indent=0;for(;;){var c=peek(-indent-5);if(!c||c==="\n")break;indent++}function skipIndent(){var skip=indent;while(ch&&ch<=" "&&ch!=="\n"&&skip-- >0)next()}while(ch&&ch<=" "&&ch!=="\n")next();if(ch==="\n"){next();skipIndent()}for(;;){if(!ch){error("Bad multiline string")}else if(ch==="'"){triple++;next();if(triple===3){if(string.slice(-1)==="\n")string=string.slice(0,-1);return string}else continue}else{while(triple>0){string+="'";triple--}}if(ch==="\n"){string+="\n";next();skipIndent()}else{if(ch!=="\r")string+=ch;next()}}}function keyname(){if(ch==='"'||ch==="'")return string(false);var name="",start=at,space=-1;for(;;){if(ch===":"){if(!name)error("Found ':' but no key name (for an empty key name use quotes)");else if(space>=0&&space!==name.length){at=start+space;error("Found whitespace in your key name (use quotes to include)")}return name}else if(ch<=" "){if(!ch)error("Found EOF while looking for a key name (check your syntax)");else if(space<0)space=name.length}else if(isPunctuatorChar(ch)){error("Found '"+ch+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)")}else{name+=ch}next()}}function white(){while(ch){while(ch&&ch<=" ")next();if(ch==="#"||ch==="/"&&peek(0)==="/"){while(ch&&ch!=="\n")next()}else if(ch==="/"&&peek(0)==="*"){next();next();while(ch&&!(ch==="*"&&peek(0)==="/"))next();if(ch){next();next()}}else break}}function tfnns(){var value=ch;if(isPunctuatorChar(ch))error("Found a punctuator character '"+ch+"' when expecting a quoteless string (check your syntax)");for(;;){next();var isEol=ch==="\r"||ch==="\n"||ch==="";if(isEol||ch===","||ch==="}"||ch==="]"||ch==="#"||ch==="/"&&(peek(0)==="/"||peek(0)==="*")){var chf=value[0];switch(chf){case"f":if(value.trim()==="false")return false;break;case"n":if(value.trim()==="null")return null;break;case"t":if(value.trim()==="true")return true;break;default:if(chf==="-"||chf>="0"&&chf<="9"){var n=common.tryParseNumber(value);if(n!==undefined)return n}}if(isEol){value=value.trim();var dsfValue=runDsf(value);return dsfValue!==undefined?dsfValue:value}}value+=ch}}function getComment(cAt,first){var i;cAt--;for(i=at-2;i>cAt&&text[i]<=" "&&text[i]!=="\n";i--);if(text[i]==="\n")i--;if(text[i]==="\r")i--;var res=text.substr(cAt,i-cAt+1);for(i=0;i<res.length;i++){if(res[i]>" "){var j=res.indexOf("\n");if(j>=0){var c=[res.substr(0,j),res.substr(j+1)];if(first&&c[0].trim().length===0)c.shift();return c}else return[res]}}return[]}function errorClosingHint(value){function search(value,ch){var i,k,length,res;switch(typeof value){case"string":if(value.indexOf(ch)>=0)res=value;break;case"object":if(Object.prototype.toString.apply(value)==="[object Array]"){for(i=0,length=value.length;i<length;i++){res=search(value[i],ch)||res}}else{for(k in value){if(!Object.prototype.hasOwnProperty.call(value,k))continue;res=search(value[k],ch)||res}}}return res}function report(ch){var possibleErr=search(value,ch);if(possibleErr){return"found '"+ch+"' in a string value, your mistake could be with:\n"+"  > "+possibleErr+"\n"+"  (unquoted strings contain everything up to the next line!)"}else return""}return report("}")||report("]")}function array(){var array=[];var comments,cAt,nextComment;try{if(keepComments)comments=common.createComment(array,{a:[]});next();cAt=at;white();if(comments)nextComment=getComment(cAt,true).join("\n");if(ch==="]"){next();if(comments)comments.e=[nextComment];return array}while(ch){array.push(value());cAt=at;white();if(ch===","){next();cAt=at;white()}if(comments){var c=getComment(cAt);comments.a.push([nextComment||"",c[0]||""]);nextComment=c[1]}if(ch==="]"){next();if(comments)comments.a[comments.a.length-1][1]+=nextComment||"";return array}white()}error("End of input while parsing an array (missing ']')")}catch(e){e.hint=e.hint||errorClosingHint(array);throw e}}function object(withoutBraces){var key="",object={};var comments,cAt,nextComment;try{if(keepComments)comments=common.createComment(object,{c:{},o:[]});if(!withoutBraces){next();cAt=at}else cAt=1;white();if(comments)nextComment=getComment(cAt,true).join("\n");if(ch==="}"&&!withoutBraces){if(comments)comments.e=[nextComment];next();return object}while(ch){key=keyname();white();if(ch!==":")error("Expected ':' instead of '"+ch+"'");next();object[key]=value();cAt=at;white();if(ch===","){next();cAt=at;white()}if(comments){var c=getComment(cAt);comments.c[key]=[nextComment||"",c[0]||""];nextComment=c[1];comments.o.push(key)}if(ch==="}"&&!withoutBraces){next();if(comments)comments.c[key][1]+=nextComment||"";return object}white()}if(withoutBraces)return object;else error("End of input while parsing an object (missing '}')")}catch(e){e.hint=e.hint||errorClosingHint(object);throw e}}function value(){white();switch(ch){case"{":return object();case"[":return array();case"'":case'"':return string(true);default:return tfnns()}}function checkTrailing(v,c){var cAt=at;white();if(ch)error("Syntax error, found trailing characters");if(keepComments){var b=c.join("\n"),a=getComment(cAt).join("\n");if(a||b){var comments=common.createComment(v,common.getComment(v));comments.r=[b,a]}}return v}function rootValue(){white();var c=keepComments?getComment(1):null;switch(ch){case"{":return checkTrailing(object(),c);case"[":return checkTrailing(array(),c);default:return checkTrailing(value(),c)}}function legacyRootValue(){white();var c=keepComments?getComment(1):null;switch(ch){case"{":return checkTrailing(object(),c);case"[":return checkTrailing(array(),c)}try{return checkTrailing(object(true),c)}catch(e){resetAt();try{return checkTrailing(value(),c)}catch(e2){throw e}}}if(typeof source!=="string")throw new Error("source is not a string");var dsfDef=null;var legacyRoot=true;if(opt&&typeof opt==="object"){keepComments=opt.keepWsc;dsfDef=opt.dsf;legacyRoot=opt.legacyRoot!==false}runDsf=dsf.loadDsf(dsfDef,"parse");text=source;resetAt();return legacyRoot?legacyRootValue():rootValue()}},function(module,exports,__webpack_require__){"use strict";module.exports=function(data,opt){var common=__webpack_require__(13);var dsf=__webpack_require__(15);var plainToken={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]};var eol=common.EOL;var indent="  ";var keepComments=false;var bracesSameLine=false;var quoteKeys=false;var quoteStrings=false;var condense=0;var multiline=1;var separator="";var dsfDef=null;var sortProps=false;var token=plainToken;if(opt&&typeof opt==="object"){opt.quotes=opt.quotes==="always"?"strings":opt.quotes;if(opt.eol==="\n"||opt.eol==="\r\n")eol=opt.eol;keepComments=opt.keepWsc;condense=opt.condense||0;bracesSameLine=opt.bracesSameLine;quoteKeys=opt.quotes==="all"||opt.quotes==="keys";quoteStrings=opt.quotes==="all"||opt.quotes==="strings"||opt.separator===true;if(quoteStrings||opt.multiline=="off")multiline=0;else multiline=opt.multiline=="no-tabs"?2:1;separator=opt.separator===true?token.com[0]:"";dsfDef=opt.dsf;sortProps=opt.sortProps;if(typeof opt.space==="number"){indent=new Array(opt.space+1).join(" ")}else if(typeof opt.space==="string"){indent=opt.space}if(opt.colors===true){token={obj:["[37m{[0m","[37m}[0m"],arr:["[37m[[0m","[37m][0m"],key:["[33m","[0m"],qkey:['[33m"','"[0m'],col:["[37m:[0m",""],com:["[37m,[0m",""],str:["[37;1m","[0m"],qstr:['[37;1m"','"[0m'],mstr:["[37;1m'''","'''[0m"],num:["[36;1m","[0m"],lit:["[36m","[0m"],dsf:["[37m","[0m"],esc:["[31m\\","[0m"],uni:["[31m\\u","[0m"],rem:["[35m","[0m"]}}var i,ckeys=Object.keys(plainToken);for(i=ckeys.length-1;i>=0;i--){var k=ckeys[i];token[k].push(plainToken[k][0].length,plainToken[k][1].length)}}var runDsf;var commonRange="-¬ü¬≠ÿÄ-ÿÑ‹è·û¥·ûµ‚Äå-‚Äè\u2028-‚ÄØ‚Å†-‚ÅØ\ufeffÔø∞-Ôøø";var needsEscape=new RegExp('[\\\\\\"\0-'+commonRange+"]","g");var needsQuotes=new RegExp("^\\s|^\"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-"+commonRange+"]","g");var needsEscapeML=new RegExp("'''|^[\\s]+$|[\0-"+(multiline===2?"\t":"\b")+"\v\f-"+commonRange+"]","g");var startsWithKeyword=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$");var meta={"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"};var needsEscapeName=/[,\{\[\}\]\s:#"']|\/\/|\/\*/;var gap="";var wrapLen=0;function wrap(tk,v){wrapLen+=tk[0].length+tk[1].length-tk[2]-tk[3];return tk[0]+v+tk[1]}function quoteReplace(string){return string.replace(needsEscape,(function(a){var c=meta[a];if(typeof c==="string")return wrap(token.esc,c);else return wrap(token.uni,("0000"+a.charCodeAt(0).toString(16)).slice(-4))}))}function quote(string,gap,hasComment,isRootObject){if(!string)return wrap(token.qstr,"");needsQuotes.lastIndex=0;startsWithKeyword.lastIndex=0;if(quoteStrings||hasComment||needsQuotes.test(string)||common.tryParseNumber(string,true)!==undefined||startsWithKeyword.test(string)){needsEscape.lastIndex=0;needsEscapeML.lastIndex=0;if(!needsEscape.test(string))return wrap(token.qstr,string);else if(!needsEscapeML.test(string)&&!isRootObject&&multiline)return mlString(string,gap);else return wrap(token.qstr,quoteReplace(string))}else{return wrap(token.str,string)}}function mlString(string,gap){var i,a=string.replace(/\r/g,"").split("\n");gap+=indent;if(a.length===1){return wrap(token.mstr,a[0])}else{var res=eol+gap+token.mstr[0];for(i=0;i<a.length;i++){res+=eol;if(a[i])res+=gap+a[i]}return res+eol+gap+token.mstr[1]}}function quoteKey(name){if(!name)return'""';if(quoteKeys||needsEscapeName.test(name)){needsEscape.lastIndex=0;return wrap(token.qkey,needsEscape.test(name)?quoteReplace(name):name)}else{return wrap(token.key,name)}}function str(value,hasComment,noIndent,isRootObject){function startsWithNL(str){return str&&str[str[0]==="\r"?1:0]==="\n"}function commentOnThisLine(str){return str&&!startsWithNL(str)}function makeComment(str,prefix,trim){if(!str)return"";str=common.forceComment(str);var i,len=str.length;for(i=0;i<len&&str[i]<=" ";i++){}if(trim&&i>0)str=str.substr(i);if(i<len)return prefix+wrap(token.rem,str);else return str}var dsfValue=runDsf(value);if(dsfValue!==undefined)return wrap(token.dsf,dsfValue);switch(typeof value){case"string":return quote(value,gap,hasComment,isRootObject);case"number":return isFinite(value)?wrap(token.num,String(value)):wrap(token.lit,"null");case"boolean":return wrap(token.lit,String(value));case"object":if(!value)return wrap(token.lit,"null");var comments;if(keepComments)comments=common.getComment(value);var isArray=Object.prototype.toString.apply(value)==="[object Array]";var mind=gap;gap+=indent;var eolMind=eol+mind;var eolGap=eol+gap;var prefix=noIndent||bracesSameLine?"":eolMind;var partial=[];var setsep;var cpartial=condense?[]:null;var saveQuoteStrings=quoteStrings,saveMultiline=multiline;var iseparator=separator?"":token.com[0];var cwrapLen=0;var i,length;var k,v,vs;var c,ca;var res,cres;if(isArray){for(i=0,length=value.length;i<length;i++){setsep=i<length-1;if(comments){c=comments.a[i]||[];ca=commentOnThisLine(c[1]);partial.push(makeComment(c[0],"\n")+eolGap);if(cpartial&&(c[0]||c[1]||ca))cpartial=null}else partial.push(eolGap);wrapLen=0;v=value[i];partial.push(str(v,comments?ca:false,true)+(setsep?separator:""));if(cpartial){switch(typeof v){case"string":wrapLen=0;quoteStrings=true;multiline=0;cpartial.push(str(v,false,true)+(setsep?token.com[0]:""));quoteStrings=saveQuoteStrings;multiline=saveMultiline;break;case"object":if(v){cpartial=null;break}default:cpartial.push(partial[partial.length-1]+(setsep?iseparator:""));break}if(setsep)wrapLen+=token.com[0].length-token.com[2];cwrapLen+=wrapLen}if(comments&&c[1])partial.push(makeComment(c[1],ca?" ":"\n",ca))}if(length===0){if(comments&&comments.e)partial.push(makeComment(comments.e[0],"\n")+eolMind)}else partial.push(eolMind);if(partial.length===0)res=wrap(token.arr,"");else{res=prefix+wrap(token.arr,partial.join(""));if(cpartial){cres=cpartial.join(" ");if(cres.length-cwrapLen<=condense)res=wrap(token.arr,cres)}}}else{var commentKeys=comments?comments.o.slice():[];var objectKeys=[];for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)&&commentKeys.indexOf(k)<0)objectKeys.push(k)}if(sortProps){objectKeys.sort()}var keys=commentKeys.concat(objectKeys);for(i=0,length=keys.length;i<length;i++){setsep=i<length-1;k=keys[i];if(comments){c=comments.c[k]||[];ca=commentOnThisLine(c[1]);partial.push(makeComment(c[0],"\n")+eolGap);if(cpartial&&(c[0]||c[1]||ca))cpartial=null}else partial.push(eolGap);wrapLen=0;v=value[k];vs=str(v,comments&&ca);partial.push(quoteKey(k)+token.col[0]+(startsWithNL(vs)?"":" ")+vs+(setsep?separator:""));if(comments&&c[1])partial.push(makeComment(c[1],ca?" ":"\n",ca));if(cpartial){switch(typeof v){case"string":wrapLen=0;quoteStrings=true;multiline=0;vs=str(v,false);quoteStrings=saveQuoteStrings;multiline=saveMultiline;cpartial.push(quoteKey(k)+token.col[0]+" "+vs+(setsep?token.com[0]:""));break;case"object":if(v){cpartial=null;break}default:cpartial.push(partial[partial.length-1]+(setsep?iseparator:""));break}wrapLen+=token.col[0].length-token.col[2];if(setsep)wrapLen+=token.com[0].length-token.com[2];cwrapLen+=wrapLen}}if(length===0){if(comments&&comments.e)partial.push(makeComment(comments.e[0],"\n")+eolMind)}else partial.push(eolMind);if(partial.length===0){res=wrap(token.obj,"")}else{res=prefix+wrap(token.obj,partial.join(""));if(cpartial){cres=cpartial.join(" ");if(cres.length-cwrapLen<=condense)res=wrap(token.obj,cres)}}}gap=mind;return res}}runDsf=dsf.loadDsf(dsfDef,"stringify");var res="";var comments=keepComments?comments=(common.getComment(data)||{}).r:null;if(comments&&comments[0])res=comments[0]+"\n";res+=str(data,null,true,true);if(comments)res+=comments[1]||"";return res}},function(module,exports,__webpack_require__){"use strict";var common=__webpack_require__(13);function makeComment(b,a,x){var c;if(b)c={b:b};if(a)(c=c||{}).a=a;if(x)(c=c||{}).x=x;return c}function extractComments(value,root){if(value===null||typeof value!=="object")return;var comments=common.getComment(value);if(comments)common.removeComment(value);var i,length;var any,res;if(Object.prototype.toString.apply(value)==="[object Array]"){res={a:{}};for(i=0,length=value.length;i<length;i++){if(saveComment(res.a,i,comments.a[i],extractComments(value[i])))any=true}if(!any&&comments.e){res.e=makeComment(comments.e[0],comments.e[1]);any=true}}else{res={s:{}};var keys,currentKeys=Object.keys(value);if(comments&&comments.o){keys=[];comments.o.concat(currentKeys).forEach((function(key){if(Object.prototype.hasOwnProperty.call(value,key)&&keys.indexOf(key)<0)keys.push(key)}))}else keys=currentKeys;res.o=keys;for(i=0,length=keys.length;i<length;i++){var key=keys[i];if(saveComment(res.s,key,comments.c[key],extractComments(value[key])))any=true}if(!any&&comments.e){res.e=makeComment(comments.e[0],comments.e[1]);any=true}}if(root&&comments&&comments.r){res.r=makeComment(comments.r[0],comments.r[1])}return any?res:undefined}function mergeStr(){var res="";[].forEach.call(arguments,(function(c){if(c&&c.trim()!==""){if(res)res+="; ";res+=c.trim()}}));return res}function mergeComments(comments,value){var dropped=[];merge(comments,value,dropped,[]);if(dropped.length>0){var text=rootComment(value,null,1);text+="\n# Orphaned comments:\n";dropped.forEach((function(c){text+=("# "+c.path.join("/")+": "+mergeStr(c.b,c.a,c.e)).replace("\n","\\n ")+"\n"}));rootComment(value,text,1)}}function saveComment(res,key,item,col){var c=makeComment(item?item[0]:undefined,item?item[1]:undefined,col);if(c)res[key]=c;return c}function droppedComment(path,c){var res=makeComment(c.b,c.a);res.path=path;return res}function dropAll(comments,dropped,path){if(!comments)return;var i,length;if(comments.a){for(i=0,length=comments.a.length;i<length;i++){var kpath=path.slice().concat([i]);var c=comments.a[i];if(c){dropped.push(droppedComment(kpath,c));dropAll(c.x,dropped,kpath)}}}else if(comments.o){comments.o.forEach((function(key){var kpath=path.slice().concat([key]);var c=comments.s[key];if(c){dropped.push(droppedComment(kpath,c));dropAll(c.x,dropped,kpath)}}))}if(comments.e)dropped.push(droppedComment(path,comments.e))}function merge(comments,value,dropped,path){if(!comments)return;if(value===null||typeof value!=="object"){dropAll(comments,dropped,path);return}var i;var setComments=common.createComment(value);if(path.length===0&&comments.r)setComments.r=[comments.r.b,comments.r.a];if(Object.prototype.toString.apply(value)==="[object Array]"){setComments.a=[];var a=comments.a||{};for(var key in a){if(a.hasOwnProperty(key)){i=parseInt(key);var c=comments.a[key];if(c){var kpath=path.slice().concat([i]);if(i<value.length){setComments.a[i]=[c.b,c.a];merge(c.x,value[i],dropped,kpath)}else{dropped.push(droppedComment(kpath,c));dropAll(c.x,dropped,kpath)}}}}if(i===0&&comments.e)setComments.e=[comments.e.b,comments.e.a]}else{setComments.c={};setComments.o=[];(comments.o||[]).forEach((function(key){var kpath=path.slice().concat([key]);var c=comments.s[key];if(Object.prototype.hasOwnProperty.call(value,key)){setComments.o.push(key);if(c){setComments.c[key]=[c.b,c.a];merge(c.x,value[key],dropped,kpath)}}else if(c){dropped.push(droppedComment(kpath,c));dropAll(c.x,dropped,kpath)}}));if(comments.e)setComments.e=[comments.e.b,comments.e.a]}}function rootComment(value,setText,header){var comment=common.createComment(value,common.getComment(value));if(!comment.r)comment.r=["",""];if(setText||setText==="")comment.r[header]=common.forceComment(setText);return comment.r[header]||""}module.exports={extract:function(value){return extractComments(value,true)},merge:mergeComments,header:function(value,setText){return rootComment(value,setText,0)},footer:function(value,setText){return rootComment(value,setText,1)}}},function(module,exports){ace.define("ace/mode/hjson_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules;var HjsonHighlightRules=function(){this.$rules={start:[{include:"#comments"},{include:"#rootObject"},{include:"#value"}],"#array":[{token:"paren.lparen",regex:/\[/,push:[{token:"paren.rparen",regex:/\]/,next:"pop"},{include:"#value"},{include:"#comments"},{token:"text",regex:/,|$/},{token:"invalid.illegal",regex:/[^\s\]]/},{defaultToken:"array"}]}],"#comments":[{token:["comment.punctuation","comment.line"],regex:/(#)(.*$)/},{token:"comment.punctuation",regex:/\/\*/,push:[{token:"comment.punctuation",regex:/\*\//,next:"pop"},{defaultToken:"comment.block"}]},{token:["comment.punctuation","comment.line"],regex:/(\/\/)(.*$)/}],"#constant":[{token:"constant",regex:/\b(?:true|false|null)\b/}],"#keyname":[{token:"keyword",regex:/(?:[^,\{\[\}\]\s]+|"(?:[^"\\]|\\.)*")\s*(?=:)/}],"#mstring":[{token:"string",regex:/'''/,push:[{token:"string",regex:/'''/,next:"pop"},{defaultToken:"string"}]}],"#number":[{token:"constant.numeric",regex:/-?(?:0|[1-9]\d*)(?:(?:\.\d+)?(?:[eE][+-]?\d+)?)?/,comment:"handles integer and decimal numbers"}],"#object":[{token:"paren.lparen",regex:/\{/,push:[{token:"paren.rparen",regex:/\}/,next:"pop"},{include:"#keyname"},{include:"#value"},{token:"text",regex:/:/},{token:"text",regex:/,/},{defaultToken:"paren"}]}],"#rootObject":[{token:"paren",regex:/(?=\s*(?:[^,\{\[\}\]\s]+|"(?:[^"\\]|\\.)*")\s*:)/,push:[{token:"paren.rparen",regex:/---none---/,next:"pop"},{include:"#keyname"},{include:"#value"},{token:"text",regex:/:/},{token:"text",regex:/,/},{defaultToken:"paren"}]}],"#string":[{token:"string",regex:/"/,push:[{token:"string",regex:/"/,next:"pop"},{token:"constant.language.escape",regex:/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/},{token:"invalid.illegal",regex:/\\./},{defaultToken:"string"}]}],"#ustring":[{token:"string",regex:/\b[^:,0-9\-\{\[\}\]\s].*$/}],"#value":[{include:"#constant"},{include:"#number"},{include:"#string"},{include:"#array"},{include:"#object"},{include:"#comments"},{include:"#mstring"},{include:"#ustring"}]};this.normalizeRules()};HjsonHighlightRules.metaData={fileTypes:["hjson"],foldingStartMarker:"(?x:     # turn on extended mode\n              ^    # a line beginning with\n              \\s*    # some optional space\n              [{\\[]  # the start of an object or array\n              (?!    # but not followed by\n              .*   # whatever\n              [}\\]]  # and the close of an object or array\n              ,?   # an optional comma\n              \\s*  # some optional space\n              $    # at the end of the line\n              )\n              |    # ...or...\n              [{\\[]  # the start of an object or array\n              \\s*    # some optional space\n              $    # at the end of the line\n            )",foldingStopMarker:"(?x:   # turn on extended mode\n             ^    # a line beginning with\n             \\s*  # some optional space\n             [}\\]]  # and the close of an object or array\n             )",keyEquivalent:"^~J",name:"Hjson",scopeName:"source.hjson"};oop.inherits(HjsonHighlightRules,TextHighlightRules);exports.HjsonHighlightRules=HjsonHighlightRules}));ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(acequire,exports,module){"use strict";var oop=acequire("../../lib/oop");var Range=acequire("../../range").Range;var BaseFoldMode=acequire("./fold_mode").FoldMode;var FoldMode=exports.FoldMode=function(commentRegex){if(commentRegex){this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.start));this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.end))}};oop.inherits(FoldMode,BaseFoldMode);(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.singleLineBlockCommentRe.test(line)){if(!this.startRegionRe.test(line)&&!this.tripleStarBlockCommentRe.test(line))return""}var fw=this._getFoldWidgetBase(session,foldStyle,row);if(!fw&&this.startRegionRe.test(line))return"start";return fw};this.getFoldWidgetRange=function(session,foldStyle,row,forceMultiline){var line=session.getLine(row);if(this.startRegionRe.test(line))return this.getCommentRegionBlock(session,line,row);var match=line.match(this.foldingStartMarker);if(match){var i=match.index;if(match[1])return this.openingBracketBlock(session,match[1],row,i);var range=session.getCommentFoldRange(row,i+match[0].length,1);if(range&&!range.isMultiLine()){if(forceMultiline){range=this.getSectionRange(session,row)}else if(foldStyle!="all")range=null}return range}if(foldStyle==="markbegin")return;var match=line.match(this.foldingStopMarker);if(match){var i=match.index+match[0].length;if(match[1])return this.closingBracketBlock(session,match[1],row,i);return session.getCommentFoldRange(row,i,-1)}};this.getSectionRange=function(session,row){var line=session.getLine(row);var startIndent=line.search(/\S/);var startRow=row;var startColumn=line.length;row=row+1;var endRow=row;var maxRow=session.getLength();while(++row<maxRow){line=session.getLine(row);var indent=line.search(/\S/);if(indent===-1)continue;if(startIndent>indent)break;var subRange=this.getFoldWidgetRange(session,"all",row);if(subRange){if(subRange.start.row<=startRow){break}else if(subRange.isMultiLine()){row=subRange.end.row}else if(startIndent==indent){break}}endRow=row}return new Range(startRow,startColumn,endRow,session.getLine(endRow).length)};this.getCommentRegionBlock=function(session,line,row){var startColumn=line.search(/\s*$/);var maxRow=session.getLength();var startRow=row;var re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;var depth=1;while(++row<maxRow){line=session.getLine(row);var m=re.exec(line);if(!m)continue;if(m[1])depth--;else depth++;if(!depth)break}var endRow=row;if(endRow>startRow){return new Range(startRow,startColumn,endRow,line.length)}}}).call(FoldMode.prototype)}));ace.define("ace/mode/hjson",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/hjson_highlight_rules","ace/mode/folding/cstyle"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextMode=acequire("./text").Mode;var HjsonHighlightRules=acequire("./hjson_highlight_rules").HjsonHighlightRules;var FoldMode=acequire("./folding/cstyle").FoldMode;var Mode=function(){this.HighlightRules=HjsonHighlightRules;this.foldingRules=new FoldMode};oop.inherits(Mode,TextMode);(function(){this.lineCommentStart="//";this.blockComment={start:"/*",end:"*/"};this.$id="ace/mode/hjson"}).call(Mode.prototype);exports.Mode=Mode}))},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(30);case"v7light":return __webpack_require__(32);case"v8dark":return __webpack_require__(34);case"v8light":return __webpack_require__(36)}},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(31);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVegaDataInspector,\n.vgaVegaDataInspector__specViewer {\n  height: 100%; }\n\n.vgaVegaDataInspector {\n  display: flex;\n  flex-direction: column; }\n  .vgaVegaDataInspector [role='tablist'] {\n    flex-shrink: 0; }\n  .vgaVegaDataInspector [role='tabpanel'] {\n    flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(33);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVegaDataInspector,\n.vgaVegaDataInspector__specViewer {\n  height: 100%; }\n\n.vgaVegaDataInspector {\n  display: flex;\n  flex-direction: column; }\n  .vgaVegaDataInspector [role='tablist'] {\n    flex-shrink: 0; }\n  .vgaVegaDataInspector [role='tabpanel'] {\n    flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(35);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVegaDataInspector,\n.vgaVegaDataInspector__specViewer {\n  height: 100%; }\n\n.vgaVegaDataInspector {\n  display: flex;\n  flex-direction: column; }\n  .vgaVegaDataInspector [role='tablist'] {\n    flex-shrink: 0; }\n  .vgaVegaDataInspector [role='tabpanel'] {\n    flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(37);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVegaDataInspector,\n.vgaVegaDataInspector__specViewer {\n  height: 100%; }\n\n.vgaVegaDataInspector {\n  display: flex;\n  flex-direction: column; }\n  .vgaVegaDataInspector [role='tablist'] {\n    flex-shrink: 0; }\n  .vgaVegaDataInspector [role='tabpanel'] {\n    flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(39);case"v7light":return __webpack_require__(41);case"v8dark":return __webpack_require__(43);case"v8light":return __webpack_require__(45)}},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(40);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVis {\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.vgaVis__view {\n  z-index: 0;\n  flex: 1 1 100%;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%; }\n  .vgaVis__view .vega-bindings {\n    display: none !important; }\n\n.vgaVis__controls {\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  display: flex; }\n  .vgaVis__controls:not(:empty) {\n    padding: 8px 0; }\n  .vgaVis__controls.vgaVis__controls--column {\n    flex-direction: column; }\n  .vgaVis__controls.vgaVis__controls--row {\n    flex-direction: row; }\n    .vgaVis__controls.vgaVis__controls--row > .vega-bind {\n      flex-grow: 1; }\n  .vgaVis__controls > .vega-bind .vega-bind-name {\n    display: inline-block;\n    width: 104px; }\n  .vgaVis__controls > .vega-bind input[type='range'] {\n    width: 120px;\n    display: inline-block;\n    vertical-align: middle; }\n  .vgaVis__controls > .vega-bind label {\n    margin: 0 0 0 8px; }\n  .vgaVis__controls > .vega-bind select {\n    max-width: 160px; }\n  .vgaVis__controls > .vega-bind .vega-bind-radio label {\n    margin: 0 8px 0 4px; }\n\n.vgaVis__messages {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  margin: auto;\n  opacity: .8;\n  z-index: 1;\n  list-style: none; }\n\n.vgaVis__message {\n  margin: 8px; }\n  .vgaVis__message .vgaVis__messageCode {\n    white-space: pre-wrap;\n    padding: 8px; }\n\n.vgaVis__message--warn .vgaVis__messageCode {\n  background-color: #4d3e25;\n  color: #FFCE7A; }\n\n.vgaVis__message--err .vgaVis__messageCode {\n  background-color: #4d1f1f;\n  color: #F66; }\n\n.vgaVis__tooltip {\n  max-width: 100%;\n  position: fixed; }\n  .vgaVis__tooltip h2 {\n    margin-bottom: 8px; }\n  .vgaVis__tooltip td {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important;\n    padding-top: 4px;\n    padding-bottom: 4px; }\n    .vgaVis__tooltip td.key {\n      color: #535966;\n      max-width: 160px;\n      text-align: right;\n      padding-right: 4px; }\n    .vgaVis__tooltip td.value {\n      max-width: 240px;\n      text-align: left; }\n  @media only screen and (max-width: 768px) {\n    .vgaVis__tooltip td.key {\n      max-width: 96px; }\n    .vgaVis__tooltip td.value {\n      max-width: 160px; } }\n\n.visEditor--vega .visEditorSidebar__config {\n  padding: 0; }\n\n@media only screen and (max-width: 574px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n.vgaEditor__aceEditorActions {\n  position: absolute;\n  z-index: 1000;\n  top: 8px;\n  right: 40px;\n  line-height: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(42);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVis {\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.vgaVis__view {\n  z-index: 0;\n  flex: 1 1 100%;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%; }\n  .vgaVis__view .vega-bindings {\n    display: none !important; }\n\n.vgaVis__controls {\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  display: flex; }\n  .vgaVis__controls:not(:empty) {\n    padding: 8px 0; }\n  .vgaVis__controls.vgaVis__controls--column {\n    flex-direction: column; }\n  .vgaVis__controls.vgaVis__controls--row {\n    flex-direction: row; }\n    .vgaVis__controls.vgaVis__controls--row > .vega-bind {\n      flex-grow: 1; }\n  .vgaVis__controls > .vega-bind .vega-bind-name {\n    display: inline-block;\n    width: 104px; }\n  .vgaVis__controls > .vega-bind input[type='range'] {\n    width: 120px;\n    display: inline-block;\n    vertical-align: middle; }\n  .vgaVis__controls > .vega-bind label {\n    margin: 0 0 0 8px; }\n  .vgaVis__controls > .vega-bind select {\n    max-width: 160px; }\n  .vgaVis__controls > .vega-bind .vega-bind-radio label {\n    margin: 0 8px 0 4px; }\n\n.vgaVis__messages {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  margin: auto;\n  opacity: .8;\n  z-index: 1;\n  list-style: none; }\n\n.vgaVis__message {\n  margin: 8px; }\n  .vgaVis__message .vgaVis__messageCode {\n    white-space: pre-wrap;\n    padding: 8px; }\n\n.vgaVis__message--warn .vgaVis__messageCode {\n  background-color: #fef6e6;\n  color: #936400; }\n\n.vgaVis__message--err .vgaVis__messageCode {\n  background-color: #f8e9e9;\n  color: #BD271E; }\n\n.vgaVis__tooltip {\n  max-width: 100%;\n  position: fixed; }\n  .vgaVis__tooltip h2 {\n    margin-bottom: 8px; }\n  .vgaVis__tooltip td {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important;\n    padding-top: 4px;\n    padding-bottom: 4px; }\n    .vgaVis__tooltip td.key {\n      color: #98A2B3;\n      max-width: 160px;\n      text-align: right;\n      padding-right: 4px; }\n    .vgaVis__tooltip td.value {\n      max-width: 240px;\n      text-align: left; }\n  @media only screen and (max-width: 768px) {\n    .vgaVis__tooltip td.key {\n      max-width: 96px; }\n    .vgaVis__tooltip td.value {\n      max-width: 160px; } }\n\n.visEditor--vega .visEditorSidebar__config {\n  padding: 0; }\n\n@media only screen and (max-width: 574px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n.vgaEditor__aceEditorActions {\n  position: absolute;\n  z-index: 1000;\n  top: 8px;\n  right: 40px;\n  line-height: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(44);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVis {\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.vgaVis__view {\n  z-index: 0;\n  flex: 1 1 100%;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%; }\n  .vgaVis__view .vega-bindings {\n    display: none !important; }\n\n.vgaVis__controls {\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.5;\n  display: flex; }\n  .vgaVis__controls:not(:empty) {\n    padding: 8px 0; }\n  .vgaVis__controls.vgaVis__controls--column {\n    flex-direction: column; }\n  .vgaVis__controls.vgaVis__controls--row {\n    flex-direction: row; }\n    .vgaVis__controls.vgaVis__controls--row > .vega-bind {\n      flex-grow: 1; }\n  .vgaVis__controls > .vega-bind .vega-bind-name {\n    display: inline-block;\n    width: 104px; }\n  .vgaVis__controls > .vega-bind input[type='range'] {\n    width: 120px;\n    display: inline-block;\n    vertical-align: middle; }\n  .vgaVis__controls > .vega-bind label {\n    margin: 0 0 0 8px; }\n  .vgaVis__controls > .vega-bind select {\n    max-width: 160px; }\n  .vgaVis__controls > .vega-bind .vega-bind-radio label {\n    margin: 0 8px 0 4px; }\n\n.vgaVis__messages {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  margin: auto;\n  opacity: .8;\n  z-index: 1;\n  list-style: none; }\n\n.vgaVis__message {\n  margin: 8px; }\n  .vgaVis__message .vgaVis__messageCode {\n    white-space: pre-wrap;\n    padding: 8px; }\n\n.vgaVis__message--warn .vgaVis__messageCode {\n  background-color: #4d3e25;\n  color: #FFCE7A; }\n\n.vgaVis__message--err .vgaVis__messageCode {\n  background-color: #4d1f1f;\n  color: #F66; }\n\n.vgaVis__tooltip {\n  max-width: 100%;\n  position: fixed; }\n  .vgaVis__tooltip h2 {\n    margin-bottom: 8px; }\n  .vgaVis__tooltip td {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important;\n    padding-top: 4px;\n    padding-bottom: 4px; }\n    .vgaVis__tooltip td.key {\n      color: #535966;\n      max-width: 160px;\n      text-align: right;\n      padding-right: 4px; }\n    .vgaVis__tooltip td.value {\n      max-width: 240px;\n      text-align: left; }\n  @media only screen and (max-width: 768px) {\n    .vgaVis__tooltip td.key {\n      max-width: 96px; }\n    .vgaVis__tooltip td.value {\n      max-width: 160px; } }\n\n.visEditor--vega .visEditorSidebar__config {\n  padding: 0; }\n\n@media only screen and (max-width: 574px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(152, 162, 179, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n.vgaEditor__aceEditorActions {\n  position: absolute;\n  z-index: 1000;\n  top: 8px;\n  right: 40px;\n  line-height: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(6);var content=__webpack_require__(46);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);var exported=content.locals?content.locals:{};module.exports=exported},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(7);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".vgaVis {\n  display: flex;\n  flex: 1 1 100%;\n  position: relative; }\n\n.vgaVis__view {\n  z-index: 0;\n  flex: 1 1 100%;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%; }\n  .vgaVis__view .vega-bindings {\n    display: none !important; }\n\n.vgaVis__controls {\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.5;\n  display: flex; }\n  .vgaVis__controls:not(:empty) {\n    padding: 8px 0; }\n  .vgaVis__controls.vgaVis__controls--column {\n    flex-direction: column; }\n  .vgaVis__controls.vgaVis__controls--row {\n    flex-direction: row; }\n    .vgaVis__controls.vgaVis__controls--row > .vega-bind {\n      flex-grow: 1; }\n  .vgaVis__controls > .vega-bind .vega-bind-name {\n    display: inline-block;\n    width: 104px; }\n  .vgaVis__controls > .vega-bind input[type='range'] {\n    width: 120px;\n    display: inline-block;\n    vertical-align: middle; }\n  .vgaVis__controls > .vega-bind label {\n    margin: 0 0 0 8px; }\n  .vgaVis__controls > .vega-bind select {\n    max-width: 160px; }\n  .vgaVis__controls > .vega-bind .vega-bind-radio label {\n    margin: 0 8px 0 4px; }\n\n.vgaVis__messages {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  margin: auto;\n  opacity: .8;\n  z-index: 1;\n  list-style: none; }\n\n.vgaVis__message {\n  margin: 8px; }\n  .vgaVis__message .vgaVis__messageCode {\n    white-space: pre-wrap;\n    padding: 8px; }\n\n.vgaVis__message--warn .vgaVis__messageCode {\n  background-color: #fef6e6;\n  color: #936400; }\n\n.vgaVis__message--err .vgaVis__messageCode {\n  background-color: #f8e9e9;\n  color: #BD271E; }\n\n.vgaVis__tooltip {\n  max-width: 100%;\n  position: fixed; }\n  .vgaVis__tooltip h2 {\n    margin-bottom: 8px; }\n  .vgaVis__tooltip td {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important;\n    padding-top: 4px;\n    padding-bottom: 4px; }\n    .vgaVis__tooltip td.key {\n      color: #98A2B3;\n      max-width: 160px;\n      text-align: right;\n      padding-right: 4px; }\n    .vgaVis__tooltip td.value {\n      max-width: 240px;\n      text-align: left; }\n  @media only screen and (max-width: 768px) {\n    .vgaVis__tooltip td.key {\n      max-width: 96px; }\n    .vgaVis__tooltip td.value {\n      max-width: 160px; } }\n\n.visEditor--vega .visEditorSidebar__config {\n  padding: 0; }\n\n@media only screen and (max-width: 574px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .vgaEditor {\n    scrollbar-width: thin;\n    max-height: 240px;\n    overflow-y: auto; }\n    .vgaEditor::-webkit-scrollbar {\n      width: 16px;\n      height: 16px; }\n    .vgaEditor::-webkit-scrollbar-thumb {\n      background-color: rgba(105, 112, 125, 0.5);\n      border: 6px solid transparent;\n      background-clip: content-box; }\n    .vgaEditor::-webkit-scrollbar-corner, .vgaEditor::-webkit-scrollbar-track {\n      background-color: transparent; } }\n\n.vgaEditor__aceEditorActions {\n  position: absolute;\n  z-index: 1000;\n  top: 8px;\n  right: 40px;\n  line-height: 1; }\n",""]);module.exports=exports},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var public_services=__webpack_require__(3);var external_kbnSharedDeps_Lodash_=__webpack_require__(12);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var public_=__webpack_require__(9);var external_kbnSharedDeps_Rxjs_=__webpack_require__(8);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(4);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var search_api_SearchAPI=function(){function SearchAPI(dependencies,abortSignal,inspectorAdapters){_classCallCheck(this,SearchAPI);this.dependencies=dependencies;this.abortSignal=abortSignal;this.inspectorAdapters=inspectorAdapters}_createClass(SearchAPI,[{key:"search",value:function search(searchRequests){var _this=this;var search=this.dependencies.search.search;var requestResponders={};return Object(external_kbnSharedDeps_Rxjs_["combineLatest"])(searchRequests.map((function(request){var requestId=request.name;var params=Object(public_["getSearchParamsFromRequest"])(request,{getConfig:_this.dependencies.uiSettings.get.bind(_this.dependencies.uiSettings)});if(_this.inspectorAdapters){requestResponders[requestId]=_this.inspectorAdapters.requests.start(requestId,request);requestResponders[requestId].json(params.body)}return search({params:params},{abortSignal:_this.abortSignal}).pipe(Object(external_kbnSharedDeps_RxjsOperators_["tap"])((function(data){return _this.inspectSearchResult(data,requestResponders[requestId])})),Object(external_kbnSharedDeps_RxjsOperators_["map"])((function(data){return{name:requestId,rawResponse:data.rawResponse}})))})))}},{key:"resetSearchStats",value:function resetSearchStats(){if(this.inspectorAdapters){this.inspectorAdapters.requests.reset()}}},{key:"inspectSearchResult",value:function inspectSearchResult(response,requestResponder){if(requestResponder){requestResponder.stats(public_["search"].getResponseInspectorStats(response.rawResponse)).ok({json:response.rawResponse})}}}]);return SearchAPI}();function time_cache_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function time_cache_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function time_cache_createClass(Constructor,protoProps,staticProps){if(protoProps)time_cache_defineProperties(Constructor.prototype,protoProps);if(staticProps)time_cache_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var AlwaysCacheMaxAge=40;var TimeCache=function(){function TimeCache(timefilter,maxAge){time_cache_classCallCheck(this,TimeCache);_defineProperty(this,"_timefilter",void 0);_defineProperty(this,"_maxAge",void 0);_defineProperty(this,"_cachedBounds",void 0);_defineProperty(this,"_cacheTS",void 0);_defineProperty(this,"_timeRange",void 0);this._timefilter=timefilter;this._maxAge=maxAge;this._cacheTS=0}time_cache_createClass(TimeCache,[{key:"_now",value:function _now(){return Date.now()}},{key:"getTimeBounds",value:function getTimeBounds(){var ts=this._now();var bounds=null;if(this._cachedBounds){var diff=ts-this._cacheTS;if(diff<AlwaysCacheMaxAge){return this._cachedBounds}if(diff<this._maxAge){bounds=this._getBounds();if(Math.abs(bounds.min-this._cachedBounds.min)<this._maxAge&&Math.abs(bounds.max-this._cachedBounds.max)<this._maxAge){return this._cachedBounds}}}this._cacheTS=ts;this._cachedBounds=bounds||this._getBounds();return this._cachedBounds}},{key:"setTimeRange",value:function setTimeRange(timeRange){this._timeRange=timeRange}},{key:"_getBounds",value:function _getBounds(){var bounds=this._timefilter.calculateBounds(this._timeRange);return{min:bounds.min.valueOf(),max:bounds.max.valueOf()}}}]);return TimeCache}();function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function createVegaRequestHandler(_ref){var data=_ref.plugins.data,uiSettings=_ref.core.uiSettings,getServiceSettings=_ref.getServiceSettings;var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var searchAPI;var timefilter=data.query.timefilter.timefilter;var timeCache=new TimeCache(timefilter,3*1e3);return function(){var _vegaRequestHandler=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref2){var timeRange,filters,query,visParams,esQueryConfigs,filtersDsl,_yield$import,VegaParser,vp;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:timeRange=_ref2.timeRange,filters=_ref2.filters,query=_ref2.query,visParams=_ref2.visParams;if(!searchAPI){searchAPI=new search_api_SearchAPI({uiSettings:uiSettings,search:Object(public_services["a"])().search,injectedMetadata:Object(public_services["d"])()},context.abortSignal,context.inspectorAdapters)}timeCache.setTimeRange(timeRange);esQueryConfigs=public_["esQuery"].getEsQueryConfig(uiSettings);filtersDsl=public_["esQuery"].buildEsQuery(undefined,query,filters,esQueryConfigs);_context.next=7;return Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(3)]).then(__webpack_require__.bind(null,68));case 7:_yield$import=_context.sent;VegaParser=_yield$import.VegaParser;vp=new VegaParser(visParams.spec,searchAPI,timeCache,filtersDsl,getServiceSettings);_context.next=12;return vp.parseAsync();case 12:return _context.abrupt("return",_context.sent);case 13:case"end":return _context.stop()}}}),_callee)})));function vegaRequestHandler(_x){return _vegaRequestHandler.apply(this,arguments)}return vegaRequestHandler}()}function vega_fn_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function vega_fn_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){vega_fn_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){vega_fn_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var vega_fn_createVegaFn=function createVegaFn(dependencies){return{name:"vega",type:"render",inputTypes:["kibana_context","null"],help:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.function.help",{defaultMessage:"Vega visualization"}),args:{spec:{types:["string"],default:"",help:""}},fn(input,args,context){return vega_fn_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var vegaRequestHandler,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:vegaRequestHandler=createVegaRequestHandler(dependencies,context);_context.next=3;return vegaRequestHandler({timeRange:Object(external_kbnSharedDeps_Lodash_["get"])(input,"timeRange"),query:Object(external_kbnSharedDeps_Lodash_["get"])(input,"query"),filters:Object(external_kbnSharedDeps_Lodash_["get"])(input,"filters"),visParams:{spec:args.spec}});case 3:response=_context.sent;return _context.abrupt("return",{type:"render",as:"visualization",value:{visData:response,visType:"vega",visConfig:{spec:args.spec}}});case 5:case"end":return _context.stop()}}}),_callee)})))()}}};var hjson=__webpack_require__(10);var hjson_default=__webpack_require__.n(hjson);var visDefaultEditor_public_=__webpack_require__(18);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var json_stringify_pretty_compact=__webpack_require__(16);var json_stringify_pretty_compact_default=__webpack_require__.n(json_stringify_pretty_compact);var mode_hjson=__webpack_require__(28);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(5);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function VegaHelpMenu(){var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var onButtonClick=Object(external_kbnSharedDeps_React_["useCallback"])((function(){return setIsPopoverOpen(!isPopoverOpen)}),[isPopoverOpen]);var closePopover=Object(external_kbnSharedDeps_React_["useCallback"])((function(){return setIsPopoverOpen(false)}),[]);var button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:"questionInCircle",onClick:onButtonClick,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.editor.vegaHelpButtonAriaLabel",{defaultMessage:"Vega help"})});var items=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{key:"vegaHelp",href:"https://www.elastic.co/guide/en/kibana/master/vega-graph.html",target:"_blank",onClick:closePopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVega.editor.vegaHelpLinkText",defaultMessage:"Kibana Vega help"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{key:"vegaLiteDocs",href:"https://vega.github.io/vega-lite/docs/",target:"_blank",onClick:closePopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVega.editor.vegaLiteDocumentationLinkText",defaultMessage:"Vega-Lite documentation"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{key:"vegaDoc",href:"https://vega.github.io/vega/docs/",target:"_blank",onClick:closePopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVega.editor.vegaDocumentationLinkText",defaultMessage:"Vega documentation"}))];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"helpMenu",button:button,isOpen:isPopoverOpen,closePopover:closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuPanel"],{items:items}))}function vega_actions_menu_slicedToArray(arr,i){return vega_actions_menu_arrayWithHoles(arr)||vega_actions_menu_iterableToArrayLimit(arr,i)||vega_actions_menu_unsupportedIterableToArray(arr,i)||vega_actions_menu_nonIterableRest()}function vega_actions_menu_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vega_actions_menu_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return vega_actions_menu_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vega_actions_menu_arrayLikeToArray(o,minLen)}function vega_actions_menu_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function vega_actions_menu_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function vega_actions_menu_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function VegaActionsMenu(_ref){var formatHJson=_ref.formatHJson,formatJson=_ref.formatJson;var _useState=Object(external_kbnSharedDeps_React_["useState"])(false),_useState2=vega_actions_menu_slicedToArray(_useState,2),isPopoverOpen=_useState2[0],setIsPopoverOpen=_useState2[1];var onButtonClick=Object(external_kbnSharedDeps_React_["useCallback"])((function(){return setIsPopoverOpen((function(isOpen){return!isOpen}))}),[]);var onHJsonCLick=Object(external_kbnSharedDeps_React_["useCallback"])((function(){formatHJson();setIsPopoverOpen(false)}),[formatHJson]);var onJsonCLick=Object(external_kbnSharedDeps_React_["useCallback"])((function(){formatJson();setIsPopoverOpen(false)}),[formatJson]);var closePopover=Object(external_kbnSharedDeps_React_["useCallback"])((function(){return setIsPopoverOpen(false)}),[]);var button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:"wrench",onClick:onButtonClick,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.editor.vegaEditorOptionsButtonAriaLabel",{defaultMessage:"Vega editor options"})});var items=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{key:"hjson",onClick:onHJsonCLick},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVega.editor.reformatAsHJSONButtonLabel",defaultMessage:"Reformat as HJSON"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{key:"json",onClick:onJsonCLick},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVega.editor.reformatAsJSONButtonLabel",defaultMessage:"Reformat as JSON, delete comments"}))];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"actionsMenu",button:button,isOpen:isPopoverOpen,closePopover:closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuPanel"],{items:items}))}var aceOptions={maxLines:Infinity,highlightActiveLine:false,showPrintMargin:false,tabSize:2,useSoftTabs:true,wrap:true};var hjsonStringifyOptions={bracesSameLine:true,keepWsc:true};function format(value,stringify,options){try{var spec=hjson_default.a.parse(value,{legacyRoot:false,keepWsc:true});return stringify(spec,options)}catch(err){Object(public_services["e"])().toasts.addError(err,{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.editor.formatError",{defaultMessage:"Error formatting spec"})});return value}}function VegaVisEditor(_ref){var stateParams=_ref.stateParams,setValue=_ref.setValue;var onChange=Object(external_kbnSharedDeps_React_["useCallback"])((function(value){setValue("spec",value)}),[setValue]);var formatJson=Object(external_kbnSharedDeps_React_["useCallback"])((function(){return setValue("spec",format(stateParams.spec,json_stringify_pretty_compact_default.a))}),[setValue,stateParams.spec]);var formatHJson=Object(external_kbnSharedDeps_React_["useCallback"])((function(){return setValue("spec",format(stateParams.spec,hjson_default.a.stringify,hjsonStringifyOptions))}),[setValue,stateParams.spec]);return external_kbnSharedDeps_React_default.a.createElement("div",{className:"vgaEditor"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeEditor"],{"data-test-subj":"vega-editor",mode:"hjson",theme:"textmate",width:"100%",height:"auto",onChange:onChange,value:stateParams.spec,setOptions:aceOptions}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"vgaEditor__aceEditorActions"},external_kbnSharedDeps_React_default.a.createElement(VegaHelpMenu,null),external_kbnSharedDeps_React_default.a.createElement(VegaActionsMenu,{formatHJson:formatHJson,formatJson:formatJson})))}var extract_index_pattern=__webpack_require__(17);function vega_visualization_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function vega_visualization_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){vega_visualization_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){vega_visualization_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function vega_visualization_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vega_visualization_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function vega_visualization_createClass(Constructor,protoProps,staticProps){if(protoProps)vega_visualization_defineProperties(Constructor.prototype,protoProps);if(staticProps)vega_visualization_defineProperties(Constructor,staticProps);return Constructor}var vega_visualization_createVegaVisualization=function createVegaVisualization(_ref){var getServiceSettings=_ref.getServiceSettings;return function(){function VegaVisualization(el,vis){vega_visualization_classCallCheck(this,VegaVisualization);this._el=el;this._vis=vis;this.dataPlugin=Object(public_services["a"])()}vega_visualization_createClass(VegaVisualization,[{key:"render",value:function(){var _render2=vega_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee(visData){var _getNotifications,toasts;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_getNotifications=Object(public_services["e"])(),toasts=_getNotifications.toasts;if(!(!visData&&!this._vegaView)){_context.next=4;break}toasts.addWarning(external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.visualization.unableToRenderWithoutDataWarningMessage",{defaultMessage:"Unable to render without data"}));return _context.abrupt("return");case 4:_context.prev=4;_context.next=7;return this._render(visData);case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](4);if(this._vegaView){this._vegaView.onError(_context.t0)}else{toasts.addError(_context.t0,{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.visualization.renderErrorTitle",{defaultMessage:"Vega error"})})}case 12:case"end":return _context.stop()}}}),_callee,this,[[4,9]])})));function render(_x){return _render2.apply(this,arguments)}return render}()},{key:"_render",value:function(){var _render3=vega_visualization_asyncToGenerator(regeneratorRuntime.mark((function _callee2(vegaParser){var serviceSettings,filterManager,timefilter,vegaViewParams,services,_yield$import,VegaMapView,_yield$import2,VegaView;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!vegaParser){_context2.next=27;break}if(!this._vegaView){_context2.next=5;break}_context2.next=4;return this._vegaView.destroy();case 4:this._vegaView=null;case 5:_context2.next=7;return getServiceSettings();case 7:serviceSettings=_context2.sent;filterManager=this.dataPlugin.query.filterManager;timefilter=this.dataPlugin.query.timefilter.timefilter;vegaViewParams={parentEl:this._el,applyFilter:this._vis.API.events.applyFilter,vegaParser:vegaParser,serviceSettings:serviceSettings,filterManager:filterManager,timefilter:timefilter};if(!vegaParser.useMap){_context2.next=20;break}services={toastService:Object(public_services["e"])().toasts};_context2.next=15;return Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(4)]).then(__webpack_require__.bind(null,69));case 15:_yield$import=_context2.sent;VegaMapView=_yield$import.VegaMapView;this._vegaView=new VegaMapView(vegaViewParams,services);_context2.next=25;break;case 20:_context2.next=22;return Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(5)]).then(__webpack_require__.bind(null,67));case 22:_yield$import2=_context2.sent;VegaView=_yield$import2.VegaView;this._vegaView=new VegaView(vegaViewParams);case 25:_context2.next=27;return this._vegaView.init();case 27:case"end":return _context2.stop()}}}),_callee2,this)})));function _render(_x2){return _render3.apply(this,arguments)}return _render}()},{key:"destroy",value:function destroy(){return this._vegaView&&this._vegaView.destroy()}}]);return VegaVisualization}()};var default_spec_hjson='{\n/*\n\nWelcome to Vega visualizations.  Here you can design your own dataviz from scratch using a declarative language called Vega, or its simpler form Vega-Lite.  In Vega, you have the full control of what data is loaded, even from multiple sources, how that data is transformed, and what visual elements are used to show it.  Use help icon to view Vega examples, tutorials, and other docs.  Use the wrench icon to reformat this text, or to remove comments.\n\nThis example graph shows the document count in all indexes in the current time range.  You might need to adjust the time filter in the upper right corner.\n*/\n\n  $schema: https://vega.github.io/schema/vega-lite/v4.json\n  title: Event counts from all indexes\n\n  // Define the data source\n  data: {\n    url: {\n/*\nAn object instead of a string for the "url" param is treated as an Elasticsearch query. Anything inside this object is not part of the Vega language, but only understood by Kibana and Elasticsearch server. This query counts the number of documents per time interval, assuming you have a @timestamp field in your data.\n\nKibana has a special handling for the fields surrounded by "%".  They are processed before the the query is sent to Elasticsearch. This way the query becomes context aware, and can use the time range and the dashboard filters.\n*/\n\n      // Apply dashboard context filters when set\n      %context%: true\n      // Filter the time picker (upper right corner) with this field\n      %timefield%: @timestamp\n\n/*\nSee .search() documentation for :  https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-search\n*/\n\n      // Which index to search\n      index: _all\n      // Aggregate data by the time field into time buckets, counting the number of documents in each bucket.\n      body: {\n        aggs: {\n          time_buckets: {\n            date_histogram: {\n              // Use date histogram aggregation on @timestamp field\n              field: @timestamp\n              // The interval value will depend on the daterange picker (true), or use an integer to set an approximate bucket count\n              interval: {%autointerval%: true}\n              // Make sure we get an entire range, even if it has no data\n              extended_bounds: {\n                // Use the current time range\'s start and end\n                min: {%timefilter%: "min"}\n                max: {%timefilter%: "max"}\n              }\n              // Use this for linear (e.g. line, area) graphs.  Without it, empty buckets will not show up\n              min_doc_count: 0\n            }\n          }\n        }\n        // Speed up the response by only including aggregation results\n        size: 0\n      }\n    }\n/*\nElasticsearch will return results in this format:\n\naggregations: {\n  time_buckets: {\n    buckets: [\n      {\n        key_as_string: 2015-11-30T22:00:00.000Z\n        key: 1448920800000\n        doc_count: 0\n      },\n      {\n        key_as_string: 2015-11-30T23:00:00.000Z\n        key: 1448924400000\n        doc_count: 0\n      }\n      ...\n    ]\n  }\n}\n\nFor our graph, we only need the list of bucket values.  Use the format.property to discard everything else.\n*/\n    format: {property: "aggregations.time_buckets.buckets"}\n  }\n\n  // "mark" is the graphics element used to show our data.  Other mark values are: area, bar, circle, line, point, rect, rule, square, text, and tick.  See https://vega.github.io/vega-lite/docs/mark.html\n  mark: line\n\n  // "encoding" tells the "mark" what data to use and in what way.  See https://vega.github.io/vega-lite/docs/encoding.html\n  encoding: {\n    x: {\n      // The "key" value is the timestamp in milliseconds.  Use it for X axis.\n      field: key\n      type: temporal\n      axis: {title: false} // Customize X axis format\n    }\n    y: {\n      // The "doc_count" is the count per bucket.  Use it for Y axis.\n      field: doc_count\n      type: quantitative\n      axis: {title: "Document count"}\n    }\n  }\n}\n';var default_spec_getDefaultSpec=function getDefaultSpec(){return default_spec_hjson};function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||vega_adapter_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vega_adapter_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return vega_adapter_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vega_adapter_arrayLikeToArray(o,minLen)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return vega_adapter_arrayLikeToArray(arr)}function vega_adapter_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function vega_adapter_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function vega_adapter_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function vega_adapter_createClass(Constructor,protoProps,staticProps){if(protoProps)vega_adapter_defineProperties(Constructor.prototype,protoProps);if(staticProps)vega_adapter_defineProperties(Constructor,staticProps);return Constructor}function vega_adapter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var vegaAdapterSignalLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.vegaAdapter.signal",{defaultMessage:"Signal"});var vegaAdapterValueLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.vegaAdapter.value",{defaultMessage:"Value"});var getVegaRuntimeScope=function getVegaRuntimeScope(debugValues){return debugValues.view._runtime};var serializeColumns=function serializeColumns(item,columns){var nonSerializableFieldLabel="(..)";return columns.reduce((function(row,column){try{var cell=item[column];row[column]=typeof cell==="object"?JSON.stringify(cell):"".concat(cell)}catch(e){row[column]=nonSerializableFieldLabel}return row}),{})};var vega_adapter_VegaAdapter=function(){function VegaAdapter(){vega_adapter_classCallCheck(this,VegaAdapter);vega_adapter_defineProperty(this,"debugValuesSubject",new external_kbnSharedDeps_Rxjs_["ReplaySubject"])}vega_adapter_createClass(VegaAdapter,[{key:"bindInspectValues",value:function bindInspectValues(debugValues){this.debugValuesSubject.next(debugValues)}},{key:"getDataSetsSubscription",value:function getDataSetsSubscription(){return this.debugValuesSubject.pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])((function(debugValues){return Boolean(debugValues)})),Object(external_kbnSharedDeps_RxjsOperators_["map"])((function(debugValues){var runtimeScope=getVegaRuntimeScope(debugValues);return Object.keys(runtimeScope.data||[]).reduce((function(acc,key){var value=runtimeScope.data[key].values.value;if(value&&value[0]){var columns=Object.keys(value[0]);acc.push({id:key,columns:columns.map((function(column){return{id:column,schema:"json"}})),data:value.map((function(item){return serializeColumns(item,columns)}))})}return acc}),[])})))}},{key:"getSignalsSetsSubscription",value:function getSignalsSetsSubscription(){var signalsListener=this.debugValuesSubject.pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])((function(debugValues){return Boolean(debugValues)})),Object(external_kbnSharedDeps_RxjsOperators_["switchMap"])((function(debugValues){var runtimeScope=getVegaRuntimeScope(debugValues);return external_kbnSharedDeps_Rxjs_["merge"].apply(void 0,_toConsumableArray(Object.keys(runtimeScope.signals).map((function(key){return Object(external_kbnSharedDeps_Rxjs_["fromEventPattern"])((function(handler){return debugValues.view.addSignalListener(key,handler)}),(function(handler){return debugValues.view.removeSignalListener(key,handler)}))})))).pipe(Object(external_kbnSharedDeps_RxjsOperators_["debounce"])((function(val){return Object(external_kbnSharedDeps_Rxjs_["timer"])(350)})),Object(external_kbnSharedDeps_RxjsOperators_["map"])((function(){return debugValues})))})));return Object(external_kbnSharedDeps_Rxjs_["merge"])(this.debugValuesSubject,signalsListener).pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])((function(debugValues){return Boolean(debugValues)})),Object(external_kbnSharedDeps_RxjsOperators_["map"])((function(debugValues){var runtimeScope=getVegaRuntimeScope(debugValues);return{columns:[{id:vegaAdapterSignalLabel,schema:"text"},{id:vegaAdapterValueLabel,schema:"json"}],data:Object.keys(runtimeScope.signals).map((function(key){return serializeColumns({[vegaAdapterSignalLabel]:key,[vegaAdapterValueLabel]:runtimeScope.signals[key].value},[vegaAdapterSignalLabel,vegaAdapterValueLabel])}))}})))}},{key:"getSpecSubscription",value:function getSpecSubscription(){return this.debugValuesSubject.pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])((function(debugValues){return Boolean(debugValues)})),Object(external_kbnSharedDeps_RxjsOperators_["map"])((function(debugValues){return JSON.stringify(debugValues.spec,null,2)})))}}]);return VegaAdapter}();var vega_data_inspector=__webpack_require__(29);function inspector_data_grid_toConsumableArray(arr){return inspector_data_grid_arrayWithoutHoles(arr)||inspector_data_grid_iterableToArray(arr)||inspector_data_grid_unsupportedIterableToArray(arr)||inspector_data_grid_nonIterableSpread()}function inspector_data_grid_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function inspector_data_grid_iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function inspector_data_grid_arrayWithoutHoles(arr){if(Array.isArray(arr))return inspector_data_grid_arrayLikeToArray(arr)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){inspector_data_grid_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function inspector_data_grid_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function inspector_data_grid_slicedToArray(arr,i){return inspector_data_grid_arrayWithHoles(arr)||inspector_data_grid_iterableToArrayLimit(arr,i)||inspector_data_grid_unsupportedIterableToArray(arr,i)||inspector_data_grid_nonIterableRest()}function inspector_data_grid_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function inspector_data_grid_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return inspector_data_grid_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return inspector_data_grid_arrayLikeToArray(o,minLen)}function inspector_data_grid_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function inspector_data_grid_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function inspector_data_grid_arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DEFAULT_PAGE_SIZE=15;var inspector_data_grid_InspectorDataGrid=function InspectorDataGrid(_ref){var columns=_ref.columns,data=_ref.data,dataGridAriaLabel=_ref.dataGridAriaLabel;var _useState=Object(external_kbnSharedDeps_React_["useState"])({pageIndex:0,pageSize:DEFAULT_PAGE_SIZE}),_useState2=inspector_data_grid_slicedToArray(_useState,2),pagination=_useState2[0],setPagination=_useState2[1];var onChangeItemsPerPage=Object(external_kbnSharedDeps_React_["useCallback"])((function(pageSize){return setPagination((function(p){return _objectSpread(_objectSpread({},p),{},{pageSize:pageSize,pageIndex:0})}))}),[setPagination]);var onChangePage=Object(external_kbnSharedDeps_React_["useCallback"])((function(pageIndex){return setPagination((function(p){return _objectSpread(_objectSpread({},p),{},{pageIndex:pageIndex})}))}),[setPagination]);var _useState3=Object(external_kbnSharedDeps_React_["useState"])([]),_useState4=inspector_data_grid_slicedToArray(_useState3,2),visibleColumns=_useState4[0],setVisibleColumns=_useState4[1];Object(external_kbnSharedDeps_React_["useEffect"])((function(){setPagination(_objectSpread(_objectSpread({},pagination),{},{pageIndex:0}));setVisibleColumns(columns.map((function(column){return column.id})))}),[dataGridAriaLabel]);var _useState5=Object(external_kbnSharedDeps_React_["useState"])([]),_useState6=inspector_data_grid_slicedToArray(_useState5,2),sortingColumns=_useState6[0],setSortingColumns=_useState6[1];var onSort=Object(external_kbnSharedDeps_React_["useCallback"])((function(newSortingColumns){setSortingColumns(newSortingColumns)}),[setSortingColumns]);var gridData=Object(external_kbnSharedDeps_React_["useMemo"])((function(){return inspector_data_grid_toConsumableArray(data).sort((function(a,b){for(var i=0;i<sortingColumns.length;i++){var column=sortingColumns[i];var aValue=a[column.id];var bValue=b[column.id];if(aValue<bValue)return column.direction==="asc"?-1:1;if(aValue>bValue)return column.direction==="asc"?1:-1}return 0}))}),[data,sortingColumns]);var renderCellValue=Object(external_kbnSharedDeps_React_["useMemo"])((function(){return function(_ref2){var rowIndex=_ref2.rowIndex,columnId=_ref2.columnId;var adjustedRowIndex=rowIndex;adjustedRowIndex=rowIndex-pagination.pageIndex*pagination.pageSize;return gridData.hasOwnProperty(adjustedRowIndex)?gridData[adjustedRowIndex][columnId]||null:null}}),[gridData,pagination.pageIndex,pagination.pageSize]);gridData=Object(external_kbnSharedDeps_React_["useMemo"])((function(){var rowStart=pagination.pageIndex*pagination.pageSize;var rowEnd=Math.min(rowStart+pagination.pageSize,gridData.length);return gridData.slice(rowStart,rowEnd)}),[gridData,pagination]);var _useState7=Object(external_kbnSharedDeps_React_["useState"])({}),_useState8=inspector_data_grid_slicedToArray(_useState7,2),columnsWidth=_useState8[0],setColumnsWidth=_useState8[1];var onColumnResize=Object(external_kbnSharedDeps_React_["useCallback"])((function(_ref3){var columnId=_ref3.columnId,width=_ref3.width;setColumnsWidth(_objectSpread(_objectSpread({},columnsWidth),{},{[columnId]:width}))}),[columnsWidth]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDataGrid"],{"aria-label":dataGridAriaLabel,columns:columns.map((function(column){if(columnsWidth[column.id]){return _objectSpread(_objectSpread({},column),{},{initialWidth:columnsWidth[column.id]})}return column})),columnVisibility:{visibleColumns:visibleColumns,setVisibleColumns:setVisibleColumns},rowCount:data.length,renderCellValue:renderCellValue,sorting:{columns:sortingColumns,onSort:onSort},toolbarVisibility:{showFullScreenSelector:false},onColumnResize:onColumnResize,pagination:_objectSpread(_objectSpread({},pagination),{},{pageSizeOptions:[DEFAULT_PAGE_SIZE,25,50],onChangeItemsPerPage:onChangeItemsPerPage,onChangePage:onChangePage})})};function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function data_viewer_slicedToArray(arr,i){return data_viewer_arrayWithHoles(arr)||data_viewer_iterableToArrayLimit(arr,i)||data_viewer_unsupportedIterableToArray(arr,i)||data_viewer_nonIterableRest()}function data_viewer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function data_viewer_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return data_viewer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return data_viewer_arrayLikeToArray(o,minLen)}function data_viewer_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function data_viewer_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function data_viewer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var data_viewer_getDataGridArialabel=function getDataGridArialabel(view){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.dataViewer.gridAriaLabel",{defaultMessage:"{name} data grid",values:{name:view.id}})};var dataSetAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.dataViewer.dataSetAriaLabel",{defaultMessage:"Data set"});var data_viewer_DataViewer=function DataViewer(_ref){var vegaAdapter=_ref.vegaAdapter,rest=_objectWithoutProperties(_ref,["vegaAdapter"]);var _useState=Object(external_kbnSharedDeps_React_["useState"])([]),_useState2=data_viewer_slicedToArray(_useState,2),inspectDataSets=_useState2[0],setInspectDataSets=_useState2[1];var _useState3=Object(external_kbnSharedDeps_React_["useState"])(),_useState4=data_viewer_slicedToArray(_useState3,2),selectedView=_useState4[0],setSelectedView=_useState4[1];var _useState5=Object(external_kbnSharedDeps_React_["useState"])(""),_useState6=data_viewer_slicedToArray(_useState5,2),dataGridAriaLabel=_useState6[0],setDataGridAriaLabel=_useState6[1];var onViewChange=Object(external_kbnSharedDeps_React_["useCallback"])((function(selectedOptions){var newView=inspectDataSets.find((function(view){return view.id===selectedOptions[0].label}));if(newView){setDataGridAriaLabel(data_viewer_getDataGridArialabel(newView));setSelectedView(newView)}}),[inspectDataSets]);Object(external_kbnSharedDeps_React_["useEffect"])((function(){var subscription=vegaAdapter.getDataSetsSubscription().subscribe((function(dataSets){setInspectDataSets(dataSets)}));return function(){subscription.unsubscribe()}}),[vegaAdapter]);Object(external_kbnSharedDeps_React_["useEffect"])((function(){if(inspectDataSets){if(!selectedView){setSelectedView(inspectDataSets[0])}else{setDataGridAriaLabel(data_viewer_getDataGridArialabel(selectedView))}}}),[selectedView,inspectDataSets]);if(!selectedView){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],_extends({direction:"column",gutterSize:"s",wrap:false,responsive:false},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{fullWidth:true,options:inspectDataSets.map((function(item){return{label:item.id}})),"aria-label":dataSetAriaLabel,onChange:onViewChange,isClearable:false,singleSelection:{asPlainText:true},selectedOptions:[{label:selectedView.id}]})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(inspector_data_grid_InspectorDataGrid,{columns:selectedView.columns,data:selectedView.data,dataGridAriaLabel:dataGridAriaLabel})))};function signal_viewer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function signal_viewer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){signal_viewer_ownKeys(Object(source),true).forEach((function(key){signal_viewer_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{signal_viewer_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function signal_viewer_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function signal_viewer_slicedToArray(arr,i){return signal_viewer_arrayWithHoles(arr)||signal_viewer_iterableToArrayLimit(arr,i)||signal_viewer_unsupportedIterableToArray(arr,i)||signal_viewer_nonIterableRest()}function signal_viewer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function signal_viewer_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return signal_viewer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return signal_viewer_arrayLikeToArray(o,minLen)}function signal_viewer_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function signal_viewer_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function signal_viewer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}var initialSignalColumnWidth=150;var signalDataGridAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.signalViewer.gridAriaLabel",{defaultMessage:"Signal values data grid"});var signal_viewer_SignalViewer=function SignalViewer(_ref){var vegaAdapter=_ref.vegaAdapter;var _useState=Object(external_kbnSharedDeps_React_["useState"])(),_useState2=signal_viewer_slicedToArray(_useState,2),inspectSignalsSets=_useState2[0],setInspectSignalsSets=_useState2[1];Object(external_kbnSharedDeps_React_["useEffect"])((function(){var subscription=vegaAdapter.getSignalsSetsSubscription().subscribe((function(signalSets){if(signalSets){setInspectSignalsSets(signalSets)}}));return function(){subscription.unsubscribe()}}),[vegaAdapter]);if(!inspectSignalsSets){return null}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(inspector_data_grid_InspectorDataGrid,{columns:inspectSignalsSets.columns.map((function(column,index){if(index===0){return signal_viewer_objectSpread(signal_viewer_objectSpread({},column),{},{initialWidth:initialSignalColumnWidth})}return column})),data:inspectSignalsSets.data,dataGridAriaLabel:signalDataGridAriaLabel}))};var kibanaReact_public_=__webpack_require__(14);function spec_viewer_extends(){spec_viewer_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return spec_viewer_extends.apply(this,arguments)}function spec_viewer_slicedToArray(arr,i){return spec_viewer_arrayWithHoles(arr)||spec_viewer_iterableToArrayLimit(arr,i)||spec_viewer_unsupportedIterableToArray(arr,i)||spec_viewer_nonIterableRest()}function spec_viewer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function spec_viewer_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return spec_viewer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return spec_viewer_arrayLikeToArray(o,minLen)}function spec_viewer_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function spec_viewer_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function spec_viewer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function spec_viewer_objectWithoutProperties(source,excluded){if(source==null)return{};var target=spec_viewer_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function spec_viewer_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var copyToClipboardLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.specViewer.copyToClipboardLabel",{defaultMessage:"Copy to clipboard"});var spec_viewer_SpecViewer=function SpecViewer(_ref){var vegaAdapter=_ref.vegaAdapter,rest=spec_viewer_objectWithoutProperties(_ref,["vegaAdapter"]);var _useState=Object(external_kbnSharedDeps_React_["useState"])(),_useState2=spec_viewer_slicedToArray(_useState,2),spec=_useState2[0],setSpec=_useState2[1];Object(external_kbnSharedDeps_React_["useEffect"])((function(){var subscription=vegaAdapter.getSpecSubscription().subscribe((function(data){if(data){setSpec(data)}}));return function(){subscription.unsubscribe()}}),[vegaAdapter]);if(!spec){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],spec_viewer_extends({direction:"column",gutterSize:"s",wrap:false,responsive:false},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCopy"],{textToCopy:spec},(function(copy){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",flush:"right",iconType:"copyClipboard",onClick:copy,"data-test-subj":"vegaDataInspectorCopyClipboardButton"},copyToClipboardLabel)})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["CodeEditor"],{languageId:"json",value:spec,onChange:function onChange(){},options:{readOnly:true,lineNumbers:"off",fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true}})))};var dataSetsLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.dataSetsLabel",{defaultMessage:"Data sets"});var signalValuesLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.signalValuesLabel",{defaultMessage:"Signal values"});var specLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.specLabel",{defaultMessage:"Spec"});var vega_data_inspector_VegaDataInspector=function VegaDataInspector(_ref){var adapters=_ref.adapters;var tabs=[{id:"data-viewer--id",name:dataSetsLabel,content:external_kbnSharedDeps_React_default.a.createElement(data_viewer_DataViewer,{vegaAdapter:adapters.vega}),"data-test-subj":"vegaDataInspectorDataViewerButton"},{id:"signal-viewer--id",name:signalValuesLabel,content:external_kbnSharedDeps_React_default.a.createElement(signal_viewer_SignalViewer,{vegaAdapter:adapters.vega}),"data-test-subj":"vegaDataInspectorSignalViewerButton"},{id:"spec-viewer--id",name:specLabel,content:external_kbnSharedDeps_React_default.a.createElement(spec_viewer_SpecViewer,{className:"vgaVegaDataInspector__specViewer",vegaAdapter:adapters.vega}),"data-test-subj":"vegaDataInspectorSpecViewerButton"}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabbedContent"],{className:"vgaVegaDataInspector",size:"s",tabs:tabs,initialSelectedTab:tabs[0],autoFocus:"selected"})};var inspector_public_=__webpack_require__(19);var vegaDebugLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.inspector.vegaDebugLabel",{defaultMessage:"Vega debug"});var vega_inspector_getVegaInspectorView=function getVegaInspectorView(dependencies){return{title:vegaDebugLabel,shouldShow(adapters){return Boolean(adapters.vega)},component:function component(props){return external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["KibanaContextProvider"],{services:dependencies},external_kbnSharedDeps_React_default.a.createElement(vega_data_inspector_VegaDataInspector,props," "))}}};var vega_inspector_createInspectorAdapters=function createInspectorAdapters(){return{requests:new inspector_public_["RequestAdapter"],vega:new vega_adapter_VegaAdapter}};var visualizations_public_=__webpack_require__(20);function ExperimentalMapLayerInfo(){var title=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"visTypeVega.mapView.experimentalMapLayerInfo",defaultMessage:"Map layer is experimental and is not subject to the support SLA of official GA features. For feedback, please create an issue in {githubLink}.",values:{githubLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{external:true,href:"https://github.com/elastic/kibana/issues/new/choose",target:"_blank"},"GitHub")}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{className:"hide-for-sharing","data-test-subj":"experimentalMapLayerInfo",size:"s",title:title,iconType:"beaker"})}var experimental_map_vis_info_getInfoMessage=function getInfoMessage(vis){if(vis.params.spec){try{var _spec$config,_spec$config$kibana;var spec=Object(hjson["parse"])(vis.params.spec,{legacyRoot:false,keepWsc:true});if(((_spec$config=spec.config)===null||_spec$config===void 0?void 0:(_spec$config$kibana=_spec$config.kibana)===null||_spec$config$kibana===void 0?void 0:_spec$config$kibana.type)==="map"){return external_kbnSharedDeps_React_default.a.createElement(ExperimentalMapLayerInfo,null)}}catch(e){}}return null};function vega_type_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function vega_type_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){vega_type_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){vega_type_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var vega_type_createVegaTypeDefinition=function createVegaTypeDefinition(dependencies){var requestHandler=createVegaRequestHandler(dependencies);var visualization=vega_visualization_createVegaVisualization(dependencies);return{name:"vega",title:"Vega",getInfoMessage:experimental_map_vis_info_getInfoMessage,description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("visTypeVega.type.vegaDescription",{defaultMessage:"Create custom visualizations using Vega and Vega-Lite",description:"Vega and Vega-Lite are product names and should not be translated"}),icon:"visVega",visConfig:{defaults:{spec:default_spec_getDefaultSpec()}},editorConfig:{optionsTemplate:VegaVisEditor,enableAutoApply:true,defaultSize:visDefaultEditor_public_["DefaultEditorSize"].MEDIUM},visualization:visualization,requestHandler:requestHandler,responseHandler:"none",options:{showIndexSelection:false,showQueryBar:true,showFilterBar:true},getSupportedTriggers:function getSupportedTriggers(){return[visualizations_public_["VIS_EVENT_TO_TRIGGER"].applyFilter]},getUsedIndexPattern:function(){var _getUsedIndexPattern=vega_type_asyncToGenerator(regeneratorRuntime.mark((function _callee(visParams){var spec;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;spec=Object(hjson["parse"])(visParams.spec,{legacyRoot:false,keepWsc:true});return _context.abrupt("return",Object(extract_index_pattern["a"])(spec));case 5:_context.prev=5;_context.t0=_context["catch"](0);case 7:return _context.abrupt("return",[]);case 8:case"end":return _context.stop()}}}),_callee,null,[[0,5]])})));function getUsedIndexPattern(_x){return _getUsedIndexPattern.apply(this,arguments)}return getUsedIndexPattern}(),inspectorAdapters:vega_inspector_createInspectorAdapters}};var public_0=__webpack_require__(38);function plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function plugin_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function plugin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function plugin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function plugin_createClass(Constructor,protoProps,staticProps){if(protoProps)plugin_defineProperties(Constructor.prototype,protoProps);if(staticProps)plugin_defineProperties(Constructor,staticProps);return Constructor}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var plugin_VegaPlugin=function(){function VegaPlugin(initializerContext){plugin_classCallCheck(this,VegaPlugin);plugin_defineProperty(this,"initializerContext",void 0);this.initializerContext=initializerContext}plugin_createClass(VegaPlugin,[{key:"setup",value:function(){var _setup=plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee(core,_ref){var inspector,data,expressions,visualizations,mapsLegacy,visualizationDependencies;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inspector=_ref.inspector,data=_ref.data,expressions=_ref.expressions,visualizations=_ref.visualizations,mapsLegacy=_ref.mapsLegacy;Object(public_services["i"])({enableExternalUrls:this.initializerContext.config.get().enableExternalUrls,emsTileLayerId:core.injectedMetadata.getInjectedVar("emsTileLayerId",true)});Object(public_services["l"])(core.uiSettings);Object(public_services["j"])(mapsLegacy.config);visualizationDependencies={core:core,plugins:{data:data},getServiceSettings:mapsLegacy.getServiceSettings};inspector.registerView(vega_inspector_getVegaInspectorView({uiSettings:core.uiSettings}));expressions.registerFunction((function(){return vega_fn_createVegaFn(visualizationDependencies)}));visualizations.createBaseVisualization(vega_type_createVegaTypeDefinition(visualizationDependencies));case 8:case"end":return _context.stop()}}}),_callee,this)})));function setup(_x,_x2){return _setup.apply(this,arguments)}return setup}()},{key:"start",value:function start(core,_ref2){var data=_ref2.data;Object(public_services["k"])(core.notifications);Object(public_services["g"])(data);Object(public_services["h"])(core.injectedMetadata)}}]);return VegaPlugin}();function public_plugin(initializerContext){return new plugin_VegaPlugin(initializerContext)}},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/mapsLegacy/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Theme}]);